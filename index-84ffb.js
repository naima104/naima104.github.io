/*! For license information please see index-84ffb.js.LICENSE.txt */
(()=>{var e={83820:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0;const r=n(a(67294)),l=a(44833),o=a(88684),i=a(44283),c=a(74093);t.Map=({array:e,children:t,equalityCheck:a})=>{const n=(0,o.useFacetUnwrap)((0,i.useFacetMap)((e=>e.length),[],[e])),l=n!==c.NO_VALUE?n:0;return r.default.createElement(r.default.Fragment,null,d((n=>void 0!==a?r.default.createElement(s,{key:n,arrayFacet:e,index:n,length:l,equalityCheck:a,children:t}):r.default.createElement(u,{key:n,arrayFacet:e,index:n,length:l,children:t})),l))};const s=({arrayFacet:e,index:t,length:a,children:n,equalityCheck:r})=>n((0,l.useFacetMemo)((e=>t<e.length?e[t]:c.NO_VALUE),[t],[e],r),t,a),u=({arrayFacet:e,index:t,length:a,children:n})=>n((0,i.useFacetMap)((e=>t<e.length?e[t]:c.NO_VALUE),[t],[e]),t,a),d=(e,t)=>{const a=[];for(let n=0;n<t;n++)a.push(e(n));return a}},92885:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mount=void 0;const n=a(88684);t.Mount=({when:e,children:t,condition:a=!0})=>(0,n.useFacetUnwrap)(e)===a?t:null},60725:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.With=void 0;const n=a(44833),r=a(88684),l=a(44283),o=a(74093);t.With=({data:e,children:t})=>{const a=(0,l.useFacetMap)((e=>null!=e),[],[e]),i=(0,r.useFacetUnwrap)(a),c=(0,n.useFacetMemo)((e=>null!=e?e:o.NO_VALUE),[],[e]);return!0===i?t(c):null}},12493:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(83820),t),r(a(92885),t),r(a(60725),t)},41024:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOptionalValueEqualityCheck=t.createObjectWithKeySpecificEqualityCheck=t.createUniformArrayEqualityCheck=t.createUniformObjectEqualityCheck=t.createNullableEqualityCheck=void 0;const n=a(74093);t.createNullableEqualityCheck=e=>{const t=e();let a=n.NO_VALUE;return e=>null==e||null==a?e===a||(a=e,!1):(a=e,t(e))},t.createUniformObjectEqualityCheck=e=>()=>{const t={};let a=new Set,n=!1;return r=>{var l;let o=!0;for(const n in r)n in t||(t[n]=e()),(null===(l=t[n])||void 0===l?void 0:l.call(t,r[n]))||(o=!1),a.delete(n);if(a.size>0){for(const e of a)delete t[e];o=!1}a=new Set;for(const e in r)a.add(e);return n?o:(n=!0,!1)}},t.createUniformArrayEqualityCheck=e=>()=>{const t=[];let a=!1;return n=>{var r,l;const o=Math.max(null!==(r=null==t?void 0:t.length)&&void 0!==r?r:0,null!==(l=null==n?void 0:n.length)&&void 0!==l?l:0);let i=!0;for(let a=0;a<o;a++)void 0===t[a]&&(t[a]=e()),t[a](n[a])||(i=!1);return a?i:(a=!0,!1)}},t.createObjectWithKeySpecificEqualityCheck=e=>()=>{const t={};for(const a in e)t[a]=e[a]();const a=t;return e=>{let t=!0;for(const n in e)a[n](e[n])||(t=!1);return t}},t.createOptionalValueEqualityCheck=e=>()=>{let t=!0,a=e();return n=>null==n?!!t||(a=e(),t=!0,!1):(t=!1,a(n))}},27755:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacetContext=void 0;const n=a(67294);t.createFacetContext=function(e){const t={get:()=>e,observe:t=>(t(e),()=>{})};return(0,n.createContext)(t)}},52868:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultEqualityCheck=t.nullableShallowArrayEqualityCheck=t.nullableShallowObjectArrayEqualityCheck=t.nullableShallowObjectEqualityCheck=t.shallowArrayEqualityCheck=t.shallowObjectArrayEqualityCheck=t.shallowObjectEqualityCheck=t.strictEqualityCheck=void 0;const n=a(41024),r=a(74093);t.strictEqualityCheck=()=>{let e=r.NO_VALUE;return t=>e===t||(e=t,!1)},t.shallowObjectEqualityCheck=(0,n.createUniformObjectEqualityCheck)(t.strictEqualityCheck),t.shallowObjectArrayEqualityCheck=(0,n.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck),t.shallowArrayEqualityCheck=(0,n.createUniformArrayEqualityCheck)(t.strictEqualityCheck),t.nullableShallowObjectEqualityCheck=()=>(0,n.createNullableEqualityCheck)((0,n.createUniformObjectEqualityCheck)(t.strictEqualityCheck)),t.nullableShallowObjectArrayEqualityCheck=(0,n.createNullableEqualityCheck)((0,n.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck)),t.nullableShallowArrayEqualityCheck=(0,n.createNullableEqualityCheck)((0,n.createUniformArrayEqualityCheck)(t.strictEqualityCheck)),t.defaultEqualityCheck=()=>{let e=r.NO_VALUE;return t=>{const a=typeof t;return!("number"!==a&&"string"!==a&&"boolean"!==a&&null!=t||t!==e&&(e=t,1))}}},90486:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFacet=void 0;const n=a(52868),r=a(74093),l=a(82358);t.createFacet=function({initialValue:e,startSubscription:t,equalityCheck:a=n.defaultEqualityCheck}){const o=new Set;let i,c=e;const s=null==a?void 0:a(),u=e=>{if(void 0!==a)if(a===n.defaultEqualityCheck){const t=typeof e;if(("number"===t||"string"===t||"boolean"===t||null==e)&&c===e)return}else if(void 0!==s&&s(e))return;(0,l.batch)((()=>{c=e;for(const e of o)e(c)}))};return{set:u,setWithCallback:e=>{const t=e(c);t===r.NO_VALUE?c=r.NO_VALUE:u(t)},get:()=>c,observe:a=>(o.add(a),c!==r.NO_VALUE&&a(c),1===o.size&&t&&(i=t(u)),()=>{o.delete(a),0===o.size&&i&&(c=e,i())})}}},27200:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReadOnlyFacet=void 0;const n=a(90486);t.createReadOnlyFacet=function(e){return(0,n.createFacet)(e)}},49095:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStaticFacet=void 0,t.createStaticFacet=function(e){return{get:()=>e,observe:t=>(t(e),()=>{})}}},46103:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(90486),t),r(a(27200),t),r(a(49095),t)},97190:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areAllDefinedValues=void 0;const n=a(83127);t.areAllDefinedValues=e=>{for(let t=0;t<e.length;t++)if(!(0,n.hasDefinedValue)(e[t]))return!1;return!0}},83127:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasDefinedValue=void 0;const n=a(74093);t.hasDefinedValue=e=>null!=e&&e!==n.NO_VALUE},5900:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(97190),t),r(a(83127),t),r(a(86191),t)},86191:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiObserve=void 0;const n=a(74093);t.multiObserve=function(e,t){if(1===t.length)return t[0].observe(e);let a,r=!1;const l=[],o=t.map((()=>n.NO_VALUE));for(let i=0;i<t.length;i++)l[i]=t[i].observe((t=>{o[i]=t,r=r||o.every((e=>e!==n.NO_VALUE)),r&&(void 0!==a&&a(),a=e(...o))}));return()=>{for(let e=0;e<l.length;e++)l[e]();void 0!==a&&a()}}},47923:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(2367),t),r(a(96955),t),r(a(28488),t),r(a(44283),t),r(a(44833),t),r(a(50813),t),r(a(80551),t),r(a(66280),t),r(a(95174),t),r(a(88684),t),r(a(99751),t)},2367:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetCallback=void 0;const n=a(67294),r=a(74093);t.useFacetCallback=function(e,t,a,l){(0,n.useLayoutEffect)((()=>{const e=a.map((e=>e.observe((()=>{}))));return()=>{e.forEach((e=>e()))}}),a);const o=(0,n.useCallback)(e,t),i=(0,n.useRef)(a);return i.current=a,(0,n.useCallback)(((...e)=>{const t=i.current.map((e=>e.get()));for(const e of t)if(e===r.NO_VALUE)return void 0!==l?l:r.NO_VALUE;return o(...t)(...e)}),[o,l])}},96955:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetEffect=t.createUseFacetEffect=void 0;const n=a(67294),r=a(74093),l=a(82358);t.createUseFacetEffect=e=>function(t,a,o){const i=(0,n.useCallback)(t,a);e((()=>{let e;if(1===o.length){const t=o[0].observe((t=>{void 0!==e&&e(),e=i(t)}));return()=>{t(),void 0!==e&&e()}}let t=!1;const a=[],n=o.map((()=>r.NO_VALUE)),c=()=>{t=t||n.every((e=>e!==r.NO_VALUE)),t&&(void 0!==e&&e(),e=i(...n))};return o.forEach(((e,r)=>{a[r]=e.observe((e=>{n[r]=e,t?(0,l.scheduleTask)(c):c()}))})),()=>{(0,l.cancelScheduledTask)(c),a.forEach((e=>e())),void 0!==e&&e()}}),[i,...o])},t.useFacetEffect=(0,t.createUseFacetEffect)(n.useEffect)},28488:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetLayoutEffect=void 0;const n=a(67294),r=a(96955);t.useFacetLayoutEffect=(0,r.createUseFacetEffect)(n.useLayoutEffect)},44283:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMap=void 0;const n=a(67294),r=a(52868),l=a(12914);t.useFacetMap=function(e,t,a,o=r.defaultEqualityCheck){const i=(0,n.useCallback)(e,t);return(0,n.useMemo)((()=>(0,l.mapFacetsLightweight)(a,i,o)),[i,o,...a])}},44833:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetMemo=void 0;const n=a(67294),r=a(52868),l=a(12914);t.useFacetMemo=function(e,t,a,o=r.defaultEqualityCheck){const i=(0,n.useCallback)(e,t);return(0,n.useMemo)((()=>(0,l.mapFacetsCached)(a,i,o)),[i,o,...a])}},50813:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetPropSetter=void 0;const n=a(67294),r=a(74093);t.useFacetPropSetter=function(e,t){return(0,n.useMemo)((()=>a=>{e.setWithCallback((e=>Object.assign(Object.assign({},e!==r.NO_VALUE?e:{}),{[t]:a})))}),[e,t])}},66280:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetReducer=void 0;const n=a(67294),r=a(52868),l=a(95174);t.useFacetReducer=(e,t,a=r.defaultEqualityCheck)=>{const[o,i]=(0,l.useFacetState)(t,a);return[o,(0,n.useCallback)((t=>{i((a=>e(a,t)))}),[e,i])]}},80551:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetRef=void 0;const n=a(67294),r=a(96955),l=a(74093);t.useFacetRef=function(e,t){let a=e.get();a===l.NO_VALUE&&void 0!==t&&(a=t);const o=(0,n.useRef)(a);return(0,r.useFacetEffect)((e=>{o.current=e}),[],[e]),o}},95174:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetState=void 0;const n=a(67294),r=a(52868),l=a(46103);t.useFacetState=(e,t=r.defaultEqualityCheck)=>(0,n.useMemo)((()=>{const a=(0,l.createFacet)({initialValue:e,equalityCheck:t});return[a,e=>{o(e)?a.setWithCallback(e):a.set(e)}]}),[]);const o=e=>"function"==typeof e},88684:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetUnwrap=void 0;const n=a(67294),r=a(74093),l=a(52868);t.useFacetUnwrap=function(e,t=l.defaultEqualityCheck){const[a,o]=(0,n.useState)((()=>(0,r.isFacet)(e)?{value:e.get()}:{value:e}));return(0,n.useLayoutEffect)((()=>{if((0,r.isFacet)(e)){const a=t(),n=e.get();return n!==r.NO_VALUE&&a(n),e.observe((e=>{o((n=>{const{value:o}=n;if(t===l.defaultEqualityCheck){const t=typeof o;return"number"!==t&&"string"!==t&&"boolean"!==t&&null!=e||e!==o?{value:e}:n}return o!==r.NO_VALUE&&a(e)?n:{value:e}}))}))}}),[e,t]),(0,r.isFacet)(e)?a.value:e}},99751:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFacetWrap=void 0;const n=a(67294),r=a(52868),l=a(46103),o=a(74093);t.useFacetWrap=function(e,t=r.defaultEqualityCheck){const a=(0,o.isFacet)(e),i=(0,n.useMemo)((()=>a?void 0:(0,l.createFacet)({initialValue:e,equalityCheck:t})),[a]);return void 0===i?e:(i.set(e),i)}},88572:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.batch=void 0,r(a(12493),t),r(a(41024),t),r(a(27755),t),r(a(52868),t),r(a(46103),t),r(a(5900),t),r(a(47923),t),r(a(12914),t),r(a(74093),t);var l=a(82358);Object.defineProperty(t,"batch",{enumerable:!0,get:function(){return l.batch}})},12914:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(43118),t)},8273:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayCached=void 0;const n=a(74093),r=a(71794),l=a(46103);t.mapFacetArrayCached=function(e,t,a){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveArray)(e,t,a),initialValue:n.NO_VALUE});return{get:()=>{const a=o.get();if(a!==n.NO_VALUE)return a;const r=e.map((e=>e.get()));if(!r.reduce(((e,t)=>e&&t!==n.NO_VALUE),!0))return n.NO_VALUE;const l=t(...r);return l!==n.NO_VALUE&&o.set(l),l},observe:o.observe}}},89160:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetArrayLightweight=void 0;const n=a(71794),r=a(74093);t.mapFacetArrayLightweight=function(e,t,a){return{get:()=>{const a=e.map((e=>e.get()));return a.reduce(((e,t)=>e&&t!==r.NO_VALUE),!0)?t(...a):r.NO_VALUE},observe:(0,n.mapIntoObserveArray)(e,t,a)}}},26741:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleCached=void 0;const n=a(74093),r=a(78781),l=a(46103);t.mapFacetSingleCached=function(e,t,a){const o=(0,l.createFacet)({startSubscription:(0,r.mapIntoObserveSingle)(e,t,a),initialValue:n.NO_VALUE});return{get:()=>{const a=o.get();if(a!==n.NO_VALUE)return a;const r=e.get();if(r===n.NO_VALUE)return n.NO_VALUE;const l=t(r);return l!==n.NO_VALUE&&o.set(l),l},observe:o.observe}}},14714:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetSingleLightweight=void 0;const n=a(74093),r=a(78781);t.mapFacetSingleLightweight=function(e,t,a){return{get:()=>{const a=e.get();return a===n.NO_VALUE?n.NO_VALUE:t(a)},observe:(0,r.mapIntoObserveSingle)(e,t,a)}}},43118:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapFacetsCached=t.mapFacetsLightweight=void 0;const n=a(8273),r=a(89160),l=a(26741),o=a(14714);t.mapFacetsLightweight=function(e,t,a){return 1===e.length?(0,o.mapFacetSingleLightweight)(e[0],t,a):(0,r.mapFacetArrayLightweight)(e,t,a)},t.mapFacetsCached=function(e,t,a){return 1===e.length?(0,l.mapFacetSingleCached)(e[0],t,a):(0,n.mapFacetArrayCached)(e,t,a)}},71794:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveArray=void 0;const n=a(82358),r=a(52868),l=a(74093);t.mapIntoObserveArray=function(e,t,a){return o=>{let i=l.NO_VALUE;const c=null==a?void 0:a(),s=e.map((()=>l.NO_VALUE));let u=!1;const d=void 0===c?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&o(e)}:a===r.defaultEqualityCheck?()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);if(e===l.NO_VALUE)return;const a=typeof i;("number"!==a&&"string"!==a&&"boolean"!==a&&null!=i||i!==e)&&(i=e,o(e))}:()=>{if(u=u||s.every((e=>e!==l.NO_VALUE)),!u)return;const e=t(...s);e!==l.NO_VALUE&&(c(e)||o(e))},m=e.map(((e,t)=>e.observe((e=>{s[t]=e,u?(0,n.scheduleTask)(d):d()}))));return()=>{(0,n.cancelScheduledTask)(d),m.forEach((e=>e()))}}}},78781:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapIntoObserveSingle=void 0;const n=a(52868),r=a(74093);t.mapIntoObserveSingle=function(e,t,a){return void 0===a?a=>e.observe((e=>{const n=t(e);n!==r.NO_VALUE&&a(n)})):a===n.defaultEqualityCheck?a=>{let n=r.NO_VALUE;return e.observe((e=>{const l=t(e);if(l===r.NO_VALUE)return;const o=typeof n;("number"!==o&&"string"!==o&&"boolean"!==o&&null!=n||n!==l)&&(n=l,a(l))}))}:n=>{const l=a();return e.observe((e=>{const a=t(e);a!==r.NO_VALUE&&(l(a)||n(a))}))}}},82358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batch=t.cancelScheduledTask=t.scheduleTask=void 0;let a=0,n=[];t.scheduleTask=e=>{0!==a?e.scheduled||(e.scheduled=!0,n.push(e)):e()},t.cancelScheduledTask=e=>{e.scheduled=!1},t.batch=e=>{a+=1;try{if(e(),1===a)do{const e=n;n=[];try{for(let t=0;t<e.length;t++){const a=e[t];a.scheduled&&(a.scheduled=!1,a())}}catch(t){for(let t=0;t<e.length;t++)e[t].scheduled=!1;throw n=[],t}}while(n.length>0)}finally{a-=1}}},74093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_VALUE=t.isFacet=t.FACET_FACTORY=void 0,t.FACET_FACTORY=Symbol("facet-factory"),t.isFacet=e=>null!=e&&void 0!==e.observe&&void 0!==e.get,t.NO_VALUE=Symbol.for("NoValue")},1170:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PauseMountProvider=t.ImmediateMount=t.useIsPaused=t.useIsDeferring=t.DeferredMountWithCallback=t.useNotifyMountComplete=t.DeferredMount=t.DeferredMountProvider=t.InnerDeferredMountProvider=t.DeferredMountConfigProvider=void 0;const o=l(a(67294)),i=a(88572),c=(0,o.createContext)({forceImmediateMount:!1});function s({children:e,frameTimeBudget:t=16}){const[a,n]=(0,i.useFacetState)(!0),[r,l]=(0,i.useFacetState)(!1),c=(0,o.useRef)(!1),s=(0,o.useRef)([]),u=(0,o.useCallback)((e=>(l(!0),s.current.push(e),()=>{if(0===s.current.length&&!c.current)return;const t=s.current.indexOf(e);-1!==t&&s.current.splice(t,1)})),[l]);return(0,i.useFacetEffect)((e=>{if(!e&&0===s.current.length&&!c.current)return;const a=e=>{const o=s.current;r=o.length>0||c.current?window.requestAnimationFrame(a):-1;let i=0,u=e;for(;o.length>0&&u-e+i<t&&!c.current;){const e=u,t=o.shift()(!1),n=performance.now();i=n-e,u=n,"function"==typeof t&&(c.current=!0,t((()=>{c.current=!1,-1===r&&(r=window.requestAnimationFrame(a))})))}0!==o.length||c.current||(n(!1),l(!1))};let r=window.requestAnimationFrame(a);return()=>{window.cancelAnimationFrame(r)}}),[t,n,l],[r]),o.default.createElement(m.Provider,{value:a},o.default.createElement(d.Provider,{value:u},e))}t.DeferredMountConfigProvider=function({config:e,children:t}){return o.default.createElement(c.Provider,{value:e},t)},t.InnerDeferredMountProvider=s,t.DeferredMountProvider=function(e){return(0,o.useContext)(c).forceImmediateMount?o.default.createElement(o.default.Fragment,null,e.children):o.default.createElement(s,Object.assign({},e))},t.DeferredMount=function({children:e}){const t=(0,o.useContext)(d),[a,n]=(0,o.useState)(void 0!==t);return(0,o.useEffect)((()=>{t&&t(n)}),[t]),a?null:e};const u=(0,o.createContext)((()=>{}));t.useNotifyMountComplete=()=>(0,o.useContext)(u),t.DeferredMountWithCallback=function({children:e}){const t=(0,o.useContext)(d),[a,n]=(0,o.useState)(void 0!==t),r=(0,o.useRef)(),l=(0,o.useRef)(!1),i=(0,o.useCallback)((()=>{void 0!==r.current?r.current():l.current=!0}),[]);return(0,o.useEffect)((()=>{t&&t((e=>t=>{n(e),l.current?t():r.current=t}))}),[t,i]),a?null:o.default.createElement(u.Provider,{value:i},e)},t.useIsDeferring=function(){return(0,o.useContext)(m)},t.useIsPaused=function(){return(0,o.useContext)(p)},t.ImmediateMount=function({children:e}){return e};const d=(0,o.createContext)(void 0),m=(0,o.createContext)((0,i.createFacet)({initialValue:!1})),p=(0,o.createContext)(!1);t.PauseMountProvider=function({paused:e,children:t}){const a=(0,o.useRef)(!e);return(0,o.useEffect)((()=>{e||(a.current=!0)}),[e]),o.default.createElement(p.Provider,{value:!a.current&&e},t)}},36982:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFiberRoot=void 0,t.createFiberRoot=e=>t=>e.createContainer({children:new Set,element:t,styleUnsubscribers:new Map,style:t.style},!1,!1)},70024:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPortal=void 0;const a=Symbol.for("react.portal");t.createPortal=function(e,t,n){return{$$typeof:a,key:n,children:e,containerInfo:{children:new Set,element:t,styleUnsubscribers:new Map,style:t.style}}}},47811:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createReconciler=void 0;const r=n(a(76525)),l=a(8446);t.createReconciler=()=>(0,r.default)((0,l.setupHostConfig)())},47154:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;const l=a(36982),o=a(47811);r(a(7358),t),r(a(70024),t),r(a(36982),t),r(a(47811),t),t.render=function(e,t){if(null===t)return()=>{};const a=(0,o.createReconciler)(),n=(0,l.createFiberRoot)(a)(t);return a.updateContainer(e,n,null,(()=>{})),()=>{a.updateContainer(null,n,null,(()=>{}))}}},92786:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupAttributeUpdate=t.setupViewBoxUpdate=t.setupTextUpdate=t.setupSrcUpdate=t.setupValueUpdate=t.setupRowsUpdate=t.setupMaxLengthUpdate=t.setupIdUpdate=t.setupClassUpdate=void 0;const n=a(88572);t.setupClassUpdate=(e,t)=>{const a=t;if((0,n.isFacet)(e))return e.observe((e=>{a.className=void 0!==e?e:""}));a.className=void 0!==e?e:""},t.setupIdUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.id=void 0!==e?e:""}));t.id=void 0!==e?e:""},t.setupMaxLengthUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.maxLength=void 0!==e?e:Number.MAX_SAFE_INTEGER},t.setupRowsUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER}));t.rows=void 0!==e?e:Number.MAX_SAFE_INTEGER};const r=(e,t)=>{const a=e;"number"===a.type&&isNaN(Number(t))||(void 0!==t?(a.value=t,a.setAttribute("value",t)):(a.value="",a.removeAttribute("value")))};t.setupValueUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>r(t,e)));r(t,e)},t.setupSrcUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.src=void 0!==e?e:""}));t.src=void 0!==e?e:""},t.setupTextUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{t.nodeValue=void 0!==e?e:""}));t.nodeValue=void 0!==e?e:""},t.setupViewBoxUpdate=(e,t)=>{if((0,n.isFacet)(e))return e.observe((e=>{void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")}));void 0!==e?t.setAttributeNS(null,"viewBox",e):t.removeAttributeNS(null,"viewBox")},t.setupAttributeUpdate=(e,t,a)=>{if((0,n.isFacet)(t))return t.observe((t=>{!0===t?a.setAttribute(e,""):!1===t?a.removeAttribute(e):void 0!==t?a.setAttribute(e,t):a.removeAttribute(e)}));!0===t?a.setAttribute(e,""):!1===t?a.removeAttribute(e):void 0!==t?a.setAttribute(e,t):a.removeAttribute(e)}},8446:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupHostConfig=void 0;const n=a(7358),r=a(88572),l=a(92786);t.setupHostConfig=()=>({isPrimaryRenderer:!0,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,now:Date.now,setTimeout:"undefined"!=typeof window?window.setTimeout:(e,t)=>window.setTimeout(e,t),clearTimeout:"undefined"!=typeof window?window.clearTimeout:e=>window.clearTimeout(e),noTimeout:i,scheduleDeferredCallback:function(e,t){return window.setTimeout(e,t?t.timeout:0)},cancelDeferredCallback:function(e){return window.clearTimeout(e)},getRootHostContext:function(){return c},getChildHostContext:function(){return c},shouldSetTextContent:function(){return!1},createTextInstance:function(e){return{element:document.createTextNode(e)}},createInstance:function(e,t){var a;if("fast-text"===e){const e=document.createTextNode("");return{children:new Set,element:e,text:(0,l.setupTextUpdate)(t.text,e)}}const n=null!==(a=s[e])&&void 0!==a?a:e,o=u[e],i=void 0!==o?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(n);let c,d;if(void 0!==t.style){c=i.style,d=new Map;const e=c,a=d,n=t.style;for(const t in n){const l=n[t];void 0!==l&&((0,r.isFacet)(l)?a.set(t,l.observe((a=>{e[t]=a}))):e[t]=l)}}return void 0!==t.dangerouslySetInnerHTML&&(i.innerHTML=t.dangerouslySetInnerHTML.__html),t.onClick&&i.addEventListener("click",t.onClick),t.onFocus&&i.addEventListener("focus",t.onFocus),t.onBlur&&i.addEventListener("blur",t.onBlur),t.onMouseDown&&i.addEventListener("mousedown",t.onMouseDown),t.onMouseMove&&i.addEventListener("mousemove",t.onMouseMove),t.onMouseUp&&i.addEventListener("mouseup",t.onMouseUp),t.onTouchStart&&i.addEventListener("touchstart",t.onTouchStart),t.onTouchMove&&i.addEventListener("touchmove",t.onTouchMove),t.onTouchEnd&&i.addEventListener("touchend",t.onTouchEnd),t.onMouseEnter&&i.addEventListener("mouseenter",t.onMouseEnter),t.onMouseLeave&&i.addEventListener("mouseleave",t.onMouseLeave),t.onKeyPress&&i.addEventListener("keypress",t.onKeyPress),t.onKeyDown&&i.addEventListener("keydown",t.onKeyDown),t.onKeyUp&&i.addEventListener("keyup",t.onKeyUp),{element:i,styleUnsubscribers:d,style:c,children:new Set,className:void 0!==t.className?(0,l.setupClassUpdate)(t.className,i):void 0,id:void 0!==t.id?(0,l.setupIdUpdate)(t.id,i):void 0,autoPlay:void 0!==t.autoPlay?(0,l.setupAttributeUpdate)("autoplay",t.autoPlay,i):void 0,loop:void 0!==t.loop?(0,l.setupAttributeUpdate)("loop",t.loop,i):void 0,href:void 0!==t.href?(0,l.setupAttributeUpdate)("href",t.href,i):void 0,target:void 0!==t.target?(0,l.setupAttributeUpdate)("target",t.target,i):void 0,disabled:void 0!==t.disabled?(0,l.setupAttributeUpdate)("disabled",t.disabled,i):void 0,maxLength:void 0!==t.maxLength?(0,l.setupMaxLengthUpdate)(t.maxLength,i):void 0,rows:void 0!==t.rows?(0,l.setupRowsUpdate)(t.rows,i):void 0,type:void 0!==t.type?(0,l.setupAttributeUpdate)("type",t.type,i):void 0,value:void 0!==t.value?(0,l.setupValueUpdate)(t.value,i):void 0,src:void 0!==t.src?(0,l.setupSrcUpdate)(t.src,i):void 0,d:void 0!==t.d?(0,l.setupAttributeUpdate)("d",t.d,i):void 0,fill:void 0!==t.fill?(0,l.setupAttributeUpdate)("fill",t.fill,i):void 0,height:void 0!==t.height?(0,l.setupAttributeUpdate)("height",t.height,i):void 0,stroke:void 0!==t.stroke?(0,l.setupAttributeUpdate)("stroke",t.stroke,i):void 0,x:void 0!==t.x?(0,l.setupAttributeUpdate)("x",t.x,i):void 0,width:void 0!==t.width?(0,l.setupAttributeUpdate)("width",t.width,i):void 0,y:void 0!==t.y?(0,l.setupAttributeUpdate)("y",t.y,i):void 0,cx:void 0!==t.cx?(0,l.setupAttributeUpdate)("cx",t.cx,i):void 0,cy:void 0!==t.cy?(0,l.setupAttributeUpdate)("cy",t.cy,i):void 0,r:void 0!==t.r?(0,l.setupAttributeUpdate)("r",t.r,i):void 0,rx:void 0!==t.rx?(0,l.setupAttributeUpdate)("rx",t.rx,i):void 0,ry:void 0!==t.ry?(0,l.setupAttributeUpdate)("ry",t.ry,i):void 0,x1:void 0!==t.x1?(0,l.setupAttributeUpdate)("x1",t.x1,i):void 0,x2:void 0!==t.x2?(0,l.setupAttributeUpdate)("x2",t.x2,i):void 0,y1:void 0!==t.y1?(0,l.setupAttributeUpdate)("y1",t.y1,i):void 0,y2:void 0!==t.y2?(0,l.setupAttributeUpdate)("y2",t.y2,i):void 0,strokeWidth:void 0!==t.strokeWidth?(0,l.setupAttributeUpdate)("stroke-width",t.strokeWidth,i):void 0,viewBox:void 0!==t.viewBox?(0,l.setupViewBoxUpdate)(t.viewBox,i):void 0,xLinkHref:void 0!==t.xLinkHref?(0,l.setupAttributeUpdate)("xlink:href",t.xLinkHref,i):void 0,fillOpacity:void 0!==t.fillOpacity?(0,l.setupAttributeUpdate)("fill-opacity",t.fillOpacity,i):void 0,strokeOpacity:void 0!==t.strokeOpacity?(0,l.setupAttributeUpdate)("stroke-opacity",t.strokeOpacity,i):void 0,strokeLinecap:void 0!==t.strokeLinecap?(0,l.setupAttributeUpdate)("stroke-linecap",t.strokeLinecap,i):void 0,strokeLinejoin:void 0!==t.strokeLinejoin?(0,l.setupAttributeUpdate)("stroke-linejoin",t.strokeLinejoin,i):void 0,points:void 0!==t.points?(0,l.setupAttributeUpdate)("points",t.points,i):void 0,offset:void 0!==t.offset?(0,l.setupAttributeUpdate)("offset",t.offset,i):void 0,stopColor:void 0!==t.stopColor?(0,l.setupAttributeUpdate)("stop-color",t.stopColor,i):void 0,stopOpacity:void 0!==t.stopOpacity?(0,l.setupAttributeUpdate)("stop-opacity",t.stopOpacity,i):void 0,fontFamily:void 0!==t.fontFamily?(0,l.setupAttributeUpdate)("font-family",t.fontFamily,i):void 0,fontSize:void 0!==t.fontSize?(0,l.setupAttributeUpdate)("font-size",t.fontSize,i):void 0,"data-droppable":void 0!==t["data-droppable"]?(0,l.setupAttributeUpdate)("data-droppable",t["data-droppable"],i):void 0,"data-narrate":void 0!==t["data-narrate"]?(0,l.setupAttributeUpdate)("data-narrate",t["data-narrate"],i):void 0,"data-narrate-as":void 0!==t["data-narrate-as"]?(0,l.setupAttributeUpdate)("data-narrate-as",t["data-narrate-as"],i):void 0,"data-narrate-before":void 0!==t["data-narrate-before"]?(0,l.setupAttributeUpdate)("data-narrate-before",t["data-narrate-before"],i):void 0,"data-narrate-after":void 0!==t["data-narrate-after"]?(0,l.setupAttributeUpdate)("data-narrate-after",t["data-narrate-after"],i):void 0,"data-testid":void 0!==t["data-testid"]?(0,l.setupAttributeUpdate)("data-testid",t["data-testid"],i):void 0,"data-x-ray":void 0!==t["data-x-ray"]?(0,l.setupAttributeUpdate)("data-x-ray",t["data-x-ray"],i):void 0,cohinline:void 0!==t.cohinline?(0,l.setupAttributeUpdate)("cohinline",t.cohinline,i):void 0}},finalizeInitialChildren:function(){return!1},prepareForCommit:function(){},resetAfterCommit:function(){},commitMount:function(){},prepareUpdate:function(){return!0},commitUpdate:function(e,t,a,n,o){var i,c,s,u,d,m,p,f,g,E,h,b,v,F,S,y,C,M,k,w,T,x,I,P,O,N,A,L,R,D,_,B,W,U,z,j,H,V,G,$,K,X,Y,q,Q,J,Z,ee,te,ae,ne;const{element:re}=e;if("fast-text"===a){const t=re;return void(o.text!==n.text&&(null===(i=e.text)||void 0===i||i.call(e),e.text=(0,l.setupTextUpdate)(o.text,t)))}const le=re;if(o.style!==n.style){const t=e.style||le.style,a=e.styleUnsubscribers||new Map;e.style=t,e.styleUnsubscribers=a;const l=t,i=n.style,s=o.style;if(void 0!==i)for(const e in i){const t=i[e];t===(null==s?void 0:s[e])&&void 0!==s||(0,r.isFacet)(t)&&(null===(c=a.get(e))||void 0===c||c())}if(void 0!==s)for(const e in s){const t=null==i?void 0:i[e],n=s[e];t===n&&void 0!==i||((0,r.isFacet)(n)?a.set(e,n.observe((t=>{l[e]=t}))):l[e]=n)}}o.dangerouslySetInnerHTML!==n.dangerouslySetInnerHTML&&(void 0!==o.dangerouslySetInnerHTML?le.innerHTML=o.dangerouslySetInnerHTML.__html:le.innerHTML=""),o.autoPlay!==n.autoPlay&&(null===(s=e.autoPlay)||void 0===s||s.call(e),void 0===o.autoPlay?le.removeAttribute("autoplay"):e.autoPlay=(0,l.setupAttributeUpdate)("autoplay",o.autoPlay,le)),o.className!==n.className&&(null===(u=e.className)||void 0===u||u.call(e),void 0===o.className?le.className="":e.className=(0,l.setupClassUpdate)(o.className,le)),o.d!==n.d&&(null===(d=e.d)||void 0===d||d.call(e),void 0===o.d?le.removeAttribute("d"):e.d=(0,l.setupAttributeUpdate)("d",o.d,le)),o["data-droppable"]!==n["data-droppable"]&&(null===(m=e["data-droppable"])||void 0===m||m.call(e),void 0===o["data-droppable"]?le.removeAttribute("data-droppable"):e["data-droppable"]=(0,l.setupAttributeUpdate)("data-droppable",o["data-droppable"],le)),o["data-narrate"]!==n["data-narrate"]&&(null===(p=e["data-narrate"])||void 0===p||p.call(e),void 0===o["data-narrate"]?le.removeAttribute("data-narrate"):e["data-narrate"]=(0,l.setupAttributeUpdate)("data-narrate",o["data-narrate"],le)),o["data-narrate-as"]!==n["data-narrate-as"]&&(null===(f=e["data-narrate-as"])||void 0===f||f.call(e),void 0===o["data-narrate-as"]?le.removeAttribute("data-narrate-as"):e["data-narrate-as"]=(0,l.setupAttributeUpdate)("data-narrate-as",o["data-narrate-as"],le)),o["data-narrate-after"]!==n["data-narrate-after"]&&(null===(g=e["data-narrate-after"])||void 0===g||g.call(e),void 0===o["data-narrate-after"]?le.removeAttribute("data-narrate-after"):e["data-narrate-after"]=(0,l.setupAttributeUpdate)("data-narrate-after",o["data-narrate-after"],le)),o["data-narrate-before"]!==n["data-narrate-before"]&&(null===(E=e["data-narrate-before"])||void 0===E||E.call(e),void 0===o["data-narrate-before"]?le.removeAttribute("data-narrate-before"):e["data-narrate-before"]=(0,l.setupAttributeUpdate)("data-narrate-before",o["data-narrate-before"],le)),o["data-testid"]!==n["data-testid"]&&(null===(h=e["data-testid"])||void 0===h||h.call(e),void 0===o["data-testid"]?le.removeAttribute("data-testid"):e["data-testid"]=(0,l.setupAttributeUpdate)("data-testid",o["data-testid"],le)),o["data-x-ray"]!==n["data-x-ray"]&&(null===(b=e["data-x-ray"])||void 0===b||b.call(e),void 0===o["data-x-ray"]?le.removeAttribute("data-x-ray"):e["data-x-ray"]=(0,l.setupAttributeUpdate)("data-x-ray",o["data-x-ray"],le)),o.fill!==n.fill&&(null===(v=e.fill)||void 0===v||v.call(e),void 0===o.fill?le.removeAttribute("fill"):e.fill=(0,l.setupAttributeUpdate)("fill",o.fill,le)),o.id!==n.id&&(null===(F=e.id)||void 0===F||F.call(e),void 0===o.id?le.id="":e.id=(0,l.setupIdUpdate)(o.id,le)),o.loop!==n.loop&&(null===(S=e.loop)||void 0===S||S.call(e),void 0===o.loop?le.removeAttribute("loop"):e.loop=(0,l.setupAttributeUpdate)("loop",o.loop,le)),o.href!==n.href&&(null===(y=e.href)||void 0===y||y.call(e),void 0===o.href?le.removeAttribute("href"):e.href=(0,l.setupAttributeUpdate)("href",o.href,le)),o.target!==n.target&&(null===(C=e.target)||void 0===C||C.call(e),void 0===o.target?le.removeAttribute("target"):e.target=(0,l.setupAttributeUpdate)("target",o.target,le)),o.disabled!==n.disabled&&(null===(M=e.disabled)||void 0===M||M.call(e),void 0===o.disabled?le.removeAttribute("disabled"):e.disabled=(0,l.setupAttributeUpdate)("disabled",o.disabled,le)),o.height!==n.height&&(null===(k=e.height)||void 0===k||k.call(e),void 0===o.height?le.removeAttribute("height"):e.height=(0,l.setupAttributeUpdate)("height",o.height,le)),o.maxLength!==n.maxLength&&(null===(w=e.maxLength)||void 0===w||w.call(e),void 0===o.maxLength?le.removeAttribute("maxlength"):e.maxLength=(0,l.setupMaxLengthUpdate)(o.maxLength,le)),o.rows!==n.rows&&(null===(T=e.rows)||void 0===T||T.call(e),void 0===o.rows?le.removeAttribute("rows"):e.rows=(0,l.setupRowsUpdate)(o.rows,le)),o.stroke!==n.stroke&&(null===(x=e.stroke)||void 0===x||x.call(e),void 0===o.stroke?le.removeAttribute("stroke"):e.stroke=(0,l.setupAttributeUpdate)("stroke",o.stroke,le)),o.type!==n.type&&(null===(I=e.type)||void 0===I||I.call(e),void 0===o.type?le.removeAttribute("type"):e.type=(0,l.setupAttributeUpdate)("type",o.type,le)),o.value!==n.value&&(null===(P=e.value)||void 0===P||P.call(e),void 0===o.value?le.removeAttribute("value"):e.value=(0,l.setupValueUpdate)(o.value,le)),o.x!==n.x&&(null===(O=e.x)||void 0===O||O.call(e),void 0===o.x?le.removeAttribute("x"):e.x=(0,l.setupAttributeUpdate)("x",o.x,le)),o.width!==n.width&&(null===(N=e.width)||void 0===N||N.call(e),void 0===o.width?le.removeAttribute("width"):e.width=(0,l.setupAttributeUpdate)("width",o.width,le)),o.y!==n.y&&(null===(A=e.y)||void 0===A||A.call(e),void 0===o.y?le.removeAttribute("y"):e.y=(0,l.setupAttributeUpdate)("y",o.y,le)),o.cx!==n.cx&&(null===(L=e.cx)||void 0===L||L.call(e),void 0===o.cx?le.removeAttribute("cx"):e.cx=(0,l.setupAttributeUpdate)("cx",o.cx,le)),o.r!==n.r&&(null===(R=e.r)||void 0===R||R.call(e),void 0===o.r?le.removeAttribute("r"):e.r=(0,l.setupAttributeUpdate)("r",o.r,le)),o.cy!==n.cy&&(null===(D=e.cy)||void 0===D||D.call(e),void 0===o.cy?le.removeAttribute("cy"):e.cy=(0,l.setupAttributeUpdate)("cy",o.cy,le)),o.rx!==n.rx&&(null===(_=e.rx)||void 0===_||_.call(e),void 0===o.rx?le.removeAttribute("rx"):e.rx=(0,l.setupAttributeUpdate)("rx",o.rx,le)),o.ry!==n.ry&&(null===(B=e.ry)||void 0===B||B.call(e),void 0===o.ry?le.removeAttribute("ry"):e.ry=(0,l.setupAttributeUpdate)("ry",o.ry,le)),o.x1!==n.x1&&(null===(W=e.x1)||void 0===W||W.call(e),void 0===o.x1?le.removeAttribute("x1"):e.x1=(0,l.setupAttributeUpdate)("x1",o.x1,le)),o.x2!==n.x2&&(null===(U=e.x2)||void 0===U||U.call(e),void 0===o.x2?le.removeAttribute("x2"):e.x2=(0,l.setupAttributeUpdate)("x2",o.x2,le)),o.y1!==n.y1&&(null===(z=e.y1)||void 0===z||z.call(e),void 0===o.y1?le.removeAttribute("y1"):e.y1=(0,l.setupAttributeUpdate)("y1",o.y1,le)),o.y2!==n.y2&&(null===(j=e.y2)||void 0===j||j.call(e),void 0===o.y2?le.removeAttribute("y2"):e.y2=(0,l.setupAttributeUpdate)("y2",o.y2,le)),o.strokeWidth!==n.strokeWidth&&(null===(H=e.strokeWidth)||void 0===H||H.call(e),void 0===o.strokeWidth?le.removeAttribute("strokeWidth"):e.strokeWidth=(0,l.setupAttributeUpdate)("stroke-width",o.strokeWidth,le)),o.viewBox!==n.viewBox&&(null===(V=e.viewBox)||void 0===V||V.call(e),void 0===o.viewBox?le.removeAttribute("viewBox"):e.viewBox=(0,l.setupViewBoxUpdate)(o.viewBox,le)),o.xLinkHref!==n.xLinkHref&&(null===(G=e.xLinkHref)||void 0===G||G.call(e),void 0===o.xLinkHref?le.removeAttribute("xlink:href"):e.xLinkHref=(0,l.setupAttributeUpdate)("xlink:href",o.xLinkHref,le)),o.fillOpacity!==n.fillOpacity&&(null===($=e.fillOpacity)||void 0===$||$.call(e),void 0===o.fillOpacity?le.removeAttribute("fill-opacity"):e.fillOpacity=(0,l.setupAttributeUpdate)("fill-opacity",o.fillOpacity,le)),o.strokeOpacity!==n.strokeOpacity&&(null===(K=e.strokeOpacity)||void 0===K||K.call(e),void 0===o.strokeOpacity?le.removeAttribute("stroke-opacity"):e.strokeOpacity=(0,l.setupAttributeUpdate)("stroke-opacity",o.strokeOpacity,le)),o.strokeLinecap!==n.strokeLinecap&&(null===(X=e.strokeLinecap)||void 0===X||X.call(e),void 0===o.strokeLinecap?le.removeAttribute("stroke-linecap"):e.strokeLinecap=(0,l.setupAttributeUpdate)("stroke-linecap",o.strokeLinecap,le)),o.strokeLinejoin!==n.strokeLinejoin&&(null===(Y=e.strokeLinejoin)||void 0===Y||Y.call(e),void 0===o.strokeLinejoin?le.removeAttribute("stroke-linejoin"):e.strokeLinejoin=(0,l.setupAttributeUpdate)("stroke-linejoin",o.strokeLinejoin,le)),o.points!==n.points&&(null===(q=e.points)||void 0===q||q.call(e),void 0===o.points?le.removeAttribute("points"):e.points=(0,l.setupAttributeUpdate)("points",o.points,le)),o.offset!==n.offset&&(null===(Q=e.offset)||void 0===Q||Q.call(e),void 0===o.offset?le.removeAttribute("offset"):e.offset=(0,l.setupAttributeUpdate)("offset",o.offset,le)),o.stopColor!==n.stopColor&&(null===(J=e.stopColor)||void 0===J||J.call(e),void 0===o.stopColor?le.removeAttribute("stop-color"):e.stopColor=(0,l.setupAttributeUpdate)("stop-color",o.stopColor,le)),o.stopOpacity!==n.stopOpacity&&(null===(Z=e.stopOpacity)||void 0===Z||Z.call(e),void 0===o.stopOpacity?le.removeAttribute("stop-opacity"):e.stopOpacity=(0,l.setupAttributeUpdate)("stop-opacity",o.stopOpacity,le)),o.fontFamily!==n.fontFamily&&(null===(ee=e.fontFamily)||void 0===ee||ee.call(e),void 0===o.fontFamily?le.removeAttribute("font-family"):e.fontFamily=(0,l.setupAttributeUpdate)("font-family",o.fontFamily,le)),o.fontSize!==n.fontSize&&(null===(te=e.fontSize)||void 0===te||te.call(e),void 0===o.fontSize?le.removeAttribute("font-size"):e.fontSize=(0,l.setupAttributeUpdate)("font-size",o.fontSize,le)),o.src!==n.src&&(null===(ae=e.src)||void 0===ae||ae.call(e),void 0===o.src?le.removeAttribute("src"):e.src=(0,l.setupSrcUpdate)(o.src,le)),o.cohinline!==n.cohinline&&(null===(ne=e.cohinline)||void 0===ne||ne.call(e),void 0===o.cohinline?le.removeAttribute("cohinline"):e.cohinline=(0,l.setupAttributeUpdate)("cohinline",o.cohinline,le)),o.onClick!==n.onClick&&(n.onClick&&le.removeEventListener("click",n.onClick),o.onClick&&le.addEventListener("click",o.onClick)),o.onFocus!==n.onFocus&&(n.onFocus&&le.removeEventListener("focus",n.onFocus),o.onFocus&&le.addEventListener("focus",o.onFocus)),o.onBlur!==n.onBlur&&(n.onBlur&&le.removeEventListener("blur",n.onBlur),o.onBlur&&le.addEventListener("blur",o.onBlur)),o.onMouseDown!==n.onMouseDown&&(n.onMouseDown&&le.removeEventListener("mousedown",n.onMouseDown),o.onMouseDown&&le.addEventListener("mousedown",o.onMouseDown)),o.onMouseMove!==n.onMouseMove&&(n.onMouseMove&&le.removeEventListener("mousemove",n.onMouseMove),o.onMouseMove&&le.addEventListener("mousemove",o.onMouseMove)),o.onMouseEnter!==n.onMouseEnter&&(n.onMouseEnter&&le.removeEventListener("mouseenter",n.onMouseEnter),o.onMouseEnter&&le.addEventListener("mouseenter",o.onMouseEnter)),o.onMouseLeave!==n.onMouseLeave&&(n.onMouseLeave&&le.removeEventListener("mouseleave",n.onMouseLeave),o.onMouseLeave&&le.addEventListener("mouseleave",o.onMouseLeave)),o.onMouseUp!==n.onMouseUp&&(n.onMouseUp&&le.removeEventListener("mouseup",n.onMouseUp),o.onMouseUp&&le.addEventListener("mouseup",o.onMouseUp)),o.onTouchStart!==n.onTouchStart&&(n.onTouchStart&&le.removeEventListener("touchstart",n.onTouchStart),o.onTouchStart&&le.addEventListener("touchstart",o.onTouchStart)),o.onTouchMove!==n.onTouchMove&&(n.onTouchMove&&le.removeEventListener("touchmove",n.onTouchMove),o.onTouchMove&&le.addEventListener("touchmove",o.onTouchMove)),o.onTouchEnd!==n.onTouchEnd&&(n.onTouchEnd&&le.removeEventListener("touchend",n.onTouchEnd),o.onTouchEnd&&le.addEventListener("touchend",o.onTouchEnd)),o.onTouchMove!==n.onTouchMove&&(n.onTouchMove&&le.removeEventListener("touchmove",n.onTouchMove),o.onTouchMove&&le.addEventListener("touchmove",o.onTouchMove)),o.onTouchEnd!==n.onTouchEnd&&(n.onTouchEnd&&le.removeEventListener("touchend",n.onTouchEnd),o.onTouchEnd&&le.addEventListener("touchend",o.onTouchEnd)),o.onKeyPress!==n.onKeyPress&&(n.onKeyPress&&le.removeEventListener("keypress",n.onKeyPress),o.onKeyPress&&le.addEventListener("keypress",o.onKeyPress)),o.onKeyDown!==n.onKeyDown&&(n.onKeyDown&&le.removeEventListener("keydown",n.onKeyDown),o.onKeyDown&&le.addEventListener("keydown",o.onKeyDown)),o.onKeyUp!==n.onKeyUp&&(n.onKeyUp&&le.removeEventListener("keyup",n.onKeyUp),o.onKeyUp&&le.addEventListener("keyup",o.onKeyUp))},commitTextUpdate:function(e,t,a){e.element.nodeValue=a},appendInitialChild:function(e,t){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChildToContainer:function(e,t){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},appendChild:function(e,t){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.appendChild(t.element)},insertBefore:function(e,t,a){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,a.element)},removeChild:function(e,t){(0,n.isElementContainer)(t)&&o(e,t),e.element.removeChild(t.element)},insertInContainerBefore:function(e,t,a){(0,n.isElementContainer)(t)&&e.children.add(t),e.element.insertBefore(t.element,a.element)},removeChildFromContainer:function(e,t){(0,n.isElementContainer)(t)&&o(e,t),e.element.removeChild(t.element)},resetTextContent:function(e){e.element.textContent=""},shouldDeprioritizeSubtree:function(){return!1},getPublicInstance:function(e){return e.element}});const o=(e,t)=>{var a,n,r,l,i,c,s,u,d,m,p,f,g,E,h,b,v,F,S,y,C,M,k,w,T,x,I,P,O,N,A,L,R,D,_,B,W,U,z,j,H,V,G,$,K,X,Y,q,Q,J,Z,ee;e.children.delete(t),null===(a=t.styleUnsubscribers)||void 0===a||a.forEach((e=>e())),null===(n=t.styleUnsubscribers)||void 0===n||n.clear(),t.children.forEach(o),t.children.clear(),null===(r=t.className)||void 0===r||r.call(t),null===(l=t.cx)||void 0===l||l.call(t),null===(i=t.cy)||void 0===i||i.call(t),null===(c=t.d)||void 0===c||c.call(t),null===(s=t["data-droppable"])||void 0===s||s.call(t),null===(u=t["data-narrate"])||void 0===u||u.call(t),null===(d=t["data-narrate-as"])||void 0===d||d.call(t),null===(m=t["data-narrate-after"])||void 0===m||m.call(t),null===(p=t["data-narrate-before"])||void 0===p||p.call(t),null===(f=t["data-testid"])||void 0===f||f.call(t),null===(g=t["data-x-ray"])||void 0===g||g.call(t),null===(E=t.fill)||void 0===E||E.call(t),null===(h=t.id)||void 0===h||h.call(t),null===(b=t.src)||void 0===b||b.call(t),null===(v=t.height)||void 0===v||v.call(t),null===(F=t.href)||void 0===F||F.call(t),null===(S=t.target)||void 0===S||S.call(t),null===(y=t.autoPlay)||void 0===y||y.call(t),null===(C=t.loop)||void 0===C||C.call(t),null===(M=t.disabled)||void 0===M||M.call(t),null===(k=t.maxLength)||void 0===k||k.call(t),null===(w=t.r)||void 0===w||w.call(t),null===(T=t.rx)||void 0===T||T.call(t),null===(x=t.ry)||void 0===x||x.call(t),null===(I=t.rows)||void 0===I||I.call(t),null===(P=t.stroke)||void 0===P||P.call(t),null===(O=t.strokeWidth)||void 0===O||O.call(t),null===(N=t.type)||void 0===N||N.call(t),null===(A=t.text)||void 0===A||A.call(t),null===(L=t.value)||void 0===L||L.call(t),null===(R=t.x)||void 0===R||R.call(t),null===(D=t.x1)||void 0===D||D.call(t),null===(_=t.x2)||void 0===_||_.call(t),null===(B=t.width)||void 0===B||B.call(t),null===(W=t.y)||void 0===W||W.call(t),null===(U=t.y1)||void 0===U||U.call(t),null===(z=t.y2)||void 0===z||z.call(t),null===(j=t.viewBox)||void 0===j||j.call(t),null===(H=t.xLinkHref)||void 0===H||H.call(t),null===(V=t.fillOpacity)||void 0===V||V.call(t),null===(G=t.strokeOpacity)||void 0===G||G.call(t),null===($=t.strokeLinecap)||void 0===$||$.call(t),null===(K=t.strokeLinejoin)||void 0===K||K.call(t),null===(X=t.points)||void 0===X||X.call(t),null===(Y=t.offset)||void 0===Y||Y.call(t),null===(q=t.stopColor)||void 0===q||q.call(t),null===(Q=t.stopOpacity)||void 0===Q||Q.call(t),null===(J=t.fontFamily)||void 0===J||J.call(t),null===(Z=t.fontSize)||void 0===Z||Z.call(t),null===(ee=t.cohinline)||void 0===ee||ee.call(t)},i=()=>{},c={},s={"fast-a":"a","fast-div":"div","fast-p":"p","fast-img":"img","fast-input":"input","fast-span":"span","fast-textarea":"textarea","fast-text":"span",a:"a",div:"div",p:"p",img:"img",textarea:"textarea",input:"input",style:"style"},u={"fast-circle":"circle","fast-ellipse":"ellipse","fast-line":"line","fast-path":"path","fast-rect":"rect","fast-svg":"svg","fast-foreignObject":"foreignObject","fast-use":"use","fast-polyline":"polyline","fast-polygon":"polygon","fast-linearGradient":"linearGradient","fast-radialGradient":"radialGradient","fast-stop":"stop","fast-svg-text":"text","fast-pattern":"pattern",circle:"circle",ellipse:"ellipse",line:"line",path:"path",rect:"rect",svg:"svg",foreignObject:"foreignObject",symbol:"symbol",g:"g",use:"use",defs:"defs",polyline:"polyline",polygon:"polygon",linearGradient:"linearGradient",radialGradient:"radialGradient",stop:"stop",text:"text",pattern:"pattern"}},7358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isElementContainer=void 0,t.isElementContainer=e=>"children"in e},3130:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacet=t.SharedFacetDriverProvider=t.sharedFacetDriverContext=void 0;const n=a(67294);t.sharedFacetDriverContext=(0,n.createContext)((()=>()=>{})),t.SharedFacetDriverProvider=t.sharedFacetDriverContext.Provider,t.useSharedFacet=e=>e((0,n.useContext)(t.sharedFacetDriverContext))},30401:function(e,t,a){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,a,n){void 0===n&&(n=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,r)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||n(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(3130),t),r(a(37350),t),r(a(51090),t),r(a(15685),t),r(a(60815),t),r(a(20206),t)},5811:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new Map;return a=>{const n=t.get(a);if(n)return n;const r=e(a);return t.set(a,r),r}}},37350:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedDynamicSelector=void 0;const r=n(a(5811)),l=a(88572),o=a(15685);t.sharedDynamicSelector=function(e,t=l.defaultEqualityCheck){return(0,r.default)((a=>{const[n,i]=e(a),c=(0,r.default)((e=>o.sharedSelector(n,i,t)(e)));return c.factory=l.FACET_FACTORY,c}))}},51090:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedFacet=void 0;const r=n(a(5811)),l=a(88572);t.sharedFacet=function(e,t=l.NO_VALUE){const a=(0,r.default)((a=>(0,l.createFacet)({initialValue:t,startSubscription:t=>a(e,t)})));return a.factory=l.FACET_FACTORY,a}},15685:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sharedSelector=void 0;const r=n(a(5811)),l=a(88572);t.sharedSelector=function(e,t,a=l.defaultEqualityCheck){const n=(0,r.default)((n=>(0,l.mapFacetsCached)(t.map((e=>e(n))),e,a)));return n.factory=l.FACET_FACTORY,n}},60815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20206:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedFacetPropSetter=void 0;const n=a(88572),r=a(3130);t.useSharedFacetPropSetter=function(e,t){return(0,n.useFacetCallback)((e=>a=>{e[t]=a}),[t],[(0,r.useSharedFacet)(e)])}},34753:(e,t,a)=>{window.__globalDevCoreUISoundDefinitions=window.__globalDevCoreUISoundDefinitions||{},Object.assign(window.__globalDevCoreUISoundDefinitions,{"tokens.vanilla.release":{category:"ui",sounds:[{name:a(99373)}]},"tokens.vanilla.snes_pop":{category:"ui",sounds:[{name:a(43464)}]},"tokens.vanilla.modal_hide":{category:"ui",sounds:[{name:a(60197)}]}})},42181:()=>{},52910:(e,t,a)=>{"use strict";a.d(t,{facet:()=>s,shallowObjectEqualityCheck:()=>c,strictShallowObjectEqualityCheck:()=>i});var n=a(88572);a.o(n,"DeferredMount")&&a.d(t,{DeferredMount:function(){return n.DeferredMount}}),a.o(n,"DeferredMountProvider")&&a.d(t,{DeferredMountProvider:function(){return n.DeferredMountProvider}}),a.o(n,"DeferredMountWithCallback")&&a.d(t,{DeferredMountWithCallback:function(){return n.DeferredMountWithCallback}}),a.o(n,"Map")&&a.d(t,{Map:function(){return n.Map}}),a.o(n,"Mount")&&a.d(t,{Mount:function(){return n.Mount}}),a.o(n,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return n.NO_VALUE}}),a.o(n,"PauseMountProvider")&&a.d(t,{PauseMountProvider:function(){return n.PauseMountProvider}}),a.o(n,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return n.SharedFacetDriverProvider}}),a.o(n,"With")&&a.d(t,{With:function(){return n.With}}),a.o(n,"createFacet")&&a.d(t,{createFacet:function(){return n.createFacet}}),a.o(n,"createFacetContext")&&a.d(t,{createFacetContext:function(){return n.createFacetContext}}),a.o(n,"createPortal")&&a.d(t,{createPortal:function(){return n.createPortal}}),a.o(n,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return n.createStaticFacet}}),a.o(n,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return n.createUniformArrayEqualityCheck}}),a.o(n,"isFacet")&&a.d(t,{isFacet:function(){return n.isFacet}}),a.o(n,"multiObserve")&&a.d(t,{multiObserve:function(){return n.multiObserve}}),a.o(n,"render")&&a.d(t,{render:function(){return n.render}}),a.o(n,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return n.sharedDynamicSelector}}),a.o(n,"sharedFacet")&&a.d(t,{sharedFacet:function(){return n.sharedFacet}}),a.o(n,"sharedSelector")&&a.d(t,{sharedSelector:function(){return n.sharedSelector}}),a.o(n,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return n.useFacetCallback}}),a.o(n,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return n.useFacetEffect}}),a.o(n,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return n.useFacetLayoutEffect}}),a.o(n,"useFacetMap")&&a.d(t,{useFacetMap:function(){return n.useFacetMap}}),a.o(n,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return n.useFacetMemo}}),a.o(n,"useFacetRef")&&a.d(t,{useFacetRef:function(){return n.useFacetRef}}),a.o(n,"useFacetState")&&a.d(t,{useFacetState:function(){return n.useFacetState}}),a.o(n,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return n.useFacetUnwrap}}),a.o(n,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return n.useFacetWrap}}),a.o(n,"useIsDeferring")&&a.d(t,{useIsDeferring:function(){return n.useIsDeferring}}),a.o(n,"useIsPaused")&&a.d(t,{useIsPaused:function(){return n.useIsPaused}}),a.o(n,"useNotifyMountComplete")&&a.d(t,{useNotifyMountComplete:function(){return n.useNotifyMountComplete}}),a.o(n,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return n.useSharedFacet}});var r=a(47154);a.o(r,"DeferredMount")&&a.d(t,{DeferredMount:function(){return r.DeferredMount}}),a.o(r,"DeferredMountProvider")&&a.d(t,{DeferredMountProvider:function(){return r.DeferredMountProvider}}),a.o(r,"DeferredMountWithCallback")&&a.d(t,{DeferredMountWithCallback:function(){return r.DeferredMountWithCallback}}),a.o(r,"Map")&&a.d(t,{Map:function(){return r.Map}}),a.o(r,"Mount")&&a.d(t,{Mount:function(){return r.Mount}}),a.o(r,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return r.NO_VALUE}}),a.o(r,"PauseMountProvider")&&a.d(t,{PauseMountProvider:function(){return r.PauseMountProvider}}),a.o(r,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return r.SharedFacetDriverProvider}}),a.o(r,"With")&&a.d(t,{With:function(){return r.With}}),a.o(r,"createFacet")&&a.d(t,{createFacet:function(){return r.createFacet}}),a.o(r,"createFacetContext")&&a.d(t,{createFacetContext:function(){return r.createFacetContext}}),a.o(r,"createPortal")&&a.d(t,{createPortal:function(){return r.createPortal}}),a.o(r,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return r.createStaticFacet}}),a.o(r,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return r.createUniformArrayEqualityCheck}}),a.o(r,"isFacet")&&a.d(t,{isFacet:function(){return r.isFacet}}),a.o(r,"multiObserve")&&a.d(t,{multiObserve:function(){return r.multiObserve}}),a.o(r,"render")&&a.d(t,{render:function(){return r.render}}),a.o(r,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return r.sharedDynamicSelector}}),a.o(r,"sharedFacet")&&a.d(t,{sharedFacet:function(){return r.sharedFacet}}),a.o(r,"sharedSelector")&&a.d(t,{sharedSelector:function(){return r.sharedSelector}}),a.o(r,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return r.useFacetCallback}}),a.o(r,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return r.useFacetEffect}}),a.o(r,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return r.useFacetLayoutEffect}}),a.o(r,"useFacetMap")&&a.d(t,{useFacetMap:function(){return r.useFacetMap}}),a.o(r,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return r.useFacetMemo}}),a.o(r,"useFacetRef")&&a.d(t,{useFacetRef:function(){return r.useFacetRef}}),a.o(r,"useFacetState")&&a.d(t,{useFacetState:function(){return r.useFacetState}}),a.o(r,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return r.useFacetUnwrap}}),a.o(r,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return r.useFacetWrap}}),a.o(r,"useIsDeferring")&&a.d(t,{useIsDeferring:function(){return r.useIsDeferring}}),a.o(r,"useIsPaused")&&a.d(t,{useIsPaused:function(){return r.useIsPaused}}),a.o(r,"useNotifyMountComplete")&&a.d(t,{useNotifyMountComplete:function(){return r.useNotifyMountComplete}}),a.o(r,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return r.useSharedFacet}});var l=a(30401);a.o(l,"DeferredMount")&&a.d(t,{DeferredMount:function(){return l.DeferredMount}}),a.o(l,"DeferredMountProvider")&&a.d(t,{DeferredMountProvider:function(){return l.DeferredMountProvider}}),a.o(l,"DeferredMountWithCallback")&&a.d(t,{DeferredMountWithCallback:function(){return l.DeferredMountWithCallback}}),a.o(l,"Map")&&a.d(t,{Map:function(){return l.Map}}),a.o(l,"Mount")&&a.d(t,{Mount:function(){return l.Mount}}),a.o(l,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return l.NO_VALUE}}),a.o(l,"PauseMountProvider")&&a.d(t,{PauseMountProvider:function(){return l.PauseMountProvider}}),a.o(l,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return l.SharedFacetDriverProvider}}),a.o(l,"With")&&a.d(t,{With:function(){return l.With}}),a.o(l,"createFacet")&&a.d(t,{createFacet:function(){return l.createFacet}}),a.o(l,"createFacetContext")&&a.d(t,{createFacetContext:function(){return l.createFacetContext}}),a.o(l,"createPortal")&&a.d(t,{createPortal:function(){return l.createPortal}}),a.o(l,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return l.createStaticFacet}}),a.o(l,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return l.createUniformArrayEqualityCheck}}),a.o(l,"isFacet")&&a.d(t,{isFacet:function(){return l.isFacet}}),a.o(l,"multiObserve")&&a.d(t,{multiObserve:function(){return l.multiObserve}}),a.o(l,"render")&&a.d(t,{render:function(){return l.render}}),a.o(l,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return l.sharedDynamicSelector}}),a.o(l,"sharedFacet")&&a.d(t,{sharedFacet:function(){return l.sharedFacet}}),a.o(l,"sharedSelector")&&a.d(t,{sharedSelector:function(){return l.sharedSelector}}),a.o(l,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return l.useFacetCallback}}),a.o(l,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return l.useFacetEffect}}),a.o(l,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return l.useFacetLayoutEffect}}),a.o(l,"useFacetMap")&&a.d(t,{useFacetMap:function(){return l.useFacetMap}}),a.o(l,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return l.useFacetMemo}}),a.o(l,"useFacetRef")&&a.d(t,{useFacetRef:function(){return l.useFacetRef}}),a.o(l,"useFacetState")&&a.d(t,{useFacetState:function(){return l.useFacetState}}),a.o(l,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return l.useFacetUnwrap}}),a.o(l,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return l.useFacetWrap}}),a.o(l,"useIsDeferring")&&a.d(t,{useIsDeferring:function(){return l.useIsDeferring}}),a.o(l,"useIsPaused")&&a.d(t,{useIsPaused:function(){return l.useIsPaused}}),a.o(l,"useNotifyMountComplete")&&a.d(t,{useNotifyMountComplete:function(){return l.useNotifyMountComplete}}),a.o(l,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return l.useSharedFacet}});var o=a(1170);a.o(o,"DeferredMount")&&a.d(t,{DeferredMount:function(){return o.DeferredMount}}),a.o(o,"DeferredMountProvider")&&a.d(t,{DeferredMountProvider:function(){return o.DeferredMountProvider}}),a.o(o,"DeferredMountWithCallback")&&a.d(t,{DeferredMountWithCallback:function(){return o.DeferredMountWithCallback}}),a.o(o,"Map")&&a.d(t,{Map:function(){return o.Map}}),a.o(o,"Mount")&&a.d(t,{Mount:function(){return o.Mount}}),a.o(o,"NO_VALUE")&&a.d(t,{NO_VALUE:function(){return o.NO_VALUE}}),a.o(o,"PauseMountProvider")&&a.d(t,{PauseMountProvider:function(){return o.PauseMountProvider}}),a.o(o,"SharedFacetDriverProvider")&&a.d(t,{SharedFacetDriverProvider:function(){return o.SharedFacetDriverProvider}}),a.o(o,"With")&&a.d(t,{With:function(){return o.With}}),a.o(o,"createFacet")&&a.d(t,{createFacet:function(){return o.createFacet}}),a.o(o,"createFacetContext")&&a.d(t,{createFacetContext:function(){return o.createFacetContext}}),a.o(o,"createPortal")&&a.d(t,{createPortal:function(){return o.createPortal}}),a.o(o,"createStaticFacet")&&a.d(t,{createStaticFacet:function(){return o.createStaticFacet}}),a.o(o,"createUniformArrayEqualityCheck")&&a.d(t,{createUniformArrayEqualityCheck:function(){return o.createUniformArrayEqualityCheck}}),a.o(o,"isFacet")&&a.d(t,{isFacet:function(){return o.isFacet}}),a.o(o,"multiObserve")&&a.d(t,{multiObserve:function(){return o.multiObserve}}),a.o(o,"render")&&a.d(t,{render:function(){return o.render}}),a.o(o,"sharedDynamicSelector")&&a.d(t,{sharedDynamicSelector:function(){return o.sharedDynamicSelector}}),a.o(o,"sharedFacet")&&a.d(t,{sharedFacet:function(){return o.sharedFacet}}),a.o(o,"sharedSelector")&&a.d(t,{sharedSelector:function(){return o.sharedSelector}}),a.o(o,"useFacetCallback")&&a.d(t,{useFacetCallback:function(){return o.useFacetCallback}}),a.o(o,"useFacetEffect")&&a.d(t,{useFacetEffect:function(){return o.useFacetEffect}}),a.o(o,"useFacetLayoutEffect")&&a.d(t,{useFacetLayoutEffect:function(){return o.useFacetLayoutEffect}}),a.o(o,"useFacetMap")&&a.d(t,{useFacetMap:function(){return o.useFacetMap}}),a.o(o,"useFacetMemo")&&a.d(t,{useFacetMemo:function(){return o.useFacetMemo}}),a.o(o,"useFacetRef")&&a.d(t,{useFacetRef:function(){return o.useFacetRef}}),a.o(o,"useFacetState")&&a.d(t,{useFacetState:function(){return o.useFacetState}}),a.o(o,"useFacetUnwrap")&&a.d(t,{useFacetUnwrap:function(){return o.useFacetUnwrap}}),a.o(o,"useFacetWrap")&&a.d(t,{useFacetWrap:function(){return o.useFacetWrap}}),a.o(o,"useIsDeferring")&&a.d(t,{useIsDeferring:function(){return o.useIsDeferring}}),a.o(o,"useIsPaused")&&a.d(t,{useIsPaused:function(){return o.useIsPaused}}),a.o(o,"useNotifyMountComplete")&&a.d(t,{useNotifyMountComplete:function(){return o.useNotifyMountComplete}}),a.o(o,"useSharedFacet")&&a.d(t,{useSharedFacet:function(){return o.useSharedFacet}});const i=n.shallowObjectEqualityCheck,c=n.shallowObjectEqualityCheck,s=l.sharedFacet},73595:()=>{},94184:(e,t)=>{var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var l=typeof a;if("string"===l||"number"===l)e.push(a);else if(Array.isArray(a)&&a.length){var o=r.apply(null,a);o&&e.push(o)}else if("object"===l)for(var i in a)n.call(a,i)&&a[i]&&e.push(i)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},17187:e=>{"use strict";var t,a="object"==typeof Reflect?Reflect:null,n=a&&"function"==typeof a.apply?a.apply:function(e,t,a){return Function.prototype.apply.call(e,t,a)};t=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var r=Number.isNaN||function(e){return e!=e};function l(){l.init.call(this)}e.exports=l,e.exports.once=function(e,t){return new Promise((function(a,n){function r(a){e.removeListener(t,l),n(a)}function l(){"function"==typeof e.removeListener&&e.removeListener("error",r),a([].slice.call(arguments))}g(e,t,l,{once:!0}),"error"!==t&&function(e,t,a){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,r)}))},l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var o=10;function i(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function s(e,t,a,n){var r,l,o,s;if(i(a),void 0===(l=e._events)?(l=e._events=Object.create(null),e._eventsCount=0):(void 0!==l.newListener&&(e.emit("newListener",t,a.listener?a.listener:a),l=e._events),o=l[t]),void 0===o)o=l[t]=a,++e._eventsCount;else if("function"==typeof o?o=l[t]=n?[a,o]:[o,a]:n?o.unshift(a):o.push(a),(r=c(e))>0&&o.length>r&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,a){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:a},r=u.bind(n);return r.listener=a,n.wrapFn=r,r}function m(e,t,a){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"==typeof r?a?[r.listener||r]:[r]:a?function(e){for(var t=new Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];return t}(r):f(r,r.length)}function p(e){var t=this._events;if(void 0!==t){var a=t[e];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function f(e,t){for(var a=new Array(t),n=0;n<t;++n)a[n]=e[n];return a}function g(e,t,a,n){if("function"==typeof e.on)n.once?e.once(t,a):e.on(t,a);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(l){n.once&&e.removeEventListener(t,r),a(l)}))}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||r(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return c(this)},l.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var r="error"===e,l=this._events;if(void 0!==l)r=r&&void 0===l.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var i=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw i.context=o,i}var c=l[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var s=c.length,u=f(c,s);for(a=0;a<s;++a)n(u[a],this,t)}return!0},l.prototype.addListener=function(e,t){return s(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return s(this,e,t,!0)},l.prototype.once=function(e,t){return i(t),this.on(e,d(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,d(this,e,t)),this},l.prototype.removeListener=function(e,t){var a,n,r,l,o;if(i(t),void 0===(n=this._events))return this;if(void 0===(a=n[e]))return this;if(a===t||a.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,a.listener||t));else if("function"!=typeof a){for(r=-1,l=a.length-1;l>=0;l--)if(a[l]===t||a[l].listener===t){o=a[l].listener,r=l;break}if(r<0)return this;0===r?a.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(a,r),1===a.length&&(n[e]=a[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,a,n;if(void 0===(a=this._events))return this;if(void 0===a.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==a[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete a[e]),this;if(0===arguments.length){var r,l=Object.keys(a);for(n=0;n<l.length;++n)"removeListener"!==(r=l[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=a[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},l.prototype.listeners=function(e){return m(this,e,!0)},l.prototype.rawListeners=function(e){return m(this,e,!1)},l.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},l.prototype.listenerCount=p,l.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},91296:(e,t,a)=>{var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt,c="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,s="object"==typeof self&&self&&self.Object===Object&&self,u=c||s||Function("return this")(),d=Object.prototype.toString,m=Math.max,p=Math.min,f=function(){return u.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function E(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=l.test(e);return a||o.test(e)?i(e.slice(2),a?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,a){var n,r,l,o,i,c,s=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var a=n,l=r;return n=r=void 0,s=t,o=e.apply(l,a)}function v(e){return s=e,i=setTimeout(S,t),u?b(e):o}function F(e){var a=e-c;return void 0===c||a>=t||a<0||d&&e-s>=l}function S(){var e=f();if(F(e))return y(e);i=setTimeout(S,function(e){var a=t-(e-c);return d?p(a,l-(e-s)):a}(e))}function y(e){return i=void 0,h&&n?b(e):(n=r=void 0,o)}function C(){var e=f(),a=F(e);if(n=arguments,r=this,c=e,a){if(void 0===i)return v(c);if(d)return i=setTimeout(S,t),b(c)}return void 0===i&&(i=setTimeout(S,t)),o}return t=E(t)||0,g(a)&&(u=!!a.leading,l=(d="maxWait"in a)?m(E(a.maxWait)||0,t):l,h="trailing"in a?!!a.trailing:h),C.cancel=function(){void 0!==i&&clearTimeout(i),s=0,n=c=r=i=void 0},C.flush=function(){return void 0===i?o:y(f())},C}},93096:(e,t,a)=>{var n="Expected a function",r=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=s||u||Function("return this")(),m=Object.prototype.toString,p=Math.max,f=Math.min,g=function(){return d.Date.now()};function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(E(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var a=o.test(e);return a||i.test(e)?c(e.slice(2),a?2:8):l.test(e)?NaN:+e}e.exports=function(e,t,a){var r=!0,l=!0;if("function"!=typeof e)throw new TypeError(n);return E(a)&&(r="leading"in a?!!a.leading:r,l="trailing"in a?!!a.trailing:l),function(e,t,a){var r,l,o,i,c,s,u=0,d=!1,m=!1,b=!0;if("function"!=typeof e)throw new TypeError(n);function v(t){var a=r,n=l;return r=l=void 0,u=t,i=e.apply(n,a)}function F(e){return u=e,c=setTimeout(y,t),d?v(e):i}function S(e){var a=e-s;return void 0===s||a>=t||a<0||m&&e-u>=o}function y(){var e=g();if(S(e))return C(e);c=setTimeout(y,function(e){var a=t-(e-s);return m?f(a,o-(e-u)):a}(e))}function C(e){return c=void 0,b&&r?v(e):(r=l=void 0,i)}function M(){var e=g(),a=S(e);if(r=arguments,l=this,s=e,a){if(void 0===c)return F(s);if(m)return c=setTimeout(y,t),v(s)}return void 0===c&&(c=setTimeout(y,t)),i}return t=h(t)||0,E(a)&&(d=!!a.leading,o=(m="maxWait"in a)?p(h(a.maxWait)||0,t):o,b="trailing"in a?!!a.trailing:b),M.cancel=function(){void 0!==c&&clearTimeout(c),u=0,r=s=l=c=void 0},M.flush=function(){return void 0===c?i:C(g())},M}(e,t,{leading:r,maxWait:t,trailing:l})}},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,l){for(var o,i,c=r(e),s=1;s<arguments.length;s++){for(var u in o=Object(arguments[s]))a.call(o,u)&&(c[u]=o[u]);if(t){i=t(o);for(var d=0;d<i.length;d++)n.call(o,i[d])&&(c[i[d]]=o[i[d]])}}return c}},63195:(e,t,a)=>{var n=a(7455),r=a(79002)((function(e,t){return n(e.length,(function(){return e.apply(t,arguments)}))}));e.exports=r},2220:(e,t,a)=>{var n=a(7455),r=a(76224),l=a(79002),o=a(32738),i=l((function(e,t){return 1===e?r(t):n(e,o(e,[],t))}));e.exports=i},51481:(e,t,a)=>{var n=a(79002),r=a(74023),l=n((function(e,t){return r(e,t,[],[])}));e.exports=l},51383:(e,t,a)=>{var n=a(79002),r=a(34793),l=a(34877),o=a(8291),i=a(39488),c=a(11383),s=a(90368),u=n(r(["filter"],c,(function(e,t){return o(t)?i((function(a,n){return e(t[n])&&(a[n]=t[n]),a}),{},s(t)):l(e,t)})));e.exports=u},46376:(e,t,a)=>{var n=a(79002)(a(34793)(["find"],a(47855),(function(e,t){for(var a=0,n=t.length;a<n;){if(e(t[a]))return t[a];a+=1}})));e.exports=n},9134:(e,t,a)=>{var n=a(76224),r=a(2220),l=n((function(e){return r(e.length,(function(t,a){var n=Array.prototype.slice.call(arguments,0);return n[0]=a,n[1]=t,e.apply(this,n)}))}));e.exports=l},59270:(e,t,a)=>{var n=a(87243),r=a(79002)(n);e.exports=r},7455:e=>{e.exports=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,a){return t.apply(this,arguments)};case 3:return function(e,a,n){return t.apply(this,arguments)};case 4:return function(e,a,n,r){return t.apply(this,arguments)};case 5:return function(e,a,n,r,l){return t.apply(this,arguments)};case 6:return function(e,a,n,r,l,o){return t.apply(this,arguments)};case 7:return function(e,a,n,r,l,o,i){return t.apply(this,arguments)};case 8:return function(e,a,n,r,l,o,i,c){return t.apply(this,arguments)};case 9:return function(e,a,n,r,l,o,i,c,s){return t.apply(this,arguments)};case 10:return function(e,a,n,r,l,o,i,c,s,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},54118:e=>{e.exports=function(e){for(var t,a=[];!(t=e.next()).done;)a.push(t.value);return a}},73542:(e,t,a)=>{var n=a(20219);e.exports=function(e,t){return function(){var a=arguments.length;if(0===a)return t();var r=arguments[a-1];return n(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,a-1))}}},48770:e=>{e.exports=function(e){return function(){return!e.apply(this,arguments)}}},76224:(e,t,a)=>{var n=a(36464);e.exports=function(e){return function t(a){return 0===arguments.length||n(a)?t:e.apply(this,arguments)}}},79002:(e,t,a)=>{var n=a(76224),r=a(36464);e.exports=function(e){return function t(a,l){switch(arguments.length){case 0:return t;case 1:return r(a)?t:n((function(t){return e(a,t)}));default:return r(a)&&r(l)?t:r(a)?n((function(t){return e(t,l)})):r(l)?n((function(t){return e(a,t)})):e(a,l)}}}},16370:(e,t,a)=>{var n=a(76224),r=a(79002),l=a(36464);e.exports=function(e){return function t(a,o,i){switch(arguments.length){case 0:return t;case 1:return l(a)?t:r((function(t,n){return e(a,t,n)}));case 2:return l(a)&&l(o)?t:l(a)?r((function(t,a){return e(t,o,a)})):l(o)?r((function(t,n){return e(a,t,n)})):n((function(t){return e(a,o,t)}));default:return l(a)&&l(o)&&l(i)?t:l(a)&&l(o)?r((function(t,a){return e(t,a,i)})):l(a)&&l(i)?r((function(t,a){return e(t,o,a)})):l(o)&&l(i)?r((function(t,n){return e(a,t,n)})):l(a)?n((function(t){return e(t,o,i)})):l(o)?n((function(t){return e(a,t,i)})):l(i)?n((function(t){return e(a,o,t)})):e(a,o,i)}}}},32738:(e,t,a)=>{var n=a(7455),r=a(36464);e.exports=function e(t,a,l){return function(){for(var o=[],i=0,c=t,s=0;s<a.length||i<arguments.length;){var u;s<a.length&&(!r(a[s])||i>=arguments.length)?u=a[s]:(u=arguments[i],i+=1),o[s]=u,r(u)||(c-=1),s+=1}return c<=0?l.apply(this,o):n(c,e(t,o,l))}}},34793:(e,t,a)=>{var n=a(20219),r=a(69082);e.exports=function(e,t,a){return function(){if(0===arguments.length)return a();var l=Array.prototype.slice.call(arguments,0),o=l.pop();if(!n(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,l);i+=1}if(r(o)){var c=t.apply(null,l);return c(o)}}return a.apply(this,arguments)}}},74023:(e,t,a)=>{var n=a(54118),r=a(82976),l=a(4931),o=a(87684),i=a(21361),c=a(90368),s=a(36433);function u(e,t,a,l){var o=n(e),i=n(t);function c(e,t){return d(e,t,a.slice(),l.slice())}return!r((function(e,t){return!r(c,t,e)}),i,o)}function d(e,t,a,n){if(i(e,t))return!0;var r=s(e);if(r!==s(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(r){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===l(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!i(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!i(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var m=a.length-1;m>=0;){if(a[m]===e)return n[m]===t;m-=1}switch(r){case"Map":return e.size===t.size&&u(e.entries(),t.entries(),a.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&u(e.values(),t.values(),a.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var p=c(e);if(p.length!==c(t).length)return!1;var f=a.concat([e]),g=n.concat([t]);for(m=p.length-1;m>=0;){var E=p[m];if(!o(E,t)||!d(t[E],e[E],f,g))return!1;m-=1}return!0}e.exports=d},34877:e=>{e.exports=function(e,t){for(var a=0,n=t.length,r=[];a<n;)e(t[a])&&(r[r.length]=t[a]),a+=1;return r}},4931:e=>{e.exports=function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}},87684:e=>{e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}},87243:(e,t,a)=>{var n=a(96069);e.exports=function(e,t){return n(t,e,0)>=0}},82976:e=>{e.exports=function(e,t,a){for(var n=0,r=a.length;n<r;){if(e(t,a[n]))return!0;n+=1}return!1}},96069:(e,t,a)=>{var n=a(51481);e.exports=function(e,t,a){var r,l;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;a<e.length;){if(0===(l=e[a])&&1/l===r)return a;a+=1}return-1}if(t!=t){for(;a<e.length;){if("number"==typeof(l=e[a])&&l!=l)return a;a+=1}return-1}return e.indexOf(t,a);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,a);case"object":if(null===t)return e.indexOf(t,a)}for(;a<e.length;){if(n(e[a],t))return a;a+=1}return-1}},97587:(e,t,a)=>{var n=a(87684),r=Object.prototype.toString,l=function(){return"[object Arguments]"===r.call(arguments)?function(e){return"[object Arguments]"===r.call(e)}:function(e){return n("callee",e)}}();e.exports=l},20219:e=>{e.exports=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)}},3219:(e,t,a)=>{var n=a(76224),r=a(20219),l=a(20190),o=n((function(e){return!!r(e)||!!e&&"object"==typeof e&&!l(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));e.exports=o},8291:e=>{e.exports=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},36464:e=>{e.exports=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}},20190:e=>{e.exports=function(e){return"[object String]"===Object.prototype.toString.call(e)}},69082:e=>{e.exports=function(e){return null!=e&&"function"==typeof e["@@transducer/step"]}},21361:e=>{e.exports="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},39488:(e,t,a)=>{var n=a(3219),r=a(39874),l=a(63195);function o(e,t,a){for(var n=a.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=a.next()}return e["@@transducer/result"](t)}function i(e,t,a,n){return e["@@transducer/result"](a[n](l(e["@@transducer/step"],e),t))}var c="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";e.exports=function(e,t,a){if("function"==typeof e&&(e=r(e)),n(a))return function(e,t,a){for(var n=0,r=a.length;n<r;){if((t=e["@@transducer/step"](t,a[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(e,t,a);if("function"==typeof a["fantasy-land/reduce"])return i(e,t,a,"fantasy-land/reduce");if(null!=a[c])return o(e,t,a[c]());if("function"==typeof a.next)return o(e,t,a);if("function"==typeof a.reduce)return i(e,t,a,"reduce");throw new TypeError("reduce: list must be array or iterable")}},22157:e=>{e.exports=function(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}},93714:e=>{e.exports={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}}},11383:(e,t,a)=>{var n=a(79002),r=a(93714),l=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=r.init,e.prototype["@@transducer/result"]=r.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),o=n((function(e,t){return new l(e,t)}));e.exports=o},47855:(e,t,a)=>{var n=a(79002),r=a(22157),l=a(93714),o=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=l.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=r(this.xf["@@transducer/step"](e,t))),e},e}(),i=n((function(e,t){return new o(e,t)}));e.exports=i},39874:e=>{var t=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();e.exports=function(e){return new t(e)}},90368:(e,t,a)=>{var n=a(76224),r=a(87684),l=a(97587),o=!{toString:null}.propertyIsEnumerable("toString"),i=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],c=function(){"use strict";return arguments.propertyIsEnumerable("length")}(),s=function(e,t){for(var a=0;a<e.length;){if(e[a]===t)return!0;a+=1}return!1},u="function"!=typeof Object.keys||c?n((function(e){if(Object(e)!==e)return[];var t,a,n=[],u=c&&l(e);for(t in e)!r(t,e)||u&&"length"===t||(n[n.length]=t);if(o)for(a=i.length-1;a>=0;)r(t=i[a],e)&&!s(n,t)&&(n[n.length]=t),a-=1;return n})):n((function(e){return Object(e)!==e?[]:Object.keys(e)}));e.exports=u},18371:(e,t,a)=>{var n=a(16370),r=a(51481),l=n((function(e,t,a){return r(t,a[e])}));e.exports=l},63266:(e,t,a)=>{var n=a(48770),r=a(79002),l=a(51383),o=r((function(e,t){return l(n(e),t)}));e.exports=o},81753:(e,t,a)=>{var n=a(73542),r=a(16370)(n("slice",(function(e,t,a){return Array.prototype.slice.call(a,e,t)})));e.exports=r},59241:(e,t,a)=>{var n=a(79002),r=a(81753),l=n((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var a=[],n=0;n<t.length;)a.push(r(n,n+=e,t));return a}));e.exports=l},32250:(e,t,a)=>{var n=a(79002)((function(e,t){var a,n=Number(t),r=0;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(a=new Array(n);r<n;)a[r]=e(r),r+=1;return a}));e.exports=n},36433:(e,t,a)=>{var n=a(76224)((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));e.exports=n},76290:(e,t,a)=>{var n=a(87243),r=a(79002),l=a(9134),o=a(63266),i=r((function(e,t){return o(l(n)(e),t)}));e.exports=i},67287:(e,t,a)=>{e.exports=function t(n){"use strict";var r=a(27418),l=a(67294),o=a(60373);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;c.hasOwnProperty("ReactCurrentDispatcher")||(c.ReactCurrentDispatcher={current:null}),c.hasOwnProperty("ReactCurrentBatchConfig")||(c.ReactCurrentBatchConfig={suspense:null});var s="function"==typeof Symbol&&Symbol.for,u=s?Symbol.for("react.element"):60103,d=s?Symbol.for("react.portal"):60106,m=s?Symbol.for("react.fragment"):60107,p=s?Symbol.for("react.strict_mode"):60108,f=s?Symbol.for("react.profiler"):60114,g=s?Symbol.for("react.provider"):60109,E=s?Symbol.for("react.context"):60110,h=s?Symbol.for("react.concurrent_mode"):60111,b=s?Symbol.for("react.forward_ref"):60112,v=s?Symbol.for("react.suspense"):60113,F=s?Symbol.for("react.suspense_list"):60120,S=s?Symbol.for("react.memo"):60115,y=s?Symbol.for("react.lazy"):60116;s&&Symbol.for("react.fundamental"),s&&Symbol.for("react.responder"),s&&Symbol.for("react.scope");var C="function"==typeof Symbol&&Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}function k(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case d:return"Portal";case f:return"Profiler";case p:return"StrictMode";case v:return"Suspense";case F:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return"Context.Consumer";case g:return"Context.Provider";case b:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case S:return k(e.type);case y:if(e=1===e._status?e._result:null)return k(e)}return null}function w(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function T(e){if(w(e)!==e)throw Error(i(188))}function x(e){var t=e.alternate;if(!t){if(null===(t=w(e)))throw Error(i(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(n=r.return)){a=n;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===a)return T(r),e;if(l===n)return T(r),t;l=l.sibling}throw Error(i(188))}if(a.return!==n.return)a=r,n=l;else{for(var o=!1,c=r.child;c;){if(c===a){o=!0,a=r,n=l;break}if(c===n){o=!0,n=r,a=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===a){o=!0,a=l,n=r;break}if(c===n){o=!0,n=l,a=r;break}c=c.sibling}if(!o)throw Error(i(189))}}if(a.alternate!==n)throw Error(i(190))}if(3!==a.tag)throw Error(i(188));return a.stateNode.current===a?e:t}function I(e){if(!(e=x(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var P=n.getPublicInstance,O=n.getRootHostContext,N=n.getChildHostContext,A=n.prepareForCommit,L=n.resetAfterCommit,R=n.createInstance,D=n.appendInitialChild,_=n.finalizeInitialChildren,B=n.prepareUpdate,W=n.shouldSetTextContent,U=n.shouldDeprioritizeSubtree,z=n.createTextInstance,j=n.setTimeout,H=n.clearTimeout,V=n.noTimeout,G=n.isPrimaryRenderer,$=n.supportsMutation,K=n.supportsPersistence,X=n.supportsHydration,Y=n.appendChild,q=n.appendChildToContainer,Q=n.commitTextUpdate,J=n.commitMount,Z=n.commitUpdate,ee=n.insertBefore,te=n.insertInContainerBefore,ae=n.removeChild,ne=n.removeChildFromContainer,re=n.resetTextContent,le=n.hideInstance,oe=n.hideTextInstance,ie=n.unhideInstance,ce=n.unhideTextInstance,se=n.cloneInstance,ue=n.createContainerChildSet,de=n.appendChildToContainerChildSet,me=n.finalizeContainerChildren,pe=n.replaceContainerChildren,fe=n.cloneHiddenInstance,ge=n.cloneHiddenTextInstance,Ee=n.canHydrateInstance,he=n.canHydrateTextInstance,be=n.isSuspenseInstancePending,ve=n.isSuspenseInstanceFallback,Fe=n.getNextHydratableSibling,Se=n.getFirstHydratableChild,ye=n.hydrateInstance,Ce=n.hydrateTextInstance,Me=n.getNextHydratableInstanceAfterSuspenseInstance,ke=n.commitHydratedContainer,we=n.commitHydratedSuspenseInstance,Te=/^(.*)[\\\/]/;function xe(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var a="";break e;default:var n=e._debugOwner,r=e._debugSource,l=k(e.type);a=null,n&&(a=k(n.type)),n=l,l="",r?l=" (at "+r.fileName.replace(Te,"")+":"+r.lineNumber+")":a&&(l=" (created by "+a+")"),a="\n    in "+(n||"Unknown")+l}t+=a,e=e.return}while(e);return t}new Set;var Ie=[],Pe=-1;function Oe(e){0>Pe||(e.current=Ie[Pe],Ie[Pe]=null,Pe--)}function Ne(e,t){Pe++,Ie[Pe]=e.current,e.current=t}var Ae={},Le={current:Ae},Re={current:!1},De=Ae;function _e(e,t){var a=e.type.contextTypes;if(!a)return Ae;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,l={};for(r in a)l[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Be(e){return null!=e.childContextTypes}function We(e){Oe(Re),Oe(Le)}function Ue(e){Oe(Re),Oe(Le)}function ze(e,t,a){if(Le.current!==Ae)throw Error(i(168));Ne(Le,t),Ne(Re,a)}function je(e,t,a){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return a;for(var l in n=n.getChildContext())if(!(l in e))throw Error(i(108,k(t)||"Unknown",l));return r({},a,{},n)}function He(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Ae,De=Le.current,Ne(Le,t),Ne(Re,Re.current),!0}function Ve(e,t,a){var n=e.stateNode;if(!n)throw Error(i(169));a?(t=je(e,t,De),n.__reactInternalMemoizedMergedChildContext=t,Oe(Re),Oe(Le),Ne(Le,t)):Oe(Re),Ne(Re,a)}var Ge=o.unstable_runWithPriority,$e=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,qe=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,Ze=o.unstable_UserBlockingPriority,et=o.unstable_NormalPriority,tt=o.unstable_LowPriority,at=o.unstable_IdlePriority,nt={},rt=void 0!==Ye?Ye:function(){},lt=null,ot=null,it=!1,ct=qe(),st=1e4>ct?qe:function(){return qe()-ct};function ut(){switch(Qe()){case Je:return 99;case Ze:return 98;case et:return 97;case tt:return 96;case at:return 95;default:throw Error(i(332))}}function dt(e){switch(e){case 99:return Je;case 98:return Ze;case 97:return et;case 96:return tt;case 95:return at;default:throw Error(i(332))}}function mt(e,t){return e=dt(e),Ge(e,t)}function pt(e,t,a){return e=dt(e),$e(e,t,a)}function ft(e){return null===lt?(lt=[e],ot=$e(Je,Et)):lt.push(e),nt}function gt(){if(null!==ot){var e=ot;ot=null,Ke(e)}Et()}function Et(){if(!it&&null!==lt){it=!0;var e=0;try{var t=lt;mt(99,(function(){for(;e<t.length;e++){var a=t[e];do{a=a(!0)}while(null!==a)}})),lt=null}catch(t){throw null!==lt&&(lt=lt.slice(e+1)),$e(Je,gt),t}finally{it=!1}}}var ht=3;function bt(e,t,a){return 1073741821-(1+((1073741821-e+t/10)/(a/=10)|0))*a}var vt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ft=Object.prototype.hasOwnProperty;function St(e,t){if(vt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++)if(!Ft.call(t,a[n])||!vt(e[a[n]],t[a[n]]))return!1;return!0}function yt(e,t){if(e&&e.defaultProps)for(var a in t=r({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}var Ct={current:null},Mt=null,kt=null,wt=null;function Tt(){wt=kt=Mt=null}function xt(e,t){var a=e.type._context;G?(Ne(Ct,a._currentValue),a._currentValue=t):(Ne(Ct,a._currentValue2),a._currentValue2=t)}function It(e){var t=Ct.current;Oe(Ct),e=e.type._context,G?e._currentValue=t:e._currentValue2=t}function Pt(e,t){for(;null!==e;){var a=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==a&&a.childExpirationTime<t&&(a.childExpirationTime=t);else{if(!(null!==a&&a.childExpirationTime<t))break;a.childExpirationTime=t}e=e.return}}function Ot(e,t){Mt=e,wt=kt=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(mn=!0),e.firstContext=null)}function Nt(e,t){if(wt!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(wt=e,t=1073741823),t={context:e,observedBits:t,next:null},null===kt){if(null===Mt)throw Error(i(308));kt=t,Mt.dependencies={expirationTime:0,firstContext:t,responders:null}}else kt=kt.next=t;return G?e._currentValue:e._currentValue2}var At=!1;function Lt(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Rt(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Dt(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function _t(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Bt(e,t){var a=e.alternate;if(null===a){var n=e.updateQueue,r=null;null===n&&(n=e.updateQueue=Lt(e.memoizedState))}else n=e.updateQueue,r=a.updateQueue,null===n?null===r?(n=e.updateQueue=Lt(e.memoizedState),r=a.updateQueue=Lt(a.memoizedState)):n=e.updateQueue=Rt(r):null===r&&(r=a.updateQueue=Rt(n));null===r||n===r?_t(n,t):null===n.lastUpdate||null===r.lastUpdate?(_t(n,t),_t(r,t)):(_t(n,t),r.lastUpdate=t)}function Wt(e,t){var a=e.updateQueue;null===(a=null===a?e.updateQueue=Lt(e.memoizedState):Ut(e,a)).lastCapturedUpdate?a.firstCapturedUpdate=a.lastCapturedUpdate=t:(a.lastCapturedUpdate.next=t,a.lastCapturedUpdate=t)}function Ut(e,t){var a=e.alternate;return null!==a&&t===a.updateQueue&&(t=e.updateQueue=Rt(t)),t}function zt(e,t,a,n,l,o){switch(a.tag){case 1:return"function"==typeof(e=a.payload)?e.call(o,n,l):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(l="function"==typeof(e=a.payload)?e.call(o,n,l):e))break;return r({},n,l);case 2:At=!0}return n}function jt(e,t,a,n,r){At=!1;for(var l=(t=Ut(e,t)).baseState,o=null,i=0,c=t.firstUpdate,s=l;null!==c;){var u=c.expirationTime;u<r?(null===o&&(o=c,l=s),i<u&&(i=u)):(Wr(u,c.suspenseConfig),s=zt(e,0,c,s,a,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<r?(null===u&&(u=c,null===o&&(l=s)),i<d&&(i=d)):(s=zt(e,0,c,s,a,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===o&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===u&&(l=s),t.baseState=l,t.firstUpdate=o,t.firstCapturedUpdate=u,Ur(i),e.expirationTime=i,e.memoizedState=s}function Ht(e,t,a){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Vt(t.firstEffect,a),t.firstEffect=t.lastEffect=null,Vt(t.firstCapturedEffect,a),t.firstCapturedEffect=t.lastCapturedEffect=null}function Vt(e,t){for(;null!==e;){var a=e.callback;if(null!==a){e.callback=null;var n=t;if("function"!=typeof a)throw Error(i(191,a));a.call(n)}e=e.nextEffect}}var Gt=c.ReactCurrentBatchConfig,$t=(new l.Component).refs;function Kt(e,t,a,n){a=null==(a=a(n,t=e.memoizedState))?t:r({},t,a),e.memoizedState=a,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=a)}var Xt={isMounted:function(e){return!!(e=e._reactInternalFiber)&&w(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternalFiber;var n=Tr(),r=Gt.suspense;(r=Dt(n=xr(n,e,r),r)).payload=t,null!=a&&(r.callback=a),Bt(e,r),Ir(e,n)},enqueueReplaceState:function(e,t,a){e=e._reactInternalFiber;var n=Tr(),r=Gt.suspense;(r=Dt(n=xr(n,e,r),r)).tag=1,r.payload=t,null!=a&&(r.callback=a),Bt(e,r),Ir(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var a=Tr(),n=Gt.suspense;(n=Dt(a=xr(a,e,n),n)).tag=2,null!=t&&(n.callback=t),Bt(e,n),Ir(e,a)}};function Yt(e,t,a,n,r,l,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,l,o):!(t.prototype&&t.prototype.isPureReactComponent&&St(a,n)&&St(r,l))}function qt(e,t,a){var n=!1,r=Ae,l=t.contextType;return"object"==typeof l&&null!==l?l=Nt(l):(r=Be(t)?De:Le.current,l=(n=null!=(n=t.contextTypes))?_e(e,r):Ae),t=new t(a,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Xt,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=l),t}function Qt(e,t,a,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Xt.enqueueReplaceState(t,t.state,null)}function Jt(e,t,a,n){var r=e.stateNode;r.props=a,r.state=e.memoizedState,r.refs=$t;var l=t.contextType;"object"==typeof l&&null!==l?r.context=Nt(l):(l=Be(t)?De:Le.current,r.context=_e(e,l)),null!==(l=e.updateQueue)&&(jt(e,l,a,r,n),r.state=e.memoizedState),"function"==typeof(l=t.getDerivedStateFromProps)&&(Kt(e,t,l,a),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Xt.enqueueReplaceState(r,r.state,null),null!==(l=e.updateQueue)&&(jt(e,l,a,r,n),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var Zt=Array.isArray;function ea(e,t,a){if(null!==(e=a.ref)&&"function"!=typeof e&&"object"!=typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(i(309));var n=a.stateNode}if(!n)throw Error(i(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=n.refs;t===$t&&(t=n.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!=typeof e)throw Error(i(284));if(!a._owner)throw Error(i(290,e))}return e}function ta(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function aa(e){function t(t,a){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=a,t.lastEffect=a):t.firstEffect=t.lastEffect=a,a.nextEffect=null,a.effectTag=8}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,a){return(e=ol(e,t)).index=0,e.sibling=null,e}function l(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.effectTag=2,a):n:(t.effectTag=2,a):a}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,a,n){return null===t||6!==t.tag?((t=sl(a,e.mode,n)).return=e,t):((t=r(t,a)).return=e,t)}function s(e,t,a,n){return null!==t&&t.elementType===a.type?((n=r(t,a.props)).ref=ea(e,t,a),n.return=e,n):((n=il(a.type,a.key,a.props,null,e.mode,n)).ref=ea(e,t,a),n.return=e,n)}function p(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=ul(a,e.mode,n)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function f(e,t,a,n,l){return null===t||7!==t.tag?((t=cl(a,e.mode,n,l)).return=e,t):((t=r(t,a)).return=e,t)}function g(e,t,a){if("string"==typeof t||"number"==typeof t)return(t=sl(""+t,e.mode,a)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case u:return(a=il(t.type,t.key,t.props,null,e.mode,a)).ref=ea(e,null,t),a.return=e,a;case d:return(t=ul(t,e.mode,a)).return=e,t}if(Zt(t)||M(t))return(t=cl(t,e.mode,a,null)).return=e,t;ta(e,t)}return null}function E(e,t,a,n){var r=null!==t?t.key:null;if("string"==typeof a||"number"==typeof a)return null!==r?null:c(e,t,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case u:return a.key===r?a.type===m?f(e,t,a.props.children,n,r):s(e,t,a,n):null;case d:return a.key===r?p(e,t,a,n):null}if(Zt(a)||M(a))return null!==r?null:f(e,t,a,n,null);ta(e,a)}return null}function h(e,t,a,n,r){if("string"==typeof n||"number"==typeof n)return c(t,e=e.get(a)||null,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case u:return e=e.get(null===n.key?a:n.key)||null,n.type===m?f(t,e,n.props.children,r,n.key):s(t,e,n,r);case d:return p(t,e=e.get(null===n.key?a:n.key)||null,n,r)}if(Zt(n)||M(n))return f(t,e=e.get(a)||null,n,r,null);ta(t,n)}return null}function b(r,o,i,c){for(var s=null,u=null,d=o,m=o=0,p=null;null!==d&&m<i.length;m++){d.index>m?(p=d,d=null):p=d.sibling;var f=E(r,d,i[m],c);if(null===f){null===d&&(d=p);break}e&&d&&null===f.alternate&&t(r,d),o=l(f,o,m),null===u?s=f:u.sibling=f,u=f,d=p}if(m===i.length)return a(r,d),s;if(null===d){for(;m<i.length;m++)null!==(d=g(r,i[m],c))&&(o=l(d,o,m),null===u?s=d:u.sibling=d,u=d);return s}for(d=n(r,d);m<i.length;m++)null!==(p=h(d,r,m,i[m],c))&&(e&&null!==p.alternate&&d.delete(null===p.key?m:p.key),o=l(p,o,m),null===u?s=p:u.sibling=p,u=p);return e&&d.forEach((function(e){return t(r,e)})),s}function v(r,o,c,s){var u=M(c);if("function"!=typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=o,p=o=0,f=null,b=c.next();null!==m&&!b.done;p++,b=c.next()){m.index>p?(f=m,m=null):f=m.sibling;var v=E(r,m,b.value,s);if(null===v){null===m&&(m=f);break}e&&m&&null===v.alternate&&t(r,m),o=l(v,o,p),null===d?u=v:d.sibling=v,d=v,m=f}if(b.done)return a(r,m),u;if(null===m){for(;!b.done;p++,b=c.next())null!==(b=g(r,b.value,s))&&(o=l(b,o,p),null===d?u=b:d.sibling=b,d=b);return u}for(m=n(r,m);!b.done;p++,b=c.next())null!==(b=h(m,r,p,b.value,s))&&(e&&null!==b.alternate&&m.delete(null===b.key?p:b.key),o=l(b,o,p),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,n,l,c){var s="object"==typeof l&&null!==l&&l.type===m&&null===l.key;s&&(l=l.props.children);var p="object"==typeof l&&null!==l;if(p)switch(l.$$typeof){case u:e:{for(p=l.key,s=n;null!==s;){if(s.key===p){if(7===s.tag?l.type===m:s.elementType===l.type){a(e,s.sibling),(n=r(s,l.type===m?l.props.children:l.props)).ref=ea(e,s,l),n.return=e,e=n;break e}a(e,s);break}t(e,s),s=s.sibling}l.type===m?((n=cl(l.props.children,e.mode,c,l.key)).return=e,e=n):((c=il(l.type,l.key,l.props,null,e.mode,c)).ref=ea(e,n,l),c.return=e,e=c)}return o(e);case d:e:{for(s=l.key;null!==n;){if(n.key===s){if(4===n.tag&&n.stateNode.containerInfo===l.containerInfo&&n.stateNode.implementation===l.implementation){a(e,n.sibling),(n=r(n,l.children||[])).return=e,e=n;break e}a(e,n);break}t(e,n),n=n.sibling}(n=ul(l,e.mode,c)).return=e,e=n}return o(e)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==n&&6===n.tag?(a(e,n.sibling),(n=r(n,l)).return=e,e=n):(a(e,n),(n=sl(l,e.mode,c)).return=e,e=n),o(e);if(Zt(l))return b(e,n,l,c);if(M(l))return v(e,n,l,c);if(p&&ta(e,l),void 0===l&&!s)switch(e.tag){case 1:case 0:throw e=e.type,Error(i(152,e.displayName||e.name||"Component"))}return a(e,n)}}var na=aa(!0),ra=aa(!1),la={},oa={current:la},ia={current:la},ca={current:la};function sa(e){if(e===la)throw Error(i(174));return e}function ua(e,t){Ne(ca,t),Ne(ia,e),Ne(oa,la),t=O(t),Oe(oa),Ne(oa,t)}function da(e){Oe(oa),Oe(ia),Oe(ca)}function ma(e){var t=sa(ca.current),a=sa(oa.current);a!==(t=N(a,e.type,t))&&(Ne(ia,e),Ne(oa,t))}function pa(e){ia.current===e&&(Oe(oa),Oe(ia))}var fa={current:0};function ga(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||be(a)||ve(a)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ea(e,t){return{responder:e,props:t}}var ha=c.ReactCurrentDispatcher,ba=c.ReactCurrentBatchConfig,va=0,Fa=null,Sa=null,ya=null,Ca=null,Ma=null,ka=null,wa=0,Ta=null,xa=0,Ia=!1,Pa=null,Oa=0;function Na(){throw Error(i(321))}function Aa(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!vt(e[a],t[a]))return!1;return!0}function La(e,t,a,n,r,l){if(va=l,Fa=t,ya=null!==e?e.memoizedState:null,ha.current=null===ya?Za:en,t=a(n,r),Ia){do{Ia=!1,Oa+=1,ya=null!==e?e.memoizedState:null,ka=Ca,Ta=Ma=Sa=null,ha.current=en,t=a(n,r)}while(Ia);Pa=null,Oa=0}if(ha.current=Ja,(e=Fa).memoizedState=Ca,e.expirationTime=wa,e.updateQueue=Ta,e.effectTag|=xa,e=null!==Sa&&null!==Sa.next,va=0,ka=Ma=Ca=ya=Sa=Fa=null,wa=0,Ta=null,xa=0,e)throw Error(i(300));return t}function Ra(){ha.current=Ja,va=0,ka=Ma=Ca=ya=Sa=Fa=null,wa=0,Ta=null,xa=0,Ia=!1,Pa=null,Oa=0}function Da(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ma?Ca=Ma=e:Ma=Ma.next=e,Ma}function _a(){if(null!==ka)ka=(Ma=ka).next,ya=null!==(Sa=ya)?Sa.next:null;else{if(null===ya)throw Error(i(310));var e={memoizedState:(Sa=ya).memoizedState,baseState:Sa.baseState,queue:Sa.queue,baseUpdate:Sa.baseUpdate,next:null};Ma=null===Ma?Ca=e:Ma.next=e,ya=Sa.next}return Ma}function Ba(e,t){return"function"==typeof t?t(e):t}function Wa(e){var t=_a(),a=t.queue;if(null===a)throw Error(i(311));if(a.lastRenderedReducer=e,0<Oa){var n=a.dispatch;if(null!==Pa){var r=Pa.get(a);if(void 0!==r){Pa.delete(a);var l=t.memoizedState;do{l=e(l,r.action),r=r.next}while(null!==r);return vt(l,t.memoizedState)||(mn=!0),t.memoizedState=l,t.baseUpdate===a.last&&(t.baseState=l),a.lastRenderedState=l,[l,n]}}return[t.memoizedState,n]}n=a.last;var o=t.baseUpdate;if(l=t.baseState,null!==o?(null!==n&&(n.next=null),n=o.next):n=null!==n?n.next:null,null!==n){var c=r=null,s=n,u=!1;do{var d=s.expirationTime;d<va?(u||(u=!0,c=o,r=l),d>wa&&Ur(wa=d)):(Wr(d,s.suspenseConfig),l=s.eagerReducer===e?s.eagerState:e(l,s.action)),o=s,s=s.next}while(null!==s&&s!==n);u||(c=o,r=l),vt(l,t.memoizedState)||(mn=!0),t.memoizedState=l,t.baseUpdate=c,t.baseState=r,a.lastRenderedState=l}return[t.memoizedState,a.dispatch]}function Ua(e){var t=Da();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:e}).dispatch=Qa.bind(null,Fa,e),[t.memoizedState,e]}function za(e){return Wa(Ba)}function ja(e,t,a,n){return e={tag:e,create:t,destroy:a,deps:n,next:null},null===Ta?(Ta={lastEffect:null}).lastEffect=e.next=e:null===(t=Ta.lastEffect)?Ta.lastEffect=e.next=e:(a=t.next,t.next=e,e.next=a,Ta.lastEffect=e),e}function Ha(e,t,a,n){var r=Da();xa|=e,r.memoizedState=ja(t,a,void 0,void 0===n?null:n)}function Va(e,t,a,n){var r=_a();n=void 0===n?null:n;var l=void 0;if(null!==Sa){var o=Sa.memoizedState;if(l=o.destroy,null!==n&&Aa(n,o.deps))return void ja(0,a,l,n)}xa|=e,r.memoizedState=ja(t,a,l,n)}function Ga(e,t){return Ha(516,192,e,t)}function $a(e,t){return Va(516,192,e,t)}function Ka(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xa(){}function Ya(e,t){return Da().memoizedState=[e,void 0===t?null:t],e}function qa(e,t){var a=_a();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&Aa(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Qa(e,t,a){if(!(25>Oa))throw Error(i(301));var n=e.alternate;if(e===Fa||null!==n&&n===Fa)if(Ia=!0,e={expirationTime:va,suspenseConfig:null,action:a,eagerReducer:null,eagerState:null,next:null},null===Pa&&(Pa=new Map),void 0===(a=Pa.get(t)))Pa.set(t,e);else{for(t=a;null!==t.next;)t=t.next;t.next=e}else{var r=Tr(),l=Gt.suspense;l={expirationTime:r=xr(r,e,l),suspenseConfig:l,action:a,eagerReducer:null,eagerState:null,next:null};var o=t.last;if(null===o)l.next=l;else{var c=o.next;null!==c&&(l.next=c),o.next=l}if(t.last=l,0===e.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=n(s,a);if(l.eagerReducer=n,l.eagerState=u,vt(u,s))return}catch(e){}Ir(e,r)}}var Ja={readContext:Nt,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useLayoutEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useResponder:Na,useDeferredValue:Na,useTransition:Na},Za={readContext:Nt,useCallback:Ya,useContext:Nt,useEffect:Ga,useImperativeHandle:function(e,t,a){return a=null!=a?a.concat([e]):null,Ha(4,36,Ka.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ha(4,36,e,t)},useMemo:function(e,t){var a=Da();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var n=Da();return t=void 0!==a?a(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Qa.bind(null,Fa,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Da().memoizedState=e},useState:Ua,useDebugValue:Xa,useResponder:Ea,useDeferredValue:function(e,t){var a=Ua(e),n=a[0],r=a[1];return Ga((function(){o.unstable_next((function(){var a=ba.suspense;ba.suspense=void 0===t?null:t;try{r(e)}finally{ba.suspense=a}}))}),[e,t]),n},useTransition:function(e){var t=Ua(!1),a=t[0],n=t[1];return[Ya((function(t){n(!0),o.unstable_next((function(){var a=ba.suspense;ba.suspense=void 0===e?null:e;try{n(!1),t()}finally{ba.suspense=a}}))}),[e,a]),a]}},en={readContext:Nt,useCallback:qa,useContext:Nt,useEffect:$a,useImperativeHandle:function(e,t,a){return a=null!=a?a.concat([e]):null,Va(4,36,Ka.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Va(4,36,e,t)},useMemo:function(e,t){var a=_a();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&Aa(t,n[1])?n[0]:(e=e(),a.memoizedState=[e,t],e)},useReducer:Wa,useRef:function(){return _a().memoizedState},useState:za,useDebugValue:Xa,useResponder:Ea,useDeferredValue:function(e,t){var a=za(),n=a[0],r=a[1];return $a((function(){o.unstable_next((function(){var a=ba.suspense;ba.suspense=void 0===t?null:t;try{r(e)}finally{ba.suspense=a}}))}),[e,t]),n},useTransition:function(e){var t=za(),a=t[0],n=t[1];return[qa((function(t){n(!0),o.unstable_next((function(){var a=ba.suspense;ba.suspense=void 0===e?null:e;try{n(!1),t()}finally{ba.suspense=a}}))}),[e,a]),a]}},tn=null,an=null,nn=!1;function rn(e,t){var a=rl(5,null,null,0);a.elementType="DELETED",a.type="DELETED",a.stateNode=t,a.return=e,a.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=a,e.lastEffect=a):e.firstEffect=e.lastEffect=a}function ln(e,t){switch(e.tag){case 5:return null!==(t=Ee(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=he(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function on(e){if(nn){var t=an;if(t){var a=t;if(!ln(e,t)){if(!(t=Fe(a))||!ln(e,t))return e.effectTag=-1025&e.effectTag|2,nn=!1,void(tn=e);rn(tn,a)}tn=e,an=Se(t)}else e.effectTag=-1025&e.effectTag|2,nn=!1,tn=e}}function cn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;tn=e}function sn(e){if(!X||e!==tn)return!1;if(!nn)return cn(e),nn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!W(t,e.memoizedProps))for(t=an;t;)rn(e,t),t=Fe(t);if(cn(e),13===e.tag){if(!X)throw Error(i(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));an=Me(e)}else an=tn?Fe(e.stateNode):null;return!0}function un(){X&&(an=tn=null,nn=!1)}var dn=c.ReactCurrentOwner,mn=!1;function pn(e,t,a,n){t.child=null===e?ra(t,null,a,n):na(t,e.child,a,n)}function fn(e,t,a,n,r){a=a.render;var l=t.ref;return Ot(t,r),n=La(e,t,a,n,l,r),null===e||mn?(t.effectTag|=1,pn(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),On(e,t,r))}function gn(e,t,a,n,r,l){if(null===e){var o=a.type;return"function"!=typeof o||ll(o)||void 0!==o.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=il(a.type,null,n,null,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,En(e,t,o,n,r,l))}return o=e.child,r<l&&(r=o.memoizedProps,(a=null!==(a=a.compare)?a:St)(r,n)&&e.ref===t.ref)?On(e,t,l):(t.effectTag|=1,(e=ol(o,n)).ref=t.ref,e.return=t,t.child=e)}function En(e,t,a,n,r,l){return null!==e&&St(e.memoizedProps,n)&&e.ref===t.ref&&(mn=!1,r<l)?On(e,t,l):bn(e,t,a,n,l)}function hn(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.effectTag|=128)}function bn(e,t,a,n,r){var l=Be(a)?De:Le.current;return l=_e(t,l),Ot(t,r),a=La(e,t,a,n,l,r),null===e||mn?(t.effectTag|=1,pn(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),On(e,t,r))}function vn(e,t,a,n,r){if(Be(a)){var l=!0;He(t)}else l=!1;if(Ot(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),qt(t,a,n),Jt(t,a,n,r),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,s=a.contextType;s="object"==typeof s&&null!==s?Nt(s):_e(t,s=Be(a)?De:Le.current);var u=a.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==n||c!==s)&&Qt(t,o,n,s),At=!1;var m=t.memoizedState;c=o.state=m;var p=t.updateQueue;null!==p&&(jt(t,p,n,o,r),c=t.memoizedState),i!==n||m!==c||Re.current||At?("function"==typeof u&&(Kt(t,a,u,n),c=t.memoizedState),(i=At||Yt(t,a,i,n,m,c,s))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=s,n=i):("function"==typeof o.componentDidMount&&(t.effectTag|=4),n=!1)}else o=t.stateNode,i=t.memoizedProps,o.props=t.type===t.elementType?i:yt(t.type,i),c=o.context,s="object"==typeof(s=a.contextType)&&null!==s?Nt(s):_e(t,s=Be(a)?De:Le.current),(d="function"==typeof(u=a.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==n||c!==s)&&Qt(t,o,n,s),At=!1,c=t.memoizedState,m=o.state=c,null!==(p=t.updateQueue)&&(jt(t,p,n,o,r),m=t.memoizedState),i!==n||c!==m||Re.current||At?("function"==typeof u&&(Kt(t,a,u,n),m=t.memoizedState),(u=At||Yt(t,a,i,n,c,m,s))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,m,s),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,m,s)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=s,n=u):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),n=!1);return Fn(e,t,a,n,l,r)}function Fn(e,t,a,n,r,l){hn(e,t);var o=0!=(64&t.effectTag);if(!n&&!o)return r&&Ve(t,a,!1),On(e,t,l);n=t.stateNode,dn.current=t;var i=o&&"function"!=typeof a.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&o?(t.child=na(t,e.child,null,l),t.child=na(t,null,i,l)):pn(e,t,i,l),t.memoizedState=n.state,r&&Ve(t,a,!0),t.child}function Sn(e){var t=e.stateNode;t.pendingContext?ze(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ze(0,t.context,!1),ua(e,t.containerInfo)}var yn,Cn,Mn,kn,wn={dehydrated:null,retryTime:0};function Tn(e,t,a){var n,r=t.mode,l=t.pendingProps,o=fa.current,i=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&o)&&(null===e||null!==e.memoizedState)),n?(i=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(o|=1),Ne(fa,1&o),null===e){if(void 0!==l.fallback&&on(t),i){if(i=l.fallback,(l=cl(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(a=cl(i,r,a,null)).return=t,l.sibling=a,t.memoizedState=wn,t.child=l,a}return r=l.children,t.memoizedState=null,t.child=ra(t,null,r,a)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,i){if(l=l.fallback,(a=ol(e,e.pendingProps)).return=t,0==(2&t.mode)&&(i=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(a.child=i;null!==i;)i.return=a,i=i.sibling;return(r=ol(r,l,r.expirationTime)).return=t,a.sibling=r,a.childExpirationTime=0,t.memoizedState=wn,t.child=a,r}return a=na(t,e.child,l.children,a),t.memoizedState=null,t.child=a}if(e=e.child,i){if(i=l.fallback,(l=cl(null,r,0,null)).return=t,l.child=e,null!==e&&(e.return=l),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(a=cl(i,r,a,null)).return=t,l.sibling=a,a.effectTag|=2,l.childExpirationTime=0,t.memoizedState=wn,t.child=l,a}return t.memoizedState=null,t.child=na(t,e,l.children,a)}function xn(e,t){e.expirationTime<t&&(e.expirationTime=t);var a=e.alternate;null!==a&&a.expirationTime<t&&(a.expirationTime=t),Pt(e.return,t)}function In(e,t,a,n,r,l){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:n,tail:a,tailExpiration:0,tailMode:r,lastEffect:l}:(o.isBackwards=t,o.rendering=null,o.last=n,o.tail=a,o.tailExpiration=0,o.tailMode=r,o.lastEffect=l)}function Pn(e,t,a){var n=t.pendingProps,r=n.revealOrder,l=n.tail;if(pn(e,t,n.children,a),0!=(2&(n=fa.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&xn(e,a);else if(19===e.tag)xn(e,a);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(fa,n),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===ga(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),In(t,!1,r,a,l,t.lastEffect);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ga(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}In(t,!0,a,null,l,t.lastEffect);break;case"together":In(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function On(e,t,a){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&Ur(n),t.childExpirationTime<a)return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(a=ol(e=t.child,e.pendingProps,e.expirationTime),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=ol(e,e.pendingProps,e.expirationTime)).return=t;a.sibling=null}return t.child}function Nn(e){e.effectTag|=4}if($)yn=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)D(e,a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Cn=function(){},Mn=function(e,t,a,n,r){if((e=e.memoizedProps)!==n){var l=t.stateNode,o=sa(oa.current);a=B(l,a,e,n,r,o),(t.updateQueue=a)&&Nn(t)}},kn=function(e,t,a,n){a!==n&&Nn(t)};else if(K){yn=function(e,t,a,n){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;a&&n&&(l=fe(l,r.type,r.memoizedProps,r)),D(e,l)}else if(6===r.tag)l=r.stateNode,a&&n&&(l=ge(l,r.memoizedProps,r)),D(e,l);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.effectTag)&&(l=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,yn(e,o,!0,l)),null!==(l=o.sibling))){l.return=r,r=l;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};var An=function(e,t,a,n){for(var r=t.child;null!==r;){if(5===r.tag){var l=r.stateNode;a&&n&&(l=fe(l,r.type,r.memoizedProps,r)),de(e,l)}else if(6===r.tag)l=r.stateNode,a&&n&&(l=ge(l,r.memoizedProps,r)),de(e,l);else if(4!==r.tag){if(13===r.tag&&0!=(4&r.effectTag)&&(l=null!==r.memoizedState)){var o=r.child;if(null!==o&&(null!==o.child&&(o.child.return=o,An(e,o,!0,l)),null!==(l=o.sibling))){l.return=r,r=l;continue}}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cn=function(e){var t=e.stateNode;if(null!==e.firstEffect){var a=t.containerInfo,n=ue(a);An(n,e,!1,!1),t.pendingChildren=n,Nn(e),me(a,n)}},Mn=function(e,t,a,n,r){var l=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===n)t.stateNode=l;else{var i=t.stateNode,c=sa(oa.current),s=null;o!==n&&(s=B(i,a,o,n,r,c)),e&&null===s?t.stateNode=l:(l=se(l,s,a,o,n,t,e,i),_(l,a,n,r,c)&&Nn(t),t.stateNode=l,e?Nn(t):yn(l,t,!1,!1))}},kn=function(e,t,a,n){a!==n&&(e=sa(ca.current),a=sa(oa.current),t.stateNode=z(n,e,a,t),Nn(t))}}else Cn=function(){},Mn=function(){},kn=function(){};function Ln(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rn(e){switch(e.tag){case 1:Be(e.type)&&We();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(da(),Ue(),0!=(64&(t=e.effectTag)))throw Error(i(285));return e.effectTag=-4097&t|64,e;case 5:return pa(e),null;case 13:return Oe(fa),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Oe(fa),null;case 4:return da(),null;case 10:return It(e),null;default:return null}}function Dn(e,t){return{value:e,source:t,stack:xe(t)}}var _n="function"==typeof WeakSet?WeakSet:Set;function Bn(e,t){var a=t.source,n=t.stack;null===n&&null!==a&&(n=xe(a)),null!==a&&k(a.type),t=t.value,null!==e&&1===e.tag&&k(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Wn(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Jr(e,t)}else t.current=null}function Un(e,t){switch(t.tag){case 0:case 11:case 15:zn(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var a=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?a:yt(t.type,a),n),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}function zn(e,t,a){if(null!==(a=null!==(a=a.updateQueue)?a.lastEffect:null)){var n=a=a.next;do{if(0!=(n.tag&e)){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}0!=(n.tag&t)&&(r=n.create,n.destroy=r()),n=n.next}while(n!==a)}}function jn(e,t,a){switch("function"==typeof al&&al(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;mt(97<a?97:a,(function(){var e=n;do{var a=e.destroy;if(void 0!==a){var r=t;try{a()}catch(e){Jr(r,e)}}e=e.next}while(e!==n)}))}break;case 1:Wn(t),"function"==typeof(a=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Jr(e,t)}}(t,a);break;case 5:Wn(t);break;case 4:$?Kn(e,t,a):K&&function(e){if(K){e=e.stateNode.containerInfo;var t=ue(e);pe(e,t)}}(t)}}function Hn(e,t,a){for(var n=t;;)if(jn(e,n,a),null===n.child||$&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function Vn(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&Vn(t)}function Gn(e){return 5===e.tag||3===e.tag||4===e.tag}function $n(e){if($){e:{for(var t=e.return;null!==t;){if(Gn(t)){var a=t;break e}t=t.return}throw Error(i(160))}switch(t=a.stateNode,a.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(i(161))}16&a.effectTag&&(re(t),a.effectTag&=-17);e:t:for(a=e;;){for(;null===a.sibling;){if(null===a.return||Gn(a.return)){a=null;break e}a=a.return}for(a.sibling.return=a.return,a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(2&a.effectTag)continue t;if(null===a.child||4===a.tag)continue t;a.child.return=a,a=a.child}if(!(2&a.effectTag)){a=a.stateNode;break e}}for(var r=e;;){var l=5===r.tag||6===r.tag;if(l)l=l?r.stateNode:r.stateNode.instance,a?n?te(t,l,a):ee(t,l,a):n?q(t,l):Y(t,l);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}}function Kn(e,t,a){for(var n,r,l=t,o=!1;;){if(!o){o=l.return;e:for(;;){if(null===o)throw Error(i(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===l.tag||6===l.tag)Hn(e,l,a),r?ne(n,l.stateNode):ae(n,l.stateNode);else if(4===l.tag){if(null!==l.child){n=l.stateNode.containerInfo,r=!0,l.child.return=l,l=l.child;continue}}else if(jn(e,l,a),null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break;for(;null===l.sibling;){if(null===l.return||l.return===t)return;4===(l=l.return).tag&&(o=!1)}l.sibling.return=l.return,l=l.sibling}}function Xn(e,t){if($)switch(t.tag){case 0:case 11:case 14:case 15:zn(4,8,t);break;case 1:case 12:case 17:case 20:case 21:break;case 5:var a=t.stateNode;if(null!=a){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var r=t.type,l=t.updateQueue;t.updateQueue=null,null!==l&&Z(a,l,r,e,n,t)}break;case 6:if(null===t.stateNode)throw Error(i(162));a=t.memoizedProps,Q(t.stateNode,null!==e?e.memoizedProps:a,a);break;case 3:X&&(t=t.stateNode).hydrate&&(t.hydrate=!1,ke(t.containerInfo));break;case 13:Yn(t),qn(t);break;case 19:qn(t);break;default:throw Error(i(163))}else{switch(t.tag){case 0:case 11:case 14:case 15:return void zn(4,8,t);case 12:return;case 13:return Yn(t),void qn(t);case 19:return void qn(t);case 3:X&&(a=t.stateNode).hydrate&&(a.hydrate=!1,ke(a.containerInfo))}e:if(K)switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,pe(t.containerInfo,t.pendingChildren);break e;default:throw Error(i(163))}}}function Yn(e){var t=e;if(null===e.memoizedState)var a=!1;else a=!0,t=e.child,gr=st();if($&&null!==t)e:if(e=t,$)for(t=e;;){if(5===t.tag){var n=t.stateNode;a?le(n):ie(t.stateNode,t.memoizedProps)}else if(6===t.tag)n=t.stateNode,a?oe(n):ce(n,t.memoizedProps);else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(n=t.child.sibling).return=t,t=n;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}}function qn(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new _n),t.forEach((function(t){var n=el.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))}))}}var Qn="function"==typeof WeakMap?WeakMap:Map;function Jn(e,t,a){(a=Dt(a,null)).tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){hr||(hr=!0,br=n),Bn(e,t)},a}function Zn(e,t,a){(a=Dt(a,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var r=t.value;a.payload=function(){return Bn(e,t),n(r)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(a.callback=function(){"function"!=typeof n&&(null===vr?vr=new Set([this]):vr.add(this),Bn(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:null!==a?a:""})}),a}var er,tr=Math.ceil,ar=c.ReactCurrentDispatcher,nr=c.ReactCurrentOwner,rr=0,lr=null,or=null,ir=0,cr=0,sr=null,ur=1073741823,dr=1073741823,mr=null,pr=0,fr=!1,gr=0,Er=null,hr=!1,br=null,vr=null,Fr=!1,Sr=null,yr=90,Cr=null,Mr=0,kr=null,wr=0;function Tr(){return 0!=(48&rr)?1073741821-(st()/10|0):0!==wr?wr:wr=1073741821-(st()/10|0)}function xr(e,t,a){if(0==(2&(t=t.mode)))return 1073741823;var n=ut();if(0==(4&t))return 99===n?1073741823:1073741822;if(0!=(16&rr))return ir;if(null!==a)e=bt(e,0|a.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=bt(e,150,100);break;case 97:case 96:e=bt(e,5e3,250);break;case 95:e=2;break;default:throw Error(i(326))}return null!==lr&&e===ir&&--e,e}function Ir(e,t){if(50<Mr)throw Mr=0,kr=null,Error(i(185));if(null!==(e=Pr(e,t))){var a=ut();1073741823===t?0!=(8&rr)&&0==(48&rr)?Lr(e):(Nr(e),0===rr&&gt()):Nr(e),0==(4&rr)||98!==a&&99!==a||(null===Cr?Cr=new Map([[e,t]]):(void 0===(a=Cr.get(e))||a>t)&&Cr.set(e,t))}}function Pr(e,t){e.expirationTime<t&&(e.expirationTime=t);var a=e.alternate;null!==a&&a.expirationTime<t&&(a.expirationTime=t);var n=e.return,r=null;if(null===n&&3===e.tag)r=e.stateNode;else for(;null!==n;){if(a=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==a&&a.childExpirationTime<t&&(a.childExpirationTime=t),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return null!==r&&(lr===r&&(Ur(t),4===cr&&pl(r,ir)),fl(r,t)),r}function Or(e){var t=e.lastExpiredTime;return 0!==t?t:ml(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function Nr(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=ft(Lr.bind(null,e));else{var t=Or(e),a=e.callbackNode;if(0===t)null!==a&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=Tr();if(n=1073741823===t?99:1===t||2===t?95:0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==a){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=n)return;a!==nt&&Ke(a)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?ft(Lr.bind(null,e)):pt(n,Ar.bind(null,e),{timeout:10*(1073741821-t)-st()}),e.callbackNode=t}}}function Ar(e,t){if(wr=0,t)return gl(e,t=Tr()),Nr(e),null;var a=Or(e);if(0!==a){if(t=e.callbackNode,0!=(48&rr))throw Error(i(327));if(Yr(),e===lr&&a===ir||Dr(e,a),null!==or){var n=rr;rr|=16;for(var r=Br();;)try{jr();break}catch(t){_r(e,t)}if(Tt(),rr=n,ar.current=r,1===cr)throw t=sr,Dr(e,a),pl(e,a),Nr(e),t;if(null===or)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=a,n=cr,lr=null,n){case 0:case 1:throw Error(i(345));case 2:gl(e,2<a?2:a);break;case 3:if(pl(e,a),a===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gr(r)),1073741823===ur&&10<(r=gr+500-st())){if(fr){var l=e.lastPingedTime;if(0===l||l>=a){e.lastPingedTime=a,Dr(e,a);break}}if(0!==(l=Or(e))&&l!==a)break;if(0!==n&&n!==a){e.lastPingedTime=n;break}e.timeoutHandle=j($r.bind(null,e),r);break}$r(e);break;case 4:if(pl(e,a),a===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Gr(r)),fr&&(0===(r=e.lastPingedTime)||r>=a)){e.lastPingedTime=a,Dr(e,a);break}if(0!==(r=Or(e))&&r!==a)break;if(0!==n&&n!==a){e.lastPingedTime=n;break}if(1073741823!==dr?n=10*(1073741821-dr)-st():1073741823===ur?n=0:(n=10*(1073741821-ur)-5e3,0>(n=(r=st())-n)&&(n=0),(a=10*(1073741821-a)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tr(n/1960))-n)&&(n=a)),10<n){e.timeoutHandle=j($r.bind(null,e),n);break}$r(e);break;case 5:if(1073741823!==ur&&null!==mr){l=ur;var o=mr;if(0>=(n=0|o.busyMinDurationMs)?n=0:(r=0|o.busyDelayMs,n=(l=st()-(10*(1073741821-l)-(0|o.timeoutMs||5e3)))<=r?0:r+n-l),10<n){pl(e,a),e.timeoutHandle=j($r.bind(null,e),n);break}}$r(e);break;default:throw Error(i(329))}if(Nr(e),e.callbackNode===t)return Ar.bind(null,e)}}return null}function Lr(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)$r(e);else{if(0!=(48&rr))throw Error(i(327));if(Yr(),e===lr&&t===ir||Dr(e,t),null!==or){var a=rr;rr|=16;for(var n=Br();;)try{zr();break}catch(t){_r(e,t)}if(Tt(),rr=a,ar.current=n,1===cr)throw a=sr,Dr(e,t),pl(e,t),Nr(e),a;if(null!==or)throw Error(i(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,lr=null,$r(e),Nr(e)}}return null}function Rr(e,t){if(0!=(48&rr))throw Error(i(187));var a=rr;rr|=1;try{return mt(99,e.bind(null,t))}finally{rr=a,gt()}}function Dr(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var a=e.timeoutHandle;if(a!==V&&(e.timeoutHandle=V,H(a)),null!==or)for(a=or.return;null!==a;){var n=a;switch(n.tag){case 1:null!=n.type.childContextTypes&&We();break;case 3:da(),Ue();break;case 5:pa(n);break;case 4:da();break;case 13:case 19:Oe(fa);break;case 10:It(n)}a=a.return}lr=e,or=ol(e.current,null),ir=t,cr=0,sr=null,dr=ur=1073741823,mr=null,pr=0,fr=!1}function _r(e,t){for(;;){try{if(Tt(),Ra(),null===or||null===or.return)return cr=1,sr=t,null;e:{var a=e,n=or.return,r=or,l=t;if(t=ir,r.effectTag|=2048,r.firstEffect=r.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var o=l,i=0!=(1&fa.current),c=n;do{var s;if(s=13===c.tag){var u=c.memoizedState;if(null!==u)s=null!==u.dehydrated;else{var d=c.memoizedProps;s=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!i)}}if(s){var m=c.updateQueue;if(null===m){var p=new Set;p.add(o),c.updateQueue=p}else m.add(o);if(0==(2&c.mode)){if(c.effectTag|=64,r.effectTag&=-2981,1===r.tag)if(null===r.alternate)r.tag=17;else{var f=Dt(1073741823,null);f.tag=2,Bt(r,f)}r.expirationTime=1073741823;break e}l=void 0,r=t;var g=a.pingCache;if(null===g?(g=a.pingCache=new Qn,l=new Set,g.set(o,l)):void 0===(l=g.get(o))&&(l=new Set,g.set(o,l)),!l.has(r)){l.add(r);var E=Zr.bind(null,a,o,r);o.then(E,E)}c.effectTag|=4096,c.expirationTime=t;break e}c=c.return}while(null!==c);l=Error((k(r.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+xe(r))}5!==cr&&(cr=2),l=Dn(l,r),c=n;do{switch(c.tag){case 3:o=l,c.effectTag|=4096,c.expirationTime=t,Wt(c,Jn(c,o,t));break e;case 1:o=l;var h=c.type,b=c.stateNode;if(0==(64&c.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===vr||!vr.has(b)))){c.effectTag|=4096,c.expirationTime=t,Wt(c,Zn(c,o,t));break e}}c=c.return}while(null!==c)}or=Vr(or)}catch(e){t=e;continue}break}}function Br(){var e=ar.current;return ar.current=Ja,null===e?Ja:e}function Wr(e,t){e<ur&&2<e&&(ur=e),null!==t&&e<dr&&2<e&&(dr=e,mr=t)}function Ur(e){e>pr&&(pr=e)}function zr(){for(;null!==or;)or=Hr(or)}function jr(){for(;null!==or&&!Xe();)or=Hr(or)}function Hr(e){var t=er(e.alternate,e,ir);return e.memoizedProps=e.pendingProps,null===t&&(t=Vr(e)),nr.current=null,t}function Vr(e){or=e;do{var t=or.alternate;if(e=or.return,0==(2048&or.effectTag)){e:{var a=t,n=ir,r=(t=or).pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 20:case 21:break;case 1:case 17:Be(t.type)&&We();break;case 3:da(),Ue(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===a||null===a.child)&&sn(t)&&Nn(t),Cn(t);break;case 5:pa(t);var l=sa(ca.current);if(n=t.type,null!==a&&null!=t.stateNode)Mn(a,t,n,r,l),a.ref!==t.ref&&(t.effectTag|=128);else if(r){if(a=sa(oa.current),sn(t)){if(r=t,!X)throw Error(i(175));a=ye(r.stateNode,r.type,r.memoizedProps,l,a,r),r.updateQueue=a,(a=null!==a)&&Nn(t)}else{var o=R(n,r,l,a,t);yn(o,t,!1,!1),t.stateNode=o,_(o,n,r,l,a)&&Nn(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(i(166));break;case 6:if(a&&null!=t.stateNode)kn(a,t,a.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(a=sa(ca.current),l=sa(oa.current),sn(t)){if(a=t,!X)throw Error(i(176));(a=Ce(a.stateNode,a.memoizedProps,a))&&Nn(t)}else t.stateNode=z(r,a,l,t)}break;case 13:if(Oe(fa),r=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=n;break e}r=null!==r,l=!1,null===a?void 0!==t.memoizedProps.fallback&&sn(t):(l=null!==(n=a.memoizedState),r||null===n||null!==(n=a.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=n,n.nextEffect=o):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),r&&!l&&0!=(2&t.mode)&&(null===a&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&fa.current)?0===cr&&(cr=3):(0!==cr&&3!==cr||(cr=4),0!==pr&&null!==lr&&(pl(lr,ir),fl(lr,pr)))),K&&r&&(t.effectTag|=4),$&&(r||l)&&(t.effectTag|=4);break;case 4:da(),Cn(t);break;case 10:It(t);break;case 19:if(Oe(fa),null===(r=t.memoizedState))break;if(l=0!=(64&t.effectTag),null===(o=r.rendering)){if(l)Ln(r,!1);else if(0!==cr||null!==a&&0!=(64&a.effectTag))for(a=t.child;null!==a;){if(null!==(o=ga(a))){for(t.effectTag|=64,Ln(r,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,a=n,r=t.child;null!==r;)n=a,(l=r).effectTag&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(o=l.alternate)?(l.childExpirationTime=0,l.expirationTime=n,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null):(l.childExpirationTime=o.childExpirationTime,l.expirationTime=o.expirationTime,l.child=o.child,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,n=o.dependencies,l.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;Ne(fa,1&fa.current|2),t=t.child;break e}a=a.sibling}}else{if(!l)if(null!==(a=ga(o))){if(t.effectTag|=64,l=!0,null!==(a=a.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),Ln(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate){null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null);break}}else st()>r.tailExpiration&&1<n&&(t.effectTag|=64,l=!0,Ln(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(a=r.last)?a.sibling=o:t.child=o,r.last=o)}if(null!==r.tail){0===r.tailExpiration&&(r.tailExpiration=st()+500),a=r.tail,r.rendering=a,r.tail=a.sibling,r.lastEffect=t.lastEffect,a.sibling=null,r=fa.current,Ne(fa,r=l?1&r|2:1&r),t=a;break e}break;default:throw Error(i(156,t.tag))}t=null}if(a=or,1===ir||1!==a.childExpirationTime){for(r=0,l=a.child;null!==l;)(n=l.expirationTime)>r&&(r=n),(o=l.childExpirationTime)>r&&(r=o),l=l.sibling;a.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=or.firstEffect),null!==or.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=or.firstEffect),e.lastEffect=or.lastEffect),1<or.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=or:e.firstEffect=or,e.lastEffect=or))}else{if(null!==(t=Rn(or)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=or.sibling))return t;or=e}while(null!==or);return 0===cr&&(cr=5),null}function Gr(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function $r(e){var t=ut();return mt(99,Kr.bind(null,e,t)),null}function Kr(e,t){do{Yr()}while(null!==Sr);if(0!=(48&rr))throw Error(i(327));var a=e.finishedWork,n=e.finishedExpirationTime;if(null===a)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,a===e.current)throw Error(i(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=Gr(a);if(e.firstPendingTime=r,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===lr&&(or=lr=null,ir=0),1<a.effectTag?null!==a.lastEffect?(a.lastEffect.nextEffect=a,r=a.firstEffect):r=a:r=a.firstEffect,null!==r){var l=rr;rr|=32,nr.current=null,A(e.containerInfo),Er=r;do{try{Xr()}catch(e){if(null===Er)throw Error(i(330));Jr(Er,e),Er=Er.nextEffect}}while(null!==Er);Er=r;do{try{for(var o=e,c=t;null!==Er;){var s=Er.effectTag;if(16&s&&$&&re(Er.stateNode),128&s){var u=Er.alternate;if(null!==u){var d=u.ref;null!==d&&("function"==typeof d?d(null):d.current=null)}}switch(1038&s){case 2:$n(Er),Er.effectTag&=-3;break;case 6:$n(Er),Er.effectTag&=-3,Xn(Er.alternate,Er);break;case 1024:Er.effectTag&=-1025;break;case 1028:Er.effectTag&=-1025,Xn(Er.alternate,Er);break;case 4:Xn(Er.alternate,Er);break;case 8:var m=o,p=Er,f=c;$?Kn(m,p,f):Hn(m,p,f),Vn(p)}Er=Er.nextEffect}}catch(e){if(null===Er)throw Error(i(330));Jr(Er,e),Er=Er.nextEffect}}while(null!==Er);L(e.containerInfo),e.current=a,Er=r;do{try{for(s=n;null!==Er;){var g=Er.effectTag;if(36&g){var E=Er.alternate;switch(d=s,(u=Er).tag){case 0:case 11:case 15:zn(16,32,u);break;case 1:var h=u.stateNode;if(4&u.effectTag)if(null===E)h.componentDidMount();else{var b=u.elementType===u.type?E.memoizedProps:yt(u.type,E.memoizedProps);h.componentDidUpdate(b,E.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=u.updateQueue;null!==v&&Ht(0,v,h);break;case 3:var F=u.updateQueue;if(null!==F){if(o=null,null!==u.child)switch(u.child.tag){case 5:o=P(u.child.stateNode);break;case 1:o=u.child.stateNode}Ht(0,F,o)}break;case 5:var S=u.stateNode;null===E&&4&u.effectTag&&J(S,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 20:case 21:break;case 13:if(X&&null===u.memoizedState){var y=u.alternate;if(null!==y){var C=y.memoizedState;if(null!==C){var M=C.dehydrated;null!==M&&we(M)}}}break;default:throw Error(i(163))}}if(128&g){u=void 0;var k=Er.ref;if(null!==k){var w=Er.stateNode;u=5===Er.tag?P(w):w,"function"==typeof k?k(u):k.current=u}}Er=Er.nextEffect}}catch(e){if(null===Er)throw Error(i(330));Jr(Er,e),Er=Er.nextEffect}}while(null!==Er);Er=null,rt(),rr=l}else e.current=a;if(Fr)Fr=!1,Sr=e,yr=t;else for(Er=r;null!==Er;)t=Er.nextEffect,Er.nextEffect=null,Er=t;if(0===(t=e.firstPendingTime)&&(vr=null),1073741823===t?e===kr?Mr++:(Mr=0,kr=e):Mr=0,"function"==typeof tl&&tl(a.stateNode,n),Nr(e),hr)throw hr=!1,e=br,br=null,e;return 0!=(8&rr)||gt(),null}function Xr(){for(;null!==Er;){var e=Er.effectTag;0!=(256&e)&&Un(Er.alternate,Er),0==(512&e)||Fr||(Fr=!0,pt(97,(function(){return Yr(),null}))),Er=Er.nextEffect}}function Yr(){if(90!==yr){var e=97<yr?97:yr;return yr=90,mt(e,qr)}}function qr(){if(null===Sr)return!1;var e=Sr;if(Sr=null,0!=(48&rr))throw Error(i(331));var t=rr;for(rr|=32,e=e.current.firstEffect;null!==e;){try{var a=e;if(0!=(512&a.effectTag))switch(a.tag){case 0:case 11:case 15:zn(128,0,a),zn(0,64,a)}}catch(t){if(null===e)throw Error(i(330));Jr(e,t)}a=e.nextEffect,e.nextEffect=null,e=a}return rr=t,gt(),!0}function Qr(e,t,a){Bt(e,t=Jn(e,t=Dn(a,t),1073741823)),null!==(e=Pr(e,1073741823))&&Nr(e)}function Jr(e,t){if(3===e.tag)Qr(e,e,t);else for(var a=e.return;null!==a;){if(3===a.tag){Qr(a,e,t);break}if(1===a.tag){var n=a.stateNode;if("function"==typeof a.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===vr||!vr.has(n))){Bt(a,e=Zn(a,e=Dn(t,e),1073741823)),null!==(a=Pr(a,1073741823))&&Nr(a);break}}a=a.return}}function Zr(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),lr===e&&ir===a?4===cr||3===cr&&1073741823===ur&&st()-gr<500?Dr(e,ir):fr=!0:ml(e,a)&&(0!==(t=e.lastPingedTime)&&t<a||(e.lastPingedTime=a,e.finishedExpirationTime===a&&(e.finishedExpirationTime=0,e.finishedWork=null),Nr(e)))}function el(e,t){var a=e.stateNode;null!==a&&a.delete(t),0==(t=0)&&(t=xr(t=Tr(),e,null)),null!==(e=Pr(e,t))&&Nr(e)}er=function(e,t,a){var n=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||Re.current)mn=!0;else{if(n<a){switch(mn=!1,t.tag){case 3:Sn(t),un();break;case 5:if(ma(t),4&t.mode&&1!==a&&U(t.type,r))return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Be(t.type)&&He(t);break;case 4:ua(t,t.stateNode.containerInfo);break;case 10:xt(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=a?Tn(e,t,a):(Ne(fa,1&fa.current),null!==(t=On(e,t,a))?t.sibling:null);Ne(fa,1&fa.current);break;case 19:if(n=t.childExpirationTime>=a,0!=(64&e.effectTag)){if(n)return Pn(e,t,a);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),Ne(fa,fa.current),!n)return null}return On(e,t,a)}mn=!1}}else mn=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=_e(t,Le.current),Ot(t,a),r=La(null,t,n,e,r,a),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,Ra(),Be(n)){var l=!0;He(t)}else l=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var o=n.getDerivedStateFromProps;"function"==typeof o&&Kt(t,n,o,e),r.updater=Xt,t.stateNode=r,r._reactInternalFiber=t,Jt(t,n,e,a),t=Fn(null,t,n,!0,l,a)}else t.tag=0,pn(null,t,r,a),t=t.child;return t;case 16:if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,l=t.tag=function(e){if("function"==typeof e)return ll(e)?1:0;if(null!=e){if((e=e.$$typeof)===b)return 11;if(e===S)return 14}return 2}(r),e=yt(r,e),l){case 0:t=bn(null,t,r,e,a);break;case 1:t=vn(null,t,r,e,a);break;case 11:t=fn(null,t,r,e,a);break;case 14:t=gn(null,t,r,yt(r.type,e),n,a);break;default:throw Error(i(306,r,""))}return t;case 0:return n=t.type,r=t.pendingProps,bn(e,t,n,r=t.elementType===n?r:yt(n,r),a);case 1:return n=t.type,r=t.pendingProps,vn(e,t,n,r=t.elementType===n?r:yt(n,r),a);case 3:if(Sn(t),null===(n=t.updateQueue))throw Error(i(282));if(r=null!==(r=t.memoizedState)?r.element:null,jt(t,n,t.pendingProps,null,a),(n=t.memoizedState.element)===r)un(),t=On(e,t,a);else{if((r=t.stateNode.hydrate)&&(X?(an=Se(t.stateNode.containerInfo),tn=t,r=nn=!0):r=!1),r)for(a=ra(t,null,n,a),t.child=a;a;)a.effectTag=-3&a.effectTag|1024,a=a.sibling;else pn(e,t,n,a),un();t=t.child}return t;case 5:return ma(t),null===e&&on(t),n=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,o=r.children,W(n,r)?o=null:null!==l&&W(n,l)&&(t.effectTag|=16),hn(e,t),4&t.mode&&1!==a&&U(n,r)?(t.expirationTime=t.childExpirationTime=1,t=null):(pn(e,t,o,a),t=t.child),t;case 6:return null===e&&on(t),null;case 13:return Tn(e,t,a);case 4:return ua(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=na(t,null,n,a):pn(e,t,n,a),t.child;case 11:return n=t.type,r=t.pendingProps,fn(e,t,n,r=t.elementType===n?r:yt(n,r),a);case 7:return pn(e,t,t.pendingProps,a),t.child;case 8:case 12:return pn(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,o=t.memoizedProps,xt(t,l=r.value),null!==o){var c=o.value;if(0==(l=vt(c,l)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(c,l):1073741823))){if(o.children===r.children&&!Re.current){t=On(e,t,a);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var s=c.dependencies;if(null!==s){o=c.child;for(var u=s.firstContext;null!==u;){if(u.context===n&&0!=(u.observedBits&l)){1===c.tag&&((u=Dt(a,null)).tag=2,Bt(c,u)),c.expirationTime<a&&(c.expirationTime=a),null!==(u=c.alternate)&&u.expirationTime<a&&(u.expirationTime=a),Pt(c.return,a),s.expirationTime<a&&(s.expirationTime=a);break}u=u.next}}else o=10===c.tag&&c.type===t.type?null:c.child;if(null!==o)o.return=c;else for(o=c;null!==o;){if(o===t){o=null;break}if(null!==(c=o.sibling)){c.return=o.return,o=c;break}o=o.return}c=o}}pn(e,t,r.children,a),t=t.child}return t;case 9:return r=t.type,n=(l=t.pendingProps).children,Ot(t,a),n=n(r=Nt(r,l.unstable_observedBits)),t.effectTag|=1,pn(e,t,n,a),t.child;case 14:return l=yt(r=t.type,t.pendingProps),gn(e,t,r,l=yt(r.type,l),n,a);case 15:return En(e,t,t.type,t.pendingProps,n,a);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:yt(n,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Be(n)?(e=!0,He(t)):e=!1,Ot(t,a),qt(t,n,r),Jt(t,n,r,a),Fn(null,t,n,!0,e,a);case 19:return Pn(e,t,a)}throw Error(i(156,t.tag))};var tl=null,al=null;function nl(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function rl(e,t,a,n){return new nl(e,t,a,n)}function ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ol(e,t){var a=e.alternate;return null===a?((a=rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.effectTag=0,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null),a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function il(e,t,a,n,r,l){var o=2;if(n=e,"function"==typeof e)ll(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case m:return cl(a.children,r,l,t);case h:o=8,r|=7;break;case p:o=8,r|=1;break;case f:return(e=rl(12,a,t,8|r)).elementType=f,e.type=f,e.expirationTime=l,e;case v:return(e=rl(13,a,t,r)).type=v,e.elementType=v,e.expirationTime=l,e;case F:return(e=rl(19,a,t,r)).elementType=F,e.expirationTime=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:o=10;break e;case E:o=9;break e;case b:o=11;break e;case S:o=14;break e;case y:o=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=rl(o,a,t,r)).elementType=e,t.type=n,t.expirationTime=l,t}function cl(e,t,a,n){return(e=rl(7,e,n,t)).expirationTime=a,e}function sl(e,t,a){return(e=rl(6,e,null,t)).expirationTime=a,e}function ul(e,t,a){return(t=rl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dl(e,t,a){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=V,this.pendingContext=this.context=null,this.hydrate=a,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ml(e,t){var a=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==a&&a>=t&&e<=t}function pl(e,t){var a=e.firstSuspendedTime,n=e.lastSuspendedTime;a<t&&(e.firstSuspendedTime=t),(n>t||0===a)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function fl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var a=e.firstSuspendedTime;0!==a&&(t>=a?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function gl(e,t){var a=e.lastExpiredTime;(0===a||a>t)&&(e.lastExpiredTime=t)}function El(e){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return null===(e=I(t))?null:e.stateNode}function hl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function bl(e,t){hl(e,t),(e=e.alternate)&&hl(e,t)}var vl={createContainer:function(e,t,a){return e=new dl(e,t,a),t=rl(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e},updateContainer:function(e,t,a,n){var r=t.current,l=Tr(),o=Gt.suspense;l=xr(l,r,o);e:if(a){t:{if(w(a=a._reactInternalFiber)!==a||1!==a.tag)throw Error(i(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(Be(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(i(171))}if(1===a.tag){var s=a.type;if(Be(s)){a=je(a,s,c);break e}}a=c}else a=Ae;return null===t.context?t.context=a:t.pendingContext=a,(t=Dt(l,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),Bt(r,t),Ir(r,l),l},batchedEventUpdates:function(e,t){var a=rr;rr|=2;try{return e(t)}finally{0===(rr=a)&&gt()}},batchedUpdates:function(e,t){var a=rr;rr|=1;try{return e(t)}finally{0===(rr=a)&&gt()}},unbatchedUpdates:function(e,t){var a=rr;rr&=-2,rr|=8;try{return e(t)}finally{0===(rr=a)&&gt()}},deferredUpdates:function(e){return mt(97,e)},syncUpdates:function(e,t,a,n){return mt(99,e.bind(null,t,a,n))},discreteUpdates:function(e,t,a,n){var r=rr;rr|=4;try{return mt(98,e.bind(null,t,a,n))}finally{0===(rr=r)&&gt()}},flushDiscreteUpdates:function(){0==(49&rr)&&(function(){if(null!==Cr){var e=Cr;Cr=null,e.forEach((function(e,t){gl(t,e),Nr(t)})),gt()}}(),Yr())},flushControlled:function(e){var t=rr;rr|=1;try{mt(99,e)}finally{0===(rr=t)&&gt()}},flushSync:Rr,flushPassiveEffects:Yr,IsThisRendererActing:{current:!1},getPublicRootInstance:function(e){return(e=e.current).child?5===e.child.tag?P(e.child.stateNode):e.child.stateNode:null},attemptSynchronousHydration:function(e){switch(e.tag){case 3:var t=e.stateNode;t.hydrate&&function(e,t){gl(e,t),Nr(e),0==(48&rr)&&gt()}(t,t.firstPendingTime);break;case 13:Rr((function(){return Ir(e,1073741823)})),t=bt(Tr(),150,100),bl(e,t)}},attemptUserBlockingHydration:function(e){if(13===e.tag){var t=bt(Tr(),150,100);Ir(e,t),bl(e,t)}},attemptContinuousHydration:function(e){if(13===e.tag){Tr();var t=ht++;Ir(e,t),bl(e,t)}},attemptHydrationAtCurrentPriority:function(e){if(13===e.tag){var t=Tr();Ir(e,t=xr(t,e,null)),bl(e,t)}},findHostInstance:El,findHostInstanceWithWarning:function(e){return El(e)},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=x(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var a=t.inject(e);tl=function(e){try{t.onCommitFiberRoot(a,e,void 0,64==(64&e.current.effectTag))}catch(e){}},al=function(e){try{t.onCommitFiberUnmount(a,e)}catch(e){}}}catch(e){}return!0}(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=I(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}};e.exports=vl.default||vl;var Fl=e.exports;return e.exports=t,Fl}},76525:(e,t,a)=>{"use strict";e.exports=a(67287)},52546:(e,t)=>{"use strict";var a,n,r,l,o;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var i=null,c=null,s=function(){if(null!==i)try{var e=t.unstable_now();i(!0,e),i=null}catch(e){throw setTimeout(s,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},a=function(e){null!==i?setTimeout(a,0,e):(i=e,setTimeout(s,0))},n=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},l=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,m=window.Date,p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var E=m.now();t.unstable_now=function(){return m.now()-E}}var h=!1,b=null,v=-1,F=5,S=0;l=function(){return t.unstable_now()>=S},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):F=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,C=y.port2;y.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();S=e+F;try{b(!0,e)?C.postMessage(null):(h=!1,b=null)}catch(e){throw C.postMessage(null),e}}else h=!1},a=function(e){b=e,h||(h=!0,C.postMessage(null))},n=function(e,a){v=p((function(){e(t.unstable_now())}),a)},r=function(){f(v),v=-1}}function M(e,t){var a=e.length;e.push(t);e:for(;;){var n=Math.floor((a-1)/2),r=e[n];if(!(void 0!==r&&0<T(r,t)))break e;e[n]=t,e[a]=r,a=n}}function k(e){return void 0===(e=e[0])?null:e}function w(e){var t=e[0];if(void 0!==t){var a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,r=e.length;n<r;){var l=2*(n+1)-1,o=e[l],i=l+1,c=e[i];if(void 0!==o&&0>T(o,a))void 0!==c&&0>T(c,o)?(e[n]=c,e[i]=a,n=i):(e[n]=o,e[l]=a,n=l);else{if(!(void 0!==c&&0>T(c,a)))break e;e[n]=c,e[i]=a,n=i}}}return t}return null}function T(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}var x=[],I=[],P=1,O=null,N=3,A=!1,L=!1,R=!1;function D(e){for(var t=k(I);null!==t;){if(null===t.callback)w(I);else{if(!(t.startTime<=e))break;w(I),t.sortIndex=t.expirationTime,M(x,t)}t=k(I)}}function _(e){if(R=!1,D(e),!L)if(null!==k(x))L=!0,a(B);else{var t=k(I);null!==t&&n(_,t.startTime-e)}}function B(e,a){L=!1,R&&(R=!1,r()),A=!0;var o=N;try{for(D(a),O=k(x);null!==O&&(!(O.expirationTime>a)||e&&!l());){var i=O.callback;if(null!==i){O.callback=null,N=O.priorityLevel;var c=i(O.expirationTime<=a);a=t.unstable_now(),"function"==typeof c?O.callback=c:O===k(x)&&w(x),D(a)}else w(x);O=k(x)}if(null!==O)var s=!0;else{var u=k(I);null!==u&&n(_,u.startTime-a),s=!1}return s}finally{O=null,N=o,A=!1}}function W(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=N;N=e;try{return t()}finally{N=a}},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var a=N;N=t;try{return e()}finally{N=a}},t.unstable_scheduleCallback=function(e,l,o){var i=t.unstable_now();if("object"==typeof o&&null!==o){var c=o.delay;c="number"==typeof c&&0<c?i+c:i,o="number"==typeof o.timeout?o.timeout:W(e)}else o=W(e),c=i;return e={id:P++,callback:l,priorityLevel:e,startTime:c,expirationTime:o=c+o,sortIndex:-1},c>i?(e.sortIndex=c,M(I,e),null===k(x)&&e===k(I)&&(R?r():R=!0,n(_,c-i))):(e.sortIndex=o,M(x,e),L||A||(L=!0,a(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=N;return function(){var a=N;N=t;try{return e.apply(this,arguments)}finally{N=a}}},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var a=k(x);return a!==O&&null!==O&&null!==a&&null!==a.callback&&a.startTime<=e&&a.expirationTime<O.expirationTime||l()},t.unstable_requestPaint=U,t.unstable_continueExecution=function(){L||A||(L=!0,a(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return k(x)},t.unstable_Profiling=null},60373:(e,t,a)=>{"use strict";e.exports=a(52546)},72408:(e,t,a)=>{"use strict";var n=a(27418),r="function"==typeof Symbol&&Symbol.for,l=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,m=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,E="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function F(e,t,a){this.props=e,this.context=t,this.refs=v,this.updater=a||b}function S(){}function y(e,t,a){this.props=e,this.context=t,this.refs=v,this.updater=a||b}F.prototype.isReactComponent={},F.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},F.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},S.prototype=F.prototype;var C=y.prototype=new S;C.constructor=y,n(C,F.prototype),C.isPureReactComponent=!0;var M={current:null},k=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,a){var n,r={},o=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,n)&&!w.hasOwnProperty(n)&&(r[n]=t[n]);var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){for(var s=Array(c),u=0;u<c;u++)s[u]=arguments[u+2];r.children=s}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===r[n]&&(r[n]=c[n]);return{$$typeof:l,type:e,key:o,ref:i,props:r,_owner:M.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var I=/\/+/g,P=[];function O(e,t,a,n){if(P.length){var r=P.pop();return r.result=e,r.keyPrefix=t,r.func=a,r.context=n,r.count=0,r}return{result:e,keyPrefix:t,func:a,context:n,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function A(e,t,a,n){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var i=!1;if(null===e)i=!0;else switch(r){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case l:case o:i=!0}}if(i)return a(n,e,""===t?"."+R(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var c=0;c<e.length;c++){var s=t+R(r=e[c],c);i+=A(r,s,a,n)}else if("function"==typeof(s=null===e||"object"!=typeof e?null:"function"==typeof(s=E&&e[E]||e["@@iterator"])?s:null))for(e=s.call(e),c=0;!(r=e.next()).done;)i+=A(r=r.value,s=t+R(r,c++),a,n);else if("object"===r)throw a=""+e,Error(h(31,"[object Object]"===a?"object with keys {"+Object.keys(e).join(", ")+"}":a,""));return i}function L(e,t,a){return null==e?0:A(e,"",t,a)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function _(e,t,a){var n=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,n,a,(function(e){return e})):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+a)),n.push(e))}function B(e,t,a,n,r){var l="";null!=a&&(l=(""+a).replace(I,"$&/")+"/"),L(e,_,t=O(t,l,n,r)),N(t)}var W={current:null};function U(){var e=W.current;if(null===e)throw Error(h(321));return e}var z={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,a){if(null==e)return e;var n=[];return B(e,n,null,t,a),n},forEach:function(e,t,a){if(null==e)return e;L(e,D,t=O(null,null,t,a)),N(t)},count:function(e){return L(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!x(e))throw Error(h(143));return e}},t.Component=F,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=c,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,a){if(null==e)throw Error(h(267,e));var r=n({},e.props),o=e.key,i=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,c=M.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)k.call(t,u)&&!w.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=a;else if(1<u){s=Array(u);for(var d=0;d<u;d++)s[d]=arguments[d+2];r.children=s}return{$$typeof:l,type:e.type,key:o,ref:i,props:r,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:m,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,a){return U().useImperativeHandle(e,t,a)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,a){return U().useReducer(e,t,a)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.13.1"},67294:(e,t,a)=>{"use strict";e.exports=a(72408)},23972:(e,t,a)=>{"use strict";var n=a(6730);e.exports={isRtlLang:n.isRtlLang,getLangDir:n.getLangDir}},6730:e=>{"use strict";var t,a=t={_regexEscape:/([\.\*\+\^\$\[\]\\\(\)\|\{\}\,\-\:\?])/g,_regexParseLocale:/^([a-zA-Z]*)([_\-a-zA-Z]*)$/,_escapeRegExpPattern:function(e){return"string"!=typeof e?e:e.replace(t._regexEscape,"\\$1")},_toLowerCase:function(e,t){return"string"!=typeof e?t&&e:e.toLowerCase()},_toUpperCase:function(e,t){return"string"!=typeof e?t&&e:e.toUpperCase()},_trim:function(e,a,n){var r,l=[],o=function(e){l.push("^"+e+"+|"+e+"+$")};if("boolean"==typeof a&&(n=a,a=null),"string"!=typeof e)return n&&e;if(Array.isArray(a)&&a.map((function(e){var a=t._escapeRegExpPattern(e);o(a)})),"string"==typeof a){var i=t._escapeRegExpPattern(a);o(i)}a||o("\\s");var c="("+l.join("|")+")";for(r=new RegExp(c,"g");e.match(r);)e=e.replace(r,"");return e},_parseLocale:function(e){var a,n=t._regexParseLocale.exec(e);if(e&&n)return n[2]=t._trim(n[2],["-","_"]),{lang:t._toLowerCase(n[1]),countryCode:a=t._toUpperCase(n[2])||a}},isRtlLang:function(e){var a=t._parseLocale(e);if(a)return t._BIDI_RTL_LANGS.indexOf(a.lang)>=0},getLangDir:function(e){return t.isRtlLang(e)?"rtl":"ltr"}};Object.defineProperty(t,"_BIDI_RTL_LANGS",{value:["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],writable:!1,enumerable:!0,configurable:!1}),e.exports=a},95799:()=>{},51637:()=>{},88579:()=>{},12821:()=>{},60197:(e,t,a)=>{"use strict";e.exports=a.p+"assets/modal_hide-2341f.ogg"},99373:(e,t,a)=>{"use strict";e.exports=a.p+"assets/release-7c974.ogg"},43464:(e,t,a)=>{"use strict";e.exports=a.p+"assets/snes_pop-7a6d3.ogg"},82413:(e,t,a)=>{"use strict";e.exports=a.p+"assets/animation-074ed.gif"}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.p="/hbui/",window.HTMLIFrameElement=window.HTMLIFrameElement||function(){},(()=>{"use strict";var e=a(67294),t=a(52910);const n=(0,e.createContext)((0,t.createStaticFacet)({length:1,action:"PUSH",list:[{pathname:"",search:"",hash:"",state:""}]})),r=(0,e.createContext)({push:()=>{},replace:()=>{},goBack:()=>{},go:()=>{}}),l=(0,e.createContext)((0,t.createStaticFacet)(!1)),o=(0,e.createContext)((0,t.createStaticFacet)(!1)),i=(0,e.createContext)((0,t.createStaticFacet)({}));(0,e.createContext)((0,t.createStaticFacet)(!0));var c={};try{!function(e,t){if(new e("q=%2B").get("q")!==t||new e({q:t}).get("q")!==t||new e([["q",t]]).get("q")!==t||"q=%0A"!==new e("q=\n").toString()||"q=+%26"!==new e({q:" &"}).toString()||"q=%25zx"!==new e({q:"%zx"}).toString())throw e;c.URLSearchParams=e}(URLSearchParams,"+")}catch(e){!function(e,t,a){var n=e.create,r=e.defineProperty,l=/[!'\(\)~]|%20|%00/g,o=/%(?![0-9a-fA-F]{2})/g,i=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},u={append:function(e,t){f(this._ungap,e,t)},delete:function(e){delete this._ungap[e]},get:function(e){return this.has(e)?this._ungap[e][0]:null},getAll:function(e){return this.has(e)?this._ungap[e].slice(0):[]},has:function(e){return e in this._ungap},set:function(e,a){this._ungap[e]=[t(a)]},forEach:function(e,a){var n=this;for(var r in n._ungap)n._ungap[r].forEach(l,r);function l(l){e.call(a,l,t(r),n)}},toJSON:function(){return{}},toString:function(){var e=[];for(var t in this._ungap)for(var a=E(t),n=0,r=this._ungap[t];n<r.length;n++)e.push(a+"="+E(r[n]));return e.join("&")}};for(var d in u)r(m.prototype,d,{configurable:!0,writable:!0,value:u[d]});function m(e){var t=n(null);switch(r(this,"_ungap",{value:t}),!0){case!e:break;case"string"==typeof e:"?"===e.charAt(0)&&(e=e.slice(1));for(var l=e.split("&"),o=0,i=l.length;o<i;o++){var c=(s=l[o]).indexOf("=");-1<c?f(t,g(s.slice(0,c)),g(s.slice(c+1))):s.length&&f(t,g(s),"")}break;case a(e):for(o=0,i=e.length;o<i;o++){var s;f(t,(s=e[o])[0],s[1])}break;case"forEach"in e:e.forEach(p,t);break;default:for(var u in e)f(t,u,e[u])}}function p(e,t){f(this,t,e)}function f(e,t,n){var r=a(n)?n.join(","):n;t in e?e[t].push(r):e[t]=[r]}function g(e){return decodeURIComponent(e.replace(o,"%25").replace(i," "))}function E(e){return encodeURIComponent(e).replace(l,h)}function h(e){return s[e]}c.URLSearchParams=m}(Object,String,Array.isArray)}!function(e){var t=!1;try{t=!!Symbol.iterator}catch(e){}function a(e,a){var n=[];return e.forEach(a,n),t?n[Symbol.iterator]():{next:function(){var e=n.shift();return{done:void 0===e,value:e}}}}"forEach"in e||(e.forEach=function(e,t){var a=this,n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(r){r.length&&!(r in n)&&(n[r]=a.getAll(r)).forEach((function(n){e.call(t,n,r,a)}))}))}),"keys"in e||(e.keys=function(){return a(this,(function(e,t){this.push(t)}))}),"values"in e||(e.values=function(){return a(this,(function(e,t){this.push(e)}))}),"entries"in e||(e.entries=function(){return a(this,(function(e,t){this.push([t,e])}))}),t&&!(Symbol.iterator in e)&&(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,a,n=this.entries(),r=n.next(),l=r.done,o=[],i=Object.create(null);!l;)t=(a=r.value)[0],o.push(t),t in i||(i[t]=[]),i[t].push(a[1]),l=(r=n.next()).done;for(o.sort(),e=0;e<o.length;e++)this.delete(o[e]);for(e=0;e<o.length;e++)t=o[e],this.append(t,i[t].shift())}),function(t){var a=t.defineProperty,n=t.getOwnPropertyDescriptor,r=function(t){var a=t.append;t.append=e.append,URLSearchParams.call(t,t._usp.search.slice(1)),t.append=a},l=function(e,t){if(!(e instanceof t))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+t.name)},o=function(o){var i,c,s=o.prototype,u=n(s,"searchParams"),d=n(s,"href"),m=n(s,"search");!u&&m&&m.set&&(c=function(t){function n(a,n){e.append.call(this,a,n),a=this.toString(),t.set.call(this._usp,a?"?"+a:"")}function r(a){e.delete.call(this,a),a=this.toString(),t.set.call(this._usp,a?"?"+a:"")}function l(a,n){e.set.call(this,a,n),a=this.toString(),t.set.call(this._usp,a?"?"+a:"")}return function(e,t){return e.append=n,e.delete=r,e.set=l,a(e,"_usp",{configurable:!0,writable:!0,value:t})}}(m),i=function(e,t){return a(e,"_searchParams",{configurable:!0,writable:!0,value:c(t,e)}),t},t.defineProperties(s,{href:{get:function(){return d.get.call(this)},set:function(e){var t=this._searchParams;d.set.call(this,e),t&&r(t)}},search:{get:function(){return m.get.call(this)},set:function(e){var t=this._searchParams;m.set.call(this,e),t&&r(t)}},searchParams:{get:function(){return l(this,o),this._searchParams||i(this,new URLSearchParams(this.search.slice(1)))},set:function(e){l(this,o),i(this,e)}}}))};try{o(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&o(URL)}catch(e){}}(Object)}(c.URLSearchParams.prototype);const s=c.URLSearchParams,u=()=>(0,e.useContext)(r),d=()=>(0,e.useContext)(l),m=()=>(0,t.useFacetMemo)(((e,a)=>a?e:t.NO_VALUE),[],[(0,e.useContext)(i),d()]),p=()=>(0,t.useFacetMemo)((({list:e},a)=>a?e[e.length-1].pathname:t.NO_VALUE),[],[(0,e.useContext)(n),d()]),f=()=>{const a=(0,t.useFacetMap)((({list:e})=>e[e.length-1].search),[],[(0,e.useContext)(n)]);return(0,t.useFacetMemo)(((e,a)=>a?new s(e):t.NO_VALUE),[],[a,d()])};function g(e,t){void 0===t&&(t={});for(var a=function(e){for(var t=[],a=0;a<e.length;){var n=e[a];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)t.push({type:"CHAR",index:a,value:e[a++]});else{var r=1,l="";if("?"===e[i=a+1])throw new TypeError('Pattern cannot start with "?" at '+i);for(;i<e.length;)if("\\"!==e[i]){if(")"===e[i]){if(0==--r){i++;break}}else if("("===e[i]&&(r++,"?"!==e[i+1]))throw new TypeError("Capturing groups are not allowed at "+i);l+=e[i++]}else l+=e[i++]+e[i++];if(r)throw new TypeError("Unbalanced pattern at "+a);if(!l)throw new TypeError("Missing pattern at "+a);t.push({type:"PATTERN",index:a,value:l}),a=i}else{for(var o="",i=a+1;i<e.length;){var c=e.charCodeAt(i);if(!(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||95===c))break;o+=e[i++]}if(!o)throw new TypeError("Missing parameter name at "+a);t.push({type:"NAME",index:a,value:o}),a=i}else t.push({type:"CLOSE",index:a,value:e[a++]});else t.push({type:"OPEN",index:a,value:e[a++]});else t.push({type:"ESCAPED_CHAR",index:a++,value:e[a++]});else t.push({type:"MODIFIER",index:a,value:e[a++]})}return t.push({type:"END",index:a,value:""}),t}(e),n=t.prefixes,r=void 0===n?"./":n,l="[^"+h(t.delimiter||"/#?")+"]+?",o=[],i=0,c=0,s="",u=function(e){if(c<a.length&&a[c].type===e)return a[c++].value},d=function(e){var t=u(e);if(void 0!==t)return t;var n=a[c],r=n.type,l=n.index;throw new TypeError("Unexpected "+r+" at "+l+", expected "+e)},m=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};c<a.length;){var p=u("CHAR"),f=u("NAME"),g=u("PATTERN");if(f||g){var E=p||"";-1===r.indexOf(E)&&(s+=E,E=""),s&&(o.push(s),s=""),o.push({name:f||i++,prefix:E,suffix:"",pattern:g||l,modifier:u("MODIFIER")||""})}else{var b=p||u("ESCAPED_CHAR");if(b)s+=b;else if(s&&(o.push(s),s=""),u("OPEN")){E=m();var v=u("NAME")||"",F=u("PATTERN")||"",S=m();d("CLOSE"),o.push({name:v||(F?i++:""),pattern:v&&!F?l:F,prefix:E,suffix:S,modifier:u("MODIFIER")||""})}else d("END")}}return o}function E(e,t){var a=[];return function(e,t,a){void 0===a&&(a={});var n=a.decode,r=void 0===n?function(e){return e}:n;return function(a){var n=e.exec(a);if(!n)return!1;for(var l=n[0],o=n.index,i=Object.create(null),c=function(e){if(void 0===n[e])return"continue";var a=t[e-1];"*"===a.modifier||"+"===a.modifier?i[a.name]=n[e].split(a.prefix+a.suffix).map((function(e){return r(e,a)})):i[a.name]=r(n[e],a)},s=1;s<n.length;s++)c(s);return{path:l,index:o,params:i}}}(v(e,a,t),a,t)}function h(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function b(e){return e&&e.sensitive?"":"i"}function v(e,t,a){return e instanceof RegExp?function(e,t){if(!t)return e;var a=e.source.match(/\((?!\?)/g);if(a)for(var n=0;n<a.length;n++)t.push({name:n,prefix:"",suffix:"",modifier:"",pattern:""});return e}(e,t):Array.isArray(e)?function(e,t,a){var n=e.map((function(e){return v(e,t,a).source}));return new RegExp("(?:"+n.join("|")+")",b(a))}(e,t,a):function(e,t,a){return function(e,t,a){void 0===a&&(a={});for(var n=a.strict,r=void 0!==n&&n,l=a.start,o=void 0===l||l,i=a.end,c=void 0===i||i,s=a.encode,u=void 0===s?function(e){return e}:s,d="["+h(a.endsWith||"")+"]|$",m="["+h(a.delimiter||"/#?")+"]",p=o?"^":"",f=0,g=e;f<g.length;f++){var E=g[f];if("string"==typeof E)p+=h(u(E));else{var v=h(u(E.prefix)),F=h(u(E.suffix));if(E.pattern)if(t&&t.push(E),v||F)if("+"===E.modifier||"*"===E.modifier){var S="*"===E.modifier?"?":"";p+="(?:"+v+"((?:"+E.pattern+")(?:"+F+v+"(?:"+E.pattern+"))*)"+F+")"+S}else p+="(?:"+v+"("+E.pattern+")"+F+")"+E.modifier;else p+="("+E.pattern+")"+E.modifier;else p+="(?:"+v+F+")"+E.modifier}}if(c)r||(p+=m+"?"),p+=a.endsWith?"(?="+d+")":"$";else{var y=e[e.length-1],C="string"==typeof y?m.indexOf(y[y.length-1])>-1:void 0===y;r||(p+="(?:"+m+"(?="+d+"))?"),C||(p+="(?="+m+"|"+d+")")}return new RegExp(p,b(a))}(g(e,a),t,a)}(e,t,a)}function F(e,t){return e+(0===t.toString().length?"":`?${t.toString()}`)}const S=(0,t.createStaticFacet)(!1),y=({to:a,match:r=S,keepQuery:l=!1})=>{const o=(0,t.useFacetWrap)(r),i=u(),c=(0,e.useMemo)((()=>{return function(e,t){void 0===t&&(t={});var a=b(t),n=t.encode,r=void 0===n?function(e){return e}:n,l=t.validate,o=void 0===l||l,i=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:"+e.pattern+")$",a)}));return function(t){for(var a="",n=0;n<e.length;n++){var l=e[n];if("string"!=typeof l){var c=t?t[l.name]:void 0,s="?"===l.modifier||"*"===l.modifier,u="*"===l.modifier||"+"===l.modifier;if(Array.isArray(c)){if(!u)throw new TypeError('Expected "'+l.name+'" to not repeat, but got an array');if(0===c.length){if(s)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<c.length;d++){var m=r(c[d],l);if(o&&!i[n].test(m))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but got "'+m+'"');a+=l.prefix+m+l.suffix}}else if("string"!=typeof c&&"number"!=typeof c){if(!s){var p=u?"an array":"a string";throw new TypeError('Expected "'+l.name+'" to be '+p)}}else{if(m=r(String(c),l),o&&!i[n].test(m))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+m+'"');a+=l.prefix+m+l.suffix}}else a+=l}return a}}(g(a,e),e);var e}),[a]),d=(0,t.useFacetMap)((e=>0!=e),[],[o]),m=(0,t.useFacetCallback)(((e,t)=>a=>{if(!a||0==e)return;const n=c(e.params);if(l){const e=t.list[t.list.length-1].search,a=new s(e);i.replace(F(n,a))}else i.replace(n)}),[i,c,l],[o,(0,e.useContext)(n)]);return(0,t.useFacetEffect)((e=>{m(e)}),[m],[d]),null},C=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.route)&&Boolean(t.component)},M=e=>{const t=Boolean(e.props)?e.props:{};return Boolean(t.from)};function k({children:a,onNotFound:r}){const l=(0,e.useContext)(n),o=(0,t.useFacetMap)((e=>e.list[e.list.length-1].pathname),[],[l]),i=(0,t.useFacetMap)((({action:e})=>e),[],[l]),c=T(),s=(0,t.useFacetMemo)((t=>{let n=!1;return e.Children.forEach(a,((a,r)=>{if(0==n&&(0,e.isValidElement)(a)){if(C(a)){const e=c(a.props.route)(t);if(0!=e)return void(n={match:e,index:r})}if(M(a)){const e=c(a.props.from)(t);if(0!=e)return void(n={match:e,index:r})}}})),n}),[a,c],[o]),u=(0,t.useFacetMap)((e=>!1!==e),[],[s]);return(0,t.useFacetEffect)((e=>{e||null==r||r()}),[r],[u]),e.createElement(e.Fragment,null,e.Children.map(a,((a,n)=>(0,e.isValidElement)(a)?C(a)||M(a)?e.createElement(w,{index:n,switchMatchResult:s,child:a,action:i}):e.createElement(t.Mount,{when:u},a):null)))}const w=({switchMatchResult:a,index:n,action:r,child:l})=>{const o=(0,t.useFacetMemo)((e=>!1!==e&&e.index===n&&e.match),[n],[a]);return e.cloneElement(l,{match:o,action:r})},T=()=>{const t=(0,e.useRef)(new Map);return(0,e.useCallback)((e=>{const a=t.current.get(e);if(a)return a;const n=E(e);return t.current.set(e,n),n}),[])};a(73595);const x=({value:a,isInBackground:n,children:r})=>{const i=(0,t.useFacetWrap)(a),c=(0,t.useFacetWrap)(null!=n&&n),s=(0,t.useFacetMap)((e=>!e),[],[i]);return e.createElement(I,{disabled:s},e.createElement(l.Provider,{value:i},null!=n?e.createElement(o.Provider,{value:c},r):r))},I=({children:a,disabled:n})=>{const l=(0,e.useContext)(r),o=(0,t.useFacetCallback)((e=>()=>{e||l.goBack()}),[l],[n]),i=(0,t.useFacetCallback)((e=>t=>{e||l.push(t)}),[l],[n]),c=(0,t.useFacetCallback)((e=>t=>{e||l.replace(t)}),[l],[n]),s=(0,t.useFacetCallback)((e=>t=>{e||l.go(t)}),[l],[n]),u=(0,e.useMemo)((()=>({goBack:o,push:i,replace:c,go:s})),[o,i,c,s]);return e.createElement(r.Provider,{value:u},a)};var P=a(76290),O=a.n(P);const N=(0,e.createContext)([]),{Provider:A,Consumer:L}=N,R=N;let D,_,B,W;!function(e){e[e.Unknown=-1]="Unknown",e[e.Initial=0]="Initial",e[e.FocusInput=1]="FocusInput",e[e.PointerInput=2]="PointerInput",e[e.FocusTreeMutation=3]="FocusTreeMutation",e[e.URL=4]="URL",e[e.DebugTool=5]="DebugTool",e[e.ImperativeSetFocus=6]="ImperativeSetFocus",e[e.LandmarkController=7]="LandmarkController"}(D||(D={})),function(e){e[e.FIRST_CHILD=0]="FIRST_CHILD",e[e.MEMORY=1]="MEMORY",e[e.ALIAS=2]="ALIAS"}(_||(_={})),function(e){e[e.Unknown=-1]="Unknown",e[e.Mutation=1]="Mutation",e[e.UserInput=2]="UserInput"}(B||(B={})),function(e){e.A="A",e.B="B",e.X="X",e.Y="Y",e.START="START",e.SELECT="SELECT",e.XBOX="XBOX",e.RIGHT_TRIGGER="RT",e.LEFT_TRIGGER="LT",e.LEFT_BUMPER="LB",e.RIGHT_BUMPER="RB",e.L3="L3",e.R3="R3",e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e.DOWN="DOWN",e.NEXT="NEXT",e.PREV="PREV",e.LEFT_ANALOG_LEFT="L_LEFT",e.LEFT_ANALOG_RIGHT="L_RIGHT",e.LEFT_ANALOG_UP="L_UP",e.LEFT_ANALOG_DOWN="L_DOWN",e.RIGHT_ANALOG_LEFT="R_LEFT",e.RIGHT_ANALOG_RIGHT="R_RIGHT",e.RIGHT_ANALOG_UP="R_UP",e.RIGHT_ANALOG_DOWN="R_DOWN",e[e.LEFT_HORIZONTAL_AXIS=0]="LEFT_HORIZONTAL_AXIS",e[e.LEFT_VERTICAL_AXIS=1]="LEFT_VERTICAL_AXIS",e[e.RIGHT_HORIZONTAL_AXIS=2]="RIGHT_HORIZONTAL_AXIS",e[e.RIGHT_VERTICAL_AXIS=3]="RIGHT_VERTICAL_AXIS",e.PSEUDO_BUTTON_1="PSEUDO_BUTTON_1",e.PSEUDO_BUTTON_2="PSEUDO_BUTTON_2",e.PSEUDO_BUTTON_3="PSEUDO_BUTTON_3",e.PSEUDO_BUTTON_4="PSEUDO_BUTTON_4",e.PSEUDO_BUTTON_5="PSEUDO_BUTTON_5",e.PSEUDO_BUTTON_6="PSEUDO_BUTTON_6",e.PSEUDO_BUTTON_7="PSEUDO_BUTTON_7",e.PSEUDO_BUTTON_8="PSEUDO_BUTTON_8",e.PSEUDO_BUTTON_9="PSEUDO_BUTTON_9",e.PSEUDO_BUTTON_10="PSEUDO_BUTTON_10"}(W||(W={}));const U="data-landmark-id",z="data-focusable-id",j="data-focusable-debug-id";let H,V,G;var $;($=H||(H={}))[$.ITEM=0]="ITEM",$[$.FOCUS_GROUP=1]="FOCUS_GROUP",$[$.LANDMARK=2]="LANDMARK",$[$.ROOT=3]="ROOT",function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(V||(V={})),function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(G||(G={}));const K=[W.A,W.B,W.LEFT,W.DOWN,W.RIGHT,W.UP];let X;!function(e){e[e.UP=0]="UP",e[e.RIGHT=1]="RIGHT",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT"}(X||(X={}));const Y={[W.LEFT_ANALOG_UP]:X.UP,[W.UP]:X.UP,[W.LEFT_ANALOG_DOWN]:X.DOWN,[W.DOWN]:X.DOWN,[W.LEFT_ANALOG_LEFT]:X.LEFT,[W.LEFT]:X.LEFT,[W.LEFT_ANALOG_RIGHT]:X.RIGHT,[W.RIGHT]:X.RIGHT},q={3:W.B};let Q,J;!function(e){e[e.NEXT=-1]="NEXT",e[e.PREVIOUS=1]="PREVIOUS"}(Q||(Q={})),function(e){e[e.DefaultDelegation=0]="DefaultDelegation",e[e.FirstFoundDelegation=1]="FirstFoundDelegation",e[e.AliasDelegation=2]="AliasDelegation",e[e.MemoryDelegation=3]="MemoryDelegation",e[e.FocusableAliasMutation=4]="FocusableAliasMutation"}(J||(J={}));const Z=e=>e.type===H.ITEM||e.type===H.LANDMARK&&!0!==e.focusControlDisabled||e.type===H.ROOT,ee=e=>Z(e)&&!e.disabled&&!e.hidden&&null!=e.ref,te=e=>!e.disabled&&!e.hidden&&null!=e.ref,ae=e=>Z(e)?te(e):(e=>!e.disabled&&!e.hidden)(e),ne=e=>null!=e&&e.type===H.ROOT,re=e=>null!=e&&e.type===H.LANDMARK&&!0!==e.focusControlDisabled&&"getDelegatedFocus"in e,le=e=>re(e)&&"shouldBindFocus"in e&&!0===e.shouldBindFocus,oe=(W.LEFT_ANALOG_LEFT,W.LEFT_ANALOG_RIGHT,W.LEFT_ANALOG_UP,W.LEFT_ANALOG_DOWN,W.RIGHT_ANALOG_LEFT,W.RIGHT_ANALOG_RIGHT,W.RIGHT_ANALOG_UP,W.RIGHT_ANALOG_DOWN,W.A,W.B,W.X,W.Y,W.START,W.SELECT,W.XBOX,W.RIGHT_TRIGGER,W.LEFT_TRIGGER,W.LEFT_BUMPER,W.RIGHT_BUMPER,W.L3,W.R3,W.LEFT,W.RIGHT,W.UP,W.DOWN,W.PSEUDO_BUTTON_1,W.PSEUDO_BUTTON_2,W.PSEUDO_BUTTON_3,W.PSEUDO_BUTTON_4,W.PSEUDO_BUTTON_5,W.PSEUDO_BUTTON_6,W.PSEUDO_BUTTON_7,W.PSEUDO_BUTTON_8,W.PSEUDO_BUTTON_9,W.PSEUDO_BUTTON_10,[W.A,W.B,W.X,W.Y,W.START,W.SELECT,W.LEFT,W.RIGHT,W.UP,W.DOWN,W.L3,W.R3,W.LEFT_ANALOG_LEFT,W.RIGHT_ANALOG_LEFT,W.LEFT_BUMPER,W.RIGHT_BUMPER,W.LEFT_TRIGGER,W.RIGHT_TRIGGER]),ie=[W.A,W.B,W.X,W.Y,W.START,W.SELECT,W.LEFT_BUMPER,W.RIGHT_BUMPER,W.LEFT_TRIGGER,W.RIGHT_TRIGGER,W.R3,W.L3],ce=[W.A,W.B,W.X,W.Y,W.LEFT_BUMPER,W.RIGHT_BUMPER,W.LEFT_TRIGGER,W.RIGHT_TRIGGER,W.SELECT,W.START,W.L3,W.R3,W.UP,W.DOWN,W.LEFT,W.RIGHT,W.XBOX],se=[W.LEFT,W.RIGHT,W.UP,W.DOWN];let ue,de;var me;ie.map((e=>ce.indexOf(e))),se.map((e=>ce.indexOf(e))),(me=ue||(ue={}))[me.BACKSPACE=8]="BACKSPACE",me[me.TAB=9]="TAB",me[me.ENTER=13]="ENTER",me[me.SHIFT=16]="SHIFT",me[me.CTRL=17]="CTRL",me[me.ALT=18]="ALT",me[me.CAPS_LOCK=20]="CAPS_LOCK",me[me.ESCAPE=27]="ESCAPE",me[me.SPACE=32]="SPACE",me[me.PG_UP=33]="PG_UP",me[me.PG_DOWN=34]="PG_DOWN",me[me.END=35]="END",me[me.LEFT=37]="LEFT",me[me.UP=38]="UP",me[me.RIGHT=39]="RIGHT",me[me.DOWN=40]="DOWN",me[me.INSERT=45]="INSERT",me[me.DELETE=46]="DELETE",me[me.KEY_0=48]="KEY_0",me[me.KEY_1=49]="KEY_1",me[me.KEY_2=50]="KEY_2",me[me.KEY_3=51]="KEY_3",me[me.KEY_4=52]="KEY_4",me[me.KEY_5=53]="KEY_5",me[me.KEY_6=54]="KEY_6",me[me.KEY_7=55]="KEY_7",me[me.KEY_8=56]="KEY_8",me[me.KEY_9=57]="KEY_9",me[me.SEMICOLON=59]="SEMICOLON",me[me.EQUALS=61]="EQUALS",me[me.KEY_A=65]="KEY_A",me[me.KEY_B=66]="KEY_B",me[me.KEY_C=67]="KEY_C",me[me.KEY_D=68]="KEY_D",me[me.KEY_E=69]="KEY_E",me[me.KEY_F=70]="KEY_F",me[me.KEY_G=71]="KEY_G",me[me.KEY_H=72]="KEY_H",me[me.KEY_I=73]="KEY_I",me[me.KEY_J=74]="KEY_J",me[me.KEY_K=75]="KEY_K",me[me.KEY_L=76]="KEY_L",me[me.KEY_M=77]="KEY_M",me[me.KEY_N=78]="KEY_N",me[me.KEY_O=79]="KEY_O",me[me.KEY_P=80]="KEY_P",me[me.KEY_Q=81]="KEY_Q",me[me.KEY_R=82]="KEY_R",me[me.KEY_S=83]="KEY_S",me[me.KEY_T=84]="KEY_T",me[me.KEY_U=85]="KEY_U",me[me.KEY_V=86]="KEY_V",me[me.KEY_W=87]="KEY_W",me[me.KEY_X=88]="KEY_X",me[me.KEY_Y=89]="KEY_Y",me[me.KEY_Z=90]="KEY_Z",me[me.NUMPAD_0=96]="NUMPAD_0",me[me.NUMPAD_1=97]="NUMPAD_1",me[me.NUMPAD_2=98]="NUMPAD_2",me[me.NUMPAD_3=99]="NUMPAD_3",me[me.NUMPAD_4=100]="NUMPAD_4",me[me.NUMPAD_5=101]="NUMPAD_5",me[me.NUMPAD_6=102]="NUMPAD_6",me[me.NUMPAD_7=103]="NUMPAD_7",me[me.NUMPAD_8=104]="NUMPAD_8",me[me.NUMPAD_9=105]="NUMPAD_9",me[me.MINUS=109]="MINUS",me[me.F1=112]="F1",me[me.F2=113]="F2",me[me.F3=114]="F3",me[me.F4=115]="F4",me[me.F5=116]="F5",me[me.F6=117]="F6",me[me.F7=118]="F7",me[me.F8=119]="F8",me[me.F9=120]="F9",me[me.F10=121]="F10",me[me.F11=122]="F11",me[me.F12=123]="F12",me[me.COMMA=188]="COMMA",me[me.PERIOD=190]="PERIOD",me[me.SLASH=191]="SLASH",me[me.GRAVE=192]="GRAVE",me[me.MOUSE_MOVEMENT=195]="MOUSE_MOVEMENT",me[me.MOUSE_BUTTON_LEFT=196]="MOUSE_BUTTON_LEFT",me[me.MOUSE_BUTTON_MIDDLE=197]="MOUSE_BUTTON_MIDDLE",me[me.MOUSE_BUTTON_RIGHT=198]="MOUSE_BUTTON_RIGHT",me[me.MOUSE_WHEEL=199]="MOUSE_WHEEL",me[me.PSEUDO_KEY_1=201]="PSEUDO_KEY_1",me[me.PSEUDO_KEY_2=202]="PSEUDO_KEY_2",me[me.PSEUDO_KEY_3=203]="PSEUDO_KEY_3",me[me.PSEUDO_KEY_4=204]="PSEUDO_KEY_4",me[me.PSEUDO_KEY_5=205]="PSEUDO_KEY_5",me[me.PSEUDO_KEY_6=206]="PSEUDO_KEY_6",me[me.PSEUDO_KEY_7=207]="PSEUDO_KEY_7",me[me.PSEUDO_KEY_8=208]="PSEUDO_KEY_8",me[me.PSEUDO_KEY_9=209]="PSEUDO_KEY_9",me[me.PSEUDO_KEY_10=210]="PSEUDO_KEY_10",me[me.BRACKET_OPEN=219]="BRACKET_OPEN",me[me.BACKSLASH=220]="BACKSLASH",me[me.BRACKET_CLOSE=221]="BRACKET_CLOSE",me[me.APOSTROPHE=222]="APOSTROPHE",function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(de||(de={}));const pe={[W.UP]:[ue.UP],[W.DOWN]:[ue.DOWN],[W.LEFT]:[ue.LEFT],[W.RIGHT]:[ue.RIGHT],[W.X]:[ue.KEY_X],[W.Y]:[ue.KEY_Y],[W.A]:[ue.ENTER,ue.SPACE],[W.B]:[ue.ESCAPE,ue.BACKSPACE],[W.LEFT_TRIGGER]:[ue.KEY_Q],[W.RIGHT_TRIGGER]:[ue.KEY_Z],[W.LEFT_BUMPER]:[ue.BRACKET_OPEN],[W.RIGHT_BUMPER]:[ue.BRACKET_CLOSE],[W.LEFT_ANALOG_LEFT]:[ue.KEY_9],[W.RIGHT_ANALOG_LEFT]:[ue.KEY_0],[W.START]:[ue.F10],[W.SELECT]:[ue.F11],[W.XBOX]:[ue.F1],[W.L3]:[ue.F2],[W.R3]:[ue.F3],[W.PSEUDO_BUTTON_1]:[ue.PSEUDO_KEY_1],[W.PSEUDO_BUTTON_2]:[ue.PSEUDO_KEY_2],[W.PSEUDO_BUTTON_3]:[ue.PSEUDO_KEY_3],[W.PSEUDO_BUTTON_4]:[ue.PSEUDO_KEY_4],[W.PSEUDO_BUTTON_5]:[ue.PSEUDO_KEY_5],[W.PSEUDO_BUTTON_6]:[ue.PSEUDO_KEY_6],[W.PSEUDO_BUTTON_7]:[ue.PSEUDO_KEY_7],[W.PSEUDO_BUTTON_8]:[ue.PSEUDO_KEY_8],[W.PSEUDO_BUTTON_9]:[ue.PSEUDO_KEY_9],[W.PSEUDO_BUTTON_10]:[ue.PSEUDO_KEY_10]},fe=(0,t.createStaticFacet)(pe),ge=(0,e.createContext)([fe,()=>{}]),Ee=()=>(0,e.useContext)(ge),he=(0,e.createContext)((()=>()=>{})),be=()=>(0,e.useContext)(he),ve=(0,e.createContext)((0,t.createStaticFacet)(D.Initial)),Fe=()=>(0,e.useContext)(ve),Se=(0,e.createContext)((0,t.createStaticFacet)({swapABButtons:!1,swapXYButtons:!1})),ye=()=>(0,e.useContext)(Se),Ce=Se.Provider,Me=(Se.Consumer,()=>{}),ke=(0,e.createContext)({current:{generateId:()=>(Me(),-1),press:()=>{},isFocused:()=>(Me(),!1),isFocusable:()=>(Me(),!1),putNode:Me,putShortcut:Me,removeNode:Me,removeShortcut:Me,getElement:()=>{Me()},isAncestorOf:()=>(Me(),!1),getDynasty:()=>{Me()},getEnabledBindingLandmarkDescendant:()=>{Me()},containerHasEnabledItems:()=>(Me(),!1)}}),{Provider:we,Consumer:Te}=ke,xe=we,Ie=(0,e.createContext)({addAnalogListener:()=>()=>{},addDigitalListener:()=>()=>{},clickAtPoint:()=>{},focusAtPoint:()=>{}}),{Provider:Pe,Consumer:Oe}=Ie,Ne=Pe,Ae=(0,t.createFacetContext)({}),Le=()=>(0,e.useContext)(Ae),Re=({value:t,children:a})=>e.createElement(Ae.Provider,{value:t},a),De=(0,e.createContext)(void 0),_e=()=>(0,e.useContext)(De),Be=({value:t,children:a})=>e.createElement(De.Provider,{value:t},a);let We,Ue,ze,je,He,Ve,Ge;!function(e){e[e.TV_SCREEN_TYPE=0]="TV_SCREEN_TYPE",e[e.DESKTOP_SCREEN_TYPE=1]="DESKTOP_SCREEN_TYPE",e[e.HANDHELD_SCREEN_TYPE=2]="HANDHELD_SCREEN_TYPE",e[e.VR_SCREEN_TYPE=3]="VR_SCREEN_TYPE"}(We||(We={})),function(e){e[e.PHONE=0]="PHONE",e[e.TABLET=1]="TABLET"}(Ue||(Ue={})),function(e){e[e.GAMEPAD=0]="GAMEPAD",e[e.TOUCH=1]="TOUCH",e[e.MOUSE=2]="MOUSE",e[e.MOTION=3]="MOTION",e[e.KEYBOARD=4]="KEYBOARD"}(ze||(ze={})),function(e){e[e.ARVR_None=0]="ARVR_None",e[e.ARVR_Rift=1]="ARVR_Rift",e[e.ARVR_Holographic=2]="ARVR_Holographic",e[e.ARVR_WindowsMR=3]="ARVR_WindowsMR",e[e.ARVR_PSVR=4]="ARVR_PSVR",e[e.ARVR_GearVR=5]="ARVR_GearVR",e[e.ARVR_DesktopXR=6]="ARVR_DesktopXR"}(je||(je={})),function(e){e[e.IOS=0]="IOS",e[e.GOOGLE=1]="GOOGLE",e[e.AMAZON_HANDHELD=2]="AMAZON_HANDHELD",e[e.UWP=3]="UWP",e[e.XBOX=4]="XBOX",e[e.NX_HANDHELD=5]="NX_HANDHELD",e[e.PS4=6]="PS4",e[e.GEARVR=7]="GEARVR",e[e.WIN32=8]="WIN32",e[e.MACOS=9]="MACOS",e[e.AMAZON_TV=10]="AMAZON_TV",e[e.NX_TV=11]="NX_TV",e[e.PS5=12]="PS5"}(He||(He={})),function(e){e[e.SCALE_100_PERCENT=4]="SCALE_100_PERCENT",e[e.SCALE_125_PERCENT=5]="SCALE_125_PERCENT",e[e.SCALE_150_PERCENT=6]="SCALE_150_PERCENT",e[e.SCALE_175_PERCENT=7]="SCALE_175_PERCENT",e[e.SCALE_200_PERCENT=8]="SCALE_200_PERCENT"}(Ve||(Ve={})),function(e){e[e.XBOX=0]="XBOX",e[e.PS=1]="PS",e[e.STEAM=2]="STEAM",e[e.SWITCH=3]="SWITCH",e[e.QUEST=4]="QUEST"}(Ge||(Ge={}));const $e=(0,e.createContext)({isPointerInputMouse:(0,t.createStaticFacet)(!1),isPointerInputTouch:(0,t.createStaticFacet)(!1),isPointerInputAvailable:(0,t.createStaticFacet)(!1),isFocusInputGamepad:(0,t.createStaticFacet)(!1),isFocusInputKeyboard:(0,t.createStaticFacet)(!1),isFocusInputAvailable:(0,t.createStaticFacet)(!1),isLastInputMouse:(0,t.createStaticFacet)(!1),isLastInputTouch:(0,t.createStaticFacet)(!1),isLastInputGamepad:(0,t.createStaticFacet)(!1),isLastInputKeyboard:(0,t.createStaticFacet)(!1),isLastInputPointer:(0,t.createStaticFacet)(!1),isLastInputFocus:(0,t.createStaticFacet)(!1),isGamepadSupported:(0,t.createStaticFacet)(!1),isKeyboardSupported:(0,t.createStaticFacet)(!1),isMouseSupported:(0,t.createStaticFacet)(!1),isTouchSupported:(0,t.createStaticFacet)(!1),isPointerSupported:(0,t.createStaticFacet)(!1),isFocusSupported:(0,t.createStaticFacet)(!1)}),Ke=(0,e.createContext)((0,t.createStaticFacet)(He.XBOX)),Xe=(0,e.createContext)((0,t.createStaticFacet)(je.ARVR_None)),Ye=(0,e.createContext)((0,t.createStaticFacet)(We.TV_SCREEN_TYPE)),qe=(0,e.createContext)((0,t.createStaticFacet)(Ge.XBOX)),Qe=()=>(0,e.useContext)($e).isPointerInputMouse,Je=()=>(0,e.useContext)($e).isFocusInputGamepad,Ze=()=>(0,e.useContext)($e).isFocusInputKeyboard,et=()=>(0,e.useContext)($e).isLastInputPointer,tt=()=>(0,e.useContext)($e).isLastInputFocus;var at=a(59270),nt=a.n(at);function rt(e,t){const a=e.elements.get(t);if(null!=a&&Z(a))return null==a?void 0:a.alias}function lt(e,t){var a;const n=null!==(a=e.children.get(t.id))&&void 0!==a?a:[];for(const t of n){const a=e.elements.get(t);if(a)switch(a.type){case H.LANDMARK:if(!ae(a))continue;if(lt(e,a))return!0;break;case H.FOCUS_GROUP:if(a.disabled||a.hidden)continue;if(lt(e,a))return!0;break;case H.ITEM:if(te(a))return!0;case H.ROOT:}}return!1}function ot(e,t){return"string"==typeof t?e.aliases.get(t):null!=t&&e.elements.has(t)?t:void 0}function it(e,t){const a=ot(e,t);if(null!=a)return e.elements.get(a)}function ct(e,t){const a=e.parents.get(t);return null==a?[]:[a,...ct(e,a)]}function st(e,t,a){const n=e.parents.get(a);return n===t||null!=n&&st(e,t,n)}function ut(e,t){const a=e.parents.get(t);if(null==a)return null;const n=e.elements.get(a);return null==n?null:re(n)||ne(n)?n:ut(e,a)}function dt(e,t){for(const a of t){const t=e.elements.get(a);if(t){if(re(t)&&St(e,a))return!0;if(t.type===H.ITEM&&St(e,a))return!0}}return!1}const mt=e=>{const t=(a,n)=>{const r=a.parents.get(n);if(null==r)return null;const l=a.elements.get(r);return null==l?null:e(l)?r:t(a,r)};return t},pt=(e,t,a)=>{const n=ct(e,a);return null!=mt((e=>re(e)&&!nt()(e.id,n)))(e,t)},ft=mt((e=>e.disabled||e.hidden)),gt=(e,t)=>null!=ft(e,t),Et=mt(le),ht=mt((e=>e.type===H.LANDMARK&&null!=e.scrollAxis)),bt=(e,t,a)=>{const n=e.parents.get(t);return null!=n&&(n===a||bt(e,n,a))},vt=(e,t)=>{const a=Ft(e,t);if(null!=a&&a.length>0){const t=it(e,a[0]);return null!=t&&le(t)?t:void 0}},Ft=(e,t)=>{const a=e.bindingLandmarkDescendants.get(t);if(null==a)return;const n=[];for(const t of a)St(e,t)&&n.push(t);return n};function St(e,t){const a=it(e,t);if(null==a)return!1;if(a.type===H.ROOT)return!0;if(!ae(a))return!1;const n=ct(e,a.id);for(const t of n){const a=it(e,t);if(null==a)return!1;if(a.type===H.ROOT)return!0;if(!ae(a))return!1}return!0}const yt=(e,a,n)=>{const r=ot(e,a);if(null==r)return;const l=e.elements.get(r);if(null!=l){if(l.type===H.ROOT||re(l)&&St(e,r)){const e=l.getDelegatedFocus({delegationOrigin:n});return e!=t.NO_VALUE?e:void 0}return yt(e,e.parents.get(r),n)}};function Ct(e,t,a){const n=e.elements.get(t);if(!n)return;if(St(e,t)){var r;const n=null===(r=e.shortcuts.get(t))||void 0===r?void 0:r.get(a);if(null!=n)return n}if(le(n))return;const l=e.parents.get(t);return null!=l?Ct(e,l,a):void 0}function Mt(e,t,a){var n;return null===(n=Ct(e,t,a))||void 0===n?void 0:n.callback}function kt(e,t){const a=[],n=ct(e,t);for(const t of n){const n=it(e,t);if(null==n)return a;n.type!==H.LANDMARK&&n.type!==H.ROOT||!te(n)||a.push(n)}return a}const wt=(e,t)=>a=>{var n;const r=null!==(n=a.getAttribute(z))&&void 0!==n?n:a.getAttribute(U);if(null==r)return!1;const l=parseInt(r,10);return t===l||st(e,t,l)},Tt=(e,a)=>()=>{var n;const r=vt(e,a);if(null!=r){const e=r.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=e&&e!==t.NO_VALUE)return e}const l={id:a,reason:J.DefaultDelegation},o=e.dynasty.get(a),i=Array.from(null!==(n=window.document.body.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==n?n:[]);if(0===i.length)return l;for(let a=0;a<i.length;a++){const n=i[a].getAttribute(U),r=i[a].getAttribute(z);if(null!=n){const a=parseInt(n,10);if(null==o||!o.has(a))continue;const r=it(e,a);if(!re(r))continue;if(!St(e,a))continue;const l=wt(e,a),c=i.filter(l),s=r.getDelegatedFocus({cachedDescendantElements:c,delegationOrigin:B.Mutation});if(s!=t.NO_VALUE&&null!=s)return s}else if(null!=r){const t=parseInt(r,10);if(null!=o&&o.has(t)&&St(e,t))return{id:t,reason:J.FirstFoundDelegation}}}return l},xt={[X.UP]:Q.PREVIOUS,[X.DOWN]:Q.NEXT,[X.LEFT]:Q.PREVIOUS,[X.RIGHT]:Q.NEXT},It={[X.UP]:X.DOWN,[X.DOWN]:X.UP,[X.LEFT]:X.RIGHT,[X.RIGHT]:X.LEFT},Pt={[X.UP]:V.VERTICAL,[X.DOWN]:V.VERTICAL,[X.LEFT]:V.HORIZONTAL,[X.RIGHT]:V.HORIZONTAL},Ot={[V.VERTICAL]:V.HORIZONTAL,[V.HORIZONTAL]:V.VERTICAL},Nt=(e,t)=>{switch(t){case X.DOWN:return e.top+e.height;case X.UP:return e.top;case X.RIGHT:return e.left+e.width;case X.LEFT:return e.left}},At=e=>[e.left+e.width/2,e.top+e.height/2],Lt=(e,t,a)=>{switch(a){case V.HORIZONTAL:{const a=e.top+e.height,n=t.top+t.height,r=Math.max(t.top-e.top,0)+Math.max(a-n,0);return Math.max(e.height-r,0)/e.height}case V.VERTICAL:{const a=e.left+e.width,n=t.left+t.width,r=Math.max(t.left-e.left,0)+Math.max(a-n,0);return Math.max(e.width-r,0)/e.width}}};function Rt(e,t){var a;const n=e.elements.get(t);if(null!=n&&Z(n))return null==n||null===(a=n.ref)||void 0===a?void 0:a.getBoundingClientRect()}function Dt(e,t,a){for(const l of e.elements){var n,r;const o=l[1];if(o.type!==H.ITEM||!ee(o)||null==(null===(n=e.shortcuts.get(o.id))||void 0===n||null===(r=n.get(W.A))||void 0===r?void 0:r.callback))continue;const i=o.ref.getBoundingClientRect();if(t>=i.left&&t<=i.left+i.width&&a>=i.top&&a<=i.top+i.height)return o}}const _t=e=>{let t=null,a=[1/0,1/0];for(const[r,l]of e.elements){var n;if(!Z(l))continue;const o=null===(n=l.ref)||void 0===n?void 0:n.getBoundingClientRect();if(null==o)continue;if(l.type!==H.ITEM)continue;if(gt(e,l.id))continue;const i=At(o),c=i[0]<a[0],s=i[0]===a[0]&&i[1]<a[1];(c||s)&&(t=r,a=i)}return t},Bt=e=>{const t=e.getAttribute(z);if(null!=t)return parseInt(t)},Wt=(e,a)=>{if(!le(a))return;e.bindingLandmarkStack.push(a.id);const n=a.getDelegatedFocus({delegationOrigin:B.Mutation});return n===t.NO_VALUE?void 0:n};function Ut(e,t,a,n){const r=ae(t)&&St(e,n);return{isFocusableEnabled:r,isFocusableBecomingEnabled:null!=a&&r&&!ae(a),isFocusableBeingAddedEnabled:null==a&&r}}function zt(e,t,a,n){const r=function(e,t,a,n){return null==a&&null!=n&&(re(n)||ne(n))?n:ut(e,null==a&&null!=(null==n?void 0:n.id)?n.id:t.id)}(e,t,a,n),l=null!=r?e.dynasty.get(r.id):void 0;return{closestDelegatingAncestor:r,maybeDynasty:l,closestDelegatingAncestorDynastyHasNoEnabledItems:null==l||!dt(e,l),closestDelegatingLandmark:re(r)?r:void 0}}const jt=e=>{const a=e.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=a&&a!==t.NO_VALUE)return a};function Ht(e,a,n,r,l,o,i,c,s){const{isFocusableEnabled:u,isFocusableBecomingEnabled:d,isFocusableBeingAddedEnabled:m}=Ut(e,a,n,null==r?void 0:r.id),p=null==o||!dt(e,o);return{delegateFocusOnBindingLandmarkCase:function(){const l=ae(a)&&St(e,null==r?void 0:r.id),o=null==n&&l,c=ae(a)&&St(e,null==r?void 0:r.id),u=null!=n&&!ee(a)&&ee(n),d=function(e,a,n,r,l){if(!l)return null;const{newStack:o,discardedStack:i}=function(e,t){const a=[],n=new Set;return e.bindingLandmarkStack.forEach((r=>{st(e,t,r)||t===r?n.add(r):a.push(r)})),{newStack:a,discardedStack:n}}(e,a.id);if(e.bindingLandmarkStack=o,r){const r=function(e,a,n){if(null!=a)for(const r of n)if(st(e,r,a)&&e.bindingLandmarkStack.length>0){const a=it(e,e.bindingLandmarkStack[e.bindingLandmarkStack.length-1]);if(null!=a&&le(a)){const e=a.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=e&&e!==t.NO_VALUE)return e}}}(e,n,i);if(r)return r;if(function(e,t,a){if(null==t)return!1;const n=t===a;return st(e,a,t)||n}(e,n,a.id))return yt(e,a.id,B.Mutation)}}(e,a,i,s,u);if(null!=d)return d;const m=function(e,t,a,n,r){return a&&(n||r)?function(e,t){return Wt(e,t)||function(e,t){const a=Ft(e,t.id);if(null!=a&&a.length>0){const t=it(e,a[0]);if(null!=t&&Z(t))return Wt(e,t)}return null}(e,t)||null}(e,t):null}(e,a,s,c,o);return m||void 0},delegateFocusOnLandmarkIdentityChanged:function(){const r=s&&null!=i&&null!=n&&re(a)&&re(n),l=i===a.id;if(r){const r=c.origin===D.FocusTreeMutation,o=n.delegateFocusByAlias!==a.delegateFocusByAlias,s=a.landmarkKey!==n.landmarkKey;if((o&&r||s)&&(l||st(e,a.id,i))){const e=a.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=e&&e!==t.NO_VALUE)return e}}},delegateFocusIfFocusableAliasChanged:function(){const r=re(l)?l:void 0;if((null==n||Z(n))&&s&&u&&c.origin===D.FocusTreeMutation&&null!=i&&Z(a)&&(null==n||n.alias!==a.alias||d||m)&&null!=r&&(null!=r.delegateFocusByAlias||null!=r.delegationMemoryStack)&&(r.id===i||st(e,r.id,i))){const e=r.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=e&&e!==t.NO_VALUE)return e}},delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(s&&(d||m)&&p&&null!=l&&null!=i&&l.id===i)return jt(l)}}}function Vt(e){var t,a;const n=e.id.toString(),r=e.type===H.LANDMARK;var l;null===(t=e.ref)||void 0===t||t.removeAttribute(r?z:U),null===(a=e.ref)||void 0===a||a.setAttribute(r?U:z,n),null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&(null===(l=e.ref)||void 0===l||l.setAttribute(j,n))}function Gt(e,t,a,n,r,l,o,i){const c=rt(t,a.id);t.elements.set(a.id,a);const s=function(e,t,a){let n;null==a&&"alias"in t&&null!=t.alias&&e.aliases.set(t.alias,t.id);const r=Z(t)?t.alias:void 0;if(a!==r){null!=a&&e.aliases.delete(a);const l=null!=r;l&&e.aliases.set(r,t.id),n=l?r:t.id}return n}(t,a,c);if(null!=r){var u;const e=null!==(u=t.children.get(r))&&void 0!==u?u:new Set;e.add(a.id),t.children.set(r,e),t.parents.set(a.id,r),function(e,t,a){if(le(e))for(let r=t;null!=r;r=a.parents.get(r)){var n;const t=a.elements.get(r);if(null==t)break;const l=null!==(n=a.bindingLandmarkDescendants.get(t.id))&&void 0!==n?n:new Set;if(l.add(e.id),a.bindingLandmarkDescendants.set(t.id,l),le(t))break}}(a,r,t)}return function(e,t,a,n,r){if(null!=e&&Z(t)){const l=null!=a?a:new Set;l.add(t.id),n.dynasty.set(e.id,l),e.type===H.LANDMARK&&e.onDynastyUpdated(r)}}(l,a,o,t,i),function(e,t,a,n){null==t?e&&re(a)&&$t(a,n):(e&&re(t)&&!re(a)&&n.dynasty.delete(a.id),e&&!re(t)&&re(a)&&$t(a,n))}(n,e,a,t),s}function $t(e,t){const a=t.children.get(e.id);if(null!=a){var n;const r=null!==(n=t.dynasty.get(e.id))&&void 0!==n?n:new Set,l=e=>{if(null!=e)for(const a of e){r.has(a)||r.add(a);const e=t.elements.get(a);if(!re(e)){const e=t.children.get(a);l(e)}}};l(a),t.dynasty.set(e.id,r)}}function Kt(e){e.lastDirectionChange=void 0}function Xt(e,t,a,n=0){const r=function(e,t){const a=e.parents.get(t);if(null==a)return null;const n=e.elements.get(a);return null==n?null:n}(e,t);if(null!=r&&r.type===H.LANDMARK&&r.isGrid){const l=Math.trunc(r.gridContainerWidth/r.gridItemWidth),o=e.grids.get(r.id);if(null!=o){const r=function(e,t,a,n,r){const l=e.indexOf(t),o=l%a;switch(n){case X.DOWN:{const t=l+a*(r+1);if(t>e.length-1)return;return t}case X.UP:{const e=l-a*(r+1);if(e<0)return;return e}case X.RIGHT:{const e=l+1+r;if(e%a<o)return;return e}case X.LEFT:{const e=l-1-r;if(e<0||e%a>o)return;return e}}}(o,t,l,a,n);if(null!=r){const l=o[r],i=it(e,l);return null!=i&&ee(i)?l:Xt(e,t,a,n+1)}return}}}function Yt(e){return Math.log(e/(1-e))}const qt=(e,t,a,n)=>{if(null==t)return 1;const r=e.elements.get(t);return null==r||r.type!==H.LANDMARK?1:bt(e,a,t)&&r.scrollAxis==n?1e-6:1},Qt=Math.PI/12*5;function Jt(e,t,a=!1){if(null==t)return;const n=document.body.querySelectorAll("[data-focusable-id]"),r=document.body.querySelector(`[data-focusable-id='${t}']`),l=Et(e,t);if(null==r){const t=Bt(n[0]);if(null==t)return;if(gt(e,t))return;if(null!=l&&!bt(e,t,l))return;return t}const o=((e,t)=>{for(let a=0;a<t.length;a++)if(e===t[a])return a;return null})(r,n);if(null==o)return Bt(n[0]);let i=a?o-1:o+1;const c=()=>{a?i--:i++};for(;o!==i;){i<0&&(i=n.length-1),i>n.length-1&&(i=0);const t=Bt(n[i]);if(null!=t){const a=e.elements.get(t);if(null==a||gt(e,t)){c();continue}if(a.type!==H.ITEM||!0===a.disabled||!0===a.hidden){c();continue}if(null!=l&&!bt(e,t,l)){c();continue}return t}c()}}const Zt=(e,a,n)=>{var r,l;if(null==a)return null!==(l=_t(e))&&void 0!==l?l:1;const o=e.elements.get(a);var i;if(null==o||!Z(o))return null!==(i=_t(e))&&void 0!==i?i:1;const c=null==o||null===(r=o.ref)||void 0===r?void 0:r.getBoundingClientRect();var s;if(null==c)return null!==(s=_t(e))&&void 0!==s?s:a;const u=At(c);let d=a,m=1/0;const p=Pt[n],f=n===X.LEFT||n===X.RIGHT?G.HORIZONTAL:G.VERTICAL,g=Ot[p],E=Et(e,a),h=ht(e,a);(null==e.lastDirectionChange||!((e,t)=>{switch(e){case X.DOWN:case X.UP:return t===X.UP||t===X.DOWN;case X.RIGHT:case X.LEFT:return t===X.LEFT||t===X.RIGHT}})(e.lastDirectionChange[0],n)&&null!=a)&&(e.lastDirectionChange=[n,a]);const b=Xt(e,a,n);if(null!=b)return b;for(const[t,r]of e.elements){var v,F;if(t===a)continue;if(!ee(r))continue;if(r.type===H.LANDMARK&&!re(r))continue;if(r.type===H.LANDMARK&&st(e,t,a))continue;if(gt(e,t))continue;if(pt(e,t,a))continue;if(r.type===H.LANDMARK&&re(r)&&!lt(e,r))continue;const l=null===(v=r.ref)||void 0===v?void 0:v.getBoundingClientRect();if(null==l)continue;const o=null!==(F=Rt(e,e.lastDirectionChange[1]))&&void 0!==F?F:Rt(e,a);if(null==o)continue;const i=At(o),s=At(l),b=(u[p]-s[p])*xt[n],S=(Nt(c,n)-Nt(l,It[n]))*xt[n],y=(Nt(c,n)-Nt(l,n))*xt[n],C=S<0&&b>0?0:S;if(C<0)continue;const M=i[g]-s[g],k=u[g]-s[g];if(null!=E&&!bt(e,t,E))continue;const w=Math.max(C,1),T=Math.abs(b),x=Math.abs(M/(0===C?1:C)),I=Math.atan(x),P=Lt(c,l,p),O=1-P,N=Math.min(Yt(O/2+.5),1e4),A=Lt(c,l,g),L=Math.min(Yt(A/2+.5),7500),R=Qt*A**3,D=x*O,_=(I+R)*O,B=Math.abs(k/T),W=Math.abs(k/(0===y?1:y)),U=Math.atan(B)+R,z=Math.atan(W),j=(y<0||z>=Qt)&&0===P;if(_>=Qt&&(U>=Qt||j))continue;const V=(w+D+N+L)*qt(e,h,t,f);m>V&&(m=V,d=t)}const S=e.elements.get(d);if(re(S)){const a=S.getDelegatedFocus({delegationOrigin:B.UserInput});if(a!==t.NO_VALUE&&null!=a){const t=ot(e,a.id);if(null!=t)return t}}return d},ea=function(){const e=new Map;return(t,a,n)=>(a.forEach((a=>{var r,l,o,i;const c=a;if(c.type===H.ROOT)return;if(null==c.scrollAxis||!0===t.disableScrollIntoView)return;if(null==t.ref)return;if(null==c.ref)return;const s=e.get(c.id);s&&(s(),e.delete(c.id));const{scrollIntoView:u,stopScrolling:d}=function({disabledTransition:e=!1,speedFactor:t=1,align:a="center",scrollOffset:n=0,axis:r="y"}={}){let l,o,i,c,s;const u=300/t,d=()=>{if(!o)return;const t=Date.now()-s,a=t/u,n=t>u||e;o["x"===r?"scrollLeft":"scrollTop"]=Math.round(i+function(e){return--e*e*e+1}(n?1:a)*c),n||window.requestAnimationFrame(d)};return{scrollIntoView(e,t){o=e,l=t;const u=o.getBoundingClientRect(),m=u["x"===r?"width":"height"],p=l.getBoundingClientRect(),f="center"===a?m/2:0;c=("x"===r?p.left:p.top)-("x"===r?u.left:u.top)+("center"===a?p["x"===r?"width":"height"]/2:0)-f+n,i=o["x"===r?"scrollLeft":"scrollTop"],s=Date.now(),Math.abs(c)<5||window.requestAnimationFrame(d)},scrollTo(e,t){o=e,i=o["x"===r?"scrollLeft":"scrollTop"],c=t-i,s=Date.now(),window.requestAnimationFrame(d)},stopScrolling(){o=null,l=null}}}({disabledTransition:n,speedFactor:null!==(r=null!==(l=t.scrollSpeedFactor)&&void 0!==l?l:c.scrollIntoViewSpeedFactor)&&void 0!==r?r:1,align:(t.scrollAlign?t.scrollAlign:c.scrollIntoViewAlign)||"center",scrollOffset:(null!==(o=c.scrollIntoViewOffset)&&void 0!==o?o:0)+(null!==(i=t.scrollOffset)&&void 0!==i?i:0),axis:c.scrollAxis===G.HORIZONTAL?"x":"y"});u(c.ref,t.ref),e.set(c.id,d)})),()=>{for(const t of e.values())t();e.clear()})}();function ta(e,t){const a={},n=ot(e,t);if(null==n)return a;for(const t of oe){var r;const l=null===(r=Ct(e,n,t))||void 0===r?void 0:r.inputLegend;null!=l&&(a[t]=l)}return a}const aa=(0,e.createContext)([(0,t.createStaticFacet)(!0),()=>{}]),na=({isNavigationDisabledFacet:t,setIsNavigationDisabled:a,children:n})=>{const r=(0,e.useMemo)((()=>[t,a]),[t,a]);return e.createElement(aa.Provider,{value:r},n)},ra=(0,e.createContext)((0,t.createStaticFacet)(1)).Provider;var la=a(93096),oa=a.n(la);function ia(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(a),!0).forEach((function(t){sa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ia(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function sa(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ua=[1];function da({children:a,driver:n,initialFocusTree:r,initialFocusedId:l,notifyFocusRequest:o,onFocusedIdChange:i,onFocusTreeChange:c,onFocusedIdChangeFail:s,swapABButtons:u=(0,t.createStaticFacet)(!1),swapXYButtons:d=(0,t.createStaticFacet)(!1),disabledTransition:m=(0,t.createStaticFacet)(!1),keyboardGamepadMap:p}){const f=(0,e.useRef)(2),[g,E]=(0,t.useFacetState)(!1),h={id:null!=l?l:1,origin:D.Initial},[b,v]=(0,t.useFacetState)(h),F=(0,e.useRef)(h),S=(0,e.useCallback)(((e,t)=>{const a={id:e,origin:t};F.current=a,v(a)}),[F,v]),y=(0,t.useFacetMap)((e=>e.origin),[],[b]),C=(0,e.useMemo)((()=>null==r?(()=>{const e={elements:new Map,candidates:new Set,children:new Map,parents:new Map,aliases:new Map,shortcuts:new Map,history:[],bindingLandmarkStack:[],dynasty:new Map,grids:new Map,bindingLandmarkDescendants:new Map},t={type:H.ROOT,id:1,alias:void 0,disabled:!1,hidden:!1,ref:null,scrollAxis:null,onDown:void 0,onUp:void 0,onRight:void 0,onLeft:void 0,onBlur:void 0,onFocus:void 0,disableScrollIntoView:void 0,getDelegatedFocus:Tt(e,1)};return e.elements.set(1,t),e})():r),[r]),[M,k]=(0,t.useFacetState)(C),[w,T]=(0,t.useFacetState)(ta(C,l)),x=(0,t.useFacetRef)(w),[I,P]=(0,t.useFacetState)(p),N=(0,t.useFacetMap)((e=>Object.entries(e).reduce(((e,[t,a])=>{const n=a.reduce(((e,a)=>ca(ca({},e),{},{[a]:t})),{});return ca(ca({},e),n)}),{})),[],[I]),A=(0,e.useRef)(void 0);(0,t.useFacetEffect)((e=>{A.current=e}),[],[N]);const L=tt(),_=(0,e.useCallback)((e=>{const a=ta(C,e);x.current!==t.NO_VALUE&&function(e,t){for(const a in e)if(!(a in t)||e[a]!==t[a])return!1;for(const a in t)if(!(a in e)||e[a]!==t[a])return!1;return!0}(a,x.current)||(T(a),x.current=a)}),[C,x,T]),U=(0,t.useFacetCallback)(((e,t)=>(a,n)=>{if(null!=a&&F.current.id!==a){const r=ot(C,F.current.id);S(a,n),null==i||i(a),((e,t,a)=>{const n=ot(e,t);if(null==n)return;let r;for(let l=e.parents.get(n);null!=l;l=e.parents.get(l)){const n=e.elements.get(l);if(re(n)){if(null==r)n.onFocusableOfDynastyFocused(t,a);else{const t=e.elements.get(r),l=null!=t&&Z(t)?null==t?void 0:t.alias:void 0;n.onFocusableOfDynastyFocused(null!=l?l:r,a)}r=l}}})(C,a,n),((e,t,a)=>{const n=ot(e,a),r=null!=t?e.elements.get(t):void 0;var l;null!=r&&Z(r)&&r.id!==n&&(null===(l=r.onBlur)||void 0===l||l.call(r));const o=null!=n?e.elements.get(n):void 0;var i;null!=o&&Z(o)&&(null===(i=o.onFocus)||void 0===i||i.call(o))})(C,r,a),_(a),e&&(te.current=((e,t,a)=>{if(null==t)return;const n=ot(e,t);if(null==n)return;const r=e.elements.get(n);if(!r||r.type==H.ROOT||!Z(r))return;const l=kt(e,n);return ea(r,l,a)})(C,a,t))}}),[S,i,C,F,_],[L,m]),z=(0,t.useFacetCallback)((e=>(t,a,n)=>{if(Kt(C),n){const t=it(C,e.id);if(null!=t&&Z(t)&&St(C,e.id))return()=>{}}return U(t,a),()=>{Kt(C);const t=it(C,e.id);null!=t&&Z(t)&&St(C,e.id)&&U(e.id,e.origin)}}),[U,C],[b]),j=(0,e.useCallback)(((e,t,a=D.ImperativeSetFocus)=>{const n=it(C,e);return null!=n&&!Z(n)||!St(C,e)?()=>{}:z(e,a,t)}),[z,C,F]),V=(0,e.useMemo)((()=>{const e=e=>{null==c||c(e)};return{generateId:()=>f.current++,press(e,t){const a=ot(C,F.current.id);if(null!=a){const t=((e,t,a)=>{const n="string"==typeof t?e.aliases.get(t):t;if(null==n)return!1;const r=Mt(e,n,a);return null!=r&&(r(),!0)})(C,a,e);if(t)return}if(e in Y){const r=Y[e];if(null!=r){var n;if(null!=a){const e=((e,t,a)=>{const n="string"==typeof t?e.aliases.get(t):t;if(null==n)return!1;const r=e.elements.get(n);if(null==r||!Z(r))return!1;switch(a){case X.LEFT:if(r.onLeft&&r.onLeft())return!0;break;case X.RIGHT:if(r.onRight&&r.onRight())return!0;break;case X.UP:if(r.onUp&&r.onUp())return!0;break;case X.DOWN:if(r.onDown&&r.onDown())return!0}return!1})(C,a,r);if(e)return}const e=Zt(C,a,r);e===a&&null!=s&&1!==e&&s(),U(null!==(n=rt(C,e))&&void 0!==n?n:e,t)}}else switch(e){case W.A:return void((e,t)=>{if(null==t)return;const a=e.elements.get(t);var n,r;null!=a&&a.type===H.ITEM&&(null===(n=e.shortcuts.get(t))||void 0===n||null===(r=n.get(W.A))||void 0===r||r.callback())})(C,a);case W.B:return;case W.NEXT:{const e=Jt(C,a,!1);return void(null!=e&&U(e,D.FocusInput))}case W.PREV:{const e=Jt(C,a,!0);return void(null!=e&&U(e,D.FocusInput))}}},putNode(t,a){const n=F.current,r=!(null!=n.id&&1!=n.id&&(n.origin===D.URL||n.origin===D.Initial))||null!=n.id,l=function(e,t,a,n,r){return Z(t)?function(e,t,a,n,r){const l=it(e,t.id),o=ot(e,n.id),i=it(e,a),{closestDelegatingAncestor:c,maybeDynasty:s}=zt(e,t,l,i),{delegateFocusOnLandmarkIdentityChanged:u,delegateFocusOnBindingLandmarkCase:d,delegateFocusIfFocusableAliasChanged:m,delegateFocusOnDelegatingAncestorHasNoEnabledChildren:p}=Ht(e,t,l,i,c,s,o,n,r);let f;switch(t.type){case H.LANDMARK:{f=Gt(l,e,t,!0,a,c,s,n),Vt(t);const r=u();if(null!=r)return r;const o=d();if(null!=o)return o;break}case H.ITEM:Vt(t),f=Gt(l,e,t,!1,a,c,s,n),function(e,t,a){if(null!=(null==a?void 0:a.id)&&(null==a?void 0:a.type)===H.LANDMARK&&a.isGrid){const r=t.focusGridIndex;if(null!=r){var n;const l=null!==(n=e.grids.get(null==a?void 0:a.id))&&void 0!==n?n:[];l[r]!==t.id&&(l[r]=t.id,e.grids.set(null==a?void 0:a.id,l))}}}(e,t,i)}const g=m();if(g)return g;const E=p();if(E)return E;const h=function(e,t,a,n){const r=a===t.id;if(e&&r&&null!=n)return{id:n,reason:J.FocusableAliasMutation}}(r,t,o,f);return null!=h?h:void 0}(e,t,a,n,r):function(e,t,a,n,r){const l=ot(e,n.id),o=it(e,t.id),i=it(e,a),{closestDelegatingAncestor:c,maybeDynasty:s}=zt(e,t,o,i),{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:u}=function(e,t,a,n,r,l,o,i,c){const{isFocusableBecomingEnabled:s,isFocusableBeingAddedEnabled:u}=Ut(e,t,a,null==n?void 0:n.id),d=null==l||!dt(e,l);return{delegateFocusOnDelegatingAncestorHasNoEnabledChildren:function(){if(c&&(s||u)&&d&&null!=r&&null!=o&&r.id===o)return jt(r)}}}(e,t,o,i,c,s,l,0,r),d=null!=o&&(p=t,!1===(m=o).disabled&&!0===p.disabled||!1===m.hidden&&!0===p.hidden);var m,p;const f=null!=l&&st(e,t.id,l);Gt(o,e,t,!1,a,c,s,n);return u()||(r&&d&&f&&null!=c?jt(c):void 0)}(e,t,a,n,r)}(C,t,a,F.current,r);null!=l&&U(l.id,D.FocusTreeMutation),e(C)},putShortcut(t,a,n){!function(e,t,a,n){var r;const{shortcuts:l}=e;l.get(t)||l.set(t,new Map),null===(r=l.get(t))||void 0===r||r.set(a,n)}(C,t,a,n),_(F.current.id),e(C)},removeNode(a){const n=function(e,a,n){const r=e.elements.get(a);if(!r)return;const l=e.parents.get(a),o=null!=l?e.elements.get(l):void 0,i=function(e,t,a,n){const r=a.id,l=ot(e,r),o=null!=l&&st(e,t.id,l),i=l===t.id;return()=>{if(null!=n&&(o||i)){const t=yt(e,n,B.Mutation);if(null!=t)return t}}}(e,r,n,l);if(Z(r)&&null!=r.alias&&e.aliases.delete(r.alias),null!=l){const t=e.children.get(l);null!=t&&t.delete(a),e.parents.delete(a),function(e,t,a){if((null==a?void 0:a.type)===H.LANDMARK&&a.isGrid&&t.type===H.ITEM){const r=t.focusGridIndex;if(null!=r){var n;const l=null!==(n=e.grids.get(null==a?void 0:a.id))&&void 0!==n?n:[];l[r]===t.id&&(delete l[r],r===l.length-1&&function(e){for(let t=e.length-1;t>=0;t--){if(null!=e[t])return;e.pop()}}(l),e.grids.set(null==a?void 0:a.id,l))}}}(e,r,o),(null==r?void 0:r.type)===H.LANDMARK&&r.isGrid&&e.grids.delete(l),function(e,t){const a=ut(e,t.id);if(null!=a){const n=e.dynasty.get(a.id);null!=n&&n.delete(t.id)}null!=a&&a.type!==H.ROOT&&null!=a.delegationMemoryStack&&a.delegationMemoryStack.forEach((e=>{const a=e.indexOf(t.id);e.splice(a,1)}))}(e,r),r.type===H.LANDMARK&&function(e,t){if(e.bindingLandmarkDescendants.delete(t.id),le(t))for(const[a,n]of e.bindingLandmarkDescendants)n.delete(t.id)}(e,r)}if(e.parents.delete(a),e.elements.delete(a),e.shortcuts.delete(a),le(r)){const a=e.bindingLandmarkStack.indexOf(r.id);if(-1!==a){const n=a===e.bindingLandmarkStack.length-1;if(e.bindingLandmarkStack.splice(a),n&&e.bindingLandmarkStack.length>0){const a=e.bindingLandmarkStack.filter((t=>St(e,t))),n=function(e){if(null!=e&&le(e)){const a=e.getDelegatedFocus({delegationOrigin:B.Mutation});if(null!=a&&a!==t.NO_VALUE)return a}}(it(e,a[e.bindingLandmarkStack.length-1]));if(null!=n)return n}}}const c=i();return null!=c?c:void 0}(C,a,F.current);null!=n&&U(n.id,D.FocusTreeMutation),e(C)},removeShortcut(t,a){!function(e,t,a){const n=e.shortcuts.get(t);n&&(n.delete(a),0===n.size&&e.shortcuts.delete(t))}(C,t,a),_(F.current.id),e(C)},isFocused:(e,t)=>e===F.current.id||null!=t&&t===F.current.id,isFocusable:e=>{const t=it(C,e);return null!=t&&Z(t)&&St(C,e)},containerHasEnabledItems:e=>{const t=it(C,e);return!(null==t||!(e=>e.type===H.LANDMARK||e.type===H.FOCUS_GROUP)(t))&&lt(C,t)},getElement:e=>it(C,ot(C,e)),isAncestorOf:(e,t)=>st(C,e,t),getDynasty:e=>C.dynasty.get(e),getEnabledBindingLandmarkDescendant:e=>vt(C,e)}}),[F,C,U,s,c,k,_]),$=(0,e.useRef)(V),K=(0,t.useFacetMap)((e=>e.id),[],[b]);(0,e.useCallback)((e=>U(e,D.DebugTool)),[U]);const q=(0,e.useRef)([]),Q=(0,e.useRef)([]),ee=(0,e.useCallback)((e=>{const t=F.current,a=ot(C,t.id);if(null==a)return;const n=Mt(C,a,e);null==n||n()}),[C]),te=(0,e.useRef)(void 0),ae=(0,e.useCallback)(((e,t=D.Unknown)=>{Q.current.forEach((t=>t(e))),V.press(e,t)}),[V]),ne=(0,e.useCallback)(oa()((e=>{V.press(e,D.FocusInput)}),125),[V]),oe=(0,e.useCallback)((e=>{q.current.forEach((t=>t(e)));const t=((e,t,a,n)=>{if(null==t)return!1;const r=a[W.RIGHT_VERTICAL_AXIS],l=a[W.RIGHT_HORIZONTAL_AXIS];if(0===r&&0===l)return!1;const o=ot(e,t);if(null==o)return!1;const i=kt(e,o).filter((e=>null!=e.scrollAxis));if(0===i.length)return!1;const c=i[0],s=c.scrollAxis===G.HORIZONTAL?l:r,u=c.scrollAxis===G.HORIZONTAL?"scrollLeft":"scrollTop";if(null==c.ref)return!1;if(!c.shouldScrollWithAnalog){if(c.scrollAxis===G.HORIZONTAL)return s>=0?"right":"left";if(c.scrollAxis===G.VERTICAL)return s>=0?"down":"up"}return c.ref[u]+=20*s,"scroll"})(C,F.current.id,e);!1!==t?("scroll"===t&&te.current&&te.current(),"down"===t?ne(W.LEFT_ANALOG_DOWN):"up"===t?ne(W.LEFT_ANALOG_UP):"left"===t?ne(W.LEFT_ANALOG_LEFT):"right"===t&&ne(W.LEFT_ANALOG_RIGHT)):ne.cancel()}),[C,q,F,ne]);(0,t.useFacetLayoutEffect)(((e,t,a)=>e?void 0:n(ae,oe,t,a,A)),[n,oe,ae,u,d,A],[g,u,d]);const ie=(0,e.useMemo)((()=>{const e={addAnalogListener:e=>(q.current=[...q.current,e],()=>{q.current=O()([e],q.current)}),addDigitalListener:e=>(Q.current=[...Q.current,e],()=>{Q.current=O()([e],Q.current)}),clickAtPoint:(e,t)=>{((e,t,a)=>{const n=Dt(e,t,a);if(null!=n&&n.type===H.ITEM){var r;const t=e.shortcuts.get(n.id);null==t||null===(r=t.get(W.A))||void 0===r||r.callback()}})(C,e,t)},focusAtPoint:(e,t)=>{var a;const n=Dt(C,e,t),r=null!==(a=null==n?void 0:n.alias)&&void 0!==a?a:null==n?void 0:n.id;null!=r&&z(r,D.PointerInput)}};return e}),[z,C]),ce=(0,t.useFacetMap)(((e,t)=>({swapABButtons:e,swapXYButtons:t})),[],[u,d]),se=(0,e.useMemo)((()=>[I,P]),[I,P]);return(0,e.useLayoutEffect)((()=>null==o?()=>{}:o((e=>z(e,D.URL)))),[z,o]),e.createElement(na,{isNavigationDisabledFacet:g,setIsNavigationDisabled:E},e.createElement(R.Provider,{value:ua},e.createElement(ge.Provider,{value:se},e.createElement(he.Provider,{value:j},e.createElement(ve.Provider,{value:y},e.createElement(Ce,{value:ce},e.createElement(xe,{value:$},e.createElement(Ne,{value:ie},e.createElement(Re,{value:w},e.createElement(Be,{value:ee},e.createElement(ra,{value:K},a)))))))))))}const ma=(0,t.sharedFacet)("core.input"),pa=(0,t.sharedFacet)("core.animation");let fa;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(fa||(fa={}));const ga=(0,t.sharedFacet)("core.splitScreen"),Ea=window.engine;function ha(e,t){const a=t;return Ea.on(e,a),()=>Ea.off(e,a)}const ba=(e,t,a,n,r)=>{const l=va(e,t),o=t=>{var a;if(document.activeElement!==document.body||null==r)return;const n=null===(a=r.current)||void 0===a?void 0:a[t.keyCode];return null!=n?(t.preventDefault(),void e(n,D.FocusInput)):t.keyCode===ue.TAB?(t.preventDefault(),void e(t.shiftKey?W.PREV:W.NEXT,D.FocusInput)):void 0},i=t=>{const a=q[t.button];null!=a&&e(a,D.PointerInput)};return document.addEventListener("keydown",o),document.addEventListener("mousedown",i),()=>{document.removeEventListener("keydown",o),l(),document.removeEventListener("mousedown",i)}},va=(e,t)=>{const a=ha("engine:gamepad:onPress",(t=>{e(ce[t],D.FocusInput)})),n=ha("engine:gamepad:onJoystickMovement",((e,a,n,r)=>{t([e,a,n,r])}));return()=>{a(),n()}};function Fa({notifyFocusRequest:a,onFocusedIdChange:n,onFocusedIdChangeFail:r,children:l,keyboardGamepadMap:o}){const i=(0,t.useSharedFacet)(pa),c=(0,t.useSharedFacet)(ga),s=(0,t.useFacetMap)((e=>e.swapABButtons),[],[(0,t.useSharedFacet)(ma)]),u=(0,t.useFacetMap)((e=>e.swapXYButtons),[],[(0,t.useSharedFacet)(ma)]),d=(0,t.useFacetMap)(((e,t)=>!e.screenAnimationEnabled||t.numActivePlayers>1),[],[i,c]);return e.createElement(da,{notifyFocusRequest:a,onFocusedIdChange:n,onFocusedIdChangeFail:r,swapABButtons:s,swapXYButtons:u,disabledTransition:d,keyboardGamepadMap:o,driver:ba},l)}const Sa=(0,e.createContext)((()=>()=>{})),{Provider:ya,Consumer:Ca}=Sa,Ma=()=>(0,e.useContext)(Sa),ka="react-sound-effect.NoSound";function wa(){const t=Ma();return(0,e.useCallback)(((e,a=0,n=1,r=1)=>{e!==ka&&e&&t(e,a,n,r)}),[t])}const Ta=(0,e.createContext)(!0),xa=Ta.Provider,Ia=()=>(0,e.useContext)(Ta),Pa=["neutral","neutral20","neutral50","neutral60","neutral80","neutral100","primary","primaryTint","secondary","tertiary","success","successTint","destructive","destructiveTint","informative","informativeTint","notice","noticeTint","PDPCore","PDPPlus","dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07","dataVizLine","paper","neutralAlpha60"],Oa="regular",Na=["dimmest","dimmer","stronger","strongest","reversed"],Aa=[Oa,...Na],La=["text","icon","border","caret"],Ra=["specular","bevel"],Da=[...La,"background","shadow","outline","overlay","dropShadow",...Ra,"highlight"],_a="default",Ba="hovered",Wa="pressed",Ua="disabled",za="selected",ja="focused",Ha=[za,ja,Ba,Wa,Ua],Va=["default",...Ha],Ga="base",$a="hover",Ka="press",Xa="disable",Ya="select",qa="focus",Qa="interactive",Ja=[$a,Ka,Xa,Ya,qa,Ga],Za=[...Ja,Qa],en={[_a]:Ga,[Ba]:$a,[Wa]:Ka,[ja]:qa,[za]:Ya,[Ua]:Xa},tn={[Ga]:_a,[$a]:Ba,[Ka]:Wa,[qa]:ja,[Ya]:za,[Xa]:Ua},an={button:["text"],pressable:["main","border","text"],panel:["main"],inputLegend:["sideContainer","inputHint"]},nn=Object.keys(an),rn=["reject","click","press","focus","hover","hoverExit","contract","expand","toggle","lift"],ln=e=>La.includes(e),on=e=>Ra.includes(e),cn=(e,t="regular")=>void 0!==e&&t in e,sn=e=>{if(null==e||"object"!=typeof e)return!1;const t=Object.keys(e);return t.length>0&&t.every((e=>Va.includes(e)))},un="semantic-tokens-collection-id-";function dn(e){if(e!==Qa)return tn[e]}function mn(e){return en[e]}const pn=(e,t,a)=>{switch(t){case"background":case"icon":case"shadow":case"highlight":case"overlay":case"dropShadow":return`${e} { background-color: ${a}; }`;case"border":case"outline":return`${e} { border-color: ${a}; }`;case"text":return`${e} { color: ${a}; }`;case"specular":case"bevel":const{top:t,bottom:n}=a;return e.includes("reversed")?`${e} { border-top-color: ${n}; border-left-color: ${n}; border-bottom-color: ${t};  border-right-color: ${t} }`:`${e} { border-top-color: ${t}; border-left-color: ${t}; border-bottom-color: ${n};  border-right-color: ${n} }`;case"caret":return`${e} { caret-color: ${a}; }`}},fn=e=>e.map((({path:e,value:t})=>{if((e=>5===e.length&&nn.includes(e[1]))(e)){if((e=>null!=e&&"object"==typeof e)(t))return((e,t)=>{const a=e.slice(0,-1).join("-"),n=e.slice(0,-1).concat("interactive").join("-"),r=e[e.length-1],l=dn(r);let o,i=("base"===r?`.${a},.${n}`:`.${a}.${l},.${l} .${a},.${n}.${l},.${l} .${n}`)+" {";for(o in t){const e=o.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`));switch(o){case"borderImageSource":case"backgroundImage":i+=`${e}: url(${t[o]});\n`,i+="image-rendering: pixelated;\n","borderImageSource"===o&&(i+="border-width: 0;\n");break;case"color":i+=`color: ${t[o]};\n`,i+="text-shadow: none;\n";break;default:i+=`${e}: ${t[o]};\n`}}return i+="}",i})(e,t)}else if((e=>Pa.includes(e[1]))(e)){if(!(e=>"object"==typeof e&&"top"in e&&"bottom"in e)(t)&&"string"!=typeof t)throw new Error(`Expected ${JSON.stringify(e)}'s value "${t}" to be of type "string" or "LightingEffectType"`);return((e,t)=>{const{element:a,selector:n}=(e=>{const t=e[2],a=ln(t),n=on(t),r=e[e.length-1],l=dn(r),o=a?e.splice(3,1)[0]:void 0,i=e.join("-"),c=e.slice(0,-1).join("-"),s=e.slice(0,-1).concat("interactive").join("-");if(n)return{element:t,selector:["base"===r?`.${c},.${s}`:`.${i}.${l},.${l} .${i},.${s}.${l},.${l} .${s}`,"base"===r?`.${c}.reversed,.${s}.reversed`:`.${i}.reversed.${l},.${l} .${i}.reversed,.${s}.reversed.${l},.${l} .${s}.reversed`]};const u=null==o||"regular"===o?"":`.${o}`;return{element:t,selector:"base"===r?`.${c}${u},.${s}${u}`:`.${i}${u}.${l},.${l} .${i}${u},.${s}${u}.${l},.${l} .${s}${u}`}})(e);return Array.isArray(n)?n.map((e=>pn(e,a,t))).join(""):pn(n,a,t)})(e,t)}throw new Error(`Unknown path ${JSON.stringify(e)} and value "${JSON.stringify(t)}"`)})).join(""),gn=(0,e.createContext)("neutral"),En=()=>(0,e.useContext)(gn),hn=({children:t,role:a})=>"inherit"===a?e.createElement(e.Fragment,null,t):e.createElement(gn.Provider,{value:a},t),bn=(()=>{const e={};for(const t of Ha)e[t]=t;return e})(),vn=(()=>{const e={};for(const t of Na)e[t]=t;return e})(),Fn={},Sn=(e,t)=>{const a=((e,t)=>{const a={};for(const i of Pa){var n;a[i]={};const c=null==t||null===(n=t.sound)||void 0===n?void 0:n[i];for(const t of rn){var r,l,o;a[i][t]=null!==(r=null==e||null===(l=e.sound)||void 0===l||null===(o=l[i])||void 0===o?void 0:o[t])&&void 0!==r?r:null==c?void 0:c[t]}}return a})(e,t),{color:n,rawColor:r}=((e,t)=>{const a={color:{},rawColor:{}},n=null==e?null:e.id;for(const F of Pa){a.color[F]={},a.rawColor[F]={};for(const S of Da){var r,l;const y=null==e||null===(r=e.color)||void 0===r||null===(l=r[F])||void 0===l?void 0:l[S];if(null!=y||null==t){if(a.rawColor[F][S]={},ln(S))for(const t of Aa){var o,i,c;a.rawColor[F][S][t]={};const n=null==e||null===(o=e.color)||void 0===o||null===(i=o[F])||void 0===i||null===(c=i[S])||void 0===c?void 0:c[t];for(const e of Va)a.rawColor[F][S][t][e]=null==n?void 0:n[e]}else if(on(S))for(const t of Va){var s,u,d,m,p,f,g,E;a.rawColor[F][S][t]={},a.rawColor[F][S][t].top=null==e||null===(s=e.color)||void 0===s||null===(u=s[F])||void 0===u||null===(d=u[S])||void 0===d||null===(m=d[t])||void 0===m?void 0:m.top,a.rawColor[F][S][t].bottom=null==e||null===(p=e.color)||void 0===p||null===(f=p[F])||void 0===f||null===(g=f[S])||void 0===g||null===(E=g[t])||void 0===E?void 0:E.bottom}else for(const t of Va){var h,b,v;a.rawColor[F][S][t]=null==e||null===(h=e.color)||void 0===h||null===(b=h[F])||void 0===b||null===(v=b[S])||void 0===v?void 0:v[t]}a.color[F][S]={};for(const e of Za)a.color[F][S][e]="base"===e?null!=y?`${n}-${F}-${S}`:void 0:null!=y?`${n}-${F}-${S}-${e}`:void 0}else a.color[F][S]=t.color[F][S],a.rawColor[F][S]=t.rawColor[F][S]}}return a})(e,t),l=(e=>{const t={},a=null==e?null:e.id;for(const c of nn){t[c]={};for(const s of Pa){t[c][s]={};for(const u of an[c]){var n,r;t[c][s][u]={};const d=null==e||null===(n=e.component)||void 0===n||null===(r=n[c])||void 0===r?void 0:r[s],m=(i=u,null!=(o=d)&&Object.prototype.hasOwnProperty.call(o,i));t[c][s][u]={},m&&sn(null==d?void 0:d[u])?t[c][s][u].interactive=`${a}-${c}-${s}-${u}-interactive`:t[c][s][u].interactive=void 0;for(const e of Ja){var l;const n=dn(e);null!=n&&(m&&null!=(null==d||null===(l=d[u])||void 0===l?void 0:l[n])?t[c][s][u][e]="base"===e?`${a}-${c}-${s}-${u}`:`${a}-${c}-${s}-${u}-${e}`:t[c][s][u][e]=void 0)}}}}var o,i;return t})(e);return{color:n,component:l,variant:vn,modifier:bn,rawColor:r,sound:a}},yn=Sn(null);function Cn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(a),!0).forEach((function(t){kn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Cn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function kn(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const wn=(0,e.createContext)({registerCollection:()=>{}}),Tn={id:void 0,tokens:yn},xn=(0,e.createContext)(Tn),In=()=>{const t=(0,e.useContext)(xn);return null==t.id&&console.error("Trying to use tokens context outside of provider."),t.tokens},Pn=Array.from(document.querySelectorAll(`head style[id^="${un}"]`)).reduce(((e,t)=>Mn(Mn({},e),{},{[t.id.replace(un,"")]:t})),{}),On=({children:t})=>{const a=(0,e.useRef)(Pn),n=(0,e.useRef)({}),r=(0,e.useMemo)((()=>({registerCollection:e=>{if(null!=a.current[e.id])return;const t=(r=e.id,`${un}${r}`);var r;const l=document.querySelector(`head style[id="${t}"]`);null!=l&&document.head.removeChild(l);const o=document.createElement("style");o.id=t,o.innerHTML=(e=>{const t=(e=>{const t=[],a=(e,n)=>{if(null!=e&&"object"==typeof e)if(sn(e))Va.forEach((a=>{null!=e[a]&&t.push({path:[...n,mn(a)],value:e[a]})}));else for(const t in e)a(e[t],[...n,t])};return a(e.color,[e.id]),a(e.component,[e.id]),t})(e);return fn(t)})(e),document.head.appendChild(o),a.current[e.id]=o,n.current[e.id]=e}})),[]);return e.createElement(wn.Provider,{value:r},t)},Nn=({collection:t,children:a})=>{const n=(0,e.useContext)(wn),r=null==n?void 0:n.registerCollection,l=(0,e.useContext)(xn);(0,e.useEffect)((()=>{null!=t&&null!=r&&r(t)}),[t,r]);const o=(0,e.useMemo)((()=>{const e=((e,t)=>{if(null==e)return yn;const a=e.id;return null==Fn[a]&&(Fn[a]=Sn(e,t)),Fn[a]})(t,l.tokens);return{id:null==t?void 0:t.id,tokens:e}}),[t,l]);return null==t?e.createElement(e.Fragment,null,a):e.createElement(xn.Provider,{value:o},a)},An=e=>{const t={id:e.id,color:{},component:e.component,sound:{}};for(const f of Pa){var a,n;if(t.sound[f]=(null===(a=e.sound)||void 0===a?void 0:a[f])||(null===(n=e.sound)||void 0===n?void 0:n.neutral)||{},e.color[f]){t.color[f]={};for(const a of Da){var r;const n=e.color[f],g=null===(r=e.color)||void 0===r?void 0:r.neutral,E=null==n?void 0:n[a];if(ln(a)){for(const e of Aa)if(cn(E,e)||null==E&&e===Oa){var l,o,i,c,s,u;t.color[f][a]=null!==(l=t.color[f][a])&&void 0!==l?l:{};const n=null==E?void 0:E[e],r=null==E?void 0:E.regular,d=(null==g||null===(o=g[a])||void 0===o?void 0:o[e])||(null==g||null===(i=g[a])||void 0===i?void 0:i.regular);t.color[f][a][e]=null!==(c=null!=n?n:r)&&void 0!==c?c:d;const m=null!==(s=null!==(u=null==n?void 0:n.disabled)&&void 0!==u?u:null==r?void 0:r.disabled)&&void 0!==s?s:null==d?void 0:d.disabled;null!=m&&(t.color[f][a][e].disabled=m)}}else if(n){const e=null!=E?E:null==g?void 0:g[a];if(sn(e)){var d,m,p;t.color[f][a]=null!==(d=t.color[f][a])&&void 0!==d?d:{},t.color[f][a]=e;const n=null!==(m=null==e?void 0:e.disabled)&&void 0!==m?m:null==g||null===(p=g[a])||void 0===p?void 0:p.disabled;null!=n&&(t.color[f][a].disabled=n)}}}}}return t};function Ln(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(a),!0).forEach((function(t){Dn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ln(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Dn(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const _n=e=>{const t=Va.reduce(((t,a)=>Rn(Rn({},t),{},{[a]:e})),{});return Da.reduce(((e,a)=>ln(a)?Rn(Rn({},e),{},{[a]:Aa.reduce(((e,a)=>Rn(Rn({},e),{},{[a]:t})),{})}):Rn(Rn({},e),{},{[a]:t})),{})},Bn=(e,t)=>rn.reduce(((a,n)=>Rn(Rn({},a),{},{[n]:`${e}.${t}.${n}`})),{}),Wn=e=>Pa.reduce(((t,a)=>{const n=Array.isArray(an[e])?an[e]:[];return Rn(Rn({},t),{},{[a]:n.reduce(((e,t)=>Rn(Rn({},e),{},{[t]:{}})),{})})}),{}),Un=({defineComponentsCollection:e})=>{const t="mockTokens",a=e?nn.reduce(((e,t)=>Rn(Rn({},e),{},{[t]:Wn(t)})),{}):void 0;return An({id:t,color:Pa.reduce(((e,t)=>Rn(Rn({},e),{},{[t]:_n("mock")})),{}),sound:Pa.reduce(((e,a)=>Rn(Rn({},e),{},{[a]:Bn(t,a)})),{}),component:a})};function zn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function jn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(a),!0).forEach((function(t){Hn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Hn(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Vn(e){const t=In(),a=En(),n="inherit"===e?a:e;return null==n?jn(jn({},t.color),{},{inherit:t.color[a]}):t.color[n]}function Gn(e){const t=In(),a=En(),n="inherit"===e?a:e;return null==n?jn(jn({},t.rawColor),{},{inherit:t.rawColor[a]}):t.rawColor[n]}function $n(e){const t=In(),a=En(),n="inherit"===e?a:e;return null==n?jn(jn({},t.sound),{},{inherit:t.sound[a]}):t.sound[n]}function Kn(e,t){const a=In(),n=En(),r="inherit"===t?n:t;return null==r?jn(jn({},a.component[e]),{},{inherit:a.component[e][n]}):a.component[e][r]}function Xn(){return In().variant}function Yn(){return In().modifier}Un({defineComponentsCollection:!1}),Un({defineComponentsCollection:!0}),An({id:"example",sound:{neutral:{reject:"note.bass",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"tokens.vanilla.release"}},color:{neutral:{background:{default:"red",hovered:"red",pressed:"red",disabled:"red"},text:{dimmer:{default:"red",disabled:"red"},dimmest:{default:"red"},regular:{default:"red",disabled:"red"}},shadow:{default:"red",disabled:"red"},dropShadow:{default:"red"},icon:{regular:{default:"red",disabled:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"},overlay:{default:"red"}},neutral20:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},outline:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},neutral50:{background:{default:"red",hovered:"red",pressed:"red"},border:{regular:{default:"red",disabled:"red"}},overlay:{default:"red"}},neutral60:{background:{default:"red",hovered:"red",pressed:"red"},border:{dimmest:{default:"red"}},text:{regular:{default:"red"}}},neutral80:{background:{default:"red",hovered:"red",selected:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}},caret:{regular:{default:"red"}},bevel:{default:{top:"red",bottom:"red"},hovered:{top:"red",bottom:"red"},pressed:{top:"red",bottom:"red"},selected:{top:"red",bottom:"red"}}},neutral100:{background:{default:"red"},text:{regular:{default:"red"},dimmer:{default:"red"},dimmest:{default:"red"}}},primary:{background:{default:"red",hovered:"red",pressed:"red"},shadow:{default:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},primaryTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},secondary:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},border:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}}},success:{background:{default:"red"},text:{regular:{default:"red"}}},successTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informative:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},informativeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},destructive:{background:{default:"red",hovered:"red",pressed:"red"},text:{regular:{default:"red"}},icon:{regular:{default:"red"}},shadow:{default:"red"},specular:{default:{top:"red",bottom:"red"}}},destructiveTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},notice:{background:{default:"red"}},noticeTint:{background:{default:"red"},text:{regular:{default:"red"}},border:{regular:{default:"red"}}},paper:{background:{default:"red"},text:{regular:{default:"red",disabled:"red"}},icon:{regular:{default:"red",disabled:"red"}},border:{regular:{default:"red",disabled:"red"}},caret:{regular:{default:"red"}},specular:{default:{top:"red",bottom:"red"}},bevel:{default:{top:"red",bottom:"red"}},outline:{default:"red"},highlight:{default:"transparent",hovered:"red"}}},component:{panel:{neutral:{main:{default:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"},hovered:{borderImageSlice:"27 27 27 26 fill",borderImageWidth:"4rem",borderImageSource:"panel"}}}},pressable:{primary:{main:{default:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDefault"},hovered:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryHovered"},pressed:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryPressed"},disabled:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryDisabled"},focused:{borderImageSlice:"62 62 62 62 fill",borderImageWidth:"15",borderImageSource:"pressablePrimaryFocused"}}}}}});const qn=({state:t,api:a,children:l})=>e.createElement(r.Provider,{value:a},e.createElement(n.Provider,{value:t},l)),Qn=(0,t.sharedFacet)("core.router");function Jn({children:a,keyboardGamepadMap:n}){const r=(0,t.useSharedFacet)(Qn),l=(0,e.useRef)(""),o=(0,e.useRef)(""),i=(0,e.useRef)(!1);(0,t.useFacetEffect)((e=>{if(!i.current){const t=e.history.action;if("POP"===t)l.current=o.current,o.current="";else if("PUSH"===t){const t=e.history.list.length,a=e.history.list[t-1];a&&(o.current=a.pathname,l.current="")}}i.current=!1}),[],[r]);const c=(0,t.useFacetMap)((e=>{const t=e.history.list;return{length:e.history.length,action:e.history.action,list:0===t.length?[{pathname:"/__INVALID_ROUTE__",hash:"",search:"",state:""}]:t}}),[],[r]),u=(0,t.useFacetRef)((0,t.useFacetMap)((e=>{const t=e.history.list,a=t[t.length-1];return null==a?"":a.pathname}),[],[r]),""),d=(0,t.useFacetCallback)((({history:e})=>()=>{u.current!=l.current?(l.current=u.current,o.current="",i.current=!0,e.goBack()):console.warn("JAVASCRIPT:Attempting to go back from the same location multiple times consecutively.")}),[l,u],[r]),m=(0,t.useFacetCallback)((({history:e})=>t=>{const a=(e=>{const t=e.indexOf("?"),a=e.indexOf("#");let n=-1;return-1!==t?n=t:-1!==a&&(n=a),-1!==n?e.substring(0,n):e})(t);a!=o.current?(o.current=a,l.current="",i.current=!0,e.push(t)):console.warn("JAVASCRIPT:Attempting to push the same route multiple times consecutively.")}),[],[r]),p=(0,t.useFacetCallback)((({history:e})=>t=>{e.replace(t)}),[],[r]),f=(0,t.useFacetCallback)((({history:e})=>t=>{u.current!=l.current?(l.current=u.current,o.current="",e.go(t)):console.warn("Attempting to go back from the same location multiple times consecutively.")}),[l,u],[r]),g=(0,e.useMemo)((()=>({goBack:d,push:m,replace:p,go:f})),[d,m,p,f]),E=wa(),h=Ia(),b=$n("neutral"),v=null==b?void 0:b.reject,F=(0,e.useCallback)((()=>{h&&null!=v&&E(v,0,.5,.75)}),[h,E,v]),S=(0,e.useCallback)((e=>c.observe((({list:t})=>{const a=t[t.length-1];if(null==a)return;const n=function(e,t=!1){const a=new s(t?e.hash:e.search),n=a.get("alias");if("string"==typeof n&&0!==n.length)return n;const r=a.get("nodeId");return null!=r?parseInt(r,10):void 0}(a);null!=n&&e(n)}))),[c]);return e.createElement(Fa,{notifyFocusRequest:S,onFocusedIdChangeFail:F,keyboardGamepadMap:n},e.createElement(qn,{state:c,api:g},a))}const Zn=(0,t.createStaticFacet)("PUSH"),er=(0,t.createStaticFacet)(!1),tr=({route:a,component:n,transitionComponent:r,alwaysMounted:l,disabledCached:o,match:c=er,action:s=Zn})=>{const u=(0,t.useFacetWrap)(c),d=(0,t.useFacetMap)((e=>0!=e),[],[u]),m=n,p=r;return e.createElement(ar,{route:a},e.createElement(i.Provider,{value:(0,t.useFacetMap)((e=>0!=e?e.params:t.NO_VALUE),[],[u])},e.createElement(x,{value:d},e.createElement(p,{visible:d,alwaysMounted:l,unmountOnExit:(0,t.useFacetMap)((e=>!!o||"POP"===e),[o],[s]),contentComponent:m,inverse:(0,t.useFacetMap)((e=>"POP"===e),[],[s])}))))},ar=({route:a,children:r})=>{const l=(0,e.useContext)(n),i=(0,e.useMemo)((()=>E(a)),[a]),c=(0,t.useFacetMemo)((({list:e})=>null!=e.find((({pathname:t},a)=>a!=e.length-1&&i(t)))),[i],[l]);return e.createElement(o.Provider,{value:c},r)},nr={base:"qp8dp",exited:"Al8HR"};var rr=a(94184),lr=a.n(rr);function or({children:t,active:a}){return e.createElement(x,{value:a},t)}const ir=()=>d(),cr=(0,e.createContext)({block:()=>{},unblock:()=>{},contentfulPaint:()=>{},meaningfulPaint:()=>{}});function sr(){return(0,e.useContext)(cr)}let ur=0;function dr({type:a,renderingCompleted:n}){const r=sr(),l=ir(),o=(0,e.useMemo)((()=>ur++),[]);return(0,t.useFacetEffect)(((e,t)=>{if(!e)return r.unblock(o,a);t?r.unblock(o,a):r.block(o,a)}),[o,r,a],[l,(0,t.useFacetWrap)(n)]),null}function mr(e){if(!e.map((e=>e.get())).reduce(((e,a)=>e&&a!==t.NO_VALUE),!0))return t.NO_VALUE}const pr=({children:a,disabled:n,hidden:r})=>{const l=(0,e.useContext)(ke),o=(0,e.useMemo)((()=>l.current.generateId()),[l]),i=(0,t.useFacetWrap)(n),c=(0,t.useFacetWrap)(r),s=(0,e.useContext)(R),u=s[s.length-1],d=(0,e.useRef)();(0,e.useMemo)((()=>{var e;if(mr([i,c])===t.NO_VALUE&&!l.current.getElement(o)){const e={id:o,type:H.FOCUS_GROUP,disabled:!0,hidden:!0};l.current.putNode(e,u)}null===(e=d.current)||void 0===e||e.call(d),d.current=(0,t.multiObserve)(((e,t)=>{const a={id:o,type:H.FOCUS_GROUP,disabled:!0===e,hidden:!0===t};l.current.putNode(a,u)}),[i,c])}),[o,l,u,i,c]),(0,e.useEffect)((()=>()=>{var e;null===(e=d.current)||void 0===e||e.call(d)}),[]),(0,e.useEffect)((()=>()=>l.current.removeNode(o)),[l,o]);const m=[...s,o],p=(0,e.useMemo)((()=>({children:t})=>e.createElement(R.Provider,{value:m},t)),m);return e.createElement(p,null,a)},fr=(0,t.createStaticFacet)(!1);function gr({visible:a,unmountOnExit:n=fr,alwaysMounted:r,contentComponent:l}){const o=(0,t.useFacetWrap)(a),i=(0,t.useFacetMap)((e=>!e),[],[o]),c=(0,e.useMemo)((()=>e.memo(l)),[l]),s=(0,e.useRef)(!1),u=(0,t.useFacetCallback)((e=>t=>{const a=r||(e?t:s.current||t);return s.current=a,a}),[r],[(0,t.useFacetWrap)(n)]),d=(0,t.useFacetMap)((e=>u(e)),[u],[o]);return e.createElement(t.Mount,{when:d},e.createElement(x,{value:o},e.createElement(pr,{disabled:i},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()(nr.base,{[nr.entered]:e,[nr.exited]:!e})),[],[o])},e.createElement(dr,{type:"contentful",renderingCompleted:o}),e.createElement(c,null)))))}function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Er.apply(this,arguments)}const hr=()=>u(),br=()=>{const e=(0,t.useFacetUnwrap)(f());return e===t.NO_VALUE?new s(""):e},vr=()=>{const e=(0,t.useFacetUnwrap)(m());return e===t.NO_VALUE?{}:e},Fr=t=>{var a;return e.createElement(tr,Er({},t,{transitionComponent:null!==(a=t.transitionComponent)&&void 0!==a?a:gr}))},Sr={[He.IOS]:We.HANDHELD_SCREEN_TYPE,[He.GOOGLE]:We.HANDHELD_SCREEN_TYPE,[He.AMAZON_HANDHELD]:We.HANDHELD_SCREEN_TYPE,[He.UWP]:We.DESKTOP_SCREEN_TYPE,[He.XBOX]:We.TV_SCREEN_TYPE,[He.NX_HANDHELD]:We.HANDHELD_SCREEN_TYPE,[He.PS4]:We.TV_SCREEN_TYPE,[He.GEARVR]:We.HANDHELD_SCREEN_TYPE,[He.WIN32]:We.DESKTOP_SCREEN_TYPE,[He.MACOS]:We.DESKTOP_SCREEN_TYPE,[He.AMAZON_TV]:We.TV_SCREEN_TYPE,[He.NX_TV]:We.TV_SCREEN_TYPE,[He.PS5]:We.TV_SCREEN_TYPE},yr={[He.IOS]:Ge.XBOX,[He.GOOGLE]:Ge.XBOX,[He.AMAZON_HANDHELD]:Ge.XBOX,[He.UWP]:Ge.XBOX,[He.XBOX]:Ge.XBOX,[He.NX_HANDHELD]:Ge.SWITCH,[He.PS4]:Ge.PS,[He.GEARVR]:Ge.QUEST,[He.WIN32]:Ge.XBOX,[He.MACOS]:Ge.XBOX,[He.AMAZON_TV]:Ge.XBOX,[He.NX_TV]:Ge.SWITCH,[He.PS5]:Ge.PS},Cr=e=>e===ze.GAMEPAD||e===ze.KEYBOARD,Mr=e=>e===ze.MOUSE||e===ze.TOUCH;function kr({lastInputMethodUsed:a,supportedInputMethods:n,platform:r,arvrPlatform:l,children:o}){const i=((a,n,r)=>{const l=((a,n)=>{const[r,l]=(0,t.useFacetState)(null),o=(0,e.useRef)(!1);return(0,t.useFacetEffect)(((e,t,a)=>{o.current||null!=t?Mr(e)&&t!=e&&l(e):(o.current=!0,l(((e,t)=>{if(Mr(e))return e;switch(t){case He.WIN32:case He.MACOS:return ze.MOUSE;case He.NX_HANDHELD:case He.IOS:case He.GOOGLE:case He.AMAZON_HANDHELD:return ze.TOUCH;default:return null}})(e,a)))}),[l],[a,r,n]),r})(a,r),o=((a,n)=>{const[r,l]=(0,t.useFacetState)(null),o=(0,e.useRef)(!1);return(0,t.useFacetEffect)(((e,t,a)=>{o.current||null!=t?Cr(e)&&t!=e&&l(e):(o.current=!0,l(((e,t)=>{if(Cr(e))return e;switch(t){case He.WIN32:case He.MACOS:case He.UWP:return ze.KEYBOARD;case He.XBOX:case He.NX_HANDHELD:case He.PS4:case He.GEARVR:case He.AMAZON_TV:case He.NX_TV:case He.PS5:return ze.GAMEPAD;default:return null}})(e,a)))}),[l],[a,r,n]),r})(a,r);return{isPointerInputMouse:(0,t.useFacetMemo)((e=>e===ze.MOUSE),[],[l]),isPointerInputTouch:(0,t.useFacetMemo)((e=>e===ze.TOUCH),[],[l]),isPointerInputAvailable:(0,t.useFacetMemo)((e=>null!=e),[],[l]),isFocusInputGamepad:(0,t.useFacetMemo)((e=>e===ze.GAMEPAD),[],[o]),isFocusInputKeyboard:(0,t.useFacetMemo)((e=>e===ze.KEYBOARD),[],[o]),isFocusInputAvailable:(0,t.useFacetMemo)((e=>null!=e),[],[o]),isLastInputMouse:(0,t.useFacetMemo)((e=>e===ze.MOUSE),[],[a]),isLastInputTouch:(0,t.useFacetMemo)((e=>e===ze.TOUCH),[],[a]),isLastInputGamepad:(0,t.useFacetMemo)((e=>e===ze.GAMEPAD),[],[a]),isLastInputKeyboard:(0,t.useFacetMemo)((e=>e===ze.KEYBOARD),[],[a]),isLastInputPointer:(0,t.useFacetMemo)((e=>e===ze.MOUSE||e===ze.TOUCH),[],[a]),isLastInputFocus:(0,t.useFacetMemo)((e=>e===ze.KEYBOARD||e===ze.GAMEPAD),[],[a]),isGamepadSupported:(0,t.useFacetMemo)((e=>e.includes(ze.GAMEPAD)),[],[n]),isKeyboardSupported:(0,t.useFacetMemo)((e=>e.includes(ze.KEYBOARD)),[],[n]),isMouseSupported:(0,t.useFacetMemo)((e=>e.includes(ze.MOUSE)),[],[n]),isTouchSupported:(0,t.useFacetMemo)((e=>e.includes(ze.TOUCH)),[],[n]),isPointerSupported:(0,t.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(Mr(e[t]))return!0;return!1}),[],[n]),isFocusSupported:(0,t.useFacetMemo)((e=>{for(let t=0;t<e.length;t++)if(Cr(e[t]))return!0;return!1}),[],[n])}})(a,n,r),c=(0,t.useFacetMemo)((e=>function(e){return Sr[e]}(e)),[],[r]),s=(0,t.useFacetMemo)((e=>function(e){return yr[e]}(e)),[],[r]);return function(e){(0,t.useFacetEffect)((e=>{e===ze.MOUSE?document.body.style.cursor="auto":document.body.style.cursor="none"}),[],[e])}(a),e.createElement($e.Provider,{value:i},e.createElement(Ke.Provider,{value:r},e.createElement(Xe.Provider,{value:l},e.createElement(Ye.Provider,{value:c},e.createElement(qe.Provider,{value:s},o)))))}const wr=(e,a,n,r,l=!1)=>(0,t.useFacetMap)(((t,a)=>l||r.current===e&&t===ze.KEYBOARD&&a.includes(e)),[e,r,l],[a,n]),Tr=(a,n,r)=>{const{supportedInputMethods:l,setKeyboardIsSupported:o}=(a=>{const[n,r]=(0,t.useFacetState)([]),l=(0,e.useRef)(!1),o=(0,t.useFacetCallback)((e=>()=>{if(!l.current){l.current=!0;const t=Array.from(e);t.push(ze.KEYBOARD),r(t)}}),[r],[n]);return(0,t.useFacetEffect)(((e,t)=>{if((l.current?e.length-1:e.length)!==t.length||!t.every((t=>e.includes(t)))){const e=Array.from(t);l.current&&e.push(ze.KEYBOARD),r(e)}}),[r],[n,a]),{supportedInputMethods:n,setKeyboardIsSupported:o}})(n),[i,c,s]=(a=>{const n=(0,t.useFacetState)(null),[r,l]=n,o=(0,e.useRef)(null),i=(0,e.useCallback)((e=>{l((a=>a===e?a:(a!==t.NO_VALUE&&(o.current=a),e)))}),[l]);return(0,t.useFacetEffect)((e=>{null!=e&&i(e)}),[i],[a]),[r,i,o]})(a),u=wr(ze.MOUSE,i,l,s,null==r?void 0:r.trackAllUserInput),d=wr(ze.TOUCH,i,l,s,null==r?void 0:r.trackAllUserInput),m=wr(ze.GAMEPAD,i,l,s,null==r?void 0:r.trackAllUserInput),p=(0,t.useFacetMap)((e=>e!==ze.KEYBOARD),[],[i]);var f,g;return function(a,n,r){const l=(a=>{const n=(0,e.useRef)(-1);return(0,t.useFacetEffect)((e=>{if(!e)return;const t=e=>{n.current=e.timeStamp};return window.addEventListener("touchend",t),()=>{window.removeEventListener("touchend",t)}}),[],[a]),n})((0,t.useFacetMap)((e=>e.includes(ze.MOUSE)&&e.includes(ze.TOUCH)),[],[r])),o=(0,e.useRef)(null);(0,t.useFacetEffect)((e=>{if(!e)return void(o.current=null);const t=e=>l.current===e.timeStamp,a=e=>{const a=[e.clientX,e.clientY];if(!o.current)return void(o.current=a);const r=Math.abs(a[0]-o.current[0]),l=Math.abs(a[1]-o.current[1]);if(Math.sqrt(Math.pow(r,2)+Math.pow(l,2))>10){if(o.current=null,t(e))return;n()}},r=e=>{3!==e.button&&(t(e)||n())},i=()=>{n()};return window.addEventListener("mousemove",a),window.addEventListener("mousedown",r),window.addEventListener("wheel",i),()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mousedown",r),window.removeEventListener("wheel",i)}}),[n,l],[a])}(u,(()=>{c(ze.MOUSE)}),n),f=d,g=()=>{c(ze.TOUCH)},(0,t.useFacetEffect)((e=>{if(e)return window.addEventListener("touchstart",g),window.addEventListener("touchend",g),()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchend",g)}}),[g],[f]),((e,a)=>{(0,t.useFacetEffect)((e=>{if(e)return window.addEventListener("keyup",a),()=>{window.removeEventListener("keyup",a)}}),[a],[e])})(p,(()=>{o(),c(ze.KEYBOARD)})),function(e,a){(0,t.useFacetEffect)((e=>{if(e)return(e=>{const t=ha("engine:gamepad:onPress",(()=>{e()})),a=ha("engine:gamepad:onJoystickMovement",(()=>{e()}));return()=>{t(),a()}})(a)}),[a],[e])}(m,(()=>{c(ze.GAMEPAD)})),{lastInputMethodUsed:i,supportedInputMethods:l}};let xr;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.APPDATA=2]="APPDATA"}(xr||(xr={}));const Ir=(0,t.sharedFacet)("core.deviceInformation");function Pr(a){let{children:n}=a,r=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["children"]);const l=(0,t.useSharedFacet)(Ir),o=(0,t.useSharedFacet)(ma),i=(0,t.useFacetMap)((e=>e.currentInputType),[],[o]),c=(0,t.useFacetMap)((e=>e.inputMethods),[],[l]),s=(0,t.useFacetMap)((e=>e.platform),[],[l]),u=(0,t.useFacetMap)((e=>e.arvrPlatform),[],[l]),{lastInputMethodUsed:d,supportedInputMethods:m}=Tr(i,c,r);return e.createElement(kr,{platform:s,arvrPlatform:u,lastInputMethodUsed:d,supportedInputMethods:m},n)}function Or({children:t,errorComponent:a,dismissTimeout:n}){const[r,l]=(0,e.useState)(null),o=(0,e.useCallback)((e=>{l(e),Ea.trigger("core:exception")}),[]),i=(0,e.useCallback)((()=>{l(null)}),[]);return null==a?e.createElement(e.Fragment,null,"children"):e.createElement(Nr,{onError:o},r?e.createElement(Ar,{dismissTimeout:null!=n?n:4e4,errorMessage:void 0,errorComponent:a,onDismiss:i}):t)}(0,t.sharedSelector)((e=>e.platform===He.PS4||e.platform===He.PS5),[Ir]);class Nr extends e.Component{static getDerivedStateFromError(){}componentDidCatch(e){this.props.onError(e)}render(){return this.props.children}}function Ar({errorComponent:a,errorMessage:n,onDismiss:r,dismissTimeout:l}){const o=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(Qn)),i=(0,e.useCallback)((()=>{null!=o&&o!==t.NO_VALUE&&o.history.goBack(),requestAnimationFrame(r)}),[o,r]);return(0,e.useEffect)((()=>{if(null!=l&&l!==Number.POSITIVE_INFINITY){const e=setTimeout(i,l);return()=>clearTimeout(e)}}),[o,i,l]),e.createElement(a,{errorMessage:n,onDismiss:i})}const Lr=(0,e.createContext)([]),Rr=Lr.Provider;Rr.displayName="FeatureFlagsProvider";const Dr=(0,t.sharedFacet)("core.featureFlags");function _r({children:a}){const n=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(Dr)),r=n===t.NO_VALUE?[]:n.flags;return e.createElement(Rr,{value:r},a)}var Br=a(23972),Wr=a.n(Br);const Ur=(0,e.createContext)({translationPrefix:"hbui",translate:e=>e,formatDate:e=>`${e}`,locale:"en-US",isRtl:!1});function zr({translationPrefix:t,translate:a,formatDate:n,children:r,locale:l}){const o=(0,e.useMemo)((()=>"rtl"===Wr().getLangDir(l)),[l]),i=(0,e.useMemo)((()=>({translationPrefix:t,translate:a,formatDate:n,locale:l,isRtl:o})),[t,a,n,l,o]);return e.createElement(Ur.Provider,{value:i},r)}const jr=(0,t.sharedFacet)("core.locale"),Hr=(0,t.sharedSelector)((e=>({set locale(t){null!=e&&(e.locale=t)},get locale(){return e.locale},translate:null!=e.translate?e.translate.bind(e):Vr,translateWithParameters:null!=e.translateWithParameters?e.translateWithParameters.bind(e):Gr,formatDate:null!=e.formatDate?e.formatDate.bind(e):$r})),[jr]),Vr=e=>Ea.translate(e),Gr=e=>(console.error("Update Bedrock to get support for translations with parameters."),Ea.translate(e)),$r=e=>(console.error("Update Bedrock to get support for formatDate."),`${e}`);function Kr({children:a}){const n=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(Hr)),r=(0,e.useCallback)(((e,a)=>n===t.NO_VALUE?e:null!=a?n.translateWithParameters(e,a):n.translate(e)),[n]);return n!==t.NO_VALUE?e.createElement(zr,{translationPrefix:"hbui",locale:n.locale,translate:r,formatDate:n.formatDate},a):null}var Xr=a(88572);const Yr=({data:e,children:t})=>{const a=(0,Xr.useFacetUnwrap)(e);return a===Xr.NO_VALUE?null:t(a)},qr=(0,e.createContext)({previousAncestryRef:{current:[]},narrationTree:{},generateId:()=>"0",readById:()=>{},readText:()=>{},clear:()=>{}}),Qr=qr.Provider,Jr=(0,e.createContext)((()=>{console.warn("resetNarrationContext not provided")})),Zr=()=>(0,e.useContext)(Jr),el=({children:a,disabled:n=!1,narrationTree:r,driver:l,isIdle:o=!0,shouldUseQueueSystem:i,shouldInterrupt:c})=>{const s=(0,e.useRef)(0),u=(0,t.useFacetWrap)(n),d=(0,t.useFacetRef)(u),[m,p]=(0,t.useFacetState)([]),f=(0,t.useFacetWrap)(o),g=(0,t.useFacetWrap)(null!=i&&i),E=(0,t.useFacetWrap)(null!=c&&c),h=(0,e.useRef)({root:{text:"",parentNarrationId:""}}),b=(0,e.useRef)([]),v=(0,e.useRef)([]),F=r||h.current;(0,t.useFacetEffect)(((e,t)=>{if(t.length>0&&(e||!e&&t[0].itemShouldInterrupt)){const[e,...a]=t;e.run(),p(a)}}),[p,d,l],[f,m]);const S=(0,e.useCallback)((()=>""+s.current++),[]),y=(0,t.useFacetCallback)((e=>()=>{e||l.clear()}),[l],[u]),C=(0,t.useFacetCallback)(((e,a,n)=>(r,o={outOfGame:!0,inGame:!0},i=!0,c=!1,s=!1)=>{if(n)return;const u={run:()=>{l.read(r,o,i,c,s)},itemShouldInterrupt:a};if(e){if(a)return void p([u]);p((e=>e!==t.NO_VALUE?[...e,u]:[u]))}else u.run()}),[l,p],[g,E,u]),M=(0,t.useFacetCallback)(((e,a,n)=>(r,o={outOfGame:!0,inGame:!0},i=!0,c=!1,s=!1)=>{if(e)return;const u={run:()=>{const e=F[r];if(null==e)return;const a=b.current,n=((e,t)=>{const a=[];let n=t;for(;null!=n;){const t=e[n];if(null==t)break;a.push(n),n=null==t?void 0:t.parentNarrationId}return a.reverse()})(F,r);b.current=n;const u=((e,a)=>a.map((a=>{const n=e[a];if(null==n)return"";if(null!=n.text)return n.text.trim();const{getText:r}=n;if(null==r)return"";const l=r();return(l===t.NO_VALUE?"":l).trim()})).filter(Boolean))(F,n),d=((e,t,a,n)=>{if(0===t.length)return e;if(e.length<=t.length&&e.every(((e,a)=>e===t[a]))){if(a.length<=n.length&&a.every(((e,t)=>e===n[t])))return[e[e.length-1]];let t=0;for(;t<a.length&&t<n.length&&a[t]===n[t];)t++;return e.slice(t)}let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];)r++;return e.length<t.length&&r>=t.length-1?[e[e.length-1]]:e.slice(r)})(u,v.current,n,a).join(" . ");v.current=u;const{getSuffix:m}=e,p=null!=m?m():"",f=p===t.NO_VALUE?"":p,g=""!==f?d+" . "+f:d;l.read(g,o,i,c,s)},itemShouldInterrupt:n};if(a){if(n)return void p([u]);p((e=>e!==t.NO_VALUE?[...e,u]:[u]))}else u.run()}),[l,F,p],[u,g,E]),k=(0,e.useCallback)((()=>{b.current=[]}),[]);return(0,t.useFacetEffect)((e=>{!0===e&&y()}),[y],[u]),e.createElement(Jr.Provider,{value:k},e.createElement(Qr,{value:(0,e.useMemo)((()=>({previousAncestryRef:b,narrationTree:F,generateId:S,readById:M,readText:C,clear:y})),[F,y,S,M,C])},e.createElement(Yr,{data:u},(t=>e.createElement(xa,{value:!t},a)))))};let tl;!function(e){e[e.NONE=0]="NONE",e[e.UI_FRONT_END=1]="UI_FRONT_END",e[e.UI_IN_GAME=2]="UI_IN_GAME",e[e.ALL_UI=e.UI_FRONT_END|e.UI_IN_GAME]="ALL_UI",e[e.IN_GAME_CHAT=4]="IN_GAME_CHAT",e[e.IN_GAME_ITEMS=8]="IN_GAME_ITEMS",e[e.IN_GAME_NAME=16]="IN_GAME_NAME",e[e.ALL=e.UI_FRONT_END|e.UI_IN_GAME|e.IN_GAME_CHAT|e.IN_GAME_ITEMS|e.IN_GAME_NAME]="ALL"}(tl||(tl={}));const al=(0,t.sharedFacet)("core.screenReader"),nl=e=>(t,a,n,r,l,o)=>{e.read(t,a,{__Type:"core.screenReaderOptions",canBeInterrupted:n,isRequired:r,shouldPlayInBackground:l,shouldPlayWhenPlatformTTSEnabled:o})};function rl({children:a,shouldUseQueueSystem:n,narrationTree:r}){const l=(0,t.useSharedFacet)(al),o=(0,t.useFacetMap)((e=>e.isUITextToSpeechEnabled),[],[l]),i=(0,t.useFacetMap)((e=>e.isIdle),[],[l]),c=(0,t.useFacetCallback)(nl,[],[l]),s=(0,t.useFacetCallback)((e=>()=>e.clear()),[],[l]),u=Fe(),d=(0,t.useFacetMap)((e=>e===D.FocusInput||e===D.PointerInput||e===D.URL),[],[u]),m=(0,t.useFacetCallback)((e=>(t,a,n,r,l)=>{Boolean(e)&&c(t,function(e){let t=0;return e.outOfGame&&(t+=tl.UI_FRONT_END),e.inGame&&(t+=tl.UI_IN_GAME),e.inGameChat&&(t+=tl.IN_GAME_CHAT),e.inGameItem&&(t+=tl.IN_GAME_ITEMS),e.inGameName&&(t+=tl.IN_GAME_NAME),t}(a),n,r,l,!0)}),[c],[o]),p=(0,e.useMemo)((()=>({read:m,clear:()=>s()})),[m,s]),f=(0,t.useFacetMap)((e=>!e),[],[o]);return e.createElement(el,{driver:p,disabled:f,isIdle:i,shouldUseQueueSystem:!0===n,shouldInterrupt:d,narrationTree:r},e.createElement(ll,null),a)}function ll(){return(()=>{const e=Zr(),a=(0,t.useFacetMap)((e=>e.history.list),[],[(0,t.useSharedFacet)(Qn)],(0,t.createUniformArrayEqualityCheck)(t.shallowObjectEqualityCheck));(0,t.useFacetEffect)((()=>{e()}),[e],[a])})(),null}function ol({children:t,driver:a}){return e.createElement(ya,{value:a.play},t)}const il=(0,t.sharedFacet)("core.sound");function cl({children:a}){const n=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(il)),r=(0,e.useMemo)((()=>({play(e,a,r=1,l=1){let o,i;const c=()=>{null!=n&&n!==t.NO_VALUE?o=n.play(e,r,l):console.log("Bedrock Sound driver not yet initialized while playing",e)};return a>0?i=setTimeout(c,a):c(),()=>{null!=i&&clearTimeout(i),null!=n&&n!==t.NO_VALUE?n.isPlaying(o)&&n.fadeOut(o,0):console.log("Bedrock Sound driver not yet initialized while stopping",e)}}})),[n]);return e.createElement(ol,{driver:r},a)}const sl=(0,e.createContext)({top:0,bottom:0,left:0,right:0}),ul=()=>(0,e.useContext)(sl);let dl;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(dl||(dl={}));const ml=(0,e.createContext)({numActivePlayers:1,direction:dl.HORIZONTAL,position:0});function pl({children:t,numActivePlayers:a,direction:n=dl.HORIZONTAL,position:r}){const l=(0,e.useMemo)((()=>({numActivePlayers:a,direction:n,position:r})),[a,n,r]);return e.createElement(ml.Provider,{value:l},t)}function fl(e,t,a){return Math.min(Math.max(e,t),a)}var gl;function El(e,t,a){switch(e){case 2:return 0===t||1===t&&a===gl.VERTICAL;case 3:case 4:return 0===t||1===t;default:return!0}}function hl(e,t,a){switch(e){case 2:return 1===t||0===t&&a===gl.VERTICAL;case 3:return 2===t;case 4:return 2===t||3===t;default:return!0}}function bl(e,t,a){switch(e){case 2:return 0===t||1===t&&a===gl.HORIZONTAL;case 3:case 4:return 0===t||2===t;default:return!0}}function vl(e,t,a){switch(e){case 2:return 1===t||0===t&&a===gl.HORIZONTAL;case 3:return 1===t;case 4:return 1===t||3===t;default:return!0}}function Fl({children:t,safeAreaX:a,safeAreaY:n,screenPositionX:r,screenPositionY:l}){const o=function(t,a,n,r){const l=(0,e.useContext)(ml),o=(0,e.useCallback)((()=>function(e,t,a,n){const r=fl(e,.9,1),l=fl(t,.9,1),o=fl(a,-.1,.1),i=fl(n,-.1,.1),c=window.innerWidth,s=window.innerHeight;return{top:Math.round((1-l+i)/2*s),bottom:Math.round((1-l-i)/2*s),left:Math.round((1-r+o)/2*c),right:Math.round((1-r-o)/2*c)}}(t,a,n,r)),[t,a,n,r]),i=(0,e.useCallback)((()=>function({top:e,bottom:t,left:a,right:n},{numActivePlayers:r,direction:l,position:o}){return{top:El(r,o,l)?e:0,bottom:hl(r,o,l)?t:0,left:bl(r,o,l)?a:0,right:vl(r,o,l)?n:0}}(o(),l)),[o,l]),[c,s]=(0,e.useState)(i);return(0,e.useEffect)((()=>{s(i);const e=()=>s(i);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[i]),c}(a,n,r,l);return e.createElement(sl.Provider,{value:o},t)}!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(gl||(gl={}));const Sl=(0,t.sharedFacet)("core.safeZone");function yl({children:a}){const n=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(Sl));return null!=n&&n!==t.NO_VALUE?e.createElement(Fl,{safeAreaX:n.safeAreaX,safeAreaY:n.safeAreaY,screenPositionX:n.screenPositionX,screenPositionY:n.screenPositionY},a):null}function Cl({children:a}){const n=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(ga));return null!=n&&n!==t.NO_VALUE?e.createElement(pl,{numActivePlayers:n.numActivePlayers,direction:n.splitScreenDirection,position:n.splitScreenPosition},a):null}const Ml=(0,e.createContext)((0,t.createFacet)({initialValue:!0})),kl=Ml.Provider,wl=()=>(0,e.useContext)(Ml),Tl=(0,e.createContext)({theme:"vanilla",onSetTheme:()=>{}}).Provider,xl=(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[]),Il=(xl({},{},{},{},{},{}),xl({},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),Pl=(Il({},{},{},{},{},{}),Il({},{},{},{},{}),Il({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),Ol=(Pl({}),Pl({}),(...e)=>e.reduce(((e,t)=>e.concat(Object.values(t))),[])),Nl=(Ol({}),Ol({}),"#a0e081"),Al="#6cc349",Ll="#3c8527",Rl="#1d4d13",Dl="#ffffff",_l="#000000",Bl="#d0d1d4",Wl="#b1b2b5",Ul="#8c8d90",zl="#58585a",jl="#48494a",Hl="#313233",Vl="#242425",Gl="#1e1e1f",$l="#ad1d1d",Kl="#ffe866",Xl="rgba(0, 0, 0, 0.1)",Yl="rgba(0, 0, 0, 0.3)",ql="rgba(0, 0, 0, 0.4)",Ql="rgba(0, 0, 0, 0.8)",Jl="rgba(255, 255, 255, 0.1)",Zl="rgba(255, 255, 255, 0.2)",eo="rgba(255, 255, 255, 0.4)",to="rgba(255, 255, 255, 0.6)",ao="#FB95E2",no="#AC90F3",ro="#4A1CAC";function lo({children:t}){return e.createElement(Tl,{value:{theme:"vanilla",onSetTheme:()=>{}}},t)}let oo=0;const io="Noto Sans",co="Noto Sans JP",so="Noto Sans TC",uo="Noto Sans SC",mo="Noto Sans KR",po="Noto Sans AR",fo=["Noto Sans Mongolian","Noto Sans Syriac","Noto Sans TamilSupplement"];var go=a(17187);const Eo=(t,a)=>{const n=(0,e.useContext)(vo);(0,e.useEffect)((()=>{const e=t.current;if(null!=e)return bo(e,a,n)}),[t,a,n])},ho=e=>{const[a,n]=(0,t.useFacetState)(t.NO_VALUE);return Eo(e,n),a},bo=(e,t,a)=>{let n,r;const l=()=>{const a=e.getBoundingClientRect();0!==a.width||0!==a.height||0!==a.top||0!==a.left||0!==a.right||0!==a.bottom||0!==a.x||0!==a.y?null!=n&&a.width===n.width&&a.height===n.height&&a.top===n.top&&a.left===n.left&&a.right===n.right&&a.bottom===n.bottom&&a.x===n.x&&a.y===n.y||(n=a,t(n)):r=requestAnimationFrame(l)},o=()=>{r=requestAnimationFrame((()=>{r=requestAnimationFrame(l)}))},i=new window.MutationObserver(o);return window.addEventListener("resize",o),i.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),a.addListener("recalculate",o),o(),()=>{i.disconnect(),window.removeEventListener("resize",o),a.removeListener("recalculate",o),cancelAnimationFrame(r)}},vo=(0,e.createContext)(new go.EventEmitter);let Fo;function So({guiScale:a,onGuiScaleApplied:n,accessibleGuiScale:r=!1,children:l}){const[o,i]=(0,t.useFacetState)(10),c=(0,t.useFacetWrap)(r);return(0,t.useFacetEffect)((e=>{i(2.5*e)}),[i],[a]),(0,t.useFacetEffect)(((e,t)=>{const a=document.getElementsByTagName("html")[0],r=document.body;a.style.fontSize=`${t}px`,r.style.setProperty("--baseFontSize",`${t}px`);const l=Math.max(Math.round(e/4*2),1);r.style.setProperty("--base2Scale",`${l}px`),r.style.setProperty("--base2ScaleNeg",`-${l}px`);const o=Math.max(Math.round(e/4),1);r.style.setProperty("--base1Scale",`${o}px`),r.style.setProperty("--base1ScaleNeg",`-${o}px`),n()}),[n],[a,o]),e.createElement(vo.Provider,{value:(0,e.useMemo)((()=>{const e=new go.EventEmitter;return e.setMaxListeners(50),e}),[])},e.createElement(Co.Provider,{value:a},e.createElement(yo.Provider,{value:o},e.createElement(Mo.Provider,{value:c},l))))}!function(e){e[e.SCALING_25=1]="SCALING_25",e[e.SCALING_50=2]="SCALING_50",e[e.SCALING_75=3]="SCALING_75",e[e.SCALING_100=4]="SCALING_100",e[e.SCALING_125=5]="SCALING_125",e[e.SCALING_150=6]="SCALING_150",e[e.SCALING_175=7]="SCALING_175",e[e.SCALING_200=8]="SCALING_200"}(Fo||(Fo={}));const yo=(0,e.createContext)((0,t.createFacet)({initialValue:10})),Co=(0,e.createContext)((0,t.createFacet)({initialValue:4})),Mo=(0,e.createContext)((0,t.createFacet)({initialValue:!1})),ko=a=>{const n=(0,t.useFacetUnwrap)((0,e.useContext)(yo));return a*(n===t.NO_VALUE?10:n)},wo=a=>(0,t.useFacetMap)(((e,t)=>e*t),[],[(0,t.useFacetWrap)(a),(0,e.useContext)(yo)]),To=(t=70,a=128)=>{const n=ko(t),r=ko(a),[l,o]=(0,e.useState)("desktop");return(0,e.useEffect)((()=>{const e=()=>o((()=>{const e=window.innerWidth;return e<n?"narrow":e<r?"tablet":"desktop"})());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n,r]),l},xo=(t=99.9)=>{const a=ko(t),n=(0,e.useCallback)((()=>window.innerWidth<=a),[a]),[r,l]=(0,e.useState)(n());return(0,e.useEffect)((()=>{const e=()=>l(n());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n]),r},Io=(a=99.9)=>{const n=wo(a),r=(0,t.useFacetCallback)((e=>()=>window.innerWidth<=e),[],[n],!1),[l,o]=(0,t.useFacetState)(r());return(0,e.useEffect)((()=>{const e=()=>o(r());return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[r,o]),l};function Po({children:t,guiScale:a,accessibleGuiScale:n,onGuiScaleApplied:r=Oo,screenAnimationEnabled:l,isRtl:o=!1,locale:i}){return function(t){(0,e.useEffect)((()=>{const e=document.getElementsByTagName("html")[0],a=document.querySelector('link[rel="stylesheet"]');if(null==a)return void console.error("No stylesheet link tag found, RTL is not applied");const n=a.getAttribute("href");if(null==n)return void console.error("Something wrong with style attribute, RTL is not applied");const r=n.substring(0,n.length-4).replace(".rtl","")+(t?".rtl":"")+".css";t?e.setAttribute("dir","rtl"):e.removeAttribute("dir"),a.setAttribute("href",r)}),[t])}(o),function(t){(0,e.useEffect)((()=>{const e=function(e){return e.startsWith("ja")?[co,so,uo,mo,io,...fo]:"zh_TW"===e?[so,uo,co,mo,io,...fo]:"zh_CN"===e?[uo,so,co,mo,io,...fo]:e.startsWith("ko")?[mo,so,uo,co,io,...fo]:e.startsWith("ar_")?[po,io,mo,so,uo,co,...fo]:[io,uo,so,co,mo,po,...fo]}(t);document.body.style.setProperty("--localeSpecificNotoSansFonts",e.join(","))}),[t])}(i),e.createElement(kl,{value:l},e.createElement(So,{guiScale:a,accessibleGuiScale:n,onGuiScaleApplied:r},e.createElement(lo,null,t)))}const Oo=()=>{},No=(0,t.sharedFacet)("core.customScaling");function Ao(e){return Math.ceil(1.25*e)}const Lo={compat:{[We.DESKTOP_SCREEN_TYPE]:Ve.SCALE_100_PERCENT,[We.TV_SCREEN_TYPE]:Ve.SCALE_100_PERCENT,[We.HANDHELD_SCREEN_TYPE]:{[Ue.PHONE]:Ve.SCALE_100_PERCENT,[Ue.TABLET]:Ve.SCALE_100_PERCENT},[We.VR_SCREEN_TYPE]:Ve.SCALE_100_PERCENT},legacy:{[We.DESKTOP_SCREEN_TYPE]:Ve.SCALE_175_PERCENT,[We.TV_SCREEN_TYPE]:Ve.SCALE_175_PERCENT,[We.HANDHELD_SCREEN_TYPE]:{[Ue.PHONE]:Ve.SCALE_100_PERCENT,[Ue.TABLET]:Ve.SCALE_150_PERCENT},[We.VR_SCREEN_TYPE]:Ve.SCALE_100_PERCENT},default:{[We.DESKTOP_SCREEN_TYPE]:Ve.SCALE_125_PERCENT,[We.TV_SCREEN_TYPE]:Ve.SCALE_175_PERCENT,[We.HANDHELD_SCREEN_TYPE]:{[Ue.PHONE]:Ve.SCALE_100_PERCENT,[Ue.TABLET]:Ve.SCALE_100_PERCENT},[We.VR_SCREEN_TYPE]:Ve.SCALE_100_PERCENT},fixed:{[We.DESKTOP_SCREEN_TYPE]:Ve.SCALE_100_PERCENT,[We.TV_SCREEN_TYPE]:Ve.SCALE_100_PERCENT,[We.HANDHELD_SCREEN_TYPE]:{[Ue.PHONE]:Ve.SCALE_100_PERCENT,[Ue.TABLET]:Ve.SCALE_100_PERCENT},[We.VR_SCREEN_TYPE]:Ve.SCALE_100_PERCENT}},Ro=6.417322835;function Do({children:a,scalingMode:n}){const r=(0,t.useSharedFacet)(Ir),l=(0,t.useSharedFacet)(No),o=(0,t.useSharedFacet)(pa),i=(0,t.useFacetMap)((e=>null!=e.scalingModeOverride&&e.scalingModeOverride&&e.scalingModeOverride.length>0?e.scalingModeOverride:n),[n],[l]),c=(0,t.useFacetMap)((e=>e.fixedGuiScaleModifier),[],[l]),s=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.guiAccessibilityScaling)&&void 0!==t&&t}),[],[l]),u=(0,t.useFacetMap)((()=>!0),[],[r,o,c,i,s]),d=(0,t.useFacetMap)((e=>e.screenAnimationEnabled),[],[o]);return e.createElement(t.Mount,{when:u},e.createElement(_o,{deviceInformationFacet:r,scalingMode:i,screenAnimationEnabled:d,fixedGuiScaleModifier:c,accessibleGuiScale:s},a))}function _o({scalingMode:a,children:n,deviceInformationFacet:r,screenAnimationEnabled:l,fixedGuiScaleModifier:o,accessibleGuiScale:i}){const c=function(a,n,r,l,o){const i=(0,t.useFacetMap)(((e,t,a)=>"fixed"==a?t:e.guiScaleModifier),[],[r,l,a]),c=(0,t.useFacetCallback)(((e,t,a,n,r)=>()=>function(e,t,a,n,r,l,o){if("fixed"===e)return function(e,t){const a=Ve.SCALE_100_PERCENT+e;return!0===t?Ao(a):a}(a,o);const i=Lo[e][t];return t===We.HANDHELD_SCREEN_TYPE?function(e,t,a,n,r,l,o){const i=n/Ro,c=t[r/i>1e3&&l/i>700?Ue.TABLET:Ue.PHONE],s=Math.round(i*c)+Math.round(i*a);return!0===o?Ao(s):s}(0,i,a,l,n,r,o):function(e,t,a,n,r,l){const o=n/1920,i=r/1080,c=Math.min(i,o),s=Math.round(c*t)+Math.round(c*a);return!0===l?Ao(s):s}(0,i,a,n,r,o)}(e,t,n,window.innerWidth,window.innerHeight,a.pixelsPerMillimeter,r)),[],[a,n,r,i,o]),[s,u]=(0,t.useFacetState)(c());return(0,e.useEffect)((()=>{const e=()=>u(c);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[c,u]),(0,t.useFacetEffect)((()=>{u(c)}),[u,c],[r,l,o]),s}(a,(0,e.useContext)(Ye),r,o,i),s=(0,e.useContext)(Ur).locale,u=(0,e.useContext)(Ur).isRtl,d=(0,e.useCallback)((()=>{Ea.trigger("core:gui:resize-hack")}),[]);return e.createElement(Po,{guiScale:c,accessibleGuiScale:i,onGuiScaleApplied:d,screenAnimationEnabled:l,isRtl:u,locale:s},n)}const Bo=(0,e.createContext)(null),Wo=Bo.Provider;function Uo({children:t}){const a={changedCB:(0,e.useCallback)((e=>ha("core:keyboard:changed",(t=>{e({addedChars:t.addedChars+"",removedChars:t.removedChars+"",invalidChars:t.invalidChars+"",index:t.index+0})}))),[]),submittedCB:(0,e.useCallback)((e=>ha("core:keyboard:submitted",e)),[]),dismissedCB:(0,e.useCallback)((e=>ha("core:keyboard:dismissed",e)),[]),tabbedCB:(0,e.useCallback)((e=>ha("core:keyboard:tabbed",e)),[])};return e.createElement(Wo,{value:a},t)}let zo;!function(e){e.FIRST_MEANINGFUL_PAINT="core:telemetry:firstMeaningfulPaint",e.FIRST_CONTENTFUL_PAINT="core:telemetry:firstContentfulPaint"}(zo||(zo={}));const jo=()=>new Map;function Ho({children:t,triggerEvent:a}){const n=(0,e.useMemo)(jo,[]),r=(0,e.useMemo)(jo,[]),l=(0,e.useRef)(!1),o=(0,e.useRef)(!1),i=(0,e.useMemo)((()=>{const e=()=>{0===n.size&&0===r.size&&l.current&&(a(zo.FIRST_MEANINGFUL_PAINT),l.current=!1)},t=()=>{0===n.size&&o.current&&(a(zo.FIRST_CONTENTFUL_PAINT),o.current=!1),e()};return{block:(e,t)=>{("contentful"===t?n:r).set(e,!0)},unblock:(a,l)=>{("contentful"===l?n:r).delete(a),"contentful"===l?t():e()},meaningfulPaint:()=>{l.current=!0,e()},contentfulPaint:()=>{o.current=!0,t()}}}),[a,n,r]);return e.createElement(cr.Provider,{value:i},t)}function Vo({children:t}){const a=(0,e.useMemo)((()=>Ea.trigger.bind(Ea)),[]);return e.createElement(Ho,{triggerEvent:a},t)}const Go=(0,e.createContext)((()=>({}))),$o=({driver:t,children:a})=>{const n=(0,e.useRef)(new Map),r=(0,e.useCallback)((e=>{const a=n.current.get(e);if(null!=a)return a;const r=t(e);return n.current.set(e,r),r}),[t]);return e.createElement(Go.Provider,{value:r},a)},Ko=(0,t.createFacet)({initialValue:t.NO_VALUE}),Xo=(0,e.createContext)((()=>Ko)),Yo=({driver:t,children:a})=>{const n=(0,e.useRef)(new Map),r=(0,e.useCallback)(((e,a)=>{const r=qo(e,a),l=n.current.get(r);if(null!=l)return l;const o=t(e,a,r,(()=>{n.current.delete(r)}));return n.current.set(r,o),o}),[t]);return e.createElement(Xo.Provider,{value:r},a)},qo=(e,t)=>null==t?e:Object.keys(t).sort(((e,t)=>e>t?1:0)).reduce(((e,a)=>`${e}-${t[a]}`),e),Qo=({queryDriver:t,commandsDriver:a,children:n})=>e.createElement(Yo,{driver:t},e.createElement($o,{driver:a},n)),Jo=new Map,Zo=new Map,ei=new Map;function ti(e,t,a,n){var r;const l=ei.get(e);if(null!=l)return t(l),()=>{};const o=r=>{"activate-facet-not-found"===r&&null!=a?(ei.set(e,a),t(a)):n?n(r):(t=>{console.warn(`Error "${t}" while using facet ${e}`)})(r)},i=a=>{Zo.set(e,a),t(a)},c=null!==(r=Jo.get(e))&&void 0!==r?r:0,s=Zo.get(e);return Ea.on(`facet:updated:${e}`,i),Ea.on(`facet:error:${e}`,o),0===c?Ea.trigger("facet:request",e,e,{}):null!=s&&t(s),Jo.set(e,c+1),()=>{var t;const a=null!==(t=Jo.get(e))&&void 0!==t?t:0;Ea.off(`facet:updated:${e}`,i),Ea.off(`facet:error:${e}`,o),1===a&&(Ea.trigger("facet:discard",e),Zo.delete(e)),a>0&&Jo.set(e,a-1)}}const ai=(e,a,n,r)=>(0,t.createFacet)({initialValue:t.NO_VALUE,startSubscription:t=>(Ea.on(`facet:updated:${n}`,t),Ea.trigger("facet:request",e,n,null==a?{}:a),()=>{Ea.off(`facet:updated:${n}`,t),Ea.trigger("facet:discard",n),r()})}),ni=e=>{let t=null;if(Ea.on(`facet:updated:${e}`,(e=>{t=e})),Ea.trigger("facet:request",e,e,{}),null==t)throw new Error(`Unable to request commands for ${e}`);return t},ri=(0,e.createContext)((0,t.createStaticFacet)({keyboard:{},gamepad:{}}));function li(e,t,a){return`${e}${""!==e?".":""}${t}${a}`}function oi(t){const{translationPrefix:a,translate:n,formatDate:r}=(0,e.useContext)(Ur);return(0,e.useMemo)((()=>({f:{formatDate:r},t:(e,r)=>{const l=li(a,t,e),o=n(l,r);return null!=o?o:l}})),[a,t,n,r])}const ii=({children:a})=>{const{t:n}=oi("ControllerSpecificButtonNarration"),r=(0,e.useMemo)((()=>({gamepad:{[W.A]:{[Ge.XBOX]:n(".Gamepad.A.XBOX"),[Ge.PS]:n(".Gamepad.A.PS"),[Ge.STEAM]:n(".Gamepad.A.STEAM"),[Ge.SWITCH]:n(".Gamepad.A.SWITCH"),[Ge.QUEST]:n(".Gamepad.A.QUEST")},[W.B]:{[Ge.XBOX]:n(".Gamepad.B.XBOX"),[Ge.PS]:n(".Gamepad.B.PS"),[Ge.STEAM]:n(".Gamepad.B.STEAM"),[Ge.SWITCH]:n(".Gamepad.B.SWITCH"),[Ge.QUEST]:n(".Gamepad.B.QUEST")},[W.X]:{[Ge.XBOX]:n(".Gamepad.X.XBOX"),[Ge.PS]:n(".Gamepad.X.PS"),[Ge.STEAM]:n(".Gamepad.X.STEAM"),[Ge.SWITCH]:n(".Gamepad.Y.SWITCH"),[Ge.QUEST]:n(".Gamepad.X.QUEST")},[W.Y]:{[Ge.XBOX]:n(".Gamepad.Y.XBOX"),[Ge.PS]:n(".Gamepad.Y.PS"),[Ge.STEAM]:n(".Gamepad.Y.STEAM"),[Ge.SWITCH]:n(".Gamepad.X.SWITCH"),[Ge.QUEST]:n(".Gamepad.Y.QUEST")},[W.START]:{[Ge.XBOX]:n(".Gamepad.START.XBOX"),[Ge.PS]:n(".Gamepad.START.PS"),[Ge.STEAM]:n(".Gamepad.START.STEAM"),[Ge.SWITCH]:n(".Gamepad.START.SWITCH"),[Ge.QUEST]:n(".Gamepad.START.QUEST")},[W.SELECT]:{[Ge.XBOX]:n(".Gamepad.SELECT.XBOX"),[Ge.PS]:n(".Gamepad.SELECT.PS"),[Ge.STEAM]:n(".Gamepad.SELECT.STEAM"),[Ge.SWITCH]:n(".Gamepad.SELECT.SWITCH"),[Ge.QUEST]:n(".Gamepad.SELECT.QUEST")},[W.XBOX]:{[Ge.XBOX]:n(".Gamepad.XBOX.XBOX"),[Ge.PS]:n(".Gamepad.XBOX.PS"),[Ge.STEAM]:n(".Gamepad.XBOX.STEAM"),[Ge.SWITCH]:n(".Gamepad.XBOX.SWITCH"),[Ge.QUEST]:n(".Gamepad.XBOX.QUEST")},[W.RIGHT_TRIGGER]:{[Ge.XBOX]:n(".Gamepad.RT.XBOX"),[Ge.PS]:n(".Gamepad.RT.PS"),[Ge.STEAM]:n(".Gamepad.RT.STEAM"),[Ge.SWITCH]:n(".Gamepad.RT.SWITCH"),[Ge.QUEST]:n(".Gamepad.RT.QUEST")},[W.LEFT_TRIGGER]:{[Ge.XBOX]:n(".Gamepad.LT.XBOX"),[Ge.PS]:n(".Gamepad.LT.PS"),[Ge.STEAM]:n(".Gamepad.LT.STEAM"),[Ge.SWITCH]:n(".Gamepad.LT.SWITCH"),[Ge.QUEST]:n(".Gamepad.LT.QUEST")},[W.LEFT_BUMPER]:{[Ge.XBOX]:n(".Gamepad.LB.XBOX"),[Ge.PS]:n(".Gamepad.LB.PS"),[Ge.STEAM]:n(".Gamepad.LB.STEAM"),[Ge.SWITCH]:n(".Gamepad.LB.SWITCH"),[Ge.QUEST]:n(".Gamepad.LB.QUEST")},[W.RIGHT_BUMPER]:{[Ge.XBOX]:n(".Gamepad.RB.XBOX"),[Ge.PS]:n(".Gamepad.RB.PS"),[Ge.STEAM]:n(".Gamepad.RB.STEAM"),[Ge.SWITCH]:n(".Gamepad.RB.SWITCH"),[Ge.QUEST]:n(".Gamepad.RB.QUEST")},[W.L3]:{[Ge.XBOX]:n(".Gamepad.L3.XBOX"),[Ge.PS]:n(".Gamepad.L3.PS"),[Ge.STEAM]:n(".Gamepad.L3.STEAM"),[Ge.SWITCH]:n(".Gamepad.L3.SWITCH"),[Ge.QUEST]:n(".Gamepad.L3.QUEST")},[W.R3]:{[Ge.XBOX]:n(".Gamepad.R3.XBOX"),[Ge.PS]:n(".Gamepad.R3.PS"),[Ge.STEAM]:n(".Gamepad.R3.STEAM"),[Ge.SWITCH]:n(".Gamepad.R3.SWITCH"),[Ge.QUEST]:n(".Gamepad.R3.QUEST")},[W.LEFT]:{[Ge.XBOX]:n(".Gamepad.LEFT.XBOX"),[Ge.PS]:n(".Gamepad.LEFT.PS"),[Ge.STEAM]:n(".Gamepad.LEFT.STEAM"),[Ge.SWITCH]:n(".Gamepad.LEFT.SWITCH"),[Ge.QUEST]:n(".Gamepad.LEFT.QUEST")},[W.RIGHT]:{[Ge.XBOX]:n(".Gamepad.RIGHT.XBOX"),[Ge.PS]:n(".Gamepad.RIGHT.PS"),[Ge.STEAM]:n(".Gamepad.RIGHT.STEAM"),[Ge.SWITCH]:n(".Gamepad.RIGHT.SWITCH"),[Ge.QUEST]:n(".Gamepad.RIGHT.QUEST")},[W.UP]:{[Ge.XBOX]:n(".Gamepad.UP.XBOX"),[Ge.PS]:n(".Gamepad.UP.PS"),[Ge.STEAM]:n(".Gamepad.UP.STEAM"),[Ge.SWITCH]:n(".Gamepad.UP.SWITCH"),[Ge.QUEST]:n(".Gamepad.UP.QUEST")},[W.DOWN]:{[Ge.XBOX]:n(".Gamepad.DOWN.XBOX"),[Ge.PS]:n(".Gamepad.DOWN.PS"),[Ge.STEAM]:n(".Gamepad.DOWN.STEAM"),[Ge.SWITCH]:n(".Gamepad.DOWN.SWITCH"),[Ge.QUEST]:n(".Gamepad.DOWN.QUEST")},[W.NEXT]:{[Ge.XBOX]:n(".Gamepad.NEXT.XBOX"),[Ge.PS]:n(".Gamepad.NEXT.PS"),[Ge.STEAM]:n(".Gamepad.NEXT.STEAM"),[Ge.SWITCH]:n(".Gamepad.NEXT.SWITCH"),[Ge.QUEST]:n(".Gamepad.NEXT.QUEST")},[W.PREV]:{[Ge.XBOX]:n(".Gamepad.PREV.XBOX"),[Ge.PS]:n(".Gamepad.PREV.PS"),[Ge.STEAM]:n(".Gamepad.PREV.STEAM"),[Ge.SWITCH]:n(".Gamepad.PREV.SWITCH"),[Ge.QUEST]:n(".Gamepad.PREV.QUEST")},[W.LEFT_ANALOG_LEFT]:{[Ge.XBOX]:n(".Gamepad.L_LEFT.XBOX"),[Ge.PS]:n(".Gamepad.L_LEFT.PS"),[Ge.STEAM]:n(".Gamepad.L_LEFT.STEAM"),[Ge.SWITCH]:n(".Gamepad.L_LEFT.SWITCH"),[Ge.QUEST]:n(".Gamepad.L_LEFT.QUEST")},[W.LEFT_ANALOG_RIGHT]:{[Ge.XBOX]:n(".Gamepad.L_RIGHT.XBOX"),[Ge.PS]:n(".Gamepad.L_RIGHT.PS"),[Ge.STEAM]:n(".Gamepad.L_RIGHT.STEAM"),[Ge.SWITCH]:n(".Gamepad.L_RIGHT.SWITCH"),[Ge.QUEST]:n(".Gamepad.L_RIGHT.QUEST")},[W.LEFT_ANALOG_UP]:{[Ge.XBOX]:n(".Gamepad.L_UP.XBOX"),[Ge.PS]:n(".Gamepad.L_UP.PS"),[Ge.STEAM]:n(".Gamepad.L_UP.STEAM"),[Ge.SWITCH]:n(".Gamepad.L_UP.SWITCH"),[Ge.QUEST]:n(".Gamepad.L_UP.QUEST")},[W.LEFT_ANALOG_DOWN]:{[Ge.XBOX]:n(".Gamepad.L_DOWN.XBOX"),[Ge.PS]:n(".Gamepad.L_DOWN.PS"),[Ge.STEAM]:n(".Gamepad.L_DOWN.STEAM"),[Ge.SWITCH]:n(".Gamepad.L_DOWN.SWITCH"),[Ge.QUEST]:n(".Gamepad.L_DOWN.QUEST")},[W.RIGHT_ANALOG_LEFT]:{[Ge.XBOX]:n(".Gamepad.R_LEFT.XBOX"),[Ge.PS]:n(".Gamepad.R_LEFT.PS"),[Ge.STEAM]:n(".Gamepad.R_LEFT.STEAM"),[Ge.SWITCH]:n(".Gamepad.R_LEFT.SWITCH"),[Ge.QUEST]:n(".Gamepad.R_LEFT.QUEST")},[W.RIGHT_ANALOG_RIGHT]:{[Ge.XBOX]:n(".Gamepad.R_RIGHT.XBOX"),[Ge.PS]:n(".Gamepad.R_RIGHT.PS"),[Ge.STEAM]:n(".Gamepad.R_RIGHT.STEAM"),[Ge.SWITCH]:n(".Gamepad.R_RIGHT.SWITCH"),[Ge.QUEST]:n(".Gamepad.R_RIGHT.QUEST")},[W.RIGHT_ANALOG_UP]:{[Ge.XBOX]:n(".Gamepad.R_UP.XBOX"),[Ge.PS]:n(".Gamepad.R_UP.PS"),[Ge.STEAM]:n(".Gamepad.R_UP.STEAM"),[Ge.SWITCH]:n(".Gamepad.R_UP.SWITCH"),[Ge.QUEST]:n(".Gamepad.R_UP.QUEST")},[W.RIGHT_ANALOG_DOWN]:{[Ge.XBOX]:n(".Gamepad.R_DOWN.XBOX"),[Ge.PS]:n(".Gamepad.R_DOWN.PS"),[Ge.STEAM]:n(".Gamepad.R_DOWN.STEAM"),[Ge.SWITCH]:n(".Gamepad.R_DOWN.SWITCH"),[Ge.QUEST]:n(".Gamepad.R_DOWN.QUEST")},[W.LEFT_HORIZONTAL_AXIS]:{[Ge.XBOX]:n(".Gamepad.LEFT_HORIZONTAL_AXIS.XBOX"),[Ge.PS]:n(".Gamepad.LEFT_HORIZONTAL_AXIS.PS"),[Ge.STEAM]:n(".Gamepad.LEFT_HORIZONTAL_AXIS.STEAM"),[Ge.SWITCH]:n(".Gamepad.LEFT_HORIZONTAL_AXIS.SWITCH"),[Ge.QUEST]:n(".Gamepad.LEFT_HORIZONTAL_AXIS.QUEST")},[W.LEFT_VERTICAL_AXIS]:{[Ge.XBOX]:n(".Gamepad.LEFT_VERTICAL_AXIS.XBOX"),[Ge.PS]:n(".Gamepad.LEFT_VERTICAL_AXIS.PS"),[Ge.STEAM]:n(".Gamepad.LEFT_VERTICAL_AXIS.STEAM"),[Ge.SWITCH]:n(".Gamepad.LEFT_VERTICAL_AXIS.SWITCH"),[Ge.QUEST]:n(".Gamepad.LEFT_VERTICAL_AXIS.QUEST")},[W.RIGHT_HORIZONTAL_AXIS]:{[Ge.XBOX]:n(".Gamepad.RIGHT_HORIZONTAL_AXIS.XBOX"),[Ge.PS]:n(".Gamepad.RIGHT_HORIZONTAL_AXIS.PS"),[Ge.STEAM]:n(".Gamepad.RIGHT_HORIZONTAL_AXIS.STEAM"),[Ge.SWITCH]:n(".Gamepad.RIGHT_HORIZONTAL_AXIS.SWITCH"),[Ge.QUEST]:n(".Gamepad.RIGHT_HORIZONTAL_AXIS.QUEST")},[W.RIGHT_VERTICAL_AXIS]:{[Ge.XBOX]:n(".Gamepad.RIGHT_VERTICAL_AXIS.XBOX"),[Ge.PS]:n(".Gamepad.RIGHT_VERTICAL_AXIS.PS"),[Ge.STEAM]:n(".Gamepad.RIGHT_VERTICAL_AXIS.STEAM"),[Ge.SWITCH]:n(".Gamepad.RIGHT_VERTICAL_AXIS.SWITCH"),[Ge.QUEST]:n(".Gamepad.RIGHT_VERTICAL_AXIS.QUEST")},[W.PSEUDO_BUTTON_1]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_1.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_1.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_1.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_1.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_1.QUEST")},[W.PSEUDO_BUTTON_2]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_2.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_2.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_2.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_2.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_2.QUEST")},[W.PSEUDO_BUTTON_3]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_3.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_3.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_3.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_3.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_3.QUEST")},[W.PSEUDO_BUTTON_4]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_4.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_4.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_4.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_4.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_4.QUEST")},[W.PSEUDO_BUTTON_5]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_5.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_5.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_5.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_5.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_5.QUEST")},[W.PSEUDO_BUTTON_6]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_6.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_6.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_6.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_6.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_6.QUEST")},[W.PSEUDO_BUTTON_7]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_7.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_7.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_7.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_7.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_7.QUEST")},[W.PSEUDO_BUTTON_8]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_8.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_8.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_8.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_8.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_8.QUEST")},[W.PSEUDO_BUTTON_9]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_9.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_9.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_9.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_9.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_9.QUEST")},[W.PSEUDO_BUTTON_10]:{[Ge.XBOX]:n(".Gamepad.PSEUDO_BUTTON_10.XBOX"),[Ge.PS]:n(".Gamepad.PSEUDO_BUTTON_10.PS"),[Ge.STEAM]:n(".Gamepad.PSEUDO_BUTTON_10.STEAM"),[Ge.SWITCH]:n(".Gamepad.PSEUDO_BUTTON_10.SWITCH"),[Ge.QUEST]:n(".Gamepad.PSEUDO_BUTTON_10.QUEST")}},keyboard:{[ue.BACKSPACE]:n(".Keyboard.BACKSPACE"),[ue.TAB]:n(".Keyboard.TAB"),[ue.ENTER]:n(".Keyboard.ENTER"),[ue.SHIFT]:n(".Keyboard.SHIFT"),[ue.CTRL]:n(".Keyboard.CTRL"),[ue.ALT]:n(".Keyboard.ALT"),[ue.ESCAPE]:n(".Keyboard.ESCAPE"),[ue.SPACE]:n(".Keyboard.SPACE"),[ue.LEFT]:n(".Keyboard.LEFT"),[ue.UP]:n(".Keyboard.UP"),[ue.RIGHT]:n(".Keyboard.RIGHT"),[ue.DOWN]:n(".Keyboard.DOWN"),[ue.INSERT]:n(".Keyboard.INSERT"),[ue.DELETE]:n(".Keyboard.DELETE"),[ue.KEY_0]:n(".Keyboard.KEY_0"),[ue.KEY_1]:n(".Keyboard.KEY_1"),[ue.KEY_2]:n(".Keyboard.KEY_2"),[ue.KEY_3]:n(".Keyboard.KEY_3"),[ue.KEY_4]:n(".Keyboard.KEY_4"),[ue.KEY_5]:n(".Keyboard.KEY_5"),[ue.KEY_6]:n(".Keyboard.KEY_6"),[ue.KEY_7]:n(".Keyboard.KEY_7"),[ue.KEY_8]:n(".Keyboard.KEY_8"),[ue.KEY_9]:n(".Keyboard.KEY_9"),[ue.KEY_A]:n(".Keyboard.KEY_A"),[ue.KEY_B]:n(".Keyboard.KEY_B"),[ue.KEY_C]:n(".Keyboard.KEY_C"),[ue.KEY_D]:n(".Keyboard.KEY_D"),[ue.KEY_E]:n(".Keyboard.KEY_E"),[ue.KEY_F]:n(".Keyboard.KEY_F"),[ue.KEY_G]:n(".Keyboard.KEY_G"),[ue.KEY_H]:n(".Keyboard.KEY_H"),[ue.KEY_I]:n(".Keyboard.KEY_I"),[ue.KEY_J]:n(".Keyboard.KEY_J"),[ue.KEY_K]:n(".Keyboard.KEY_K"),[ue.KEY_L]:n(".Keyboard.KEY_L"),[ue.KEY_M]:n(".Keyboard.KEY_M"),[ue.KEY_N]:n(".Keyboard.KEY_N"),[ue.KEY_O]:n(".Keyboard.KEY_O"),[ue.KEY_P]:n(".Keyboard.KEY_P"),[ue.KEY_Q]:n(".Keyboard.KEY_Q"),[ue.KEY_R]:n(".Keyboard.KEY_R"),[ue.KEY_S]:n(".Keyboard.KEY_S"),[ue.KEY_T]:n(".Keyboard.KEY_T"),[ue.KEY_U]:n(".Keyboard.KEY_U"),[ue.KEY_V]:n(".Keyboard.KEY_V"),[ue.KEY_W]:n(".Keyboard.KEY_W"),[ue.KEY_X]:n(".Keyboard.KEY_X"),[ue.KEY_Y]:n(".Keyboard.KEY_Y"),[ue.KEY_Z]:n(".Keyboard.KEY_Z"),[ue.F1]:n(".Keyboard.F1"),[ue.F2]:n(".Keyboard.F2"),[ue.F3]:n(".Keyboard.F3"),[ue.F4]:n(".Keyboard.F4"),[ue.F5]:n(".Keyboard.F5"),[ue.F6]:n(".Keyboard.F6"),[ue.F7]:n(".Keyboard.F7"),[ue.F8]:n(".Keyboard.F8"),[ue.F9]:n(".Keyboard.F9"),[ue.F10]:n(".Keyboard.F10"),[ue.F11]:n(".Keyboard.F11"),[ue.F12]:n(".Keyboard.F12"),[ue.MOUSE_MOVEMENT]:n(".Keyboard.MOUSE_MOVEMENT"),[ue.MOUSE_BUTTON_LEFT]:n(".Keyboard.MOUSE_BUTTON_LEFT"),[ue.MOUSE_BUTTON_MIDDLE]:n(".Keyboard.MOUSE_BUTTON_MIDDLE"),[ue.MOUSE_BUTTON_RIGHT]:n(".Keyboard.MOUSE_BUTTON_RIGHT"),[ue.MOUSE_WHEEL]:n(".Keyboard.MOUSE_WHEEL"),[ue.BRACKET_OPEN]:n(".Keyboard.BRACKET_OPEN"),[ue.BRACKET_CLOSE]:n(".Keyboard.BRACKET_CLOSE"),[ue.PSEUDO_KEY_1]:n(".Keyboard.PSEUDO_KEY_1"),[ue.PSEUDO_KEY_2]:n(".Keyboard.PSEUDO_KEY_2"),[ue.PSEUDO_KEY_3]:n(".Keyboard.PSEUDO_KEY_3"),[ue.PSEUDO_KEY_4]:n(".Keyboard.PSEUDO_KEY_4")}})),[n]),l=(0,t.useFacetWrap)(r);return e.createElement(ri.Provider,{value:l},a)},ci=(0,e.createContext)({showModal:()=>{},hideModal:()=>{},updateModal:()=>{}}),si={component:null,payload:null};function ui({children:a,ModalContainerWrapper:n}){const r=(0,e.useRef)([]),[l,o]=(0,t.useFacetState)(si),i=(0,e.useCallback)((()=>{if(r.current.length<=0)o(si);else{const e=r.current[r.current.length-1];o({component:e.component,payload:e.payload})}}),[o]),c=(0,e.useMemo)((()=>({showModal:(e,t)=>{r.current.push({component:e,payload:t}),i()},updateModal:(e,t,a)=>{if(r.current.length<=0)return;const n=r.current.findIndex((({component:a,payload:n})=>a===e&&n===t));-1!==n&&(r.current[n]={component:e,payload:a},i())},hideModal:(e,t)=>{if(!(r.current.length<=0)){if(null!=e){const a=r.current.findIndex((({component:a,payload:n})=>a===e&&n===t));if(-1===a)return;r.current.splice(a,1)}else r.current.splice(r.current.length-1,1);i()}}})),[i]),s=null!=n?n:e.Fragment;return e.createElement(ci.Provider,{value:c},a,e.createElement(s,null,e.createElement(di,{modalAndPayload:l})))}function di({modalAndPayload:a}){const n=(0,t.useFacetUnwrap)(a);if(n===t.NO_VALUE)return null;const{component:r,payload:l}=n;return null==r?null:e.createElement(r,null!=l?l:{})}const mi=()=>(0,e.useContext)(ci).hideModal,pi=a=>({useShowModal:()=>{const t=(0,e.useContext)(ci);return(0,e.useCallback)(((...e)=>{t.showModal(a,e[0])}),[t])},useModal:(a=!1)=>{const[n,r]=(0,t.useFacetState)(a);return(0,e.useMemo)((()=>({isVisible:n,show:()=>r(!0),hide:()=>r(!1)})),[n,r])},Component:(...t)=>{const n=(0,e.useContext)(ci),r=(0,e.useRef)(t[0]);let l=!1;if("object"==typeof r.current)if("object"!=typeof t[0])l=!0;else for(const e in r.current)if(t[0][e]!=r.current[e]){l=!0;break}return(0,e.useEffect)((()=>{l&&n.updateModal(a,r.current,t[0])}),[n,l,t]),(0,e.useEffect)((()=>{const e=r.current;return n.showModal(a,e),()=>{n.hideModal(a,e)}}),[n]),null}});function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fi.apply(this,arguments)}function gi(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Ei=({interactive:t=!0,role:a="inherit",className:n,withoutBorders:r,inset:l,hasTexture:o=!1})=>{const{outline:i}=Vn(a),c=o?void 0:t?i.interactive:i.base;return e.createElement("div",{className:lr()("pScGc",c,n,{n2X5o:r,L0e76:l,aOm2h:o})})},hi=a=>{let{disabled:n}=a,r=gi(a,["disabled"]);const l=(0,t.useFacetUnwrap)(n);return l!==t.NO_VALUE&&l?null:e.createElement(Ei,r)},bi=t=>{let{className:a}=t,n=gi(t,["className"]);const r=lr()(a,"Yp0em");return null!=n.disabled?e.createElement(hi,fi({className:r},n)):e.createElement(Ei,fi({className:r},n))},vi="wI0IL",Fi=(0,e.createContext)(null),Si=()=>(0,e.useContext)(Fi),yi=(Fi.Provider,(0,e.createContext)("root")),Ci=yi.Provider,Mi=()=>{const t=(0,e.useRef)(),{readById:a}=(0,e.useContext)(qr);return{narrateById:(0,e.useCallback)(((e,n=!0,r,l,o)=>{t.current=setTimeout((()=>{a(e,r,n,l,o)}),200)}),[a]),preventNarrateById:(0,e.useCallback)((()=>{t.current&&clearTimeout(t.current)}),[])}},ki=(0,e.createContext)(!0),wi=ki.Provider,Ti=(a,n)=>{const r=(0,e.useContext)(yi),l=(0,e.useContext)(qr),o=(0,e.useMemo)((()=>l.generateId()),[l]),i=(0,e.useContext)(ki),c=(0,e.useMemo)((()=>({parentNarrationId:r})),[r]),{narrateById:s,preventNarrateById:u}=Mi(),d=(0,e.useMemo)((()=>{const e=e=>{const t=c.text;c.text=e,i&&null!=t&&t!==e&&l.previousAncestryRef.current.includes(o)&&s(o)};if((0,t.isFacet)(a))return a.observe(e);"string"==typeof a?e(a):c.getText=a}),[a,c,s,o,l,i]);return c.getSuffix=n,l.narrationTree[o]=c,(0,e.useEffect)((()=>(l.narrationTree[o]=c,()=>{delete l.narrationTree[o],null==d||d(),u()})),[d,u,c,l,o]),o},xi="OO8Fh";function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ii.apply(this,arguments)}const Pi=(0,e.createContext)((function(){})),Oi=150,Ni=150,Ai=K.map((e=>`${e}`));function Li(a){const{onHoverChanged:n,onFocusChanged:r,onPressChanged:l,onClick:o,onGamepadOrKeyboardSelect:i,onKeyDown:c,onMouseDown:s,onUp:u,onDown:d,onLeft:m,onRight:p,touchDetectionDelay:f=Ni,focusRefOverride:g,nodeIdRef:E}=a,h=(0,t.useFacetWrap)(a.autofocus),b=(0,t.useFacetWrap)(a.className),v=(0,t.useFacetWrap)(a["data-testid"]),F=(0,t.useFacetWrap)(a.classNameFocused),S=(0,t.useFacetWrap)(a.classNameHovered),y=(0,t.useFacetWrap)(a.classNamePressed),C=(0,t.useFacetWrap)(a.classNameDisabled),M=(0,t.useFacetWrap)(a.delayedClick),k=(0,t.useFacetWrap)(a.disabled),w=(0,t.useFacetWrap)(a.nonFocusable),T=(0,t.useFacetWrap)(a.hidden),x=(0,t.useFacetWrap)(a.disableScrollIntoView),I=(0,t.useFacetWrap)(a.gamepadAlias),P=(0,t.useFacetWrap)(a.gamepadIndex),O=(0,t.useFacetWrap)(a.focusGridIndex),N=(0,t.useFacetWrap)(a.inputLegend),A=(0,t.useFacetWrap)("narrationText"in a?a.narrationText:""),L=(0,t.useFacetWrap)(a.pressDuration),_=(0,t.useFacetWrap)(a.soundEffectFocused),B=(0,t.useFacetWrap)(a.soundEffectHovered),U=(0,t.useFacetWrap)(a.soundEffectPressed),z=Fe(),j=(0,e.useContext)($e).isLastInputMouse,V=(0,e.useContext)($e).isLastInputTouch,G=(0,e.useContext)($e).isLastInputGamepad,$=(0,e.useContext)($e).isLastInputKeyboard,K=(0,t.useFacetRef)($),X=(0,e.useRef)(null),Y=a.innerRef||X,q=(0,e.useRef)({x:0,y:0}),Q=Si(),J=Ia(),Z=(()=>{const t=(0,e.useRef)([]),a=(0,e.useCallback)((()=>{t.current.forEach(clearTimeout),t.current=[]}),[t]),n=(0,e.useCallback)((e=>{a();let n=0;e.forEach((e=>{"number"==typeof e?n+=e:t.current.push(setTimeout((()=>e()),n))}))}),[a]);return(0,e.useEffect)((()=>{const e=t.current;return()=>{e.forEach((e=>clearTimeout(e)))}}),[]),n})(),ee=wa(),te=Le(),ae=(0,t.useFacetRef)(te),ne=(0,e.useContext)(ri),re=(0,t.useFacetRef)(ne),le=(0,e.useContext)(qe),oe=(0,t.useFacetRef)(le),{narrateCurrentContext:ie,preventNarrateCurrentContext:ce}=(()=>{const t=(0,e.useRef)(),a=(0,e.useContext)(yi),{readById:n,narrationTree:r}=(0,e.useContext)(qr);return{narrateCurrentContext:(0,e.useCallback)(((e,l=!0,o,i)=>{Object.keys(r).length>0&&(t.current=setTimeout((()=>{n(a,e||void 0,l,o,i)}),200))}),[n,r,a]),preventNarrateCurrentContext:(0,e.useCallback)((()=>{t.current&&clearTimeout(t.current)}),[])}})(),{narrateById:se,preventNarrateById:ue}=Mi(),[de]=Ee(),me=(0,t.useFacetRef)(de),pe="getNarrationText"in a?a.getNarrationText:void 0,fe=(0,e.useCallback)((()=>{const e=ae.current,a=re.current,n=oe.current,r=me.current;if(e===t.NO_VALUE||a===t.NO_VALUE||n===t.NO_VALUE||r===t.NO_VALUE)return"";let l="";return Ri(e,((e,t)=>{var o;if(-1!==Ai.indexOf(e))return;if(null==t)return;const i=r[e],c=!0===K.current?a.keyboard[i[0]]:null===(o=a.gamepad[e])||void 0===o?void 0:o[n];null!=c&&(l+=`${c}: ${t} . `)})),l}),[ae,re,oe,me,K]),ge=(0,t.useFacetMap)((e=>"string"==typeof e?e:""),[],[A]),he=Ti(null!=pe?pe:ge,fe),ve=(0,t.useFacetMap)((e=>!1===e),[],[A]),Se=(0,t.useFacetCallback)((e=>()=>{e?ie():se(he)}),[ie,se,he],[ve]),[ye,Ce]=(0,t.useFacetState)(!1),[Me,we]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)((e=>{e||Ce(!1)}),[Ce],[j]);const Te=(0,t.useFacetCallback)((e=>()=>{Ce(!1),we(!1),e||(null==n||n(!1),ce(),ue())}),[ue,ce,Ce,we,n],[k]),xe=(0,t.useFacetCallback)(((e,t)=>(a,n)=>{t||a&&null!=a.button&&a.button>0||(!n&&s&&s(a),we(!0),null!=e&&ee(e),null==l||l(!0))}),[ee,we,l,s],[U,k]),Ie=(0,t.useFacetCallback)((e=>(t,a)=>{e&&xe(t,a)}),[xe],[j]),Pe=(0,t.useFacetCallback)((e=>t=>{we(!1),e||t&&t.button>0||null==l||l(!1)}),[we,l],[k]),Oe=(0,t.useFacetCallback)((e=>t=>{e&&Pe(t)}),[Pe],[j,k]),Ne=(0,t.useFacetCallback)((e=>t=>{if(t.stopPropagation(),!(e||null==o||t.button>0))return o()}),[o],[k]),Ae=(0,t.useFacetCallback)(((e,t)=>a=>{e&&!t&&(q.current.x=a.touches[0].clientX,q.current.y=a.touches[0].clientY,Z([f,()=>xe({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY})]),null==l||l(!0))}),[f,Z,xe,l],[V,k]),Re=(0,t.useFacetCallback)(((e,t)=>a=>{e&&!t&&(Math.abs(q.current.x-a.touches[0].clientX)>3||Math.abs(q.current.y-a.touches[0].clientY)>3)&&Z([Pe])}),[Z,Pe],[V,k]),De=(0,t.useFacetCallback)(((e,t)=>()=>{e&&!t&&(Z([Pe]),null==l||l(!1))}),[Z,Pe,l],[V,k]),_e=(0,t.useFacetCallback)(((e,t,a)=>n=>{a||null==o||(n.stopPropagation(),Z(t?[xe,10,null!=e?e:Oi,Pe,o]:[xe,10,o,null!=e?e:Oi,Pe]))}),[xe,Pe,Z,o],[L,M,k]),Be=(0,t.useFacetCallback)(((e,t,a)=>()=>{if(a||null==o)return;const n=i||o,r=()=>xe(void 0,!0);Z(t?[r,10,null!=e?e:Oi,Pe,n]:[r,10,n,null!=e?e:Oi,Pe])}),[xe,Pe,Z,i,o],[L,M,k]),We=(0,e.useRef)(),Ue=null!=E?E:We,{isFocused:ze,onFocus:je}=function(a,n,r,l){const o=(0,e.useContext)(ke),i=(0,e.useMemo)((()=>o.current.generateId()),[o]);null!=l&&(l.current=i);const c=(0,t.useFacetWrap)(a),s=be(),u=(0,e.useContext)(R),[d,m]=(0,t.useFacetState)(!1),p=(0,e.useCallback)(((e=D.Unknown)=>{s(i,!1,e)}),[s,i]);return(0,t.useFacetEffect)((e=>{const t=t=>{e.onFocusChanged&&e.onFocusChanged(t),m(t)},a={type:H.ITEM,id:i,alias:e.alias,ref:r.current,disabled:e.disabled||!1,hidden:e.hidden||!1,scrollSpeedFactor:e.scrollIntoViewSpeedFactor,scrollAlign:e.scrollIntoViewAlign,scrollOffset:e.scrollIntoViewOffset,onFocus:()=>{t(!0)},onBlur:()=>{t(!1)},onRight:e.onRight,onLeft:e.onLeft,onUp:e.onUp,onDown:e.onDown,focusGridIndex:e.focusGridIndex};o.current.putNode(a,u[u.length-1]),o.current.putShortcut(i,W.A,{callback:n,inputLegend:e.inputLegend}),m(o.current.isFocused(i,e.alias))}),[m,o,u,i,n,r],[c]),(0,e.useEffect)((()=>{const e=o.current;return()=>e.removeNode(i)}),[o,i]),(0,e.useLayoutEffect)((()=>{const e=r.current;if(null==e)return;const t=()=>{s(i)};return e.addEventListener("focusin",t),()=>{e.removeEventListener("focusin",t)}}),[r,i,o,s]),{isFocused:d,onFocus:p}}((0,t.useFacetMap)(((e,t,a,n,l,o,i,c,s)=>{var f;return{index:null!=e?e:0,focusGridIndex:null!==(f=null!=t?t:e)&&void 0!==f?f:0,alias:a,inputLegend:!1===n||""===n?void 0:n,disabled:l,hidden:o||i,autofocus:c,disableScrollIntoView:s,onFocusChanged:r,onUp:u,onDown:d,onLeft:m,onRight:p}}),[r,u,d,m,p],[P,O,I,N,k,T,w,h,x]),Be,null!=(null==g?void 0:g.current)?g:Y,Ue);!function(a){const n=(0,e.useContext)(Pi);(0,t.useFacetEffect)((e=>{if(e)return n()}),[n],[a])}((0,t.useFacetMap)(((e,t)=>!0!==e&&!0!==t),[],[k,T]));const He=(0,t.useFacetCallback)(((e,t,a,r,l,o,i,c,s)=>()=>{(e||t&&J)&&(o||s||i&&c||(c||(Ce(!0),null==l||i||ee(l),(e||t)&&Se(),null==n||n(!0)),i||a||r||je(D.PointerInput)))}),[ee,Ce,n,je,Se,J],[j,V,$,G,B,k,ze,ye,T]),Ve=(0,t.useFacetCallback)(((e,t)=>a=>!0===e?Ne(a):!0===t?_e(a):void 0),[Ne,_e],[j,V]),Ge=(0,t.useFacetMap)(((e,t)=>{if(!0===e)return t}),[],[ze,_]);(0,t.useFacetEffect)((e=>{null!=e&&ee(e)}),[ee],[Ge]),(0,t.useFacetEffect)(((e,t,a,n)=>{(t||a||n===D.FocusTreeMutation)&&(!0===e?Se():(ce(),ue()))}),[Se,ie,ue,ce,r],[ze,G,$,z]);const Ke=(0,t.useFacetMap)(((e,t,a,n,r,l,i,c,s,u,d)=>{const m=Q?Q.hovered:i,p=null!=o&&(Q?"pressed"===Q.pressState:c),f=s&&(u||d);return`BlHLJ${null==e||""===e?"":` ${e}`}${m?` ${bn.hovered}${null!=t?` ${t}`:""}`:""}${p?` ${bn.pressed}${null!=a?` ${a}`:""}`:""}${(f||null!=Q&&Q.focused)&&null!=n?` ${bn.focused}${null!=n?` ${n}`:""}`:""}${!0===l?" OO8Fh"+(bn.disabled!==xi?" "+bn.disabled:""):""}${!0===l&&null!=r&&r!=xi?` ${r}`:""}`}),[Q,o],[b,S,y,F,C,k,ye,Me,ze,$,G]);return"span"===a.tag?e.createElement("fast-span",{ref:Y,className:Ke,style:a.style,"data-testid":v,onClick:Ve,onTouchStart:Ae,onTouchMove:Re,onTouchEnd:De,onMouseDown:Ie,onMouseUp:Oe,onMouseMove:He,onMouseLeave:Te,onKeyDown:c},a.children):e.createElement("fast-div",{ref:Y,className:Ke,style:a.style,"data-testid":v,onClick:Ve,onTouchStart:Ae,onTouchMove:Re,onTouchEnd:De,onMouseDown:Ie,onMouseUp:Oe,onMouseMove:He,onMouseLeave:Te,onKeyDown:c},a.children)}Li.displayName="InteractivePrimitive",Li.Maybe=a=>{let{isInteractive:n,children:r,onClick:l,inputLegend:o,innerRef:i,className:c,classNameDisabled:s,disabled:u,style:d}=a,m=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["isInteractive","children","onClick","inputLegend","innerRef","className","classNameDisabled","disabled","style"]);const p=(0,t.useFacetWrap)(u),f=(0,t.useFacetWrap)(c),g=(0,t.useFacetWrap)(s),E=(0,t.isFacet)(r)?e.createElement("fast-text",{text:r}):e.createElement(e.Fragment,null,r),h=(0,t.useFacetMap)(((e,t,a)=>lr()(e,!0===t&&bn.disabled!==xi?bn.disabled:null,!0===t&&a!==xi?a:null,!0===t?xi:null)),[],[f,p,g]);return!0===(0,t.useFacetUnwrap)(n)?e.createElement(Li,Ii({onClick:l,inputLegend:null!=o&&o,innerRef:i,className:f,classNameDisabled:g,disabled:p},m),E):e.createElement("fast-div",{ref:i,className:h,style:d},E)};const Ri=(e,t)=>{for(const a in e)t(a,e[a])},Di=({narrationText:a,inputLegend:n,disabled:r,onClick:l,children:o,focusGridIndex:i,gamepadAlias:c,role:s="inherit",soundEffectPressed:u,className:d,selected:m,testId:p})=>{const f=(0,t.useFacetWrap)(r),g=Vn(s),E=$n(s),h=Yn();return e.createElement(Li,{narrationText:a,className:(0,t.useFacetMap)((e=>lr()("TWMF_",g.background.interactive,g.text.interactive,d,{[h.selected]:e})),[d,g,h],[(0,t.useFacetWrap)(null!=m&&m)]),classNameFocused:vi,classNameDisabled:"w2q1p",focusGridIndex:i,gamepadAlias:c,inputLegend:n,onClick:l,disabled:f,soundEffectPressed:null!=u?u:E.press,"data-testid":p},o,e.createElement(bi,{inset:!0,role:s}))},_i="_4L7w8";function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bi.apply(this,arguments)}function Wi(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const Ui=({thin:a,top:n=!0,bottom:r=!0,left:l=!0,right:o=!0,className:i,hide:c,semanticStyles:s})=>{const u=lr()("VhM7i",s,i,{TlrkS:a});return e.createElement(e.Fragment,null,e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()(u,{IJLgK:n,TayiM:l,[_i]:e})),[u,n,l],[c])}),e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()(u,{vgsJS:r,NnaWJ:o,[_i]:e})),[u,r,o],[c])}))},zi=t=>{let{children:a}=t,n=Wi(t,["children"]);return e.createElement(e.Fragment,null,e.createElement(Ui,n),a)},ji=a=>{let{disabled:n,children:r}=a,l=Wi(a,["disabled","children"]);const o=(0,t.useFacetMap)((e=>!1===(null!=e&&e)),[],[(0,t.useFacetWrap)(null!=n&&n)]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(Ui,l)),r)},Hi=(0,t.createStaticFacet)(!1),Vi=t=>{let{effect:a="specular",reversed:n,role:r="inherit",interactive:l=!0,hide:o=Hi}=t,i=Wi(t,["effect","reversed","role","interactive","hide"]);const{[a]:c}=Vn(r),s=Xn(),u=lr()(l?c.interactive:c.base,{[s.reversed]:n});return null!=i.disabled?e.createElement(ji,Bi({semanticStyles:u,hide:o},i)):e.createElement(zi,Bi({semanticStyles:u,hide:o},i))},Gi=(0,e.createContext)(!1),$i=(Gi.Provider,Gi.Consumer,(0,t.createFacetContext)(void 0)),Ki=($i.Provider,$i.Consumer,(0,e.createContext)({delegationEvent:(0,t.createStaticFacet)(void 0)})),Xi=()=>{const[e,a]=(0,t.useFacetState)({date:0,event:void 0}),n=()=>a({date:Date.now(),event:void 0});return n.first=()=>a({date:Date.now(),event:_.FIRST_CHILD}),n.memory=()=>a({date:Date.now(),event:_.MEMORY}),n.alias=e=>a({date:Date.now(),event:_.ALIAS,alias:e}),{delegationEventFacet:e,delegateFocus:n}},Yi=Ki.Provider,qi=({delegationEvent:t,children:a})=>e.createElement(Yi,{value:{delegationEvent:t}},a);function Qi(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ji(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(a),!0).forEach((function(t){Zi(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qi(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Zi(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ec="NO_LANDMARK_KEY",tc=(0,t.createStaticFacet)(void 0),ac=({children:a,disabled:n,hidden:r,focusControlDisabled:l,alias:o,scrollAxis:i,scrollOptions:c,shouldBindFocus:s,containerRef:u,delegateFocusFromMemory:d,delegateFocusByAlias:m,landmarkKey:p,isGrid:f,gridContainerWidth:g,gridContainerHeight:E,gridItemWidth:h,gridItemHeight:b})=>{const v=(0,e.useContext)(ke),F=(0,e.useMemo)((()=>v.current.generateId()),[v]),S=(0,t.useFacetWrap)(n),y=(0,t.useFacetWrap)(r),C=(0,t.useFacetMap)((e=>!0===e),[],[(0,t.useFacetWrap)(l)]),M=(0,t.useFacetWrap)(d),k=(0,t.useFacetWrap)(m),w=(0,t.useFacetWrap)(i),T=(0,t.useFacetWrap)(o),x=(0,t.useFacetWrap)(c),I=(0,t.useFacetWrap)(s),P=(0,t.useFacetWrap)(p),O=(0,t.useFacetWrap)(f),N=(0,t.useFacetWrap)(g),A=(0,t.useFacetWrap)(E),L=(0,t.useFacetWrap)(h),W=(0,t.useFacetWrap)(b),V=(0,e.useContext)(Gi),G=(0,e.useContext)(R),$=(0,e.useContext)($i),{delegationEventFacet:K}=(()=>{const{delegationEvent:t}=(0,e.useContext)(Ki);return{delegationEventFacet:t}})(),X=G[G.length-1],Y=(0,t.useFacetMap)(((e,t)=>{if(!t)return e}),[],[K,C]),q=(0,t.useFacetMap)((e=>null!=e),[],[Y]),Q=be(),Z=(0,e.useCallback)((e=>t=>{var a;const n=null!==(a=t.getAttribute(z))&&void 0!==a?a:t.getAttribute(U);if(null==n)return!1;const r=parseInt(n,10);return e===r||v.current.isAncestorOf(e,r)}),[v]),ee=(0,t.useFacetCallback)((()=>({delegateFocusByAlias:e,delegateFocusFromMemory:a,cachedDescendantElements:n,delegationOrigin:r})=>{var l,o;!0===C.get()&&console.warn("Asked a FocusControlDisabled Landmark to delegate, abort mission. (find out why)");const i=v.current.getEnabledBindingLandmarkDescendant(F);if(null!=i){const e=null==n?void 0:n.filter(Z(i.id)),a=i.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:r});if(null!=a&&a!==t.NO_VALUE)return a}const c=v.current.getElement(F),s=v.current.getDynasty(F),d=re(c)?c:void 0;if(null!=d&&a){var m,p;const e=null!==(m=null==d?void 0:d.landmarkKey)&&void 0!==m?m:ec,a=null==d||null===(p=d.delegationMemoryStack)||void 0===p?void 0:p.get(e);if(null!=a){let e;for(let t=0;t<a.length;t++){const n=a[t],r=v.current.getElement(n);if(null!=r&&v.current.isFocusable(r.id)&&null!=s&&s.has(r.id)){e=r;break}}if(null!=e){const a=re(e)?e:void 0;if(null==a)return{id:e.id,reason:J.MemoryDelegation};{const e=null==n?void 0:n.filter(Z(a.id)),l=a.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:r});if(null!=l&&l!=t.NO_VALUE)return l}}}}if(re(ie.current)&&("string"==typeof e||!0===e&&null!=ie.current.delegateFocusByAlias)){var f;const a="string"==typeof e?e:null!==(f=ie.current.delegateFocusByAlias)&&void 0!==f?f:"",l=v.current.getElement(a);if(null!=l&&null!=s&&s.has(l.id)&&v.current.isFocusable(l.id)){if(!re(l))return{id:l.id,reason:J.AliasDelegation};{const e=null==n?void 0:n.filter(Z(l.id)),a=l.getDelegatedFocus({cachedDescendantElements:e,delegationOrigin:r});if(null!=a&&a!==t.NO_VALUE)return a}}}const g=null==ie.current||!0===ie.current.hidden||!0===ie.current.disabled?void 0:F,E=null!=g?{id:g,reason:J.DefaultDelegation}:void 0,h=null!=n?n:Array.from(null!==(l=null===(o=u.current)||void 0===o?void 0:o.querySelectorAll("[data-focusable-id], [data-landmark-id]"))&&void 0!==l?l:[]);if(0===h.length)return E;for(let e=0;e<h.length;e++){const a=h[e].getAttribute(U),n=h[e].getAttribute(z);if(null!=a){const e=parseInt(a,10);if(null==s||!s.has(e))continue;const n=v.current.getElement(e);if(!re(n))continue;if(!v.current.isFocusable(e))continue;if(r!==B.Mutation&&!v.current.containerHasEnabledItems(e))continue;const l=Z(e),o=h.filter(l),i=n.getDelegatedFocus({cachedDescendantElements:o,delegationOrigin:r});if(i!=t.NO_VALUE&&null!=i)return i}else if(null!=n){const e=parseInt(n,10);if(null!=s&&s.has(e)&&v.current.isFocusable(e))return{id:e,reason:J.FirstFoundDelegation}}}return E}),[u,Z,C,v,F],[]),te=(0,t.useFacetCallback)((e=>({cachedDescendantElements:t,delegationOrigin:a})=>{var n;return ee({delegateFocusFromMemory:e,delegateFocusByAlias:re(ie.current)&&(null===(n=ie.current)||void 0===n?void 0:n.delegateFocusByAlias),cachedDescendantElements:t,delegationOrigin:a})}),[ee],[M]),ae=(0,e.useCallback)((e=>{var a;if(!re(ie.current)||null==e||0===e.date)return;let n;switch(e.event){case _.FIRST_CHILD:n=ee({delegationOrigin:B.UserInput});break;case _.MEMORY:n=ee({delegateFocusFromMemory:!0,delegationOrigin:B.UserInput});break;case _.ALIAS:const t=null!==(a=e.alias)&&void 0!==a?a:ie.current.delegateFocusByAlias;n=ee({delegateFocusByAlias:t,delegationOrigin:B.UserInput});break;default:n=te({delegationOrigin:B.UserInput})}null!=n&&n!==t.NO_VALUE&&Q(n.id,!1,D.LandmarkController)}),[ee,te,Q]);(0,t.useFacetEffect)((e=>{ae(e)}),[ae],[Y]);const ne=(0,e.useCallback)(((e,t)=>{if(t===D.FocusTreeMutation)return;const a=v.current.getElement(F),n=re(a)?a:void 0;if(null!=(null==n?void 0:n.delegationMemoryStack)){var r;const t=null!==(r=null==n?void 0:n.landmarkKey)&&void 0!==r?r:ec,a=n.delegationMemoryStack.get(t)||[];if(null!=a){const r=a.indexOf(e);-1!==r&&a.splice(r,1),a.unshift(e),n.delegationMemoryStack.set(t,a)}}}),[v,F]),le=(0,t.useFacetCallback)((e=>t=>{t.origin===D.LandmarkController&&ae(e)}),[ae],[Y]),oe=(0,e.useRef)(),ie=(0,e.useRef)(void 0),ce=(0,e.useRef)(!1);(0,e.useMemo)((()=>{var e;if(mr([S,y,C,w,T,x,I,k,M,P,O,N,A,L,W])===t.NO_VALUE&&!v.current.getElement(F)){const e={scrollAxis:void 0,type:H.LANDMARK,id:F,ref:null,alias:void 0,scrollIntoViewAlign:void 0,scrollIntoViewOffset:void 0,scrollIntoViewSpeedFactor:void 0,shouldScrollWithAnalog:void 0,disabled:!0,hidden:!0,focusControlDisabled:!0,isGrid:!1,gridContainerHeight:0,gridContainerWidth:0,gridItemHeight:0,gridItemWidth:0,onFocusableOfDynastyFocused:ne,getDelegatedFocus:te,onDynastyUpdated:le,delegateFocusByAlias:void 0,landmarkKey:void 0,delegationMemoryStack:void 0};ie.current=e,v.current.putNode(e,X)}null===(e=oe.current)||void 0===e||e.call(oe),oe.current=(0,t.multiObserve)(((e,t,a,n,r,l,o,i,c,s,d,m,p,f,g)=>{const E=v.current.getElement(F),h=Ji(Ji({scrollAxis:n,type:H.LANDMARK,id:F,ref:u.current,alias:r,scrollIntoViewAlign:null==l?void 0:l.scrollIntoViewAlign,scrollIntoViewOffset:null==l?void 0:l.scrollIntoViewOffset,scrollIntoViewSpeedFactor:null==l?void 0:l.scrollIntoViewSpeedFactor,shouldScrollWithAnalog:null==l?void 0:l.shouldScrollWithAnalog,disabled:!0===e,hidden:!0===t,focusControlDisabled:!0===a,isGrid:!0===d,gridContainerWidth:null!=m?m:0,gridContainerHeight:null!=p?p:0,gridItemWidth:null!=f?f:0,gridItemHeight:null!=g?g:0,onFocusableOfDynastyFocused:ne,getDelegatedFocus:te,onDynastyUpdated:le},!V&&o?{shouldBindFocus:!0}:{}),{},{delegateFocusByAlias:i,landmarkKey:s,delegationMemoryStack:!0===c?re(E)&&null!=E.delegationMemoryStack?E.delegationMemoryStack:new Map:void 0});ie.current=h,ce.current=null==u.current,v.current.putNode(h,X)}),[S,y,C,w,T,x,I,k,M,P,O,N,A,L,W])}),[F,v,X,ne,u,te,V,S,y,C,w,T,x,I,k,M,P,le,O,N,A,L,W]),(0,e.useEffect)((()=>()=>{var e;null===(e=oe.current)||void 0===e||e.call(oe)}),[]),(0,e.useEffect)((()=>{if(!ce.current)return;if(null==u.current||null==ie.current)return;const e=Ji(Ji({},ie.current),{},{ref:u.current});v.current.putNode(e,X)}),[]),(0,t.useFacetEffect)((e=>{if(null==ie.current||ie.current.hidden||ie.current.disabled||null==e)return;const a=te({delegationOrigin:B.Mutation});null!=a&&a!==t.NO_VALUE&&Q(a.id,!1)}),[te,Q],[$]),(0,e.useEffect)((()=>{const e=v.current;return()=>e.removeNode(F)}),[v,F]);const se=[...G,F],ue=(0,e.useMemo)((()=>({children:t})=>e.createElement(R.Provider,{value:se},t)),se);return(0,e.useEffect)((()=>{null!=window.__REACT_FACET_DEVTOOLS_GLOBAL_HOOK__&&null!=u.current&&u.current.setAttribute(j,`${F}`)}),[F,u]),e.createElement(nc,{shouldResetDelegationEvent:q},e.createElement(ue,null,a))},nc=({shouldResetDelegationEvent:t,children:a})=>e.createElement(Yr,{data:t},(t=>null==t?e.createElement(e.Fragment,null,a):e.createElement(qi,{delegationEvent:tc},a))),rc=({children:t,containerRef:a,condition:n})=>n?e.createElement(ac,{containerRef:a},t):e.createElement(e.Fragment,null,t);function lc(e){return e.height/e.width*100+"%"}function oc({className:a,src:n,imageRendering:r,height:l,width:o,aspectRatio:i,cover:c,isGrayscale:s=!1}){const u=(0,t.useFacetWrap)(r),d=(0,t.useFacetWrap)(n),m=null!=i,p=(0,t.useFacetMap)(((e,t)=>lr()(e,{JhYHo:m,voSnw:t})),[m],[(0,t.useFacetWrap)(a),(0,t.useFacetWrap)(s)]),f=i?lc(i):void 0;return!0===c||m?e.createElement(ic,{paddingTop:f,src:d,className:p,imageRendering:u,height:l,width:o}):e.createElement("fast-img",{src:d,className:a,style:{height:l,width:o,imageRendering:u,paddingTop:f}})}function ic({className:a,src:n,imageRendering:r,width:l,height:o,paddingTop:i}){const c=(0,t.useFacetMap)((e=>`url(${e})`),[],[n]);return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()("N00gN",e)),[],[(0,t.useFacetWrap)(a)]),style:{width:l,height:o,paddingTop:i,backgroundImage:c,imageRendering:r}})}oc.AspectRatio={"16:9":{width:16,height:9},"10:3":{width:10,height:3},"1:1":{width:1,height:1}},oc.aspectRatioToPercentage=lc;const cc=a.p+"assets/arrowBackWhite-2eb91.png",sc=(e,a)=>{const n=(0,t.useFacetWrap)(e),r=(0,t.useFacetWrap)(a),l=(0,t.useFacetMap)(((e,a)=>null==e&&null==a?t.NO_VALUE:[e,a].filter(Boolean).join(" ")),[],[n,r]);return l};function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},uc.apply(this,arguments)}const dc=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("QY9oU",a);return e.createElement(oc,uc({},n,{className:r,src:cc,imageRendering:"pixelated"}))},mc=a.p+"assets/crossWhite-0f6ce.png";function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pc.apply(this,arguments)}const fc=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("pOfo3",a);return e.createElement(oc,pc({},n,{className:r,src:mc,imageRendering:"pixelated"}))},gc="b22sN",Ec={Back:{useLocalization:()=>oi("TitleBar.Buttons.Back"),Component:({onClick:t,gamepadAlias:a})=>{const{t:n}=Ec.Back.useLocalization();return e.createElement(Di,{role:"neutral",inputLegend:n(".inputLegend"),narrationText:n(".narration"),onClick:t,gamepadAlias:a,className:gc},e.createElement(dc,null))}},Close:{useLocalization:()=>oi("TitleBar.Buttons.Close"),Component:({onClick:a,gamepadAlias:n,narrationSuffix:r,narrationPrefix:l,testId:o})=>{const{t:i}=Ec.Close.useLocalization(),c=(0,t.useFacetMap)(((e,t)=>[e,i(".narration"),t].filter((e=>e)).join(" . ")),[i],[(0,t.useFacetWrap)(null!=l?l:""),(0,t.useFacetWrap)(null!=r?r:"")]);return e.createElement(Di,{testId:o,role:"neutral",inputLegend:i(".inputLegend"),narrationText:c,onClick:a,gamepadAlias:n,className:gc},e.createElement(fc,null))}}},hc=({children:t,gamepadAlias:a,role:n="inherit",left:r,right:l})=>{const o=Vn(n),i=(0,e.useRef)(null);return e.createElement(ac,{containerRef:i,alias:a},e.createElement("div",{ref:i,className:lr()("cMby9",o.background.base,o.text.base)},e.createElement(Vi,{effect:"specular"}),e.createElement("div",{className:"R_MXY"},r),t,e.createElement("div",{className:"QCx_V"},l)),e.createElement("div",{className:lr()("N2O5_",o.shadow.base)}))};hc.Buttons=Ec;const bc=(0,e.createContext)((0,t.createFacet)({initialValue:!1})),vc=()=>(0,e.useContext)(bc),Fc={size1:"dKnsZ",size2:"jlzzq",size3:"kImvy",size4:"wuFIX",size5:"N0bYN",size6:"IhAF5",size7:"hzGpu",size8:"pqqwM"};function Sc({size:t}){return e.createElement("div",{className:Fc[`size${t}`]})}Sc.displayName="Spacing",Sc.Facet=function({size:a}){return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>Fc[`size${e}`]),[],[a])})};const yc="unmounted",Cc="exited",Mc="entering",kc="entered",wc="exiting",Tc=(0,t.createStaticFacet)(!1);function xc({visible:a=Tc,alwaysMounted:n,inverse:r=Tc,appear:l,unmountOnExit:o=Tc,onStatusChange:i,timeout:c,children:s}){const u=(0,e.useRef)(null),d=(0,t.useFacetWrap)(a),m=(0,t.useFacetWrap)(r),p=(0,t.useFacetWrap)(!n&&o),[f,g]=(0,t.useFacetState)(t.NO_VALUE),E=(0,t.useFacetCallback)(((e,a)=>r=>{Ic(u),g((o=>{if(r){if(o===t.NO_VALUE)return[l?Cc:kc,e];if(o[0]===yc)return[Cc,e]}else{if(o===t.NO_VALUE)return[n?Cc:yc,e];if(o[0]===Cc&&a)return[yc,e]}return o}));const o=setTimeout((()=>{g((n=>{if(n===t.NO_VALUE)return t.NO_VALUE;const[l]=n;return r?l===kc?[kc,e]:[Mc,e]:l===Cc?[a?yc:Cc,e]:l===yc?[yc,e]:[wc,e]}))}),0);return()=>clearTimeout(o)}),[g,l,n],[m,p]);(0,t.useFacetEffect)((e=>{E(e)}),[E],[d]);const h=(0,t.useFacetMap)((e=>e[0]),[],[f]),b=(0,t.useFacetCallback)((e=>a=>{i&&i(a);const n=a===Mc,r=a===wc,l=a===Cc;Ic(u),n&&(u.current=setTimeout((()=>g((e=>e===t.NO_VALUE?t.NO_VALUE:[kc,e[1]]))),c+100)),r&&(u.current=setTimeout((()=>g((a=>a===t.NO_VALUE?t.NO_VALUE:[e?yc:Cc,a[1]]))),c+100)),l&&e&&g((e=>e===t.NO_VALUE?t.NO_VALUE:[yc,e[1]]))}),[c,g,i],[p]);return(0,t.useFacetEffect)((e=>{b(e)}),[b],[h]),(0,e.useEffect)((()=>()=>Ic(u)),[]),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e!==yc),[],[h])},s(f))}const Ic=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Pc="WfHBb",Oc="KRqUY",Nc="UmdPV";var Ac=a(91296),Lc=a.n(Ac);function Rc(a,n,r,l,o,i=!1,c=0){const[s,u]=(0,t.useFacetState)(!1),[d,m]=(0,t.useFacetState)(!1),p=(0,t.useFacetWrap)(null==l||l),f=(0,e.useRef)(!0),g=Je(),E=ko(4)+c,h=ko(8),b=(0,e.useMemo)((()=>Lc()((()=>u(!0)),500,{leading:!0,trailing:!1})),[u]),v=(0,e.useMemo)((()=>Lc()((()=>u(!1)),500,{leading:!1,trailing:!0})),[u]);(0,e.useEffect)((()=>{let e=null;return e=setTimeout((()=>{if(!o||!o.current||i)return;if(!0!==g.get())return m(!1);const e=window.innerHeight-o.current.getBoundingClientRect().bottom-h<E;m(e)}),250),()=>{e&&window.clearTimeout(e)}}),[m,h,E,g,o,a,i]);const F=(0,e.useRef)(null),S=(0,e.useMemo)((()=>{let e=null,t=null,l=null,o=!0;return()=>{var c,s;const u=!0===d.get(),m=a.current,p=n.current,g=r.current;if(!m||!p||!g)return;const h=i?m.scrollLeft:m.scrollTop,y=i?window.innerWidth:window.innerHeight;if(o){const e=m.getBoundingClientRect();if(0!==e.width&&0!==e.height){const t=u?E:0,a=(i?e.width:e.height)-t,n=i?m.scrollWidth:m.scrollHeight,r=n-(i?e.width:e.height),l=Math.min(1,h/r),c=i?m.getBoundingClientRect().left-e.left:g.getBoundingClientRect().top-e.top,s=a/n*a-2*c,d=40,f=16,b=12,v=Math.max(a>d+b?d:f,i?Math.min(.4*a-2*c,s):s);if(i)p.style.left=100*l+"%",p.style.widthPX=v,p.style.marginLeft=-v/2+"px",g.style.leftPX=v/2,g.style.rightPX=v/2;else{const e=l*(a-v-2*c);p.style.topPX=e,p.style.heightPX=v,g.style.bottomPX=t}o=!1}}u!==e&&(e=u,o=!0),h!==l&&(f.current?f.current=!1:(b(),v()),l=h,o=!0),y!==t&&(t=y,o=!0),F.current=null===(c=(s=window).requestAnimationFrame)||void 0===c?void 0:c.call(s,S)}}),[b,v,i,E,d,a,n,r]);return(0,t.useFacetEffect)((e=>(e&&S(),()=>{var e,t;null!=F.current&&(null===(e=(t=window).cancelAnimationFrame)||void 0===e||e.call(t,F.current)),v.cancel(),b.cancel()})),[S,v,b],[p]),s}function Dc(a,n=!1,r){const[l,o]=(0,t.useFacetState)(!1),i=(0,e.useRef)(!1),c=(0,e.useRef)(0),s=(0,e.useRef)(0),u=(0,e.useRef)(0);return(0,e.useEffect)((()=>{const e=()=>{const l=a.current;if(!l)return;const{scrollWidth:d,scrollHeight:m}=l;if(0===m)return;const{width:p,height:f}=l.getBoundingClientRect();if(r)return o(n?d>Math.ceil(p):m>Math.ceil(f));o((a=>{if(a===t.NO_VALUE)return t.NO_VALUE;const r=n?d:m,l=n?p:f,o=r>Math.ceil(l),g=n?window.innerWidth:window.innerHeight;return!a&&o&&(u.current=g,requestAnimationFrame(e)),a&&!i.current&&(c.current=r,s.current=f),i.current=a,!(!a||o||r!==c.current||l!==s.current||g!==u.current)||o}))};e();const l=setInterval(e,1e3);return()=>clearInterval(l)}),[r,n,a,o]),l}function _c({scrollingContainerRef:a,horizontal:n,stopCheckingForScroll:r,floating:l,stopTrackingScrollDimensions:o,darkTheme:i,minimalTheme:c,safeZonePadding:s,backgroundRole:u="neutral60",className:d}){const{handlerRef:m,railRef:p}=Wc(a,n),f=Bc(a,p,n),g=Dc(a,n,l||o),E=(0,t.useFacetWrap)(null!=r&&r),h=(0,t.useFacetMap)(((e,t)=>e&&!t),[],[g,E]),{background:{base:b}}=Vn(u);Rc(a,m,p,h,void 0,n,s);const v=(0,t.useFacetMap)((e=>lr()(d,{X5AON:!n,IXDlR:n,HTEVa:!e,jHZDI:l})),[n,l,d],[g]);return e.createElement("fast-div",{className:v,onClick:f},e.createElement("div",{className:lr()("FqQCr",{[Nc]:n,[Pc]:c,[Oc]:i})}),e.createElement("div",{className:lr()("I0uqP",b,{[Pc]:c})}),e.createElement("div",{className:"p04xH",ref:p},e.createElement("div",{className:"VOQuh",ref:m},e.createElement("div",{className:"dDEKV"},e.createElement(Vi,{role:"secondary"})),e.createElement("div",{className:"ZT0PP"}))),e.createElement("div",{className:lr()("aEsRX",{[Nc]:n,[Pc]:c,[Oc]:i})}))}const Bc=(t,a,n)=>(0,e.useCallback)((e=>{const r=t.current,l=a.current;if(!r||!l)return;const o=l.getBoundingClientRect(),i=r.getBoundingClientRect();if(n){const t=(e.clientX-o.left)/o.width;r.scrollLeft=t*(r.scrollWidth-i.width)}else{const t=(e.clientY-o.top)/o.height;r.scrollTop=t*(r.scrollHeight-i.height)}}),[t,a,n]),Wc=(t,a=!1)=>{const n=(0,e.useRef)(null),r=(0,e.useRef)(null);return(0,e.useEffect)((()=>{const e=n.current,l=t.current,o=r.current;if(!e||!l||!o)return;let i=!1,c=0;const s=t=>{i=!0;const n=e.getBoundingClientRect();c=a?t.clientX-n.left:t.clientY-n.top},u=()=>{i=!1,c=0},d=t=>{if(!i)return;const n=o.getBoundingClientRect(),r=e.getBoundingClientRect(),s=l.getBoundingClientRect(),u=a?(t.clientX-c-n.left)/(n.width-r.width):(t.clientY-c-n.top)/(n.height-r.height);a?l.scrollLeft=u*(l.scrollWidth-s.width):l.scrollTop=u*(l.scrollHeight-s.height)},m=e=>{e.preventDefault(),e.stopPropagation()};return document.addEventListener("mousemove",d),document.addEventListener("mouseup",u),e.addEventListener("mousedown",s),e.addEventListener("click",m),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u),e.removeEventListener("mousedown",s),e.removeEventListener("click",m)}}),[n,t,r,a]),{handlerRef:n,railRef:r}};function Uc({scrollingContainerRef:a,horizontal:n,stopCheckingForScroll:r,alwaysVisible:l,safeZonePadding:o}){const i=(0,e.useRef)(null),c=(0,e.useRef)(null),s=(0,e.useRef)(null),u=zc(a),d=(0,t.useFacetWrap)(null!=r&&r),m=Dc(a,n),p=Rc(a,i,c,(0,t.useFacetMap)(((e,t)=>e&&!t),[],[m,d]),s,n,o),f=lr()({pKafk:!n,qBOw1:n}),g=(0,t.useFacetMap)(((e,t,a)=>"VLAZG "+(a&&(t||e||l)?"VEGv3":"eC0Tu")),[l],[u,p,m]);return e.createElement("div",{className:f,ref:s},e.createElement("div",{className:"hhUBB",ref:c},e.createElement("fast-div",{className:g,ref:i})))}const zc=a=>{const[n,r]=(0,t.useFacetState)(!1);return(0,e.useEffect)((()=>{var e;const t=()=>r(!0),n=()=>r(!1),l=null!==(e=null==a?void 0:a.current)&&void 0!==e?e:window;return l.addEventListener("touchstart",t),l.addEventListener("touchend",n),()=>{l.removeEventListener("touchstart",t),l.removeEventListener("touchend",n)}}),[a,r]),n};function jc({scrollingContainerRef:t,stopCheckingForScroll:a,alwaysVisible:n,horizontal:r=!1,floating:l,stopTrackingScrollDimensions:o,darkTheme:i,minimalTheme:c,backgroundRole:s,className:u}){const d=ul();return e.createElement(Yr,{data:Qe()},(m=>m?e.createElement(_c,{horizontal:r,scrollingContainerRef:t,stopCheckingForScroll:a,safeZonePadding:d.bottom,floating:l,stopTrackingScrollDimensions:o,darkTheme:i,minimalTheme:c,backgroundRole:s,className:u}):e.createElement(Uc,{horizontal:r,scrollingContainerRef:t,stopCheckingForScroll:a,safeZonePadding:d.bottom,alwaysVisible:n})))}const Hc="ekhCp",Vc="n60Ng",Gc="Il2HF",$c=a(82413);function Kc(){return e.createElement(oc,{src:$c,className:"Dpj6m",imageRendering:"pixelated"})}const Xc=({interruptible:t=!0,playInBackground:a=!1,profanityFilterContext:n={outOfGame:!0,inGame:!0},required:r=!1}={})=>{const l=(0,e.useRef)(),{readText:o}=(0,e.useContext)(qr);return{narrateText:(0,e.useCallback)((e=>{l.current=setTimeout((()=>{o(e,n,t,r,a)}),200)}),[o,n,t,r,a]),preventNarrateText:(0,e.useCallback)((()=>{l.current&&clearTimeout(l.current)}),[])}},Yc=({children:a,alwaysVisibleChildren:n,loading:r,renderTracker:l,focusGridIndex:o,scrollIntoViewAlign:i="center",scrollIntoViewSpeedFactor:c,horizontal:s=!1,innerRef:u,floating:d,stopTrackingScrollDimensions:m,darkTheme:p,minimalTheme:f,padSpinnerVertically:g,spinnerBackgroundColor:E,disableScrolling:h,showSpinnerBorder:b,stopCheckingForScroll:v,emptyFocusableGamepadAlias:F,emptyFocusableNarrationText:S,defaultFocusedChildBehavior:y,gamepadAlias:C,delegateFocusByAlias:M,delegateFocusFromMemory:k,flexShrinkWrapper:w,scrollbarBackgroundRole:T,scrollbarClassName:x,focusControlDisabled:I,disabled:P,shouldScrollWithAnalog:O=!0})=>{const N=(0,e.useRef)(null),A=u||N,[L,R]=(0,e.useState)(!1),D=(0,t.useFacetWrap)(r),_=Dc(A,s,d||m),B=Ia(),W=(0,t.useFacetWrap)(null!=h&&h),U=(0,t.useFacetMap)(((e,t)=>lr()(s?"ze6YH":"OnsGF",e||t&&null!=n?"WFE9a":null,"SIgu2",s?Vc:Hc)),[s,n],[W,D]),z=k||"remember"===y,j=L&&!0===d,H=(0,t.useFacetMap)((e=>lr()("cQvwc",{[vi]:e&&j})),[j],[tt()]),V=(0,e.useRef)(null),[$,K]=(0,t.useFacetState)(0);(0,t.useFacetEffect)((e=>{let t;const a=()=>{const n=V.current;if(null==n)return;const r=n.getBoundingClientRect(),l=s?r.width:r.height;K(l),e&&(t=requestAnimationFrame(a))};return a(),()=>{cancelAnimationFrame(t)}}),[K,V,s],[D]);const X=(0,t.useFacetMap)((e=>null==e||!e),[],[D]),Y=(0,e.useRef)(null),q=(0,t.useFacetMap)((e=>P||!0===e),[P],[D]),Q=(0,t.useFacetWrap)({scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,shouldScrollWithAnalog:O}),J=(0,e.useContext)(Pi),[Z,ee]=(0,t.useFacetState)(0),te=(0,t.useFacetMap)((e=>e>0),[],[Z]),ae=(0,t.useFacetMap)(((e,t)=>B&&!e||!e&&t),[B],[te,_]);return e.createElement(Pi.Provider,{value:(0,e.useCallback)((()=>(J(),ee((e=>e===t.NO_VALUE?e:e+1)),()=>{ee((e=>e===t.NO_VALUE?e:e-1))})),[J,ee])},e.createElement(bc.Provider,{value:te},e.createElement(ac,{containerRef:Y,focusControlDisabled:I},e.createElement("div",{ref:Y,className:lr()(s?"Buwpy":"UedOa",{LZJCZ:w})},e.createElement(qc,{focusGridIndex:o,hidden:X,renderTracker:l,padSpinnerVertically:g,spinnerBackgroundColor:E,showBorder:b,spinnerOffsetPosition:$,horizontal:s}),e.createElement(t.Mount,{when:ae},e.createElement("fast-div",{className:H},e.createElement(bi,{inset:!0}))),e.createElement("fast-div",{className:U,ref:A,"data-testid":"scroll-view"},e.createElement(ac,{disabled:q,scrollOptions:Q,delegateFocusFromMemory:z,containerRef:A,scrollAxis:s?G.HORIZONTAL:G.VERTICAL,alias:C,delegateFocusByAlias:M,focusControlDisabled:I},e.createElement("div",{ref:V},n),e.createElement("fast-div",{className:(0,t.useFacetMap)(((e,t)=>lr()(s?"NsGay":"bXCZP",s?Vc:Hc,{AV6LH:e,[Gc]:t})),[s],[D,wl()])},e.createElement(e.Fragment,null,a,e.createElement(t.Mount,{when:ae},e.createElement(es,{onFocusChanged:R,gamepadAlias:F,narrationText:S})))))),e.createElement(t.Mount,{when:X},e.createElement(jc,{stopTrackingScrollDimensions:m,floating:d,horizontal:s,scrollingContainerRef:A,stopCheckingForScroll:v,alwaysVisible:L,darkTheme:p,minimalTheme:f,backgroundRole:T,className:x}))))))};function qc({hidden:a,renderTracker:n,spinnerBackgroundColor:r,padSpinnerVertically:l,showBorder:o=!0,focusGridIndex:i,spinnerOffsetPosition:c,horizontal:s}){const u=(0,t.useFacetMap)((e=>!1===e),[],[a]),[d,m]=(0,t.useFacetState)(!1),p=(0,e.useCallback)((e=>{n&&"unmounted"===e&&m(!0)}),[m,n]);return e.createElement(e.Fragment,null,e.createElement(xc,{unmountOnExit:!0,visible:u,timeout:500,onStatusChange:p},(t=>e.createElement(Jc,{status:t,focusGridIndex:i,padSpinnerVertically:l,showBorder:o,spinnerBackgroundColor:r,spinnerOffsetPosition:c,horizontal:s}))),e.createElement(t.Mount,{when:d},e.createElement(Qc,{renderTracker:n})))}const Qc=({renderTracker:t})=>e.createElement(e.Fragment,null,t?t(!0):null),Jc=({focusGridIndex:a,padSpinnerVertically:n,showBorder:r,spinnerBackgroundColor:l,spinnerOffsetPosition:o,horizontal:i,status:c})=>{const{t:s}=oi("ScrollView"),{narrateText:u}=Xc(),[d,m]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)((e=>{let t;return e?t=setInterval(u.bind(null,s(".loadingState")),1e4):null!=t&&clearInterval(t),()=>null!=t&&clearInterval(t)}),[u,s,1e4],[d]);const p=(0,t.useFacetMap)((([e])=>"exiting"===e),[],[c]);return e.createElement(Li,{focusGridIndex:a,narrationText:[s(".narrationScrollViewComponentType"),s(".loadingState")].join(" . "),className:(0,t.useFacetMap)(((e,t)=>lr()("Cp7QN",{s31Ag:n,t0Ytw:e,rxEL1:r,[Gc]:!0===t})),[r,n],[p,wl()]),classNameFocused:vi,onFocusChanged:m,onHoverChanged:m,style:{backgroundColor:null!=l?l:"rgba(0, 0, 0, 0.4)",topPX:i?0:o,leftPX:i?o:0},inputLegend:!1,onClick:()=>{}},e.createElement(bi,{inset:!0}),e.createElement(Kc,null))},Zc=()=>{},es=({onFocusChanged:t,gamepadAlias:a,narrationText:n=!1})=>e.createElement(Pi.Provider,{value:Zc},e.createElement(Li,{"data-testid":"empty-focusable",className:"YEgzg",onClick:Zc,onFocusChanged:t,inputLegend:!1,gamepadAlias:a,narrationText:n}));function ts({options:a,onClick:n}){return function(a,n){const r=(0,t.useFacetWrap)(a),l=(0,e.useContext)(ke),o=(0,e.useContext)(R);o.length;const i=o[o.length-1],c=r.get();c===t.NO_VALUE||c.disabled||l.current.putShortcut(i,c.button,{callback:n,inputLegend:c.inputLegend}),(0,t.useFacetEffect)((e=>{const t=o[o.length-1];if(!e.disabled){const a=l.current;return a.putShortcut(t,e.button,{callback:n,inputLegend:e.inputLegend}),()=>{a.removeShortcut(t,e.button)}}}),[n,l,o],[r])}(a,n),null}Yc.SiblingState=({callback:e})=>{const a=vc();return(0,t.useFacetEffect)((t=>{e(t)}),[e],[a]),null},Yc.useHasScrollbar=Dc;const as=ts;function ns({children:t}){return e.createElement(e.Fragment,null,t)}const rs=a=>{let{children:n}=a,r=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["children"]);const l=(0,t.useFacetWrap)("text"in r?r.text:""),o="getText"in r?r.getText:void 0,i=Ti(null!=o?o:l);return e.createElement(Ci,{value:i},n)},ls="ZWBi0",os="OGKKM",is={center:"IaGhJ",right:"XEoek",left:"W1NXQ",verticalCenter:"JEzgR",Typography:"OIwR8",header1:"jtuPO",header2:"ZSfsQ",header3:"jxr27",header4A:"B6E4l",header4B:"Iu9d0",header5A:"u3V3F",header5B:"Z9bmJ",sectionHeader:"kjlCa",subtitle1:"PyPJl",subtitle2:"gVtt_",body:"vNlW4",paragraphs:"NQiUU",accessibleGuiScale:"Pgstg",captionTiny:"UNxMi",captionShort:"_He_E",captionLong:"yhCRL",editorCaption:"UwZQy",editorHeader:"X2EMQ",primaryButton:"l6rf0",secondaryButton:"vWcLh",destructiveButton:"P1L1T",shadow:"MIuXl",fontWeightNormal:"RcOKE",fontWeightBold:"j4N5u",fontWeightBolder:"g8JjQ",fontWeightLighter:"uN1hk",fontWeightInitial:"qKtfZ",fontWeightInherit:"EDaTS",whiteSpaceNormal:"JbbH7",whiteSpaceNoWrap:"dI4g4",whiteSpacePre:"wbZka",whiteSpacePreWrap:"_FWvz",breakWord:"idIMi",indent:"BiAtx",ellipsis:"uNITG"};let cs;!function(e){e[e.REGULAR=0]="REGULAR",e[e.OBFUSCATED=1]="OBFUSCATED"}(cs||(cs={})),cs.OBFUSCATED;const ss={"0":{foreground:"#000000",background:"#000000"},"1":{foreground:"#0000AA",background:"#00002A"},"2":{foreground:"#00AA00",background:"#002A00"},"3":{foreground:"#00AAAA",background:"#002A2A"},"4":{foreground:"#AA0000",background:"#2A0000"},"5":{foreground:"#AA00AA",background:"#2A002A"},"6":{foreground:"#FFAA00",background:"#402A00"},"7":{foreground:"#AAAAAA",background:"#2A2A2A"},"8":{foreground:"#555555",background:"#151515"},"9":{foreground:"#5555FF",background:"#15153F"},"a":{foreground:"#55FF55",background:"#153F15"},"b":{foreground:"#55FFFF",background:"#153F3F"},"c":{foreground:"#FF5555",background:"#3F1515"},"d":{foreground:"#FF55FF",background:"#3F153F"},"e":{foreground:"#FFFF55",background:"#3F3F15"},"f":{foreground:"#FFFFFF",background:"#3F3F3F"},"g":{foreground:"#DDD605",background:"#373501"},"h":{foreground:"#E3D4D1",background:"#383534"},"i":{foreground:"#CECACA",background:"#333232"},"j":{foreground:"#443A3B",background:"#110E0E"},"m":{foreground:"#971607",background:"#250501"},"n":{foreground:"#B4684D",background:"#2D1A13"},"p":{foreground:"#DEB12D",background:"#372C0B"},"q":{foreground:"#47A036",background:"#04280D"},"s":{foreground:"#2CBAA8",background:"#0B2E2A"},"t":{foreground:"#21497B",background:"#08121E"},"u":{foreground:"#9A5CC6",background:"#261731"}},us=new RegExp("(l)|(o)","g");function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ds.apply(this,arguments)}let ms;!function(e){e[e.Normal=0]="Normal",e[e.Bold=1]="Bold",e[e.Bolder=2]="Bolder",e[e.Lighter=3]="Lighter",e[e.Initial=4]="Initial",e[e.Inherit=5]="Inherit"}(ms||(ms={}));const ps={[ms.Normal]:[is.fontWeightNormal],[ms.Bold]:[is.fontWeightBold],[ms.Bolder]:[is.fontWeightBolder],[ms.Lighter]:[is.fontWeightLighter],[ms.Initial]:[is.fontWeightInitial],[ms.Inherit]:[is.fontWeightInherit]},fs={normal:[is.whiteSpaceNormal],nowrap:[is.whiteSpaceNoWrap],pre:[is.whiteSpacePre],preWrap:[is.whiteSpacePreWrap]};function gs({children:a,role:n="inherit",interactive:r,disableable:l,variant:o,align:i,verticalAlign:c="top",type:s,shadow:u,tag:d,fontWeight:m,shouldNarrate:p,whiteSpace:f,className:g,innerRef:E,overflowWrap:h,indent:b,overflowEllipsis:v}){const F=(0,t.useFacetWrap)(i),S=(0,t.useFacetWrap)(u),y=(0,t.useFacetWrap)(s),C=(0,t.useFacetWrap)(c),M=(0,t.useFacetWrap)(m),k=(0,t.useFacetWrap)(f),w=(0,t.useFacetWrap)(g),T=(0,t.useFacetWrap)(n),x=(0,t.useFacetWrap)(o),I=(0,t.useFacetWrap)(r),P=(0,t.useFacetWrap)(l),O=(0,t.useFacetWrap)(h),N=(0,t.useFacetWrap)(b),A=(0,t.useFacetWrap)(v),L=(0,t.useFacetMap)(((e,t)=>{if(!0===e)return[Qa];const a=[Ga];return t&&a.push(Xa),a}),[],[I,P]),R=(0,e.useContext)(Mo),D=Vn(),_=d||("paragraphs"===s?"p":"div"),B=(0,t.useFacetMap)(((e,t,a,n,r,l,o,i,c,s,u,d,m,p)=>{const f=a?is[a]:void 0,g={[is.center]:"center"===t,[is.right]:"right"===t,[is.left]:"left"===t,[is.verticalCenter]:"center"===n},E=r?ps[r]:void 0,h=l?fs[l]:void 0,b={[is.shadow]:e},v={[is.breakWord]:"break-word"===c},F={[is.indent]:d},S=s.map((e=>D[o].text[e])),y={[is.accessibleGuiScale]:m},C={[is.ellipsis]:p};return lr()(is.Typography,f,g,b,E,h,S,i,v,u,F,C,y)}),[D],[S,F,y,C,M,k,T,x,O,L,w,N,R,A]),W=!0===p?{"data-narrate":!0}:{};return(0,t.isFacet)(a)?"div"===_?e.createElement("fast-div",ds({ref:E,className:B},W),e.createElement("fast-text",{text:a})):"p"===_?e.createElement("fast-p",ds({ref:E,className:B},W),e.createElement("fast-text",{text:a})):e.createElement("fast-span",ds({ref:E,className:B},W),e.createElement("fast-text",{text:a})):"div"===_?e.createElement("fast-div",ds({ref:E,className:B},W),a):"p"===_?e.createElement("fast-p",ds({ref:E,className:B},W),a):e.createElement("fast-span",ds({ref:E,className:B},W),a)}const Es=({items:a,item:n,index:r})=>{const l=(0,t.useFacetMap)((e=>e.length-1!==r),[r],[a]);return e.createElement(e.Fragment,null,e.createElement(hs,{text:n}),e.createElement(t.Mount,{when:l},e.createElement(Sc,{size:2})))},hs=({text:a})=>{const n=(0,t.useFacetMap)((e=>` ${e}`),[],[a]);return e.createElement(gs,{type:"paragraphs",align:"left"},n)};gs.FontWeight=ms,gs.List=({items:a})=>{const n=(0,t.useFacetWrap)(a);return e.createElement(e.Fragment,null,e.createElement(t.Map,{array:n},((t,a)=>e.createElement(Es,{items:n,item:t,index:a}))))},gs.FormattingCodes=({children:a,type:n,shadow:r,align:l})=>{const o=(0,e.useRef)(null);return(0,t.useFacetEffect)((e=>{const t=o.current;if(null!=t)return t.setAttribute("cohinline",""),((e,t)=>{let a=!0,n=!1,r=!1,l=[0,null];const o=[],i=a=>{const[i,c]=l;let s=e.slice(i,a);if(n&&(s=(e=>e.replace(us,""))(s)),0!==s.length)if(s=0!=r?((e,t,a)=>{let n="";for(let r=0;r<e.length;r++)r>=t&&r<t+2||(n+=r>=t&&r<a?".":e[r]);return n})(s,r-i,s.length):s,null!=c){const e=document.createElement("span");e.style.color=c.foreground,e.style.textShadow=`0.2rem 0.2rem 0rem ${c.background}`,e.appendChild(document.createTextNode(s)),t.appendChild(e),o.push(e)}else{const e=document.createTextNode(s);t.appendChild(e),o.push(e)}n=!1};for(let t=0;t<e.length;t++){const o=`${e[t]}${e[t+1]}`,c=ss[o];null!=c&&(i(t),t+=1,l=[t+1,c],a=!1),"k"===o&&(r=t,t+=1,a=!1),"r"===o&&(i(t),t+=1,l=[t+1,null],r=!1,a=!1),"l"!==o&&"o"!==o||(n=!0,a=!1)}if(a){const a=document.createTextNode(e);t.appendChild(a),o.push(a)}else i(e.length);return()=>{o.forEach((e=>{t.removeChild(e)}))}})(`${e}`,t)}),[],[(0,t.useFacetWrap)(a)]),e.createElement(gs,{type:n,shadow:r,align:l,innerRef:o,tag:"p"})};const bs=a.p+"assets/checkGrey-a9d8c.png";function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},vs.apply(this,arguments)}const Fs=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("SBc3u",a);return e.createElement(oc,vs({},n,{className:r,src:bs,imageRendering:"pixelated"}))},Ss=a.p+"assets/checkWhite-bcfbf.png";function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ys.apply(this,arguments)}const Cs=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("ycpq0",a);return e.createElement(oc,ys({},n,{className:r,src:Ss,imageRendering:"pixelated"}))};function Ms({value:a,disabled:n,gamepad:r,narrationText:l,onClick:o,soundEffectPressed:i,checkedRole:c="primary",uncheckedRole:s="neutral50",mountFocusBorder:u=!0}){const d=Vn(c),m=Vn(s),p=$n("inherit"),f=(0,t.useFacetWrap)(a),g=(0,t.useFacetWrap)(n),E=(0,t.useFacetWrap)(u),h=(0,t.useFacetCallback)((e=>()=>null==o?void 0:o(!e)),[o],[f]),b=(0,t.useFacetMap)((e=>lr()("r3OGg",e?[d.background.interactive,d.border.interactive]:[m.background.interactive,m.border.interactive])),[d,m],[f]),v=(0,t.useFacetMap)(((e,t)=>e||!t),[],[g,E]);return e.createElement(Li.Maybe,{narrationText:l,isInteractive:"function"==typeof o,gamepadIndex:r.index,classNameFocused:vi,classNameDisabled:"h2XVN",disabled:n,onClick:h,soundEffectPressed:null!=i?i:p.toggle},e.createElement("fast-div",{className:b},e.createElement(bi,{disabled:v}),e.createElement(Vi,{disabled:n}),e.createElement("fast-div",{style:{display:(0,t.useFacetMap)((e=>e?"flex":"none"),[],[f])},className:"em21X"},e.createElement("fast-div",{style:{display:(0,t.useFacetMap)((e=>e?"flex":"none"),[],[g])}},e.createElement(Fs,null)),e.createElement("fast-div",{style:{display:(0,t.useFacetMap)((e=>e?"none":"flex"),[],[g])}},e.createElement(Cs,null)))))}const ks=()=>{};function ws({gamepad:a,onChange:n=ks,value:r,title:l,description:o,disabled:i,small:c=!1,soundEffectPressed:s,wrapperRole:u="neutral"}){const d=Vn(u),m=$n(u),p=(0,t.useFacetWrap)(l),f=(0,t.useFacetWrap)(null!=o?o:""),g=(0,t.useFacetWrap)(r),E=(0,t.useFacetWrap)(i),h=(0,t.useFacetCallback)((e=>()=>n(!e)),[n],[g]),{t:b}=oi("Checkbox"),v=(0,t.useFacetMap)(((e,t,a)=>[b(".elementType"),t,a,b(e?".labelChecked":".labelUnChecked")].join(" . ")),[b],[g,p,f]),F=(0,t.useFacetWrap)(lr()("tIO8N",d.background.base,{sSJaW:c}));return e.createElement(hn,{role:u},e.createElement(Li,{className:F,inputLegend:b(".toggle"),gamepadIndex:a.index,onClick:h,disabled:E,narrationText:v,soundEffectPressed:null!=s?s:m.toggle,classNameFocused:vi},e.createElement(Vi,{role:u,effect:"bevel",left:!1,right:!1}),e.createElement(Sc,{size:2}),e.createElement("div",{className:"jw1g3"},e.createElement(Ms,{value:g,narrationText:!1,disabled:E,gamepad:a}),e.createElement("div",{className:lr()("GSYTw")},e.createElement(gs,{type:"body",role:u,variant:(0,t.useFacetMap)((e=>e?"dimmer":void 0),[],[E])},p),Boolean(o)&&e.createElement("div",{className:lr()("vEsZy")},e.createElement(gs,{type:"captionShort",role:u,variant:"dimmer"},f)))),e.createElement(Sc,{size:2})))}const Ts=ts,xs=a.p+"assets/magnifyingGlass-52f96.png";function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Is.apply(this,arguments)}const Ps=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("TmKO0",a);return e.createElement(oc,Is({},n,{className:r,src:xs,imageRendering:"pixelated"}))},Os="nTLvV",Ns=({children:a,innerRef:n,className:r})=>(0,t.isFacet)(a)?e.createElement("fast-div",{ref:n,className:lr()(Os,"",r)},e.createElement("fast-text",{text:a})):e.createElement("div",{ref:n,className:lr()(Os,"",r)},a),As=(0,e.createContext)(null),Ls=(As.Provider,{textFieldWrapper:"ZyW_9",textField:"d9dd2",textFieldWrapperShadow:"oC3bl",textFieldBrowserOnly:"PZ6ir",textFieldType:"uHy0P",textFieldPlaceholder:"YuTSL",textFieldTextArea:"DYvK2",disabled:"ezdmG",placeholderAdjustedWithIcon:"_08EUe",textFieldContentWrapper:"v2fnz",textFieldIcon:"b4wn_",textFieldClearInteractive:"mHHfZ"});let Rs;function Ds(a){const{gamepadAlias:n,value:r,disabled:l=!1,label:o,className:i,maxLength:c,narrationText:s,onBlur:u,onFocus:d,onHover:m,onChange:p,onSelectedChange:f,placeholder:g="",rows:E=1,disableBlurOnDeselect:h,onTab:b,isNumber:v,placeholderIcon:F,showClearOptionWhenValueExists:S,onClear:y,hasShadow:C=!0,role:M="neutral80"}=a,{t:k}=oi("BaseTextField"),[w,T]=(0,t.useFacetState)(!1),[x,I]=(0,t.useFacetState)(!1),P=(0,t.useFacetWrap)(r),O=(0,t.useFacetUnwrap)(l),{narrateText:N,preventNarrateText:A}=Xc(),L=(0,t.useFacetWrap)(Si()),R=(0,e.useContext)(As),D=(0,t.useFacetWrap)(i),_=(0,t.useFacetMap)((e=>e?"number":"text"),[],[(0,t.useFacetWrap)(v)]),B=Vn(M),U=Xn(),z=(0,e.useRef)(null),j=(0,e.useRef)(null),H=(0,e.useRef)(!1),V=(0,e.useRef)(!1);(0,t.useFacetEffect)(((e,t)=>{e&&!H.current?(H.current=!0,N(`${k(".selected")} . ${k(".hint",[`${t}`])}`)):e||(H.current=!1)}),[N,k],[w,(0,t.useFacetWrap)(null!=o?o:"")]);const G=(0,e.useContext)(Bo),$=(0,e.useCallback)((e=>{if(z.current&&document.activeElement===z.current){const t=_s(z.current.value,null!=e?e:R,k);A(),null!=t&&N(t),document.activeElement===z.current&&p&&p(z.current.value,null!=e?e:R)}}),[p,R,N,k,A]);(0,t.useFacetEffect)((e=>{if(null==z.current)return;const t=z.current.value!==e,a=z.current.value.length>0&&0===e.length;(t||a)&&(z.current.value=e)}),[O],[P]);const K=(0,e.useCallback)((()=>{z.current&&document.activeElement===z.current&&b&&b()}),[b]),X=(0,e.useCallback)((e=>{I(e),f&&f(e),h||e||!z.current||z.current.blur()}),[I,f,h]),Y=(0,e.useCallback)((e=>{if(z.current){if(T(!1),null!=u){const e=(e="")=>{z.current&&(z.current.value=e,null!=p&&p(e,null!=R?R:{addedChars:"",removedChars:"",invalidChars:"",index:-1}))};u(z.current.value,e)}Boolean(e)?X(!0):X(!1)}}),[u,T,X,p,R]),q=(0,e.useCallback)((()=>{z.current&&document.activeElement===z.current&&(z.current.blur(),Y(!0))}),[Y]),Q=(0,e.useCallback)((()=>{z.current&&document.activeElement===z.current&&q()}),[q]);(0,e.useEffect)((()=>{if(!G)return;const e=[G.changedCB($),G.tabbedCB(K),G.submittedCB(Q),G.dismissedCB(q)];return()=>{e.forEach((e=>e()))}}),[G,$,q,K,Q]);const J=(0,e.useCallback)((()=>{z.current&&z.current.focus()}),[]),Z=(0,t.useFacetMap)(((e,t,a)=>{const n=t&&t.focused||e;return lr()(Ls.textField,Ls.textFieldType,B.border.interactive,B.text.interactive,B.caret.base,a,{[Ls.textFieldBrowserOnly]:!1,[Ls.textFieldFocused]:n,[bn.selected]:n,[Ls.disabled]:O,[Ls.textFieldTextArea]:E>1})}),[O,E,B],[w,L,D]),ee=(0,t.useFacetMap)(((e,t,a)=>lr()({[vi]:a&&a.focused||t&&!e})),[],[w,x,L]),te=(0,e.useCallback)((()=>{T(!0),d&&d(),X(!0)}),[d,T,X]),ae=(0,t.useFacetMap)((e=>({button:W.B,inputLegend:k(".deselect"),disabled:!e})),[k],[w]),ne=(0,t.useFacetMap)((e=>null!=e&&""!==e),[],[P]),re=(0,t.useFacetMap)(((e,t)=>null!=e&&""!==e||t?"none":"flex"),[],[P,w]),le=e.createElement("fast-div",{className:lr()(Ls.textFieldType,Ls.textFieldPlaceholder,B.text.interactive,U.dimmest,{[Ls.placeholderAdjustedWithIcon]:null!=F}),style:{display:re}},null!=F?e.createElement("div",{className:Ls.textFieldContentWrapper},e.createElement("div",{className:Ls.textFieldIcon},(Rs.MagnifyingGlass,e.createElement(Ps,null))),e.createElement(Ns,null,g)):e.createElement(Ns,null,g)),oe=E>1?e.createElement("fast-textarea",{ref:z,rows:E,className:Z,maxLength:c,onFocus:te,onBlur:()=>{!1===V.current&&Y(!1)}}):e.createElement("fast-input",{ref:z,type:_,className:Z,maxLength:c,onFocus:te,onBlur:()=>{!1===V.current&&Y(!1)}});return e.createElement(ac,{containerRef:j,shouldBindFocus:w},e.createElement("div",{className:Ls.textFieldWrapper,ref:j},e.createElement(Ts,{options:ae,onClick:()=>{z.current&&document.activeElement===z.current&&(z.current.blur(),Y(!0))}}),O!==t.NO_VALUE&&O?e.createElement(Li,{className:lr()(Ls.textFieldWrapper,B.background.interactive,{[Ls.disabled]:O}),"data-testid":a["data-testid"],key:"disabled",narrationText:s,inputLegend:!1,disabled:!0,onFocusChanged:X,onClick:J,gamepadAlias:n},e.createElement("div",{className:lr()(C?B.shadow.interactive:void 0,{[Ls.textFieldWrapperShadow]:C})}),le,e.createElement("fast-div",{className:Z},e.createElement(Ns,null,P))):e.createElement(Li,{key:"enabled",className:lr()(Ls.textFieldWrapper,B.background.base,B.background.disable),"data-testid":a["data-testid"],narrationText:s,inputLegend:k(".select"),onFocusChanged:X,classNameFocused:ee,onClick:J,gamepadAlias:n,onHoverChanged:m,onPressChanged:e=>{V.current=!!e}},e.createElement("div",{className:lr()(C?B.shadow.interactive:void 0,{[Ls.textFieldWrapperShadow]:C})}),le,oe,e.createElement(bi,{role:M}),S&&e.createElement(t.Mount,{when:ne},e.createElement(Li,{className:Ls.textFieldClearInteractive,narrationText:!1,inputLegend:"",onClick:()=>null!=y&&y()},e.createElement(fc,null))))))}!function(e){e[e.MagnifyingGlass=0]="MagnifyingGlass"}(Rs||(Rs={}));const _s=(e,t,a)=>{const n=t.addedChars.split("").join(" "),r=t.removedChars.split("").join(" "),l=t.invalidChars.split("").join(" "),o=""!==l?` ${l} ${a(".invalidNarration")}`:"",i=0!==e.length?` . . ${e}`:"";return""!==n?""!==r?`${r} ${a(".replacedNarration")} ${n}${o}${i}`:`${n} ${a(".addedNarration")}${o}${i}`:""!==r?`${r} ${a(".removedNarration")}${i}`:null};function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Bs.apply(this,arguments)}function Ws(a){let{children:n,isTransparent:r,compact:l=!1,focusable:o=!1,narrationText:i=!1,inputLegend:c=!1,shouldDisplayFocus:s=!0,onClick:u,role:d="neutral",disabled:m,border:p=!1,"data-testid":f}=a,g=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["children","isTransparent","compact","focusable","narrationText","inputLegend","shouldDisplayFocus","onClick","role","disabled","border","data-testid"]);const E=(0,t.useFacetWrap)(o),h=(0,t.useFacetWrap)(i),b=(0,t.useFacetWrap)(m),{background:v,border:F}=Vn(d),S=Kn("panel",d),y=null!=S.main.base,C=(0,t.useFacetWrap)(r),M=(0,t.useFacetMap)((e=>lr()("eUpFO",{oTQSA:e,lMcuz:l,daUIG:p,[`${F.base}`]:p},v.base,S.main.base,S.main.hover)),[l,v,S,F,p],[C]),k=(0,t.useFacetMap)((e=>lr()(e,vi)),[],[M]),w=e.createElement(hn,{role:d},!l&&!y&&e.createElement(Vi,{interactive:!1,effect:"bevel",left:!1,right:!1}),!l&&e.createElement(Sc,{size:3}),n,!l&&e.createElement(Sc,{size:3})),T=(0,t.useFacetMap)(((e,t,a)=>null!=u&&!0!==a||!0===e&&null!=t),[u],[E,h,b]),x=(0,t.useFacetMap)((e=>!e),[],[(0,t.useFacetWrap)(s)]),I=(0,t.useFacetMap)((e=>0==e?"":e),[],[h]);return e.createElement(rs,{text:I},e.createElement(Li.Maybe,Bs({"data-testid":f,isInteractive:T,className:M,classNameFocused:k,narrationText:!1,inputLegend:c,onClick:null!=u?u:Us},g),w,e.createElement(bi,{className:"H7Hc9",interactive:!1,disabled:x,role:d})))}function Us(){}function zs({children:a,disabled:n,role:r="inherit",className:l}){const{text:o}=Vn(r),i=Yn(),c=Xn(),s=(0,t.useFacetWrap)(a),u=(0,t.useFacetWrap)(n),d=(0,t.useFacetWrap)(l),m=(0,t.useFacetMap)(((e,t)=>lr()("i_2FG",o.base,{[i.disabled]:e,[c.dimmer]:e},t)),[i,o,c],[u,d]);return e.createElement("fast-span",{className:m},e.createElement("fast-text",{text:s}))}const js=({children:a,disabled:n,role:r="inherit"})=>{const{text:l}=Vn(r),o=Xn(),i=Yn(),c=(0,t.useFacetWrap)(a),s=(0,t.useFacetWrap)(n),u=(0,t.useFacetMap)((e=>lr()("rycle",l.base,o.dimmer,{[i.disabled]:e})),[i,l,o],[s]);return e.createElement("fast-div",{className:u},e.createElement("fast-text",{text:c}))};function Hs({disabled:a,label:n,description:r,children:l,focusGridIndex:o,transparent:i,disabledNarrationText:c}){const s=Ia(),u=(0,t.useFacetMap)((e=>e&&s),[s],[a]),d=(0,t.useFacetMap)(((e,t)=>e&&t?t:""),[],[a,(0,t.useFacetWrap)(null!=c?c:"")]);return e.createElement(Ws,{focusable:u,focusGridIndex:o,isTransparent:i,narrationText:d},e.createElement(zs,{disabled:a},n),e.createElement(Sc,{size:1}),l,e.createElement(Sc,{size:1}),e.createElement(js,{disabled:a},r))}const Vs={labelContainer:"dGKbF",container:"Mc7_w",focused:"f98RG",elevated:"LtoW3",elevatedAndPressed:"fYLl1",image:"f84oF",imageWithChildren:"sdLtc"},Gs={box:"ZFCMh",elevated:"gm_hk",elevatedAndPressed:"_63rL",boxWrapper:"_8R_P",horizontal:"z1z73",raised:"jUUof",boxBorder:"S54bt",shine:"NMcbo",shineText:"OdSfJ",bottomOffset:"h4_9h",borderMargin:"V0fMY"};function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$s.apply(this,arguments)}function Ks(t){const a=(0,e.useRef)(t);a.current=t;const n=lr()(Gs.box,Gs.boxBorder,null!=a.current.className?a.current.className:void 0),r=lr()(vi,null!=a.current.classNameFocused?a.current.classNameFocused:void 0),l=lr()(null!=a.current.classNameHovered?a.current.classNameHovered:void 0),o=lr()(null!=a.current.classNamePressed?a.current.classNamePressed:void 0);return e.createElement(Li,$s({autofocus:a.current.autofocus,disabled:a.current.disabled,disableScrollIntoView:a.current.disableScrollIntoView,className:n,"data-testid":a.current["data-testid"],classNameFocused:r,classNameHovered:l,classNamePressed:o,classNameDisabled:a.current.classNameDisabled,delayedClick:a.current.delayedClick,gamepadAlias:a.current.gamepadAlias,gamepadIndex:a.current.gamepadIndex,focusGridIndex:a.current.focusGridIndex,inputLegend:a.current.inputLegend,innerRef:a.current.innerRef,onClick:a.current.onClick,onFocusChanged:a.current.onFocusChanged,onHoverChanged:a.current.onHoverChanged,onPressChanged:a.current.onPressChanged,soundEffectHovered:a.current.soundEffectHovered,soundEffectFocused:a.current.soundEffectFocused,soundEffectPressed:a.current.soundEffectPressed,pressDuration:a.current.pressDuration},"narrationText"in a.current?{narrationText:a.current.narrationText}:{getNarrationText:a.current.getNarrationText}),t.children)}const Xs=({borderTexture:t,variant:a,isDisabledFacet:n})=>null!=t?e.createElement(Ei,{className:t,withoutBorders:!0,hasTexture:!0,role:a}):e.createElement(bi,{role:a,disabled:n});function Ys(a){var n,r,l,o,i,c,s,u;const d=(0,e.useRef)(a);d.current=a;const m=(0,e.useRef)(null),p=null!==(n=d.current.classNameElevated)&&void 0!==n?n:Gs.elevated,{shadow:f,background:g,text:E,border:h}=Vn(d.current.variant),b=$n(d.current.variant),v=Kn("pressable",d.current.variant),F=v.main.interactive,S=null!=F,y=v.border.interactive,C=lr()({[null!==(r=d.current.classNameElevatedAndPressed)&&void 0!==r?r:Gs.elevatedAndPressed]:!0!==d.current.shouldNotDepressWhenPressed&&!1===S}),M=lr()(Gs.boxWrapper,{[Gs.horizontal]:d.current.horizontal}),k=lr()(E.interactive,F,{[p]:d.current.isElevated&&!1===S,[Gs.horizontal]:d.current.horizontal,[null!==(l=f.interactive)&&void 0!==l?l:""]:!1===S,[null!==(o=h.interactive)&&void 0!==o?o:""]:null==y,[Gs.borderMargin]:null!=y},d.current.containerClassName),w=lr()(Gs.shine,Gs.shineBackground,Gs.shineText,d.current.className,S?void 0:g.interactive),T=lr()(vi,d.current.classNameFocused),x=Ia(),I=(0,t.useFacetWrap)(a.disabled),P=(0,t.useFacetWrap)("narrationText"in a?a.narrationText:"function"==typeof a.getNarrationText),O=(0,t.useFacetMap)((e=>!1===e),[],[P]),N=(0,t.useFacetMap)(((e,t)=>!!e&&!t&&x),[x],[I,O]),A=d.current.focusStateOnElevatedFace?e.createElement("div",{className:Gs.bottomOffset},e.createElement(Xs,{borderTexture:y,variant:d.current.variant})):e.createElement(Xs,{borderTexture:y,variant:d.current.variant});return e.createElement(Ks,$s({autofocus:d.current.autofocus,disabled:d.current.disabled,disableScrollIntoView:d.current.disableScrollIntoView,className:k,classNameFocused:T,classNameHovered:d.current.classNameHovered,"data-testid":d.current["data-testid"],classNamePressed:d.current.isElevated?C:void 0,delayedClick:d.current.delayedClick,gamepadAlias:d.current.gamepadAlias,gamepadIndex:d.current.gamepadIndex,focusGridIndex:d.current.focusGridIndex,innerRef:m,inputLegend:d.current.inputLegend,onClick:d.current.onClick,onFocusChanged:d.current.onFocusChanged,onHoverChanged:d.current.onHoverChanged,soundEffectHovered:null!==(i=d.current.soundEffectHovered)&&void 0!==i?i:b.hover,soundEffectFocused:null!==(c=d.current.soundEffectFocused)&&void 0!==c?c:b.focus,soundEffectPressed:null!==(s=d.current.soundEffectPressed)&&void 0!==s?s:b.press,pressDuration:d.current.pressDuration},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),e.createElement(t.Mount,{when:N},e.createElement(Li,$s({classNameFocused:vi,className:M,inputLegend:!1},"narrationText"in d.current?{narrationText:d.current.narrationText}:{getNarrationText:d.current.getNarrationText}),A)),A,e.createElement("div",{className:w,style:null!=d.current.height?{height:`${d.current.height}rem`}:void 0},e.createElement(Vi,$s({effect:d.current.reflection,disabled:S||d.current.disabled,role:d.current.variant},null!==(u=d.current.reflectionConfig)&&void 0!==u?u:{})),e.createElement("div",{className:lr()(Gs.raised,Gs.shine)},a.children)))}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qs.apply(this,arguments)}function Qs(a){let{imageSource:n,icon:r}=a,l=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["imageSource","icon"]);const o=(0,t.useFacetWrap)(n),i=(0,t.useFacetWrap)(r);return e.createElement(e.Fragment,null,e.createElement(t.With,{data:o},(t=>e.createElement(oc,qs({imageRendering:"pixelated"},l,{src:t})))),e.createElement(t.With,{data:i},(a=>{const n=(r=a,a=>{const n=(0,t.useFacetUnwrap)(r);return n===t.NO_VALUE?null:e.createElement(n,a)});var r;return e.createElement(n,l)})))}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Js.apply(this,arguments)}const Zs=()=>{},eu=(e,t=!1)=>{switch(e){case"primary":case"secondary":return"secondaryButton";case"destructive":return"destructiveButton";default:return t?"secondaryButton":"primaryButton"}},tu=(e="secondary")=>"hero"!==e?e:"primary",au=a=>{const{children:n,variant:r="secondary",onClick:l=Zs,narrationPrefix:o="",narrationSuffix:i="",disabled:c,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,delayedClick:m,horizontal:p,isElevated:f=!0,autofocus:g,gamepadIndex:E=0,gamepadAlias:h,disableScrollIntoView:b,inputLegend:v,onFocusChanged:F}=a,{t:S}=oi("Button"),y=(0,t.useFacetMap)(((e,t)=>`${e} . ${S(".button")} . ${t}`),[S],[(0,t.useFacetWrap)(o),(0,t.useFacetWrap)(i)]);return e.createElement(Ys,{isElevated:f,delayedClick:m,narrationText:y,className:Vs.container,"data-testid":a["data-testid"],classNameHovered:Vs.hovered,classNameFocused:Vs.focused,classNamePressed:Vs.pressed,classNameElevated:Vs.elevated,classNameElevatedAndPressed:Vs.elevatedAndPressed,disabled:c,gamepadIndex:E,inputLegend:v,autofocus:g,gamepadAlias:h,disableScrollIntoView:b,onClick:l,soundEffectPressed:s,soundEffectHovered:u,soundEffectFocused:d,horizontal:p,variant:tu(r),onFocusChanged:F},n)},nu=t=>{var a,n;const{children:r,buttonVariant:l="secondary",typeVariant:o,Icon:i,imgSrc:c,linebreak:s=!1,disabledTextOverride:u,role:d="inherit",hasShadow:m}=t,p=null!=r,f=Kn("button",d),g=null!=(null===(a=f.text)||void 0===a?void 0:a.interactive);return e.createElement("fast-div",{className:Vs.labelContainer},e.createElement(hn,{role:d},e.createElement(Qs,{icon:i,imageSource:c,className:p?Vs.imageWithChildren:Vs.image})),p&&e.createElement(gs,{align:s?"center":void 0,role:d,type:eu(l,g),variant:o,className:null===(n=f.text)||void 0===n?void 0:n.interactive,shadow:m,children:s?null!=u?u:r:e.createElement(Ns,null,null!=u?u:r),interactive:!0}))},ru=a=>{let{children:n,imgSrc:r,Icon:l,linebreak:o=!1,disabledTextOverride:i,disabled:c,variant:s="secondary",narrationPrefix:u}=a,d=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix"]);const m=(0,t.useFacetWrap)(c),p=(0,t.useFacetMap)((e=>"hero"===s&&!e),[s],[m]);return e.createElement(au,Js({disabled:c,variant:s,narrationPrefix:null!=u?u:n},d),e.createElement(nu,{buttonVariant:s,imgSrc:r,Icon:l,linebreak:o,disabledTextOverride:i,role:tu(s),hasShadow:p},n))};let lu;!function(e){e[e.HORIZONTAL_SHAKE=0]="HORIZONTAL_SHAKE"}(lu||(lu={}));const ou={[lu.HORIZONTAL_SHAKE]:{className:"NFMf6",duration:200}};function iu(a=lu.HORIZONTAL_SHAKE){const[n,r]=(0,t.useFacetState)(""),l=(0,e.useRef)(),o=(0,e.useCallback)((()=>{const e=ou[a];r(e.className),l.current=setTimeout((()=>{r("")}),e.duration)}),[a,r]);return(0,e.useEffect)((()=>()=>clearTimeout(l.current)),[]),[o,n]}let cu;!function(e){e[e.VALID=0]="VALID",e[e.INVALID=1]="INVALID"}(cu||(cu={}));const su=(0,t.createStaticFacet)("");function uu(e,a,n,r,l,o,i=su){return(0,t.useFacetMap)(((t,a,n,r,l)=>""!=r?r:[t,e(".narrationComponentType"),e(".disabled"),a||null!=o&&o||e(".empty"),n,l].filter((e=>null!=e)).join(" . ")),[e,o],[a,n,r,l,i])}function du(e,a,n,r,l,o,i=su){return(0,t.useFacetMap)(((t,a,n,r,l)=>""!=r?r:[t,e(".narrationComponentType"),a||null!=o&&o||e(".empty"),n,l].filter((e=>null!=e&&""!=e)).join(" . ")),[e,o],[a,n,r,l,i])}const mu=()=>{},pu=()=>{};function fu({gamepadAlias:a,value:n,disabled:r=!1,maxLength:l,onChange:o=pu,onBlur:i,placeholder:c,description:s="",narrationOverride:u="",disabledNarrationOverride:d="",label:m,rows:p=1,focusGridIndex:f,disabledNarrationSuffix:g,isNumber:E,transparent:h,onKeyDown:b,onKeyUp:v,"data-testid":F}){const{t:S}=oi("TextField"),y=(0,t.useFacetWrap)(n),C=(0,t.useFacetWrap)(u),M=(0,t.useFacetWrap)(d),k=(0,t.useFacetWrap)(null!=g?g:""),w=(0,t.useFacetWrap)(s),T=(0,t.useFacetWrap)(m),x=(0,t.useFacetWrap)(r),I=(0,t.useFacetWrap)(h),[P,O]=iu(lu.HORIZONTAL_SHAKE),N=du(S,T,y,w,C,c),A=uu(S,T,y,w,M,c,k),L=(0,e.useCallback)(((e,t)=>{null!=i&&i(e,t)===cu.INVALID&&P()}),[i,P]);return e.createElement(Hs,{disabled:x,label:T,focusGridIndex:f,description:w,transparent:I,disabledNarrationText:A},e.createElement(Ds,{className:O,placeholder:c,disabled:r,label:T,gamepadAlias:a,maxLength:l,narrationText:N,value:n,onChange:o,rows:p,onBlur:L,isNumber:E,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,onKeyDown:b,onKeyUp:v,"data-testid":F}))}fu.WithButton=function({gamepadAlias:a,value:n,disabled:r=!1,label:l,maxLength:o,onChange:i=mu,onBlur:c,placeholder:s,description:u="",narrationOverride:d="",disabledNarrationOverride:m="",rows:p=1,focusGridIndex:f,buttonNarrationHint:g,disabledNarrationSuffix:E,isNumber:h,textDisabled:b=!1,buttonText:v,buttonInputLegend:F="",buttonDisabled:S=!1,buttonOnClick:y=mu,soundEffectButtonPressed:C,buttonVariant:M="secondary",buttonDisabledNarrationHint:k="","data-testid":w}){const{t:T}=oi("TextField"),{t:x}=oi("TextFieldWithButton"),I=(0,t.useFacetWrap)(n),P=(0,t.useFacetWrap)(d),O=(0,t.useFacetWrap)(m),N=(0,t.useFacetWrap)(null!=E?E:""),A=(0,t.useFacetWrap)(l),L=(0,t.useFacetWrap)(r),R=(0,t.useFacetWrap)(u),D=(0,t.useFacetMap)((e=>`${e} . ${x(".navigationHint")}`),[x],[R]),_=(0,t.useFacetWrap)(b),B=(0,t.useFacetWrap)(S),W=(0,t.useFacetWrap)(k),U=(0,t.useFacetMap)(((e,t)=>e?t:""),[],[B,W]),[z,j]=iu(lu.HORIZONTAL_SHAKE),H=du(T,A,I,D,P,s,U),V=uu(T,A,I,D,O,s,N),G=(0,e.useCallback)(((e,t)=>{null!=c&&c(e,t)===cu.INVALID&&z()}),[c,z]);return e.createElement(Hs,{disabled:L,label:A,focusGridIndex:f,description:R,disabledNarrationText:V},e.createElement("div",{className:"L6uh_"},e.createElement("div",{className:"XpDm4"},e.createElement(Ds,{className:j,placeholder:s,disabled:(0,t.useFacetMap)(((e,t)=>e||t),[],[_,L]),label:A,gamepadAlias:a,maxLength:o,narrationText:H,value:n,onChange:i,onBlur:G,isNumber:h,rows:p,shouldBlurOnEnter:!0,shouldBlurOnEscape:!0,"data-testid":w})),e.createElement(Sc,{size:2}),e.createElement("div",{className:"JA_ZQ"},e.createElement(ru,{gamepadIndex:1,inputLegend:F,disabled:(0,t.useFacetMap)(((e,t)=>e||t),[],[B,L]),onClick:y,soundEffectPressed:C,narrationSuffix:g,variant:M},v))))},fu.ValidationResult=cu;const gu="f6wZX";function Eu({percentage:a,tall:n=!1,fillColor:r="#2e6be5",fillColorThresholds:l,fillComplement:o=!1}){const i=(0,t.useFacetWrap)(a),c=(0,t.useFacetWrap)(n);(a<0||a>1)&&console.warn("Percentage needs to be a valid number from 0 to 1");const s=(0,e.useMemo)((()=>null!=l?Object.keys(l).map((e=>e)).sort(((e,t)=>e>t?1:-1)):void 0),[l]),u=(0,t.useFacetMap)(((e,t)=>{if(null==s||null==l)return e;if(0===s.length)return console.warn("Empty thresholds object passed to ProgressBar."),e;for(let e=s.length;e>=0;e--)if(t>=s[e])return l[s[e]];return e}),[l,s],[(0,t.useFacetWrap)(r),i]),d=(0,t.useFacetMap)((e=>"string"==typeof e?e:!0===e?"#ffb366":void 0),[],[(0,t.useFacetWrap)(o)]),m=!1===(0,t.useFacetUnwrap)(o);return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()("q6zFV",{[gu]:e})),[],[c]),style:{backgroundColor:d}},e.createElement(Vi,{effect:"bevel",thin:!0,reversed:m}),e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()("oOBki",{[gu]:e})),[],[c]),style:{width:(0,t.useFacetMap)((e=>`${Math.max(Math.min(Math.round(100*e),100),0)}%`),[],[i]),backgroundColor:u}},e.createElement(Vi,{effect:"bevel",thin:!0,right:!1})))}const hu={InputLegend:"FGHxt",hidden:"mdtlU"},bu="liriy",vu="VLERn",Fu="UoTWb",Su="l5n3u",yu="xN6WQ",Cu="eMLrL",Mu={[W.A]:lr()(bu,"OHrZ8",vu),[W.B]:lr()(bu,"fg2E4",vu),[W.X]:lr()(bu,"iQyId",vu),[W.Y]:lr()(bu,"pxPk9",vu),[W.START]:lr()(bu,"oDCN0","eVmaS"),[W.LEFT_TRIGGER]:lr()(bu,"WyyoK",Fu),[W.RIGHT_TRIGGER]:lr()(bu,"aOFj8",Fu),[W.LEFT_BUMPER]:lr()(bu,"GS50F",Su),[W.RIGHT_BUMPER]:lr()(bu,"mKs6r",Su),[W.LEFT]:lr()(bu,"pDhLW",yu),[W.RIGHT]:lr()(bu,"wK3Xd",yu),[W.UP]:lr()(bu,"nlvNB",yu),[W.DOWN]:lr()(bu,"J9MtE",yu),[W.SELECT]:lr()(bu,"QvCIw","RjcUU"),[W.L3]:lr()(bu,"Fqdok",Cu),[W.R3]:lr()(bu,"yqVFC",Cu),[W.LEFT_ANALOG_LEFT]:lr()(bu,"v0Ce5",Cu),[W.RIGHT_ANALOG_LEFT]:lr()(bu,"i4uVO",Cu),large:"aItg1",small:"vMjA2"},ku="YQeSi",wu="at3wP",Tu="hjYMG",xu="bSrtd",Iu="pdEm6",Pu="FkFaw",Ou={[W.A]:lr()(ku,"saRDS",wu),[W.B]:lr()(ku,"fq1Wt",wu),[W.X]:lr()(ku,"KeNau",wu),[W.Y]:lr()(ku,"e7md4",wu),[W.START]:lr()(ku,"kqt1L","TvAgE"),[W.LEFT_TRIGGER]:lr()(ku,"DckFK",xu),[W.RIGHT_TRIGGER]:lr()(ku,"RYAZU",xu),[W.LEFT_BUMPER]:lr()(ku,"U6swu",Tu),[W.RIGHT_BUMPER]:lr()(ku,"G58dQ",Tu),[W.LEFT]:lr()(ku,"huNm8",Iu),[W.RIGHT]:lr()(ku,"JHI_T",Iu),[W.UP]:lr()(ku,"dkG8m",Iu),[W.DOWN]:lr()(ku,"xESXG",Iu),[W.SELECT]:lr()(ku,"Ep0S5","TbNT7"),[W.L3]:lr()(ku,"Khy_Q",Pu),[W.R3]:lr()(ku,"W_0vF",Pu),[W.LEFT_ANALOG_LEFT]:lr()(ku,"JoHy1",Pu),[W.RIGHT_ANALOG_LEFT]:lr()(ku,"xI7dX",Pu),large:"OQ6xf",small:"VqfCS"},Nu="oYpoG",Au="rgQQy",Lu="NHxos",Ru="bWa3v",Du="bkeIb",_u="EtpTm",Bu={[W.A]:lr()(Nu,"s5WBf",Au),[W.B]:lr()(Nu,"Kv7uC",Au),[W.X]:lr()(Nu,"kYWOu",Au),[W.Y]:lr()(Nu,"WtpwV",Au),[W.START]:lr()(Nu,"lACg4","M2OrT"),[W.LEFT_TRIGGER]:lr()(Nu,"wxIDB",Ru),[W.RIGHT_TRIGGER]:lr()(Nu,"X2Vmd",Ru),[W.LEFT_BUMPER]:lr()(Nu,"tHBmF",Lu),[W.RIGHT_BUMPER]:lr()(Nu,"n1nsL",Lu),[W.LEFT]:lr()(Nu,"FOhDs",Du),[W.RIGHT]:lr()(Nu,"xALny",Du),[W.UP]:lr()(Nu,"h2Qqa",Du),[W.DOWN]:lr()(Nu,"f8TY5",Du),[W.SELECT]:lr()(Nu,"f2Ygw","M_q6y"),[W.L3]:lr()(Nu,"qxa8S",_u),[W.R3]:lr()(Nu,"KhF5i",_u),[W.LEFT_ANALOG_LEFT]:lr()(Nu,"lEWFT",_u),[W.RIGHT_ANALOG_LEFT]:lr()(Nu,"GcMtB",_u),large:"YG8U4",small:"z6TF3"},Wu="K_Ucb",Uu="MC54K",zu="Yh8am",ju="f12Q1",Hu="chFOJ",Vu="ApnkV",Gu={[W.A]:lr()(Wu,"qRaP6",Uu),[W.B]:lr()(Wu,"AI6pj",Uu),[W.X]:lr()(Wu,"_MHws",Uu),[W.Y]:lr()(Wu,"B5rVg",Uu),[W.START]:lr()(Wu,"sp3nW","lfQSn"),[W.LEFT_TRIGGER]:lr()(Wu,"Vdaoj",ju),[W.RIGHT_TRIGGER]:lr()(Wu,"_O7W7",ju),[W.LEFT_BUMPER]:lr()(Wu,"oQWb_",zu),[W.RIGHT_BUMPER]:lr()(Wu,"u1YVo",zu),[W.LEFT]:lr()(Wu,"tkRUh",Hu),[W.RIGHT]:lr()(Wu,"e3hRs",Hu),[W.UP]:lr()(Wu,"znMgA",Hu),[W.DOWN]:lr()(Wu,"Ghttt",Hu),[W.SELECT]:lr()(Wu,"jyA7I","gnCaZ"),[W.L3]:lr()(Wu,"ejTg5",Vu),[W.R3]:lr()(Wu,"wIh1n",Vu),[W.LEFT_ANALOG_LEFT]:lr()(Wu,"uxDU0",Vu),[W.RIGHT_ANALOG_LEFT]:lr()(Wu,"RBEvC",Vu),large:"h7tik",small:"P1SbE"},$u="G7Zxr",Ku="PITVu",Xu="SRDuY",Yu={[ue.TAB]:lr()($u,"w8Ue4",Ku),[ue.ENTER]:lr()($u,"DaFVW",Ku),[ue.SHIFT]:lr()($u,"PnyQi",Ku),[ue.ESCAPE]:lr()($u,"Smnr0",Ku),[ue.SPACE]:lr()($u,"s89WE",Ku),[ue.CTRL]:lr()($u,"sWwMn",Ku),[ue.F2]:lr()($u,"VoqlF",Ku),[ue.BRACKET_OPEN]:lr()($u,"uSqYm"),[ue.BRACKET_CLOSE]:lr()($u,"ekxWu"),[ue.UP]:lr()($u,"b7nKj"),[ue.RIGHT]:lr()($u,"Lz1in"),[ue.DOWN]:lr()($u,"j_BNz"),[ue.LEFT]:lr()($u,"OE2P1"),[ue.KEY_0]:lr()($u,"TbhIT"),[ue.KEY_1]:lr()($u,"cuPgL"),[ue.KEY_2]:lr()($u,"e5wNF"),[ue.KEY_3]:lr()($u,"ppvtq"),[ue.KEY_4]:lr()($u,"Y81IB"),[ue.KEY_5]:lr()($u,"m3hWH"),[ue.KEY_6]:lr()($u,"_2osj"),[ue.KEY_7]:lr()($u,"GKXym"),[ue.KEY_8]:lr()($u,"czhOA"),[ue.KEY_9]:lr()($u,"qHgTt"),[ue.KEY_A]:lr()($u,"tBb_V"),[ue.KEY_C]:lr()($u,"tz71H"),[ue.KEY_D]:lr()($u,"VyL1w"),[ue.KEY_E]:lr()($u,"tpVOe"),[ue.KEY_F]:lr()($u,"q9B4F"),[ue.KEY_M]:lr()($u,"Drtqa"),[ue.KEY_Q]:lr()($u,"tafjE"),[ue.KEY_R]:lr()($u,"Zb3UU"),[ue.KEY_S]:lr()($u,"YOlJ6"),[ue.KEY_T]:lr()($u,"oMhZB"),[ue.KEY_V]:lr()($u,"iCLcl"),[ue.KEY_W]:lr()($u,"auvwE"),[ue.KEY_X]:lr()($u,"QxQ1Y"),[ue.KEY_Y]:lr()($u,"QrQyh"),[ue.KEY_Z]:lr()($u,"Hoaaj"),[ue.MOUSE_MOVEMENT]:lr()($u,"T27KG",Xu),[ue.MOUSE_BUTTON_LEFT]:lr()($u,"JqJ5A",Xu),[ue.MOUSE_BUTTON_MIDDLE]:lr()($u,"SWSY_",Xu),[ue.MOUSE_BUTTON_RIGHT]:lr()($u,"P_s1j",Xu),[ue.MOUSE_WHEEL]:lr()($u,"m3IeL",Xu),[-2]:"Gnnm7",[-3]:"roch1"},qu=function({button:a,theme:n="light"}){const r=(0,e.useContext)(Ke),l=(0,t.useFacetWrap)(a),o=(0,t.useFacetMap)(((e,t)=>{const a=(r=t)===He.XBOX?Mu:r===He.PS4?Ou:r===He.PS5?Bu:r===He.NX_HANDHELD||r===He.NX_TV?Gu:Mu;var r;return a[e]?lr()(a[e],{[a.large]:"large"===n,[a.small]:"small"===n}):""}),[n],[l,r]);return e.createElement("fast-div",{className:o})},Qu=({keyCode:a,theme:n="light"})=>{const r=(0,t.useFacetWrap)(a),l=(0,t.useFacetMap)((e=>null!=Yu[e]?lr()(Yu[e],{[Yu[-2]]:"large"===n,[Yu[-3]]:"small"===n}):"bWVyX"),[n],[r]),o=(0,t.useFacetMap)((e=>null==Yu[e]?String.fromCharCode(e):""),[],[r]);return e.createElement("fast-div",{className:l},e.createElement("fast-text",{text:o}))};function Ju(a){const n=Kn("inputLegend","inherit"),{label:r,hidden:l=!1,onClick:o,onHoverChanged:i}=a,c=(0,t.useFacetMap)((e=>lr()("r2rQH",n.inputHint.interactive,{Ob6kp:e})),[n],[(0,t.useFacetWrap)(l)]),s=e.createElement(e.Fragment,null,e.createElement("div",{className:"X7C6X"},"button"in a?e.createElement(qu,{button:a.button,theme:"light"}):e.createElement(Qu,{keyCode:a.keyCode,theme:"light"})),e.createElement("div",{className:"lX5qc"}),e.createElement("fast-text",{text:r}));return o?e.createElement(Li,{gamepadIndex:0,narrationText:r,inputLegend:r,onHoverChanged:i,onClick:o,className:c,classNameHovered:"LJ0gR",classNamePressed:"MMiKH",nonFocusable:!0},s):e.createElement("fast-div",{className:c},s)}function Zu({shouldDisplayKeyboard:a,isClickable:n=!1,role:r="neutral100"}){const[l]=(0,e.useContext)(aa);return e.createElement(hn,{role:r},e.createElement(ed,{isClickable:n,visible:(0,t.useFacetMap)(((e,t)=>e&&!!a&&!t),[a],[Ze(),l])}),e.createElement(td,{isClickable:n,visible:(0,t.useFacetMap)(((e,t)=>e&&!t),[],[Je(),l])}))}function ed({isClickable:a,visible:n}){const r=ye(),l=(0,t.useFacetMap)((({swapABButtons:e})=>e),[],[r]),o=(0,t.useFacetMap)((({swapXYButtons:e})=>e),[],[r]),i=Le(),c=_e(),[s]=Ee(),u=(0,t.useFacetUnwrap)(s),d=u===t.NO_VALUE?pe:u;return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>e?hu.InputLegend:hu.hidden),[],[n])},e.createElement(Zu.Wrapper,{left:e.createElement(Ju,{keyCode:(0,t.useFacetMap)((e=>d[e?W.A:W.B][0]),[d],[l]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.B])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.B):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.B]),[],[i])}),right:e.createElement(e.Fragment,null,e.createElement(Ju,{keyCode:d[W.LEFT][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.LEFT])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.LEFT):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.LEFT]),[],[i])}),e.createElement(Ju,{keyCode:d[W.RIGHT][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.RIGHT])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.RIGHT):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.RIGHT]),[],[i])}),e.createElement(Ju,{keyCode:d[W.UP][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.UP])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.UP):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.UP]),[],[i])}),e.createElement(Ju,{keyCode:d[W.DOWN][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.DOWN])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.DOWN):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.DOWN]),[],[i])}),e.createElement(Ju,{keyCode:(0,t.useFacetMap)((e=>d[e?W.Y:W.X][0]),[d],[o]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.X])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.X):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.X]),[],[i])}),e.createElement(Ju,{keyCode:(0,t.useFacetMap)((e=>d[e?W.X:W.Y][0]),[d],[o]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.Y])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.Y):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.Y]),[],[i])}),e.createElement(Ju,{keyCode:d[W.START][0],label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.START])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.START):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.START]),[],[i])}),e.createElement(Ju,{keyCode:(0,t.useFacetMap)((e=>d[e?W.B:W.A][0]),[d],[l]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.A])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.A):void 0,hidden:(0,t.useFacetMap)((e=>null!=e[W.A]),[],[i])}))}))}function td({isClickable:a,visible:n}){const r=ye(),l=(0,t.useFacetMap)((({swapABButtons:e})=>e),[],[r]),o=(0,t.useFacetMap)((({swapXYButtons:e})=>e),[],[r]),i=Le(),c=_e();return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>e?hu.InputLegend:hu.hidden),[],[n])},e.createElement(Zu.Wrapper,{left:e.createElement(Ju,{button:(0,t.useFacetMap)((e=>e?W.A:W.B),[],[l]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.B])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.A):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.B]),[],[i])}),right:e.createElement(e.Fragment,null,e.createElement(Ju,{button:W.LEFT,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.LEFT])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.LEFT):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.LEFT]),[],[i])}),e.createElement(Ju,{button:W.LEFT_TRIGGER,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.LEFT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.LEFT_TRIGGER):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.LEFT_TRIGGER]),[],[i])}),e.createElement(Ju,{button:W.RIGHT_TRIGGER,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.RIGHT_TRIGGER])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.RIGHT_TRIGGER):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.RIGHT_TRIGGER]),[],[i])}),e.createElement(Ju,{button:W.RIGHT,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.RIGHT])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.RIGHT):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.RIGHT]),[],[i])}),e.createElement(Ju,{button:W.UP,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.UP])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.UP):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.UP]),[],[i])}),e.createElement(Ju,{button:W.DOWN,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.DOWN])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.DOWN):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.DOWN]),[],[i])}),e.createElement(Ju,{button:(0,t.useFacetMap)((e=>e?W.Y:W.X),[],[o]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.X])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.X):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.X]),[],[i])}),e.createElement(Ju,{button:(0,t.useFacetMap)((e=>e?W.X:W.Y),[],[o]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.Y])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.Y):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.Y]),[],[i])}),e.createElement(Ju,{button:(0,t.useFacetMap)((e=>e?W.B:W.A),[],[l]),label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.A])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.A):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.A]),[],[i])}),e.createElement(Ju,{button:W.START,label:(0,t.useFacetMap)((e=>{var t;return null!==(t=e[W.START])&&void 0!==t?t:""}),[],[i]),onClick:a?()=>null==c?void 0:c(W.START):void 0,hidden:(0,t.useFacetMap)((e=>null==e[W.START]),[],[i])}))}))}function ad(){return ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ad.apply(this,arguments)}Zu.displayName="InputLegend",Zu.Wrapper=function({safeZone:t,left:a,right:n,role:r="inherit"}){const l=Vn(r),o=Kn("inputLegend",r).sideContainer,i=null!=o.interactive,c=ul(),s=t||c;return e.createElement("div",{className:lr()("_iCp3",l.text.base),style:{height:`calc(4rem + ${s.bottom}px)`}},e.createElement("div",{className:lr()("Lh0_R",i?void 0:l.background.base)}),e.createElement(Vi,{role:r,effect:"specular",thin:!0,left:!1,right:!1,bottom:!1}),e.createElement("div",{className:"HvYsi",style:{height:"4rem",paddingRight:s.right+"px",paddingLeft:s.left+"px"}},null!=a?e.createElement("div",{className:lr()("gB3x9",o.interactive)},a):null,null!=n?e.createElement("div",{className:lr()("Gehqy",o.interactive)},n):null))},Zu.InputHint=Ju,Zu.Space=function({extraSpace:a,addSafeZone:n=!0}){const r=(0,t.useFacetMap)((e=>lr()(hu.wrapper,{[hu.hidden]:!e})),[],[Je()]),l=ul(),o=(0,t.useFacetWrap)(n),i=(0,t.useFacetMap)((e=>e?`calc(4rem + ${l.bottom}px)`:"4rem"),[l],[o]);return e.createElement("fast-div",{className:r},e.createElement("fast-div",{style:{height:i}}),a)};const nd=e=>{e.stopPropagation()},rd=()=>{},ld=(0,e.createContext)({isModalVisible:(0,t.createFacet)({initialValue:!1}),onMount:()=>rd}),od=(0,e.createContext)({getId:()=>0,set:()=>{}}),id=(0,e.createContext)((0,t.createFacet)({initialValue:""})),cd=(0,e.createContext)((0,t.createFacet)({initialValue:""}));function sd({children:a,defaultFocusAlias:n,overlay:r=!0,onOverlayClick:l,role:o="neutral",modalTypeNarrationHint:i}){const{t:c}=oi("Modal"),s=(0,e.useRef)(0),[u,d]=(0,t.useFacetState)([]),m=Vn(o),[p,f]=(0,t.useFacetState)(""),g=(0,t.useFacetMap)((e=>e.filter((e=>e.length>0)).slice(1).join(" . ")),[],[u]);(0,t.useFacetEffect)((e=>{const t=e.filter((e=>e.length>0)),a=[t[0],c(".narrationModalComponentType"),i,...t.slice(1)].filter(Boolean).join(" . ");f(a)}),[i,f,c],[u]);const E=(0,e.useRef)(null),h=(0,t.useFacetMemo)((e=>e[0]),[],[u]);!function(t){const{onMount:a}=(0,e.useContext)(ld);(0,e.useEffect)((()=>a(t)),[a,t])}();const b=r?sd.Overlay:e.Fragment,v=r?{onClick:l}:{};return e.createElement(hn,{role:o},e.createElement(b,v,e.createElement(id.Provider,{value:h},e.createElement(cd.Provider,{value:g},e.createElement(od.Provider,{value:(0,e.useMemo)((()=>({getId:()=>s.current++,set:(e,a)=>d((n=>n===t.NO_VALUE?[]:(n[e]=!1===a?"":a,n)))})),[d])},e.createElement(rs,{text:p},e.createElement("div",{ref:E,className:lr()("icsZi",m.border.base),onClick:nd},e.createElement(ac,{containerRef:E,shouldBindFocus:!0,delegateFocusByAlias:n,delegateFocusFromMemory:!0},a))))))))}const ud=(a,n=0)=>{const r=(0,e.useContext)(od),[l,o]=(0,t.useFacetState)(t.NO_VALUE);(0,e.useEffect)((()=>{l.get()==t.NO_VALUE&&o(r.getId())}),[l,o,r]);const i=(0,e.useRef)();(0,t.useFacetEffect)(((e,t)=>{(null==i.current||Date.now()-i.current>n)&&(r.set(e,t),i.current=Date.now())}),[r,n],[l,(0,t.useFacetWrap)(a)])};let dd;!function(e){e.Ordered="ordered",e.Unordered="unordered"}(dd||(dd={}));const md=({items:a,gamepadIndex:n,listType:r})=>e.createElement(fd,{gamepadIndex:n},e.createElement(t.Map,{array:a},((t,n)=>e.createElement(pd,{items:a,item:t,index:n,listType:r})))),pd=({items:a,item:n,index:r,listType:l=dd.Unordered})=>{const o=(0,t.useFacetMap)((e=>e.length-1!==r),[r],[a]);return e.createElement(e.Fragment,null,e.createElement(gd,{gamepadIndex:r,text:n,listType:l}),e.createElement(t.Mount,{when:o},e.createElement(Sc,{size:2})))},fd=({children:a,gamepadIndex:n})=>!0===(0,t.useFacetUnwrap)(vc())?e.createElement(ns,{options:{index:n}},a):e.createElement(e.Fragment,null,a),gd=({gamepadIndex:a,text:n,listType:r})=>{const l=r===dd.Unordered?"":`${a+1}.`,o=(0,t.useFacetMap)((e=>`${l} ${e}`),[l],[n]),i=vc(),c=r===dd.Unordered?n:o;return ud(c),e.createElement(Li.Maybe,{isInteractive:i,gamepadIndex:a,narrationText:c,className:"kxZXz"},e.createElement(gs,{type:"captionLong",align:"left",indent:!0},o))};var Ed;sd.Header=({children:a,onBack:n,onClose:r,titlebarGamepadAlias:l,closeButtonNarrationSuffix:o,hideCloseButton:i,role:c="neutral"})=>{var s,u;ud(a);const d=hc.Buttons.Close.useLocalization().t(".inputLegend"),m=hc.Buttons.Back.useLocalization().t(".inputLegend");i=(0,t.useFacetWrap)(null!==(s=i)&&void 0!==s&&s);const p=(0,t.useFacetMap)((e=>e?"yLSeP":""),[],[i]),f=(0,t.useFacetMap)((e=>({button:W.B,inputLegend:null!=n?m:d,disabled:!0===e||null==r})),[n,r,d,m],[i]),g=(0,t.useFacetMap)((e=>!e&&d),[d],[i]);return e.createElement(e.Fragment,null,e.createElement(as,{options:f,onClick:null!==(u=null!=n?n:r)&&void 0!==u?u:rd}),e.createElement(hc,{role:c,gamepadAlias:l,left:n&&e.createElement(hc.Buttons.Back.Component,{onClick:n}),right:r&&e.createElement("fast-div",{className:p},e.createElement(hc.Buttons.Close.Component,{onClick:r,inputLegend:g,narrationSuffix:o,testId:"closeModalTestId"}))},e.createElement(gs,{type:"body"},e.createElement(Ns,null,a))))},sd.Text=({image:t,children:a,gamepadIndex:n,narrationText:r,center:l=!1})=>{const o=vc();return ud(r),e.createElement(Li.Maybe,{isInteractive:o,gamepadIndex:n,narrationText:r,className:lr()("qXm9P",{[ls]:l}),classNameFocused:vi},e.createElement(bi,{inset:!0}),null==t?null:e.createElement(e.Fragment,null,t,e.createElement(Sc,{size:4})),e.createElement("span",{className:"BPMWS"},e.createElement(gs,{type:"captionLong",align:l?"center":"left"},a)))},sd.Paragraphs=({children:t,narrationText:a,spaceBetweenParagraphs:n=5,gamepadIndex:r,center:l})=>{const o=vc();ud(a);const i=t.filter(Boolean);return e.createElement(Li.Maybe,{isInteractive:o,gamepadIndex:r,narrationText:a,className:"MHiRD",classNameFocused:vi},e.createElement(bi,{inset:!0}),i.map(((t,a)=>e.createElement(e.Fragment,{key:a},e.createElement("div",{className:lr()("yHUQ1",{[ls]:l})},t),null!=n&&a<i.length-1&&e.createElement(Sc,{size:n})))))},sd.List=md,sd.OrderedList=({items:t,gamepadIndex:a})=>e.createElement(md,{items:t,gamepadIndex:a,listType:dd.Ordered}),sd.Content=({children:t,gamepadAlias:a,scrollable:n=!0,role:r="neutral80",scrollbarBackgroundRole:l,scrollbarClassName:o,className:i})=>{const c=(0,e.useContext)(id),s=(0,e.useContext)(cd),[u,d]=(0,e.useState)(!1),m=Vn(r);return e.createElement(rs,{text:c},e.createElement("div",{className:lr()(m.background.base,m.text.base,i,{GHU0b:n})},n?e.createElement(Yc,{gamepadIndex:-1,floating:!0,emptyFocusableGamepadAlias:a,emptyFocusableNarrationText:u?"":s,scrollbarBackgroundRole:l,scrollbarClassName:o,focusControlDisabled:!0},t,e.createElement(Yc.SiblingState,{callback:d})):t))},sd.Buttons=({children:t,horizontal:a=!1,role:n="inherit",header:r})=>{const l=Vn(n);return e.createElement(pr,null,r,e.createElement("div",{className:lr()("kc2Fb",l.background.base,{IVSIi:a})},e.createElement(Vi,{effect:"bevel",left:!1,right:!1}),t))},sd.Overlay=({onClick:t,children:a,role:n="inherit"})=>{const r=Vn(n);return e.createElement("div",{className:lr()("VT1Tw",r.overlay.base),onClick:t},e.createElement("div",{className:"UvzEX"},a,e.createElement(Zu.Space,null)))},sd.Progress=function({percentage:a}){const{t:n}=oi("Modal"),r=(0,t.useFacetWrap)(a),l=(0,t.useFacetMap)((e=>n(".progressPercentage",[`${Math.round(100*e)}`])),[n],[r]);return ud(l,2e3),e.createElement("div",{className:os},e.createElement(Eu,{percentage:r}),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionLong",align:"center"},l))},sd.InformativeProgress=function({percentage:a,label:n,narrationText:r}){const l=(0,t.useFacetWrap)(a),o=(0,t.useFacetWrap)(null!=n?n:""),i=(0,t.useFacetWrap)(null!=r?r:"");return ud(i,2e3),e.createElement("div",{className:os},e.createElement(Eu,{percentage:l}),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionLong",align:"right"},o))},sd.Spinner=()=>e.createElement("div",{className:"YkW5u"},e.createElement(Kc,null)),sd.Checkbox=t=>{var a;return e.createElement(ws,ad({},t,{gamepad:{index:null!==(a=t.gamepadIndex)&&void 0!==a?a:0},small:!0}))},sd.TextField=t=>e.createElement(fu,ad({},t,{transparent:!0})),sd.FocusManager=function({children:a}){const[n,r]=(0,t.useFacetState)(!1),l=(0,e.useMemo)((()=>({isModalVisible:n,onMount:()=>(r(!0),()=>{r(!1)})})),[n,r]);return e.createElement(ld.Provider,{value:l},a)},sd.useIsAnyModalVisible=function(){return(0,e.useContext)(ld).isModalVisible},function(e){e[e.Undefined=0]="Undefined",e[e.Mouse=1]="Mouse",e[e.Touch=2]="Touch",e[e.GamePad=3]="GamePad",e[e.MotionController=4]="MotionController",e[e.Count=5]="Count"}(Ed||(Ed={})),new Map([[Ed.Mouse,ze.MOUSE],[Ed.Touch,ze.TOUCH],[Ed.GamePad,ze.GAMEPAD],[Ed.MotionController,ze.MOTION]]);function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},hd.apply(this,arguments)}(0,e.createContext)({isOpen:(0,t.createStaticFacet)(!1),placement:"top",onOpen:()=>{},onClose:()=>{},onToggle:()=>{},triggerRef:(0,e.createRef)(),contentRef:(0,e.createRef)()});const bd=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);return e.createElement("fast-div",hd({},n,{id:"tooltip-root",className:lr()("iVsRv",a)}))};function vd({children:a,defaultRoute:n,errorComponent:r,dismissTimeout:l,scalingMode:o="default",keyboardGamepadMap:i=pe,semanticCollection:c,deviceInformationOptions:s={},shouldUseNarrationQueueSystem:u=!1,wrapperComponent:d=e.Fragment}){const m=d,p=e.Fragment,f=(0,e.useCallback)((()=>{Ea.trigger("core:routing:not-found")}),[]);return e.createElement(On,null,e.createElement(Nn,{collection:c},e.createElement(t.SharedFacetDriverProvider,{value:ti},e.createElement(Qo,{queryDriver:ai,commandsDriver:ni},e.createElement(Kr,null,e.createElement(ii,null,e.createElement(Pr,s,e.createElement(Cl,null,e.createElement(yl,null,e.createElement(_r,null,e.createElement(cl,null,e.createElement(Do,{scalingMode:o},e.createElement(Or,{errorComponent:r,dismissTimeout:l},e.createElement(Uo,null,e.createElement(Jn,{keyboardGamepadMap:i},e.createElement(rl,{shouldUseQueueSystem:u},e.createElement(sd.FocusManager,null,e.createElement(Vo,null,e.createElement(ui,null,e.createElement(p,null,e.createElement(m,null,e.createElement(k,{onNotFound:f},[...e.Children.toArray(a),e.createElement(y,{from:"/",to:n,key:"default-redirect"})]))),e.createElement(bd,null))))))))))))))))))))}let Fd;(0,t.sharedFacet)("core.social"),(0,t.facet)("core.user"),function(e){e[e.NoVR=0]="NoVR",e[e.VRFull3DWorld=1]="VRFull3DWorld",e[e.VRVirtual2DScreen=2]="VRVirtual2DScreen"}(Fd||(Fd={})),(0,t.sharedFacet)("core.vrMode");var Sd=a(51637),yd=a.n(Sd),Cd=a(95799),Md=a.n(Cd),kd=a(12821),wd=a.n(kd),Td=a(88579),xd=a.n(Td);function Id(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pd(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Id(Object(a),!0).forEach((function(t){Od(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Id(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Od(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Nd=Pd(Pd({},yd()),Md());function Ad(e,a){const[n,r]=(0,t.useFacetState)(!1);return(0,t.useFacetEffect)((e=>{if(e)return;const t=setTimeout((()=>{r(!0)}),a);return()=>{clearTimeout(t)}}),[a,r],[e]),n}function Ld({type:e,renderingCompleted:a}){const n=sr(),r=ir(),l=(0,t.useFacetWrap)(a);return(0,t.useFacetEffect)(((t,a)=>{if(!a||!t)return;const r=requestAnimationFrame((()=>{"contentful"===e?n.contentfulPaint():n.meaningfulPaint()}));return()=>{cancelAnimationFrame(r)}}),[n,e],[r,l]),null}function Rd(t){return-1!=(0,e.useContext)(Lr).indexOf(t)}Pd(Pd(Pd({},Nd),wd()),xd());const Dd=a.p+"assets/all_achievements_unlocked-145c0.png",_d=a.p+"assets/no_achievements_unlocked-343d7.png",Bd=a.p+"assets/error-message-9e281.png",Wd=a.p+"assets/unavailable-on-preview-2120e.png",Ud=({wide:e,narrow:t,width:a})=>{let n;return 8===e&&(6===t||5===t)&&a>=220&&a<=260?n=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),n=70),xo(n)},zd=({wide:e,narrow:t,width:a})=>{let n;return 8===e&&(6===t||5===t)&&a>=220&&a<=260?n=102:(console.warn("useImageBreakpoint() is being used for an unhandled scenario. You should add a case for this, or you might not need to use getImageBreakpoint() at all."),n=70),Io(n)};function jd(e,t){for(let a=0;a<e.length;a++)if(t(e[a],a,e))return e[a]}const Hd="vanilla.achievementsReward";let Vd;!function(e){e[e.LOADING=0]="LOADING",e[e.LOADED=1]="LOADED"}(Vd||(Vd={}));const Gd=(0,t.sharedFacet)("vanilla.achievements"),$d=(0,t.sharedSelector)((e=>om(e.data.achievements)),[Gd]),Kd=((0,t.sharedSelector)((e=>e.data.achievements.filter(tm)),[Gd]),(0,t.sharedSelector)((e=>e.data.achievements.filter(em).sort(im)),[Gd])),Xd=(0,t.sharedSelector)((e=>lm(e.data.achievements)),[Gd]),Yd=(0,t.sharedSelector)((e=>e.status===Vd.LOADED),[Gd]),qd=(0,t.sharedDynamicSelector)((e=>[(t,a)=>({isLoaded:a,achievement:jd(t.data.achievements,(t=>t.id===e))}),[Gd,Yd]])),Qd=(0,t.sharedSelector)((e=>({loaded:e.status===Vd.LOADED,unlocked:e.data.achievementsUnlocked,total:e.data.maxAchievements,inProgressCount:e.data.achievements.filter(Jd).length,rewardsTotal:rm(e.data.achievements),rewardsUnlocked:nm(e.data.achievements),gamerScore:e.data.currentGamerScore,maxGamerScore:e.data.maxGamerScore,hoursPlayed:e.data.hoursPlayed})),[Gd],t.shallowObjectEqualityCheck);function Jd(e){return e.isLocked&&e.progress>0}function Zd(e){return!e.isLocked}function em(e){return e.isLocked}function tm(e){return e.isLocked&&!e.progress}function am(e){return!(e.isLocked&&!e.isRewardOwned)}function nm(e){return e.filter((e=>e.hasReward&&am(e))).length}function rm(e){return e.filter((e=>e.hasReward)).length}function lm(e){return e.filter(Zd).sort(cm)}function om(e){const t=[],a=[],n=[],r=[];e.forEach((e=>{tm(e)?(n.push(e),r.push(e)):Zd(e)?a.push(e):(t.push(e),r.push(e))})),t.sort(im),r.sort(sm);const l=n,o=lm(a);return{inProgress:t,locked:l,completed:o,suggested:r}}function im(e,t){return!e.hasReward&&t.hasReward?1:e.hasReward&&!t.hasReward?-1:e.progress<t.progress?1:e.progress>t.progress?-1:0}function cm(e,t){return e.dateUnlocked<t.dateUnlocked?1:e.dateUnlocked>t.dateUnlocked?-1:0}function sm(e,t){return e.suggestedOrder-t.suggestedOrder}const um=(0,t.sharedFacet)("vanilla.buildSettings"),dm=(0,t.sharedSelector)((e=>e.isDevBuild),[um]),mm=(0,t.sharedSelector)((e=>e.isEduBuild),[um]),pm=(0,t.sharedSelector)((e=>e.isPreviewBuild),[um]),fm=(0,t.sharedFacet)("vanilla.clipboard");function gm(e,t){return e.major-t.major!=0?e.major-t.major:e.minor-t.minor!=0?e.minor-t.minor:e.patch-t.patch!=0?e.patch-t.patch:e.revision-t.revision!=0?e.revision-t.revision:0}let Em,hm,bm,vm,Fm,Sm,ym,Cm;!function(e){e[e.PEACEFUL=0]="PEACEFUL",e[e.EASY=1]="EASY",e[e.NORMAL=2]="NORMAL",e[e.HARD=3]="HARD"}(Em||(Em={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ALWAYS_DAY=1]="ALWAYS_DAY",e[e.LOCK_TIME=2]="LOCK_TIME"}(hm||(hm={})),function(e){e[e.GAMEPLAY=0]="GAMEPLAY",e[e.ADD_ON_CREATORS=1]="ADD_ON_CREATORS",e[e.INTERNAL_TESTS=2]="INTERNAL_TESTS"}(bm||(bm={})),function(e){e[e.NONE=0]="NONE",e[e.CHECK_INTERNET_CONNECTION=1]="CHECK_INTERNET_CONNECTION",e[e.DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION=2]="DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION",e[e.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=3]="LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY=4]="MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED=5]="MULTIPLAYER_PRIVILEGES_BLOCKED",e[e.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE=6]="MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE",e[e.CROSS_PLATFORM_DISABLED=7]="CROSS_PLATFORM_DISABLED",e[e.NON_MULTIPLAYER_SKIN_EQUIPPED=8]="NON_MULTIPLAYER_SKIN_EQUIPPED"}(vm||(vm={})),function(e){e[e.UNASSIGNED_DEV_VERSION=0]="UNASSIGNED_DEV_VERSION",e[e.MEMBER_OF_TOO_MANY_REALMS=1]="MEMBER_OF_TOO_MANY_REALMS",e[e.CANNOT_CONNECT_TO_REALM=2]="CANNOT_CONNECT_TO_REALM",e[e.CROSS_PLATFORM_RESTRICTED=3]="CROSS_PLATFORM_RESTRICTED",e[e.UNKNOWN=4]="UNKNOWN"}(Fm||(Fm={})),function(e){e[e.NOT_ENOUGH_STORAGE=0]="NOT_ENOUGH_STORAGE",e[e.MISSING_CONTENT_KEY=1]="MISSING_CONTENT_KEY"}(Sm||(Sm={})),function(e){e[e.INVITED=1]="INVITED",e[e.FRIENDS=2]="FRIENDS",e[e.FRIENDS_OF_FRIENDS=3]="FRIENDS_OF_FRIENDS"}(ym||(ym={})),function(e){e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR"}(Cm||(Cm={}));const Mm=(0,t.sharedFacet)("vanilla.createNewWorld"),km=((0,t.sharedSelector)((e=>e.isEditorWorld),[Mm]),(0,t.sharedSelector)((e=>e.worldCreationData.scriptingCoding),[Mm]),(0,t.createFacet)({initialValue:{userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1}}));let wm;!function(e){e[e.CreatingPreviewRealm=0]="CreatingPreviewRealm",e[e.SuccessfullyCreatedPreviewRealm=1]="SuccessfullyCreatedPreviewRealm",e[e.RetrievingCreatedPreviewRealm=2]="RetrievingCreatedPreviewRealm",e[e.FailedToCreatePreviewRealm=3]="FailedToCreatePreviewRealm"}(wm||(wm={}));const Tm=(0,t.sharedFacet)("vanilla.createPreviewRealmFacet"),xm=(0,t.sharedFacet)("vanilla.debugSettings");let Im,Pm;!function(e){e[e.OVERWORLD=0]="OVERWORLD",e[e.NETHER=1]="NETHER"}(Im||(Im={})),function(e){e[e.NameIsEmpty=0]="NameIsEmpty",e[e.AddressIsEmpty=1]="AddressIsEmpty",e[e.InvalidPortNumber=2]="InvalidPortNumber",e[e.UnknownError=3]="UnknownError",e[e.IdNotFound=4]="IdNotFound"}(Pm||(Pm={}));const Om=(0,t.sharedFacet)("vanilla.externalServerWorldList"),Nm="vanilla.friendsDrawer",Am="vanilla.ab.newPlayScreenD",Lm="vanilla.debugDrawer",Rm="vanilla.hardcoreMode",Dm="vanilla.disableAnimatedSignInScreens",_m="vanilla.enableAlternateSISUCopy",Bm="vanilla.enableInboxServiceCategories",Wm="vanilla.screenshotsGallery",Um="vanilla.screenshotsShowcase",zm=(0,t.sharedFacet)("vanilla.followersList");function jm(e,t,a){let n=null==e?0:e.length;if(!n)return[];(t=null==t?0:t)<0&&(t=-t>n?0:n+t),(a=(a=null==a?n:a)>n?n:a)<0&&(a+=n),n=t>a?0:a-t>>>0,t>>>=0;let r=-1;const l=new Array(n);for(;++r<n;)l[r]=e[r+t];return l}let Hm,Vm;!function(e){e[e.Unknown=0]="Unknown",e[e.NotPlayed=1]="NotPlayed",e[e.HasPlayed=2]="HasPlayed"}(Hm||(Hm={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready",e[e.Error=3]="Error"}(Vm||(Vm={}));const Gm=(0,t.sharedFacet)("vanilla.friendsListFacet");function $m(e){return jm(e,0).sort(Km)}function Km(e,t){return null==e.playingOnServerId&&null!=t.playingOnServerId?1:null!=e.playingOnServerId&&null==t.playingOnServerId?-1:0}const Xm=(0,t.sharedFacet)("vanilla.friendsManagerFacet"),Ym=(0,t.sharedFacet)("vanilla.gamertagSearch");let qm,Qm,Jm,Zm;function ep(e,t){for(let a=0;a<e.length;++a)if(e[a].categoryName==t)return e[a].unreadMessages;return 0}function tp(e,t){e.forEach((e=>{var a;const n=(a=Date.now(),op(Math.floor(a/1e3))-op(e.dateReceived)<=op(604800));for(const a of t)if(e.inboxCategory==a.category){n?a.recent.push(e):a.history.push(e);break}}))}!function(e){e[e.NONE=0]="NONE",e[e.REALMS=1]="REALMS",e[e.GAME=2]="GAME"}(qm||(qm={})),function(e){e[e.NONE=0]="NONE",e[e.ACCEPTED=1]="ACCEPTED",e[e.REJECTED=2]="REJECTED",e[e.EXPIRED=3]="EXPIRED",e[e.JOIN=5]="JOIN"}(Qm||(Qm={})),function(e){e.NEWS="news",e.INVITES="invites",e.REALMS="realms",e.MARKETPLACEPASS="marketplacepass",e.FEEDBACK="feedback"}(Jm||(Jm={})),function(e){e.NONE="Unknown",e.IMAGETEXT="ImageText",e.IMAGETNAILCTA="ImageThumbnailCTA",e.HEROIMAGECTA="HeroImageCTA",e.CONTENTLISTCTA="ContentListWithCTA",e.CONTENTLISTNOCTA="ContentListNoCTA"}(Zm||(Zm={}));const ap=(0,t.sharedFacet)("vanilla.inbox"),np=(0,t.sharedSelector)((e=>function(e,t){const a=[];return Object.values(Jm).forEach((e=>{const n=ep(t,e);a.push({recent:[],history:[],unreadCount:n,category:e,name:"",imageUrl:""})})),tp(e,a),a}(e.inboxMessages,e.categoryData)),[ap]),rp=(0,t.sharedSelector)((e=>function(e,t){const a=[];return t.forEach((e=>{a.push({recent:[],history:[],unreadCount:e.unreadMessages,category:e.categoryName,name:e.localizedName,imageUrl:e.imageUrl})})),tp(e,a),a}(e.inboxMessages,e.categoryData)),[ap]),lp=(0,t.sharedSelector)((e=>e.settings),[ap]);function op(e){return Math.floor(e/60/60/24)}const ip=(0,t.sharedFacet)("vanilla.inGame"),cp=((0,t.sharedFacet)("vanilla.lanServer"),(0,t.sharedFacet)("vanilla.lanServerWorldList"));function sp(a){const{translationPrefix:n,translate:r,formatDate:l}=(0,e.useContext)(Ur),o=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(mm));return(0,e.useMemo)((()=>({f:l,t:(e,t)=>{var l,i;let c=null;const s=li(n,a,e);if(!0===o){const e=`${s}.edu`;c=r(e,t),c==e&&(c=null)}return c=null!==(l=c)&&void 0!==l?l:r(s,t),null!==(i=c)&&void 0!==i?i:s}})),[o,n,a,r,l])}a(42181);const up=(0,t.sharedFacet)("vanilla.localWorldList"),dp=(0,t.sharedFacet)("vanilla.marketplacePassWorldTemplateList"),mp=(0,t.sharedFacet)("vanilla.marketplaceSuggestions"),pp=(0,t.sharedFacet)("vanilla.networkWorldDetails");let fp,gp;!function(e){e[e.OK=0]="OK",e[e.InvalidServerIdError=1]="InvalidServerIdError",e[e.InvalidUserError=2]="InvalidUserError",e[e.NoInternetError=3]="NoInternetError",e[e.UserNeedsToBeSignedInError=4]="UserNeedsToBeSignedInError",e[e.BlockedByPlatformError=5]="BlockedByPlatformError",e[e.BlockedByXBLError=6]="BlockedByXBLError",e[e.BlockedByVersionError=7]="BlockedByVersionError",e[e.UserBannedError=8]="UserBannedError",e[e.ThirdPartyBadIPError=9]="ThirdPartyBadIPError",e[e.ThirdPartyNoServerOrServerLockedError=10]="ThirdPartyNoServerOrServerLockedError",e[e.UnknownError=11]="UnknownError"}(fp||(fp={})),function(e){e[e.Ok=0]="Ok",e[e.JoinRealmAlreadyInProgress=1]="JoinRealmAlreadyInProgress",e[e.RealmIDConversionFailed=2]="RealmIDConversionFailed",e[e.MissingPlatformMembership=3]="MissingPlatformMembership",e[e.MultiplayerPrivilegeBlocked=4]="MultiplayerPrivilegeBlocked",e[e.RealmsNotInitialized=5]="RealmsNotInitialized",e[e.MobileDataBlockedAndNoWifi=6]="MobileDataBlockedAndNoWifi",e[e.InvalidCrossPlatformMultiplayerSkin=7]="InvalidCrossPlatformMultiplayerSkin",e[e.RealmsApiNotAvailable=8]="RealmsApiNotAvailable",e[e.UnassignedDevVersion=9]="UnassignedDevVersion",e[e.MemberOfTooManyRealms=10]="MemberOfTooManyRealms",e[e.CannotConnectToRealm=11]="CannotConnectToRealm",e[e.UnknownError=12]="UnknownError"}(gp||(gp={}));const Ep=(0,t.sharedFacet)("vanilla.networkWorldJoiner"),hp=(0,t.sharedFacet)("vanilla.notificationOptions"),bp=(0,t.sharedFacet)("vanilla.notifications");let vp;!function(e){e[e.TOUCH=0]="TOUCH",e[e.CROSSHAIR=1]="CROSSHAIR",e[e.CLASSIC=2]="CLASSIC"}(vp||(vp={}));const Fp=(0,t.sharedFacet)("vanilla.options"),Sp=(0,t.sharedFacet)("vanilla.playerAchievements"),yp=(0,t.sharedSelector)((e=>e.status===Vd.LOADED),[Sp]),Cp=((0,t.sharedDynamicSelector)((e=>[(t,a)=>({isLoaded:a,achievement:jd(t.data.achievements,(t=>t.id===e))}),[Sp,yp]])),(0,t.sharedSelector)((e=>om(e.data.achievements)),[Sp])),Mp=(0,t.sharedSelector)((e=>({loaded:e.status===Vd.LOADED,unlocked:e.data.achievementsUnlocked,total:e.data.maxAchievements,inProgressCount:e.data.achievements.filter(Jd).length,rewardsTotal:rm(e.data.achievements),rewardsUnlocked:nm(e.data.achievements),gamerScore:e.data.currentGamerScore,maxGamerScore:e.data.maxGamerScore,hoursPlayed:e.data.hoursPlayed})),[Sp],t.shallowObjectEqualityCheck),kp=(0,t.sharedFacet)("vanilla.playerLinkedPlatformProfile");let wp,Tp;!function(e){e[e.NONE=0]="NONE",e[e.EXTERNAL=1]="EXTERNAL",e[e.INTERNAL=2]="INTERNAL"}(wp||(wp={})),function(e){e[e.LOADING=0]="LOADING",e[e.IMAGE_RETRIEVAL=1]="IMAGE_RETRIEVAL",e[e.LOADED=2]="LOADED"}(Tp||(Tp={}));const xp=(0,t.sharedFacet)("vanilla.playermessagingservice"),Ip=(0,t.sharedSelector)((e=>e.reportDismiss.bind(e)),[xp]),Pp=(0,t.sharedSelector)((e=>e.status!=Tp.LOADING),[xp]),Op=(0,t.sharedDynamicSelector)((e=>[(t,a)=>({isLoaded:a,message:jd(t.data.messages,(t=>t.id===e))}),[xp,Pp]]));(0,t.sharedDynamicSelector)((e=>[(t,a)=>{const n=function(e,t){return e.filter((e=>e.surface==t))}(t.data.messages,e);return{isLoaded:a,messages:n}},[xp,Pp]]));const Np=(0,t.sharedFacet)("vanilla.playerPrivacy");let Ap,Lp,Rp,Dp;!function(e){e[e.Self=0]="Self",e[e.TwoWayFriend=1]="TwoWayFriend",e[e.Following=2]="Following",e[e.Follower=3]="Follower",e[e.Stranger=4]="Stranger",e[e.Unknown=5]="Unknown"}(Ap||(Ap={})),function(e){e[e.None=0]="None",e[e.UserNotFound=1]="UserNotFound",e[e.NoInternet=2]="NoInternet",e[e.NotAllowedToViewProfilesAdult=3]="NotAllowedToViewProfilesAdult",e[e.NotAllowedToViewProfilesChild=4]="NotAllowedToViewProfilesChild",e[e.NotLoggedInWithMSA=5]="NotLoggedInWithMSA",e[e.LoggedInWithMSAButPlatformProfile=6]="LoggedInWithMSAButPlatformProfile"}(Lp||(Lp={})),function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Error=2]="Error",e[e.Undefined=3]="Undefined"}(Rp||(Rp={})),function(e){e.FriendsDrawer="FriendsDrawer",e.Profile_FriendsList="Profile_FriendsList",e.Profile_FollowersList="Profile_FollowersList",e.Profile_CompareStatsCurrent="Profile_CompareStatsCurrent",e.Profile_CompareStatsLoaded="Profile_CompareStatsLoaded",e.AddFriends_Search="AddFriends_Search",e.AddFriends_RecommendedFriends="AddFriends_RecommendedFriends",e.AddFriends_RecentlyPlayedWith="AddFriends_RecentlyPlayedWith",e.AddFriends_Followers="AddFriends_Followers"}(Dp||(Dp={}));const _p=(0,t.sharedFacet)("vanilla.playerProfile"),Bp=(0,t.sharedFacet)("vanilla.playerReport"),Wp=(0,t.sharedFacet)("vanilla.playerFollowingList");let Up;!function(e){e[e.ADDFRIENDS_RECOMMENDEDFRIENDS=0]="ADDFRIENDS_RECOMMENDEDFRIENDS",e[e.ADDFRIENDS_RECENTLYPLAYEDWITH=1]="ADDFRIENDS_RECENTLYPLAYEDWITH",e[e.ADDFRIENDS_FOLLOWERS=2]="ADDFRIENDS_FOLLOWERS",e[e.ADDFRIENDS_SEARCH=3]="ADDFRIENDS_SEARCH",e[e.PROFILE_MAIN=4]="PROFILE_MAIN",e[e.JSONUI=5]="JSONUI",e[e.PROFILE_FRIENDSLIST=6]="PROFILE_FRIENDSLIST",e[e.PROFILE_FOLLOWERSLIST=7]="PROFILE_FOLLOWERSLIST"}(Up||(Up={}));const zp=(0,t.sharedFacet)("vanilla.playerSocialManager");let jp;!function(e){e[e.Clock=0]="Clock",e[e.Boots=1]="Boots",e[e.Pickaxe=2]="Pickaxe",e[e.Sword=3]="Sword"}(jp||(jp={}));const Hp=(0,t.sharedFacet)("vanilla.playerStatistics"),Vp=(0,t.sharedFacet)("vanilla.privacyAndOnlineSafetyFacet"),Gp=(0,t.sharedFacet)("vanilla.profanityFilter"),$p=(0,t.sharedFacet)("vanilla.realmsStories.actions"),Kp=(0,t.sharedFacet)("vanilla.realmsStories.realmData");let Xp,Yp;!function(e){e[e.All=0]="All",e[e.Online=1]="Online",e[e.OptedIn=2]="OptedIn",e[e.OptedOut=3]="OptedOut"}(Xp||(Xp={})),function(e){e[e.MostRecent=0]="MostRecent",e[e.AlphabeticalAscending=1]="AlphabeticalAscending",e[e.AlphabeticalDescending=2]="AlphabeticalDescending",e[e.LeastRecent=3]="LeastRecent"}(Yp||(Yp={}));const qp=(0,t.sharedFacet)("vanilla.realmsStories.persistentData"),Qp=(0,t.sharedFacet)("vanilla.realmsSettingsFacet");let Jp;!function(e){e[e.NONMEMBER=-1]="NONMEMBER",e[e.VISITOR=0]="VISITOR",e[e.MEMBER=1]="MEMBER",e[e.OPERATOR=2]="OPERATOR",e[e.OWNER=3]="OWNER"}(Jp||(Jp={}));const Zp=(0,t.sharedFacet)("vanilla.realmsStories.players");function ef(e,t){return(a=e.gamerTag.toLowerCase())===(n=t.gamerTag.toLowerCase())?0:a>n?1:-1;var a,n}function tf(e,t){return ef(t,e)}function af(e){return e.sort(nf)}function nf(e,t){const a=e.isOnline?Number.MAX_VALUE:e.lastSeenTime,n=t.isOnline?Number.MAX_VALUE:t.lastSeenTime;return a===n?ef(e,t):n-a}function rf(e,t){return nf(t,e)}let lf,of,cf,sf;!function(e){e[e.IDLE=0]="IDLE",e[e.VALIDATION=1]="VALIDATION",e[e.VALIDATION_STARTED=2]="VALIDATION_STARTED",e[e.PURCHASE=3]="PURCHASE",e[e.PURCHASE_STARTED=4]="PURCHASE_STARTED",e[e.COMPLETED=5]="COMPLETED",e[e.FAILED=6]="FAILED"}(lf||(lf={})),function(e){e[e.NOT_SPECIFIED=0]="NOT_SPECIFIED",e[e.INVALID_REALM_NAME=1]="INVALID_REALM_NAME",e[e.FAILED_CLUB_NAME_VALIDATION=2]="FAILED_CLUB_NAME_VALIDATION",e[e.OFFER_NOT_FOUND=3]="OFFER_NOT_FOUND",e[e.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA=4]="OFFER_NOT_AVAILABLE_INCOMPLETE_DATA",e[e.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED=5]="OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED"}(of||(of={})),function(e){e[e.Offer30Days=0]="Offer30Days",e[e.Offer180Days=1]="Offer180Days",e[e.OfferMonthly=2]="OfferMonthly"}(cf||(cf={})),function(e){e[e.Offer2Player=0]="Offer2Player",e[e.Offer10Player=1]="Offer10Player",e[e.Offer16Player=2]="Offer16Player"}(sf||(sf={}));const uf=(0,t.sharedFacet)("vanilla.realmsPurchase");let df,mf,pf;!function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.NeedToCallFetchFirst=1]="NeedToCallFetchFirst",e[e.MemberOfTooManyRealms=2]="MemberOfTooManyRealms",e[e.UnknownError=3]="UnknownError"}(df||(df={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.AlreadyMember=1]="AlreadyMember",e[e.RealmExpired=2]="RealmExpired",e[e.RealmClosed=3]="RealmClosed",e[e.BadInvite=4]="BadInvite",e[e.BlockedInvite=5]="BlockedInvite",e[e.InviteLinkNotFound=6]="InviteLinkNotFound",e[e.UnexpectedServerResponse=7]="UnexpectedServerResponse",e[e.AnonymousAccount=8]="AnonymousAccount"}(mf||(mf={})),function(e){e[e.RealmsAPIUnavailable=0]="RealmsAPIUnavailable",e[e.ErrorTaskInProgress=1]="ErrorTaskInProgress",e[e.UnknownError=2]="UnknownError",e[e.Success=3]="Success",e[e.Unknown=4]="Unknown"}(pf||(pf={}));const ff=(0,t.sharedFacet)("vanilla.realmsMembership"),gf=(0,t.sharedFacet)("vanilla.RealmsPDPFacet"),Ef=(0,t.sharedFacet)("vanilla.realmsStories.sessions");let hf,bf,vf;!function(e){e[e.Compatible=0]="Compatible",e[e.CompatibleShowInfo=1]="CompatibleShowInfo",e[e.Outdated=2]="Outdated",e[e.AlphaEnded=3]="AlphaEnded",e[e.UserNotAllowed=4]="UserNotAllowed",e[e.Other=5]="Other"}(hf||(hf={})),function(e){e[e.None=0]="None",e[e.Unknown=1]="Unknown",e[e.Compatibility=2]="Compatibility",e[e.ServiceError=3]="ServiceError",e[e.RateLimit=4]="RateLimit",e[e.RealmsBan=5]="RealmsBan",e[e.NetworkError=6]="NetworkError",e[e.APIUnavailable=7]="APIUnavailable",e[e.InEditorMode=8]="InEditorMode"}(bf||(bf={})),function(e){e[e.Unknown=0]="Unknown",e[e.Loading=1]="Loading",e[e.Idle=2]="Idle",e[e.Error=3]="Error"}(vf||(vf={}));const Ff=(0,t.sharedFacet)("vanilla.realmsListFacet"),Sf=(0,t.sharedSelector)((e=>{const t=[];if(null==e.realms)return t;for(let a=0;a<e.realms.length;a++)e.realms[a].world.isInitialized&&!e.realms[a].world.expired&&e.realms[a].isOwner&&t.push(e.realms[a].world);return t}),[Ff]),yf=(0,t.sharedFacet)("vanilla.realmsListActionsFacet"),Cf=(0,t.sharedFacet)("vanilla.developerOptionsFacet"),Mf=(0,t.sharedFacet)("vanilla.realmSlots"),kf=(0,t.sharedFacet)("vanilla.realmsStories.stories");function wf(e){e.forEach((e=>{e.hasViewed=!0}))}let Tf;!function(e){e[e.OptedIn=0]="OptedIn",e[e.OptedOut=1]="OptedOut",e[e.None=2]="None"}(Tf||(Tf={}));const xf=(0,t.sharedFacet)("vanilla.realmsStories.settings"),If=(0,t.sharedFacet)("vanilla.realmsStories.comments");let Pf;!function(e){e[e.ActionAlreadyInProgress=0]="ActionAlreadyInProgress",e[e.CannotSaveWorld=1]="CannotSaveWorld",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.Generic=3]="Generic",e[e.TooManyRealms=4]="TooManyRealms",e[e.InvalidRealmName=5]="InvalidRealmName",e[e.InvalidResponse=6]="InvalidResponse",e[e.CrossPlatformRestricted=7]="CrossPlatformRestricted",e[e.UnknownError=8]="UnknownError"}(Pf||(Pf={}));const Of=(0,t.sharedFacet)("vanilla.RealmWorldUploaderFacet"),Nf=(0,t.sharedFacet)("vanilla.recentlyPlayedWithList"),Af=(0,t.sharedFacet)("vanilla.recommendedFriendsList");let Lf;!function(e){e[e.Idle=0]="Idle",e[e.CheckingResourcePacks=1]="CheckingResourcePacks",e[e.StartDownload=2]="StartDownload",e[e.DownloadingResourcePacks=3]="DownloadingResourcePacks",e[e.ActivateDownloadedPack=4]="ActivateDownloadedPack",e[e.WaitingForPrompt=5]="WaitingForPrompt"}(Lf||(Lf={}));const Rf=(0,t.sharedFacet)("vanilla.resourcePacks");let Df;!function(e){e[e.Default=0]="Default",e[e.List=1]="List",e[e.Grid=2]="Grid"}(Df||(Df={}));const _f=(0,t.sharedFacet)("vanilla.screenSpecificOptions"),Bf=(0,t.sharedFacet)("vanilla.screenshotGallery"),Wf=(0,t.sharedFacet)("vanilla.playerShowcasedGallery");let Uf,zf;!function(e){e.PlayScreen="/play",e.EditWorldScreen="/edit-world"}(Uf||(Uf={})),function(e){e[e.JsonUI=0]="JsonUI",e[e.OreUI=1]="OreUI"}(zf||(zf={}));const jf=(0,t.sharedFacet)("vanilla.screenTechStack"),Hf=(0,t.sharedFacet)("vanilla.seedTemplates"),Vf=(0,t.sharedFacet)("vanilla.share"),Gf=(0,t.sharedFacet)("vanilla.simulationDistanceOptions");let $f,Kf;!function(e){e[e.NotSet=0]="NotSet",e[e.NotUsedByEdu=1]="NotUsedByEdu",e[e.AccessControlData=2]="AccessControlData",e[e.CustomerContent=3]="CustomerContent",e[e.EUII=4]="EUII",e[e.SupportData=5]="SupportData",e[e.Feedback=6]="Feedback",e[e.AccountData=7]="AccountData",e[e.PublicPersonalData=8]="PublicPersonalData",e[e.EUPI=9]="EUPI",e[e.OII=10]="OII",e[e.SystemMetadata=11]="SystemMetadata",e[e.PublicNonPersonalData=12]="PublicNonPersonalData"}($f||($f={})),function(e){e[e.Increment=0]="Increment",e[e.Sum=1]="Sum",e[e.Min=2]="Min",e[e.Max=3]="Max",e[e.Average=4]="Average",e[e.Latest=5]="Latest"}(Kf||(Kf={}));const Xf=(0,t.sharedFacet)("vanilla.telemetry"),Yf=(0,t.sharedFacet)("vanilla.thirdPartyWorldList");let qf,Qf;!function(e){e[e.PlatformHasNoTrialOfferings=0]="PlatformHasNoTrialOfferings",e[e.UnknownGameStoreError=1]="UnknownGameStoreError"}(qf||(qf={})),function(e){e[e.FullGame=0]="FullGame",e[e.StarterCollection=1]="StarterCollection",e[e.MasterCollection=2]="MasterCollection"}(Qf||(Qf={}));const Jf=(0,t.sharedFacet)("vanilla.trialMode");let Zf,eg,tg,ag,ng,rg,lg,og,ig,cg,sg,ug,dg,mg;!function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary"}(Zf||(Zf={})),function(e){e.MINECRAFT="minecraft",e.XBL="xbl",e.ACHIEVEMENTS="achievements",e.MULTIPLAYER="multiplayer",e.SERVER="server",e.STORE="store",e.CREATIVE="creative",e.PACKS="packs",e.SEEDS="seeds"}(eg||(eg={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.SURVIVAL=0]="SURVIVAL",e[e.CREATIVE=1]="CREATIVE",e[e.ADVENTURE=2]="ADVENTURE"}(tg||(tg={})),function(e){e[e.ThirdParty=0]="ThirdParty",e[e.External=1]="External",e[e.Realm=2]="Realm"}(ag||(ag={})),function(e){e[e.Unavailable=0]="Unavailable",e[e.Low=1]="Low",e[e.Medium=2]="Medium",e[e.High=3]="High"}(ng||(ng={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"}(rg||(rg={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INTERNAL_ERROR=1]="INTERNAL_ERROR",e[e.FETCH_FAILED=2]="FETCH_FAILED"}(lg||(lg={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.INPUT_INVALID=1]="INPUT_INVALID",e[e.INTERNAL_ERROR=2]="INTERNAL_ERROR",e[e.UPLOAD_FAILED=3]="UPLOAD_FAILED"}(og||(og={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.FetchFailed=4]="FetchFailed",e[e.RateLimit=5]="RateLimit"}(ig||(ig={})),function(e){e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.InternalError=3]="InternalError",e[e.InputInvalid=4]="InputInvalid",e[e.Uploading=5]="Uploading",e[e.UploadFailed=6]="UploadFailed",e[e.PostingFailed=7]="PostingFailed",e[e.RateLimit=8]="RateLimit"}(cg||(cg={})),function(e){e[e.Success=0]="Success",e[e.XboxAPIError=1]="XboxAPIError"}(sg||(sg={})),function(e){e.Template="template",e.Regular="regular"}(ug||(ug={})),function(e){e[e.Visitor=0]="Visitor",e[e.Member=1]="Member",e[e.Operator=2]="Operator",e[e.Custom=3]="Custom"}(dg||(dg={})),function(e){e[e.Undefined=0]="Undefined",e[e.Requested=1]="Requested",e[e.Success=2]="Success",e[e.Failure=3]="Failure"}(mg||(mg={}));const pg=(0,t.sharedFacet)("vanilla.unpairedRealmsListFacet"),fg=(0,t.sharedSelector)((e=>{const t=[];for(let a=0;a<e.realms.length;a++)e.realms[a].world.isInitialized&&!e.realms[a].world.expired&&e.realms[a].isOwner&&t.push(e.realms[a].world);return t}),[pg]);let gg;!function(e){e[e.None=0]="None",e[e.Minecraft_Ban=1]="Minecraft_Ban",e[e.XboxLive=2]="XboxLive",e[e.XboxLive_Parental=4]="XboxLive_Parental",e[e.XboxLive_Ban=8]="XboxLive_Ban",e[e.Platform_PlayStation=16]="Platform_PlayStation",e[e.Platform_NintendoSwitch=32]="Platform_NintendoSwitch",e[e.GameVersion=64]="GameVersion",e[e.Unknown=128]="Unknown"}(gg||(gg={}));const Eg=(0,t.sharedFacet)("vanilla.userAccount"),hg=(0,t.sharedSelector)((e=>e.isTrialAccount),[Eg]);let bg;!function(e){e[e.NewWorldCreationFeedbackPage=0]="NewWorldCreationFeedbackPage",e[e.PlayScreenFeedbackPage=1]="PlayScreenFeedbackPage",e[e.EditWorldScreenFeedbackPage=2]="EditWorldScreenFeedbackPage",e[e.DeathScreenFeedbackPage=3]="DeathScreenFeedbackPage",e[e.RealmsSafetyPage=4]="RealmsSafetyPage",e[e.BannedHelpPage=6]="BannedHelpPage",e[e.ParentPermissionHelpPage=5]="ParentPermissionHelpPage",e[e.NintendoSwitchTechnicalSupportPage=7]="NintendoSwitchTechnicalSupportPage",e[e.BuyMinecraftStorePage=8]="BuyMinecraftStorePage",e[e.XboxPrivacyAndOnlineSafety=9]="XboxPrivacyAndOnlineSafety",e[e.XboxAccountProfile=10]="XboxAccountProfile",e[e.JoinRealmHelpPage=11]="JoinRealmHelpPage",e[e.FriendsDrawerFeedbackPage=12]="FriendsDrawerFeedbackPage",e[e.ServersTabFeedbackPage=13]="ServersTabFeedbackPage",e[e.PlayerFeedbackMain=14]="PlayerFeedbackMain",e[e.PlayerFeedbackIdeas=15]="PlayerFeedbackIdeas",e[e.ProfileFeedbackMain=16]="ProfileFeedbackMain",e[e.StartFromTemplateFeedbackPage=17]="StartFromTemplateFeedbackPage",e[e.RealmsTabFeedbackPage=18]="RealmsTabFeedbackPage",e[e.TermsAndServicePage=19]="TermsAndServicePage",e[e.PrivacyPolicyPage=20]="PrivacyPolicyPage",e[e.PreproductionRealmsGuide=21]="PreproductionRealmsGuide"}(bg||(bg={}));const vg=(0,t.sharedFacet)("vanilla.webBrowserFacet");let Fg;!function(e){e[e.Ok=0]="Ok",e[e.Unsupported=1]="Unsupported",e[e.WorldNotCloudStored=2]="WorldNotCloudStored",e[e.UnableToGetManifest=3]="UnableToGetManifest",e[e.UnableToSyncWorld=4]="UnableToSyncWorld"}(Fg||(Fg={}));const Sg=(0,t.sharedFacet)("vanilla.worldCloudSyncFacet");let yg,Cg,Mg;!function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnexpectedError=1]="UnexpectedError"}(yg||(yg={})),function(e){e[e.Legacy=0]="Legacy",e[e.Overworld=1]="Overworld",e[e.Flat=2]="Flat",e[e.Nether=3]="Nether",e[e.TheEnd=4]="TheEnd",e[e.Void=5]="Void",e[e.Undefined=6]="Undefined"}(Cg||(Cg={})),function(e){e[e.IncorrectWorldId=0]="IncorrectWorldId",e[e.UnableToCreateWorldDirectoryPath=1]="UnableToCreateWorldDirectoryPath",e[e.UnableToCreateResourcePackDirectoryPath=2]="UnableToCreateResourcePackDirectoryPath",e[e.UnableToCreateBehaviorDirectoryPath=3]="UnableToCreateBehaviorDirectoryPath",e[e.InsufficientDiskSpace=4]="InsufficientDiskSpace",e[e.UnknownError=5]="UnknownError"}(Mg||(Mg={}));const kg=(0,t.sharedFacet)("vanilla.worldEditor");let wg,Tg,xg,Ig,Pg,Og,Ng;!function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(wg||(wg={})),function(e){e[e.None=0]="None",e[e.ClearPlayerData=2]="ClearPlayerData",e[e.ForceHardcoreMode=4]="ForceHardcoreMode",e[e.All=-1]="All"}(Tg||(Tg={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.NeedToRemoveVRHeadset=2]="NeedToRemoveVRHeadset",e[e.NoFile=3]="NoFile",e[e.ZipError=4]="ZipError",e[e.PremiumContent=5]="PremiumContent",e[e.EditionMismatch=6]="EditionMismatch",e[e.EditorMismatch=7]="EditorMismatch",e[e.ZipDepthError=8]="ZipDepthError",e[e.UnknownError=9]="UnknownError",e[e.Cancelled=10]="Cancelled"}(xg||(xg={})),function(e){e[e.SkipLocalUser=0]="SkipLocalUser",e[e.IncludeLocalUser=1]="IncludeLocalUser"}(Ig||(Ig={})),function(e){e[e.Idle=0]="Idle",e[e.Setup=1]="Setup",e[e.SelectingFileDestination=2]="SelectingFileDestination",e[e.Exporting=3]="Exporting"}(Pg||(Pg={})),function(e){e[e.FailedToOpenDatabase=0]="FailedToOpenDatabase"}(Og||(Og={})),function(e){e[e.Ok=0]="Ok",e[e.InvalidLevel=1]="InvalidLevel"}(Ng||(Ng={}));const Ag=(0,t.sharedFacet)("vanilla.worldOperations");let Lg,Rg,Dg,_g;!function(e){e[e.None=0]="None",e[e.World=1]="World",e[e.WorldTemplate=2]="WorldTemplate",e[e.Resource=3]="Resource",e[e.Behavior=4]="Behavior",e[e.Skin=5]="Skin",e[e.ItemCollection=6]="ItemCollection"}(Lg||(Lg={})),function(e){e[e.Idle=0]="Idle",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Completed=3]="Completed"}(Rg||(Rg={})),function(e){e[e.InvalidContentType=0]="InvalidContentType",e[e.InvalidPackId=1]="InvalidPackId",e[e.InvalidWorldId=2]="InvalidWorldId",e[e.ContentTierIncompatible=3]="ContentTierIncompatible",e[e.ContentTierIncompatibleMemory=4]="ContentTierIncompatibleMemory",e[e.ContentTierIncompatibleRayTracing=5]="ContentTierIncompatibleRayTracing",e[e.PackDataWarning=6]="PackDataWarning",e[e.PackDependencyWarning=7]="PackDependencyWarning",e[e.PackSelectErrorNoStore=8]="PackSelectErrorNoStore",e[e.PackSelectErrorRequiredDependency=9]="PackSelectErrorRequiredDependency",e[e.NoPackAccess=10]="NoPackAccess",e[e.UnownedContent=11]="UnownedContent",e[e.NeedToDownloadPack=12]="NeedToDownloadPack",e[e.UnsupportedFileFormat=13]="UnsupportedFileFormat",e[e.IncompletePack=14]="IncompletePack",e[e.NoManifest=15]="NoManifest",e[e.MissingProperty=16]="MissingProperty",e[e.WrongTypeProperty=17]="WrongTypeProperty",e[e.EmptyProperty=18]="EmptyProperty",e[e.InvalidProperty=19]="InvalidProperty",e[e.MalformedPropertyUUID=20]="MalformedPropertyUUID",e[e.MalformedPropertyVERSION=21]="MalformedPropertyVERSION",e[e.DuplicateUUID=22]="DuplicateUUID",e[e.InvalidJSON=23]="InvalidJSON",e[e.MissingModules=24]="MissingModules",e[e.MultipleModules=25]="MultipleModules",e[e.UnsupportedFormatVersion=26]="UnsupportedFormatVersion",e[e.VersionTooHigh=27]="VersionTooHigh",e[e.VersionTooLow=28]="VersionTooLow",e[e.UnexpectedError=29]="UnexpectedError"}(Dg||(Dg={})),function(e){e[e.HasPendingOrActiveImports=0]="HasPendingOrActiveImports",e[e.HasUnownedPacks=1]="HasUnownedPacks",e[e.RealmsPlusEnded=2]="RealmsPlusEnded",e[e.MissingDlcDependencies=3]="MissingDlcDependencies",e[e.MissingDlcWorldTemplate=4]="MissingDlcWorldTemplate",e[e.NoInternet=5]="NoInternet",e[e.HasPerformanceIssues=6]="HasPerformanceIssues",e[e.NotEnoughDiskSpace=7]="NotEnoughDiskSpace",e[e.WifiRequiredYetNotAccessible=8]="WifiRequiredYetNotAccessible",e[e.MissingRequiredWorldTemplateRequestUserApproval=9]="MissingRequiredWorldTemplateRequestUserApproval",e[e.InvalidPack=10]="InvalidPack",e[e.InvalidWorld=11]="InvalidWorld",e[e.UnexpectedError=12]="UnexpectedError"}(_g||(_g={}));const Bg=(0,t.sharedFacet)("vanilla.worldPackages");let Wg,Ug;!function(e){e[e.Ok=0]="Ok",e[e.WorldNotInLevelList=1]="WorldNotInLevelList",e[e.StartupAlreadyInProgress=2]="StartupAlreadyInProgress",e[e.GameServerStarterNotReady=3]="GameServerStarterNotReady",e[e.MissingDlcDependencies=4]="MissingDlcDependencies",e[e.DlcMissingContentKey=5]="DlcMissingContentKey",e[e.UnknownError=6]="UnknownError"}(Wg||(Wg={})),function(e){e[e.Ok=0]="Ok",e[e.IncorrectWorldId=1]="IncorrectWorldId",e[e.InsufficientDiskSpace=2]="InsufficientDiskSpace",e[e.UnknownError=3]="UnknownError"}(Ug||(Ug={}));const zg=(0,t.sharedFacet)("vanilla.worldStartup");let jg;(0,t.sharedFacet)("vanilla.worldTemplateList"),function(e){e[e.Success=0]="Success",e[e.FailureUnknown=1]="FailureUnknown",e[e.FailureNoFile=2]="FailureNoFile",e[e.FailureZipError=3]="FailureZipError",e[e.FailurePremiumContent=4]="FailurePremiumContent",e[e.FailureEditionMismatch=5]="FailureEditionMismatch",e[e.FailureEditorMismatch=6]="FailureEditorMismatch",e[e.UnsupportedPlatform=7]="UnsupportedPlatform",e[e.AlreadyInProgress=8]="AlreadyInProgress",e[e.InterruptedByUser=9]="InterruptedByUser"}(jg||(jg={}));const Hg=(0,t.sharedFacet)("vanilla.worldTransfer"),Vg=(0,t.sharedFacet)("vanilla.featuredWorldTemplateList"),Gg=(0,t.sharedFacet)("vanilla.ownedWorldTemplateList");let $g,Kg,Xg;!function(e){e[e.Initialising=0]="Initialising",e[e.Downloading=1]="Downloading",e[e.Importing=2]="Importing",e[e.Success=3]="Success",e[e.Fail=4]="Fail"}($g||($g={})),function(e){e[e.UnknownFileType=0]="UnknownFileType",e[e.Duplicate=1]="Duplicate",e[e.MalformedZip=2]="MalformedZip",e[e.Default=3]="Default",e[e.Incompatible=4]="Incompatible",e[e.Cancelled=5]="Cancelled"}(Kg||(Kg={})),function(e){e[e.AlreadyDownloaded=0]="AlreadyDownloaded",e[e.DownloadAlreadyInProgress=1]="DownloadAlreadyInProgress",e[e.DownloadFailed=2]="DownloadFailed",e[e.ItemNotOwned=3]="ItemNotOwned",e[e.CancelledByUser=4]="CancelledByUser",e[e.InsufficientStorage=5]="InsufficientStorage"}(Xg||(Xg={}));const Yg=(0,t.sharedFacet)("vanilla.worldTemplateOperations");function qg({onClick:t,innerRef:a,children:n,role:r="neutral50"}){const l=Vn(r),o=lr()("mneRL",l.overlay.base);return null!=n?e.createElement("div",{onClick:t,className:o,ref:a},n):e.createElement("div",{onClick:t,className:o,ref:a})}function Qg({left:t,center:a,right:n,safeZone:r,innerRef:l,role:o="neutral20",showDropShadow:i=!0}){const c=Vn(o);return e.createElement(hn,{role:o},e.createElement("div",{className:lr()("KfhFh",c.background.base)},e.createElement("div",{style:{paddingTop:r&&r.top+"px",paddingRight:r&&r.right+"px",paddingLeft:r&&r.left+"px"}},e.createElement("div",{ref:l,className:"xCDda"},e.createElement("div",{className:"C0sd8"},t),e.createElement("div",{className:"S9tQ7"},a),e.createElement("div",{className:"m2lNR"},n)),e.createElement(Vi,{top:!1,right:!1,left:!1,role:o})),e.createElement("div",{className:lr()("V4fHo",c.shadow.base)}),i&&e.createElement("div",{className:lr()("twp35")},e.createElement(Vi,{effect:"bevel",role:o,top:!1,right:!1,left:!1}))))}const Jg=a.p+"assets/arrowBack-b77b1.png",Zg=a.p+"assets/arrowBackDisabled-df022.png";function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},eE.apply(this,arguments)}const tE=a=>{let{className:n,disabled:r}=a,l=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["className","disabled"]);const o=(0,t.useFacetWrap)(null!=r&&r),i=sc("WLynF",n);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(oc,eE({},l,{className:i,src:Zg,imageRendering:"pixelated"}))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement(oc,eE({},l,{className:i,src:Jg,imageRendering:"pixelated"}))))};function aE({onClick:t,disabled:a,role:n="inherit",hint:r="",light:l=!1}){const{t:o}=oi("BackButton"),i=$n(n);return e.createElement(Di,{narrationText:[o(".narrationGoBack"),o(".narrationComponentType"),r].join(" . "),gamepadIndex:0,inputLegend:o(".back"),onClick:t,disabled:a,soundEffectPressed:i.press,role:n,testId:"navigation-bar-layout-back-button"},l?e.createElement(dc,null):e.createElement(tE,null))}const nE=a.p+"assets/filter-93196.png",rE=a.p+"assets/hamburger-e678c.png",lE=a.p+"assets/debug-icon-1cb52.png",oE=a.p+"assets/Delete_Neutral20-71e3b.png",iE="eknQ4";function cE({children:t,collapsed:a=!1,floating:n=!1,onDismiss:r,align:l="left"}){const o=(0,e.useRef)(null),i=(0,e.useCallback)((e=>{e.stopPropagation()}),[]),c=e.createElement("div",{ref:o,onClick:i,className:lr()({[iE]:a,G1xD7:"left"===l,deJBY:"right"===l,sJUSR:"left"===l,d5YO7:"right"===l})},e.createElement(Yc,null,t));return n?e.createElement(e.Fragment,null,e.createElement("div",{className:lr()({b8Law:"right"===l,efBI4:"left"===l,[iE]:a})},c),!a&&e.createElement(qg,{onClick:r})):c}const sE=a.p+"assets/navbar-friends-icon-1-47df6.png",uE=a.p+"assets/navbar-friends-icon-2-09dfc.png",dE=a.p+"assets/navbar-friends-icon-3-bbd38.png",mE=Math.floor(10*Math.random()),pE=1===mE?dE:2===mE?uE:sE;function fE({children:a,collapsedLeftSidebar:n=!0,collapsedRightSidebar:r=!0,onToggleCollapsedLeftSidebar:l=gE,onToggleCollapsedRightSidebar:o=gE,innerRef:i,left:c,center:s,right:u,leftSidebar:d,rightSidebar:m,onBackButton:p,backButtonHint:f,backButtonDisabled:g,footer:E,narrationText:h,navigationBarRole:b,navigationBarShowDropShadow:v=!0,delegateByAlias:F,delegateFocusFromMemory:S,gamepadAlias:y,defaultFocusedChildBehavior:C,shouldNotDelegateToContent:M=!1}){const k=(0,t.useFacetMap)((e=>null!=e?e:""),[],[(0,t.useFacetWrap)(h)]),w=ul(),T=xo(),x=(0,e.useRef)(null),I=(0,e.useRef)(null),P=(0,e.useRef)(null),O=(0,e.useRef)(null),N=S||"remember"===C,{t:A}=oi("BackButton");return e.createElement(rs,{text:k},e.createElement(ac,{containerRef:i||P,delegateFocusFromMemory:!0,delegateFocusByAlias:M?void 0:y},p&&e.createElement(ts,{onClick:p,options:{button:W.B,inputLegend:A(".back")}}),e.createElement("div",{ref:i||P,className:"JAtEp"},e.createElement(ac,{containerRef:I,delegateFocusFromMemory:!0},e.createElement(Qg,{innerRef:I,left:e.createElement(e.Fragment,null,p&&e.createElement(fE.BackButton,{disabled:g,hint:f,onClick:p}),c,T&&null!=d&&e.createElement(fE.MenuButton,{selected:!n,onClick:l,gamepadIndex:0})),center:s,right:e.createElement(e.Fragment,null,u,null!=m&&e.createElement(e.Fragment,null,e.createElement(fE.MenuButton,{type:"filter",selected:!r,onClick:o,gamepadIndex:1}),e.createElement(Sc,{size:3}))),safeZone:w,role:b,showDropShadow:v})),e.createElement(ac,{containerRef:x,delegateFocusByAlias:F,delegateFocusFromMemory:N,alias:y},e.createElement("div",{ref:x,className:"jCHoJ"},e.createElement("div",{className:"LH19k",style:{left:w.left+"px",right:w.right+"px",bottom:w.bottom+"px"}},null!=d&&e.createElement(pr,{disabled:n&&T},e.createElement(cE,{align:"left",onDismiss:l,floating:T,collapsed:T&&n},d)),e.createElement(pr,{disabled:!n&&T&&Boolean(d)},a),null!=m&&e.createElement(pr,{disabled:r},e.createElement(cE,{align:"right",onDismiss:o,floating:T,collapsed:r},m))))),null!=E?e.createElement(ac,{containerRef:O},E):null)))}fE.displayName="NavigationBarLayout",fE.BackButton=function({onClick:a,disabled:n,showEmptySpaceWhenGamepad:r=!1,role:l="inherit",hint:o="",light:i=!1}){const c=(0,e.useContext)($e).isPointerSupported,s=Je(),u=(0,t.useFacetMap)(((e,t)=>e||!t),[],[c,s]),d=(0,t.useFacetMap)((e=>r&&!e),[r],[u]),{t:m}=oi("BackButton"),p=(0,t.useFacetMap)((e=>({button:W.B,inputLegend:m(".back"),disabled:e})),[m],[sd.useIsAnyModalVisible()]);return e.createElement(e.Fragment,null,e.createElement(as,{options:p,onClick:a}),e.createElement(t.Mount,{when:u},e.createElement(aE,{onClick:a,disabled:n,role:l,hint:o,light:i})),e.createElement(t.Mount,{when:d},e.createElement("div",{className:"QZTxX"})))},fE.MenuButton=function(t){const{onClick:a,selected:n,disabled:r,focusGridIndex:l,type:o="hamburger",role:i="inherit",narrationText:c}=t,{t:s}=oi("NavigationBarLayout.MenuButton");return e.createElement(e.Fragment,null,"hamburger"===o&&e.createElement(as,{options:{button:W.START,inputLegend:s(".inputLegend")},onClick:a}),e.createElement(Di,{disabled:r,focusGridIndex:l,inputLegend:s(".inputLegend"),narrationText:null!=c?c:s(".narration"),onClick:a,role:i,selected:n,testId:t["data-testid"]},e.createElement(oc,{className:"w6_7m",imageRendering:"pixelated",src:"filter"===o?nE:rE})))},fE.DeleteButton=function({onClick:t,disabled:a,focusGridIndex:n,role:r="inherit",narrationText:l}){const{t:o}=oi("NavigationBarLayout.DeleteButton");return e.createElement(Di,{disabled:a,focusGridIndex:n,inputLegend:o(".inputLegend"),narrationText:null!=l?l:o(".narration"),onClick:t,role:r},e.createElement(oc,{className:"BnqN5",imageRendering:"pixelated",src:oE}))},fE.FriendsButton=function({onClick:a,disabled:n,focusGridIndex:r,role:l="inherit",friendsOnline:o,displayAmountOfOnlineFriends:i,testId:c}){const{t:s}=oi("NavigationBarLayout.FriendsButton");return e.createElement(Di,{className:"r5Ne9",disabled:n,focusGridIndex:r,inputLegend:s(".inputLegend"),narrationText:s(".narration"),onClick:a,role:l,testId:c},e.createElement("div",{className:"s2NCr"},e.createElement(oc,{className:"GNMZ6",src:pE,imageRendering:"pixelated"}),e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(gs,{type:"body"},s(".friends"),e.createElement(t.Mount,{when:i},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),"(",e.createElement("fast-text",{text:o}),")"))))))},fE.DebugButton=function({onClick:t,selected:a,disabled:n,focusGridIndex:r,role:l="inherit",narrationText:o}){const{t:i}=oi("NavigationBarLayout.DebugButton");return e.createElement(e.Fragment,null,e.createElement(Di,{disabled:n,focusGridIndex:r,inputLegend:i(".inputLegend"),narrationText:null!=o?o:i(".narration"),onClick:t,role:l,selected:a},e.createElement(oc,{className:"QQfwv",imageRendering:"pixelated",src:lE})))},fE.Divider=function(){return e.createElement("div",{className:"JP2CP"},e.createElement(Vi,{effect:"bevel",right:!1,top:!1,bottom:!1,reversed:!0}),e.createElement(Vi,{effect:"specular",left:!1,top:!1,bottom:!1,reversed:!0}))};const gE=()=>{},EE={grid:"ntKoM",fullScreen:"zoAa3",fullScreenRow:"kM0Ch",fullScreenColumn:"UxM7T",gridGutters:"ff9nb",gridTablet:"U7wpy",gridNarrow:"QkM5F",row:"RdcBM",rowFullHeight:"RLVUP",centerContentVertically:"hMR_2",column:"HC8D1",size0:"QfUEI",size1:"Utxph",size2:"Dg54A",size3:"MMNOr",size4:"vkrmB",size5:"Vg8dV",size6:"prur7",size7:"PbjpE",size8:"KbazU",size9:"M3EqJ",size10:"sjbd3",size11:"Pp_FL",size12:"tylz3",sizeNarrow0:"ms6DS",sizeNarrow1:"JOyPB",sizeNarrow2:"LG4ow",sizeNarrow3:"jyNdx",sizeNarrow4:"fgAuI",sizeNarrow5:"lGz_T",sizeNarrow6:"drXOL",sizeNarrow7:"VDLgd",sizeNarrow8:"A06Gv"};function hE({children:t,narrowBreakpointWidth:a,noGutters:n=!1,centerContentVertically:r,maxWidth:l=bE,nonFullScreen:o=!1}){const i=To(a);return e.createElement("div",{className:lr()(EE.grid,{[EE.gridNarrow]:"narrow"===i,[EE.gridTablet]:"tablet"===i,[EE.gridGutters]:"desktop"===i||!n,[EE.centerContentVertically]:r,[EE.fullScreen]:!o})},e.createElement(vE.Provider,{value:l},t))}const bE=128,vE=(0,e.createContext)(bE);hE.displayName="Grid",hE.Column=t=>{const{wideSize:a,narrowSize:n,innerRef:r,ignoreFullScreenGrid:l}=t,o=lr()(EE[`size${a}`],EE[`sizeNarrow${n}`]),i=lr()(EE.column,o,{[EE.fullScreenColumn]:!l});return e.createElement("div",{ref:r,className:i},t.children)},hE.Row=function(a){const{children:n,fullHeight:r,className:l,innerRef:o,ignoreFullScreenGrid:i}=a,c=(0,t.useFacetMap)((e=>lr()(EE.row,e,{[EE.rowFullHeight]:r,[EE.fullScreenRow]:!i})),[r,i],[(0,t.useFacetWrap)(null!=l?l:"")]),s=(0,e.useContext)(vE);return e.createElement("fast-div",{ref:o,className:c,style:{maxWidth:`${s}rem`}},n)};function FE({item:a,autofocus:n,gamepadIndex:r,numberOfSiblings:l,horizontal:o,linebreak:i}){const{t:c}=oi("EmptyStateMessage"),s=(0,t.useFacetCallback)((e=>e.onClick),[],[a]),u=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.inputLegend)&&void 0!==t?t:c(".buttonSelectInputLegend")}),[c],[a]),d=(0,t.useFacetMap)((e=>e.text),[],[a]),m=(0,t.useFacetMap)((e=>e.imgSrc),[],[a]),p=(0,t.useFacetMap)((e=>r===e-1),[r],[l]),f=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>{var t;return null!==(t=e.variant)&&void 0!==t?t:"secondary"}),[],[a])),g=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.gamepadAlias),[],[a])),E=(0,t.useFacetUnwrap)(o),h=(0,t.useFacetUnwrap)(i),b=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.buttonTestId),[],[a]));return e.createElement(e.Fragment,null,e.createElement(ru,{linebreak:!0===h,horizontal:!0===E,delayedClick:!0,variant:f==t.NO_VALUE?"secondary":f,onClick:s,inputLegend:u,autofocus:n,gamepadAlias:g==t.NO_VALUE?void 0:g,gamepadIndex:r,imgSrc:m,"data-testid":b==t.NO_VALUE?void 0:b},d),e.createElement(t.Mount,{when:p,condition:!1},e.createElement(Sc,{size:3})))}function SE(a){const{buttons:n,autofocus:r}=a,l=To(),o=(0,t.useFacetMap)((e=>e.length),[],[n]),i=(0,t.useFacetMap)((e=>e>1),[],[o]),c=(0,t.useFacetMap)((e=>e<=2||e>2&&!("narrow"===l)),[l],[o]);return function(e,a){const n=be();(0,t.useFacetEffect)((e=>{if(!a)return;const t=e.find((e=>null==e?void 0:e.gamepadAlias));null!=(null==t?void 0:t.gamepadAlias)&&n(t.gamepadAlias)}),[a,n],[e])}(n,r),e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>1===e?"PIvFb":2===e?"JJ32W":"WDNdm"),[],[o])},e.createElement(t.Map,{array:n},((t,a)=>e.createElement(FE,{linebreak:c,horizontal:i,item:t,gamepadIndex:a,autofocus:r,numberOfSiblings:o})))))}function yE({gamepadIndex:a,title:n,text:r,imgSrc:l,imgClass:o,buttons:i,autofocus:c,borderless:s=!1,gamepadAlias:u,role:d="neutral80",hideSpacingAroundImage:m=!1}){const{t:p}=oi("EmptyStateMessage"),f=(0,t.useFacetWrap)(l),g=Vn(d),E=lr()("dST3K",g.background.base,g.border.base,{iBeh_:s}),h=(0,t.useFacetWrap)(null!=i?i:[]),b=(0,t.useFacetMap)((e=>null!=e&&e.length>0),[],[h]),v=(0,t.useFacetWrap)(null!=r?r:""),F=(0,t.useFacetWrap)(null!=n?n:""),S=(0,t.useFacetMap)(((e,t)=>`${e} . ${p(".narrationTextBlock")} . ${t}`),[p],[F,v]);return e.createElement(rs,{text:S},e.createElement(Li.Maybe,{isInteractive:(0,t.useFacetMap)((e=>!e),[],[b]),className:E,classNameFocused:vi,gamepadIndex:a,narrationText:!1,autofocus:c,gamepadAlias:u},e.createElement(bi,{inset:!0}),e.createElement(gs,{type:"secondaryButton",role:d,align:"center"},F),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>null!=e),[],[f])},e.createElement(e.Fragment,null,!m&&e.createElement(Sc,{size:4}),e.createElement(oc,{imageRendering:"pixelated",src:l,className:o}),!m&&e.createElement(Sc,{size:4}))),e.createElement(gs,{type:"captionShort",role:d,variant:"dimmest",align:"center"},v),e.createElement(t.Mount,{when:b},e.createElement(SE,{buttons:h,gamepadIndex:a,autofocus:c}))))}const CE="Asqnc",ME="z4iyJ",kE="Fb8kl";function wE({role:a="destructiveTint",children:n,overflowCount:r=99}){const l=Vn(a),o=null!=n,i=lr()(l.border.base,l.background.base,l.text.base,o?"Fp9K8":kE),c=(0,t.useFacetMap)((e=>e>r&&0!=r?`+${r}`:`${e}`),[r],[(0,t.useFacetWrap)(null!=n?n:0)]);return o?e.createElement("div",{className:i},e.createElement("div",{className:"RlfkW"},e.createElement(gs,{type:"body",role:a,align:"center"},c))):e.createElement("div",{className:i},e.createElement("div",{className:kE}))}const TE=(0,e.createContext)((()=>{}));function xE({children:a}){const[n,r]=(0,t.useFacetState)(!1);return e.createElement(TE.Provider,{value:r},a,e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>e?"hVSP2":""),[],[n])}))}const IE=(0,e.createContext)(null),PE=()=>(0,e.useContext)(IE),OE=(0,e.createContext)(null),NE=(0,e.createContext)(null),AE=(0,e.createContext)(null);function LE({children:a}){const n=Qe(),r=(0,e.useMemo)((()=>(0,t.createFacet)({initialValue:{}})),[]),l=(0,e.useMemo)((()=>(0,t.createFacet)({initialValue:{}})),[]),o=(0,t.useFacetMap)((e=>null!=RE(e)),[],[r]),i=(0,e.useContext)(TE);(0,t.useFacetEffect)(i,[i],[o]);const c=(0,t.useFacetCallback)(((e,a)=>n=>{const o=RE(e);null!=o&&"gamepad"==o.dragging&&(r.setWithCallback((e=>{const t="up"===n?-1:"down"===n?1:0,r=o.gamepadHoverIndex+t,l=function(e,t){if(null==e)return null;for(const a in e){const n=e[a];if(n.index===t)return n}}(a,o.index);for(const e in a){const t=a[e];if(t.index===r){var i;const e=null===(i=t.ref.current)||void 0===i?void 0:i.getBoundingClientRect();if(null==o.startX||null==o.startY){var c;const e=null==l||null===(c=l.ref.current)||void 0===c?void 0:c.getBoundingClientRect();var s,u;null!=e&&(o.startX=null!==(s=e.left)&&void 0!==s?s:0,o.startY=null!==(u=e.top)&&void 0!==u?u:0)}if(null==e)break;const a=r===o.index;o.gamepadHoverIndex=r,o.transform=a?"translate(0, 0)":`translate(${e.left-o.startX+o.gamepadDragXOffsetPx}px, ${e.top-o.startY+o.gamepadDragYOffsetPx}px)`;break}}return e})),l.setWithCallback((e=>{if(e!=t.NO_VALUE)for(const t in e){const a=e[t],n=o.index<a.index&&o.gamepadHoverIndex>=a.index,r=o.index>a.index&&o.gamepadHoverIndex<=a.index;a.displacement=n?-1:r?1:0,a.hovering=o.gamepadHoverIndex===a.index}return e})))}),[r,l],[r,l]),s=(0,t.useFacetCallback)(((e,a,n)=>o=>{const i=RE(e);if(!n&&null==o.touches)return;const{clientX:c,clientY:s}=n?o:o.touches[0],u=function(e,t,a){if(null==a)return null;let n=null,r=null;for(const l in a){const o=a[l];if(null==o.centerX||null==o.centerY)continue;const i=Math.hypot(e-o.centerX,t-o.centerY);(null==r||i<r)&&(r=i,n=o)}return n}(c,s,a);null!=i&&(r.setWithCallback((e=>{if(null!=i.startX&&null!=i.startY){var t;const e="y"===i.pointerAxisLock?0:c-i.startX,a="x"===i.pointerAxisLock?0:s-i.startY;i.transform=`translate(${e}px, ${a}px)`,i.pointerHoverIndex=null!==(t=null==u?void 0:u.index)&&void 0!==t?t:i.index,i.pointerHoverIndex!==(null==i?void 0:i.index)&&(i.hasDraggedPointerBeyondStartArea=!0)}return e})),l.setWithCallback((e=>{if(null!=u&&e!=t.NO_VALUE){for(const t in e){const a=e[t],n=i.index<a.index&&u.index>=a.index,r=i.index>a.index&&u.index<=a.index;a.displacement=n?-1:r?1:0,a.hovering=!1}u.hovering=!0}return e})))}),[r,l],[r,l,n]);(0,e.useEffect)((()=>{const e=()=>{let e;window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),r.setWithCallback((a=>{if(a!=t.NO_VALUE)for(const t in a){const n=a[t];0!=n.dragging&&(e=n.data),n.hasDraggedPointerBeyondStartArea=!1,n.dragging=!1,n.transform="",n.zIndex="",n.startX=null,n.startY=null}return a})),l.setWithCallback((a=>{if(a!=t.NO_VALUE)for(const t in a){const n=a[t];!0===n.hovering&&n.onDrop(e,n.data),n.displacement=null,n.hovering=!1}return a}))};return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e)}}),[s,r,l]);const u=(0,e.useContext)(Xe),d=(0,e.useMemo)((()=>({addDraggable:e=>{null!=e.id&&r.setWithCallback((a=>{var n,r;return a!=t.NO_VALUE&&(a[e.id]={id:e.id,gamepadHoverIndex:e.index,pointerHoverIndex:e.index,hasDraggedPointerBeyondStartArea:!1,ref:e.ref,data:e.data,index:e.index,dragging:!1,transform:"",zIndex:"",startX:null,startY:null,pointerAxisLock:e.pointerAxisLock,gamepadDragXOffsetPx:null!==(n=e.gamepadDragXOffsetPx)&&void 0!==n?n:0,gamepadDragYOffsetPx:null!==(r=e.gamepadDragYOffsetPx)&&void 0!==r?r:0}),a}))},removeDraggable:e=>{e&&r.setWithCallback((a=>(a!=t.NO_VALUE&&delete a[e],a)))},addDroppable:e=>{null!=e.id&&function e(a){var n;const r=null===(n=a.ref.current)||void 0===n?void 0:n.getBoundingClientRect();null==r||0===r.width&&0===r.height?requestAnimationFrame((()=>e(a))):requestAnimationFrame((()=>{l.setWithCallback((e=>(null==r||e==t.NO_VALUE||(e[a.id]={data:a.data,index:a.index,hovering:!1,centerX:r.left+r.width/2,centerY:r.top+r.height/2,left:r.left,top:r.top,displacement:null,ref:a.ref,onDrop:a.onDrop}),e)))}))}(e)},removeDroppable:e=>{l.setWithCallback((a=>(a!=t.NO_VALUE&&delete a[e],a)))},pointerDragStart:(e,a,n)=>{window.addEventListener("mousemove",s),window.addEventListener("touchmove",s),l.setWithCallback((a=>{if(a!=t.NO_VALUE){var n;null!=(null===(n=a[e])||void 0===n?void 0:n.hovering)&&(a[e].hovering=!0);for(const e in a){var r;if(null==a)break;const t=a[e],n=null===(r=t.ref.current)||void 0===r?void 0:r.getBoundingClientRect();null!=n&&(t.centerX=n.left+n.width/2,t.centerY=n.top+n.height/2,t.left=n.left,t.top=n.top,t.displacement=0)}}return a})),r.setWithCallback((r=>{if(r!=t.NO_VALUE){r[e].dragging="pointer";const t=r[e].ref.current,l=null==t?void 0:t.getBoundingClientRect();if(null==l)return r;const o=r[e].pointerAxisLock,i="y"===o?0:a-l.left,c="x"===o?0:n-l.top,s=c>l.height||i>l.width;r[e].transform=s?`translate(${i}px, ${c}px)`:"translate(0, 0)",r[e].zIndex=4,r[e].startX=s?a-i:a,r[e].startY=s?n-c:n}return r}))},focusDragStop:()=>{const e=r.get();if(e!=t.NO_VALUE){const t=RE(e);"gamepad"===(null==t?void 0:t.dragging)&&d.focusDragToggle(t.id)}},focusDragToggle:e=>{r.setWithCallback((a=>{if(a!=t.NO_VALUE){const n=a[e];0!=n.dragging?(window.removeEventListener("mousemove",d.focusDragStop),window.removeEventListener("touchstart",d.focusDragStop),n.dragging=!1,n.zIndex="",n.transform="",n.gamepadHoverIndex=n.index,l.setWithCallback((e=>{if(e!=t.NO_VALUE)for(const t in e){const a=e[t];!0===a.hovering&&a.onDrop(n.data,a.data),a.displacement=null,a.hovering=!1}return e}))):(u.get()===je.ARVR_None&&(window.addEventListener("mousemove",d.focusDragStop),window.addEventListener("touchstart",d.focusDragStop)),n.dragging="gamepad",n.zIndex=4,l.setWithCallback((a=>{if(a!=t.NO_VALUE){var n;null!=(null===(n=a[e])||void 0===n?void 0:n.hovering)&&(a[e].hovering=!0);for(const e in a)a[e].displacement=0}return a})))}return a}))},focusDragMove:c})),[s,c,r,l,u]);return e.createElement(IE.Provider,{value:d},e.createElement(AE.Provider,{value:l},e.createElement(NE.Provider,{value:r},e.createElement(OE.Provider,{value:o},a))))}function RE(e){for(const t in e)if(!1!==e[t].dragging)return e[t]}const DE=()=>(0,e.useContext)(OE);function _E({tabs:a,gamepadAliasNamespace:n,value:r,onChange:l,narrationTitle:o,enableGamepadShortcuts:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=oi("TabBar"),f=(0,e.useRef)(null),g=(0,t.useFacetWrap)(null!=i&&i),E=(0,t.useFacetWrap)(a),h=(0,t.useFacetMap)((e=>e.length),[],[E]),b=(0,t.useFacetWrap)(r),v=(0,t.useFacetMap)((e=>`${p(".narrationGroup",[e])}`),[p],[(0,t.useFacetWrap)(o)]),F=$n(d),S=wa(),y=(0,t.useFacetCallback)(((e,t)=>(a,n)=>{if(t===a)return;const r=null!=e?e:F.toggle;null!=r&&S(r),l(a,n)}),[l,F.toggle,S],[(0,t.useFacetWrap)(s),b]);return e.createElement(rs,{text:v},e.createElement("div",{ref:f,className:"skOQQ"},e.createElement(t.Map,{array:E},((t,a)=>e.createElement(WE,{gamepadAliasNamespace:n,key:`tab_${a}`,index:a,length:h,tab:t,selectedTab:b,onChange:y,onTabHoveredSoundEffect:c,isCondensed:u,badgeRole:m}))),e.createElement(t.Mount,{when:g},e.createElement(BE,{value:b,onChange:y,tabs:E}))))}const BE=function({value:a,tabs:n,onChange:r}){var l;const o=Je(),i=Ze(),c=(0,e.useContext)($e).isFocusInputAvailable,s=(0,t.useFacetWrap)(null!==(l=DE())&&void 0!==l&&l),u=(0,t.useFacetCallback)((e=>t=>e[t].value),[],[n]),d=(0,t.useFacetCallback)((e=>t=>e.findIndex((({value:e})=>e===t))),[],[n]),m=(0,t.useFacetMap)((e=>d(e)),[d],[a]),p=(0,t.useFacetCallback)((e=>()=>{const a=e-1;if(a>-1){const e=u(a);e!==t.NO_VALUE&&r(e,!0)}}),[u,r],[m]),f=(0,t.useFacetCallback)(((e,a)=>()=>{const n=a+1;if(n<e.length){const e=u(n);e!==t.NO_VALUE&&r(e,!0)}}),[u,r],[n,m]),g=sd.useIsAnyModalVisible(),E=(0,t.useFacetMap)(((e,t)=>({button:W.LEFT_BUMPER,disabled:e||t})),[],[g,s]),h=(0,t.useFacetMap)(((e,t)=>({button:W.RIGHT_BUMPER,disabled:e||t})),[],[g,s]),b=(0,t.useFacetMap)((e=>e?ME:"z4iyJ XlhDT"),[],[o]),v=(0,t.useFacetMap)((e=>e?ME:"z4iyJ XlhDT"),[],[i]);return e.createElement(t.Mount,{when:c},e.createElement(e.Fragment,null,e.createElement(as,{options:E,onClick:p}),e.createElement(as,{options:h,onClick:f}),e.createElement("fast-div",{className:b},e.createElement("div",{className:"kNiYk"},e.createElement(qu,{button:W.LEFT_BUMPER})),e.createElement("div",{className:"QmvqS"},e.createElement(qu,{button:W.RIGHT_BUMPER}))),e.createElement("fast-div",{className:v},e.createElement("div",{className:"UbMe_"},e.createElement(Qu,{keyCode:ue.KEY_Q})),e.createElement("div",{className:"psX5S"},e.createElement(Qu,{keyCode:ue.KEY_E})))))};function WE({gamepadAliasNamespace:a,selectedTab:n,onChange:r,index:l,length:o,tab:i,onTabHoveredSoundEffect:c,onTabPressedSoundEffect:s,isCondensed:u=!1,role:d="neutral",badgeRole:m}){const{t:p}=oi("TabBar"),{narrateText:f}=Xc(),g=Vn(d),E=Yn(),h=(0,t.useFacetMap)((e=>{var t;return null!==(t=e["data-testid"])&&void 0!==t?t:`tab-${e.value}`}),[],[i]),b=(0,t.useFacetMap)(((e,t)=>e===t.value),[],[n,i]),v=(0,t.useFacetMap)((e=>!e),[],[b]),F=(0,t.useFacetMap)(((e,t,a)=>[e.label,p(".narrationComponentType"),p(".selectedTab",[`${l+1}`,`${a}`]),p("."+(t?"selected":"notSelected")),e.hint].filter((e=>e)).join(" . ")),[l,p],[i,b,o]),S=(0,t.useFacetMap)((e=>lr()("vaqPZ",g.background.interactive,g.border.base,{zgD8j:u,[E.pressed]:e,[CE]:e})),[u,E,g],[b]),y=(0,t.useFacetCallback)((e=>()=>{f(p(".selected")),r(e.value,!1)}),[f,r,p],[i]),C=(0,t.useFacetMap)((e=>UE(a,e.value)),[a],[i]),M=(0,t.useFacetMap)((e=>!e&&p(".open")),[p],[b]),k=(0,t.useFacetUnwrap)((0,t.useFacetMap)(((t,a)=>t.icons&&e.createElement(e.Fragment,null,t.icons[a?"selected":"unselected"],e.createElement(Sc,{size:2}))),[],[i,b])),w=(0,t.useFacetMap)((e=>null!=e.badge),[],[i]),T=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.badge)&&void 0!==t?t:0}),[],[i]),x=(0,t.useFacetMap)((e=>lr()("vQ853",e?"SQhfM":null)),[],[w]),I=(0,t.useFacetMap)((e=>e.label),[],[i]);return e.createElement(Li,{className:S,classNameFocused:lr()("Fd_3e",vi),classNamePressed:CE,onClick:y,gamepadAlias:C,gamepadIndex:l,inputLegend:M,soundEffectHovered:c,soundEffectPressed:s,narrationText:F,"data-testid":h},e.createElement(bi,{role:d}),e.createElement("div",{className:"d2Oi5"},e.createElement(Vi,{role:d}),e.createElement("div",{className:"nYWhJ",style:{}},e.createElement("fast-div",{className:x},e.createElement(gs,{type:"body",role:d,verticalAlign:"center",disableable:b,interactive:v},k!==t.NO_VALUE&&null!=k&&k,e.createElement(Ns,null,I)),e.createElement(t.Mount,{when:w},e.createElement("div",{className:"Mnd0y"},e.createElement(Sc,{size:2}),e.createElement(wE,{role:m},T)))))),e.createElement("div",{className:lr()("y6Sow",g.shadow.base)}),e.createElement(t.Mount,{when:b},e.createElement("div",{className:lr()("osEZN",g.icon.base)})))}function UE(e,t){return`tab-bar-${e}-${t}`}_E.getFocusAlias=UE;var zE=a(32250),jE=a.n(zE);function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},HE.apply(this,arguments)}const VE={0:"",1:"d2TEJ",2:"Gj9RM",3:"E1oWY",4:"YWsa7",5:"dXAvF",6:"A1EfM",7:"CGJv2",8:"nKDxU"},GE={0:"",1:"KiCac",2:"xBfaL",3:"hekEJ",4:"cz2PX",5:"tLZ7Y",6:"aosJR",7:"OzmV0",8:"ywdmp"},$E={0:0,1:.4,2:.8,3:1.2,4:1.6,5:2,6:2.4,7:3.2,8:6.4};function KE(a){var n,r;const l=wo(a.rowSizeRem),o=wo($E[null!==(n=a.spacingSize)&&void 0!==n?n:0]),i=(0,t.useFacetMap)(((e,t)=>e+t),[],[l,o]),c=wo(null!==(r=a.headerSizeRem)&&void 0!==r?r:0);return e.createElement(qE,HE({},a,{containerRef:(0,e.useRef)(null),firstRowRef:(0,e.useRef)(null),headerRef:(0,e.useRef)(null),headerSize:c,firstRowSize:i,containerSize:(0,t.useFacetWrap)(a.containerSizePixels),forceRowHeight:!0}))}function XE(a){const[n,r]=(0,t.useFacetState)(0),l=(0,e.useRef)(null),o=(0,e.useCallback)((({height:e})=>r(e)),[r]);Eo(l,o);const[i,c]=(0,t.useFacetState)(0),s=(0,e.useRef)(null),u=(0,e.useCallback)((({height:e})=>c(e)),[c]);Eo(s,u);const[d,m]=(0,t.useFacetState)(0),p=(0,e.useRef)(null),f=(0,e.useCallback)((({height:e})=>m(e)),[m]);return Eo(p,f),e.createElement(qE,HE({},a,{containerRef:l,containerSize:n,firstRowRef:s,firstRowSize:i,headerRef:p,headerSize:d}))}const YE=(0,t.createStaticFacet)(0);function qE(a){const{loading:n,renderItem:r,data:l,columnCount:o,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,overflowCount:s,equalityCheck:u,footer:d,spacingSize:m=0,emptyMessage:p,containerSize:f,headerSize:g,firstRowSize:E,containerRef:h,headerRef:b,firstRowRef:v,header:F,__initialRowOffsetPX:S=YE,gamepadAlias:y,padSpinnerVertically:C,renderTracker:M,delegateFocusFromMemory:k,forceRowHeight:w}=a,[T,x]=(0,e.useState)(1),[I,P]=(0,t.useFacetState)(0),O=(0,t.useFacetMap)((e=>Math.ceil(e.length/o)),[o],[l]),N=(0,t.useFacetMap)((e=>e.length),[],[l]),A=(0,t.useFacetMap)((e=>e<=0),[],[N]),L=(0,t.useFacetMap)(((e,t,a)=>Math.ceil(e.length/o)*t+a),[o],[l,E,S]);return(0,t.useFacetEffect)(((e,t,a)=>{if(0===e||0===t)return;const n=Math.round(e/t)+2*s;x(a<n?a+2*s:n)}),[s],[f,E,O]),(0,t.useFacetLayoutEffect)(((e,t,a,n)=>{const r=h.current;if(null==r)return;let l,o;const i=()=>{const c=Math.min(r.scrollTop,n-r.offsetHeight);c!==l&&(P(Math.round((c-t+a)/e)-s),l=c),o=requestAnimationFrame(i)};return i(),()=>{cancelAnimationFrame(o)}}),[P,s,h],[E,g,S,L]),e.createElement(QE,{gamepadAlias:y,scrollRef:h,loading:n,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,delegateFocusFromMemory:k,padSpinnerVertically:C,renderTracker:M},null!=F?e.createElement("div",{ref:b},F):null,e.createElement(Yr,{data:A},(t=>t?e.createElement(e.Fragment,null,p):e.createElement("fast-div",{className:`${GE[m]} _QBY6`,style:{heightPX:L},"data-testid":"glv-container"},jE()((t=>e.createElement(eh,{key:t,data:l,dataLength:N,startRowIndex:I,relativeRowIndex:t,rowCount:O,columnCount:o,renderItem:r,rowHeight:E,visibleCount:T,equalityCheck:u,innerRef:0===t?v:void 0,headerSize:g,spacingSize:m,rowOffset:S,forceRowHeight:w})),T)))),d)}function QE({children:a,delegateFocusFromMemory:n=!0,focusGridIndex:r,gamepadAlias:l,loading:o,padSpinnerVertically:i,renderTracker:c,scrollIntoViewAlign:s,scrollIntoViewSpeedFactor:u,scrollRef:d,showSpinnerBorder:m,spinnerBackgroundColor:p}){const f=(0,t.useIsDeferring)(),g=(0,t.useIsPaused)(),E=(0,t.useFacetMap)(((e,t)=>t||e||g),[g],[f,(0,t.useFacetWrap)(null!=o&&o)]);return e.createElement(Yc,{delegateFocusFromMemory:n,focusGridIndex:r,gamepadAlias:l,innerRef:d,loading:E,padSpinnerVertically:i,renderTracker:c,showSpinnerBorder:m,spinnerBackgroundColor:p,scrollIntoViewAlign:s,scrollIntoViewSpeedFactor:u,shouldScrollWithAnalog:!1},a)}const JE=3;function ZE(a){const n=(0,t.useFacetWrap)(a.data),{columnCount:r,overflowCount:l=JE}=a,o=r<=0?1:r,i=l<0?0:l;return function(e){return null!=e.rowSizeRem}(a)?e.createElement(KE,HE({},a,{columnCount:o,overflowCount:i,data:n})):e.createElement(XE,HE({},a,{columnCount:o,overflowCount:i,data:n}))}function eh({data:a,dataLength:n,startRowIndex:r,relativeRowIndex:l,rowCount:o,columnCount:i,renderItem:c,rowHeight:s,visibleCount:u,equalityCheck:d,innerRef:m,spacingSize:p,rowOffset:f,forceRowHeight:g}){const E=(0,t.useFacetMemo)(((e,t)=>{const a=Math.floor((e+(u-1-l))/u)*u+l;return a<t&&a>=0?a:void 0}),[l,u],[r,o]),h=(0,t.useFacetMap)(((e,t,a)=>null==e?0:0==e?e*t:e*t+a),[],[E,s,f]),b=(0,t.useFacetMap)(((e,t,a)=>g?0===a?t+e:t:void 0),[g],[f,s,E]),v=(0,t.useFacetMap)((e=>null==e),[],[E]),F=(0,t.useFacetMap)((e=>e?"none":"flex"),[],[v]);return e.createElement(pr,{disabled:v,hidden:v},e.createElement("fast-div",{className:lr()("wKbAE",VE[p]),style:{topPX:h,display:F,heightPX:b},ref:m},jE()((t=>e.createElement(th,{dataLength:n,key:t,data:a,rowIndex:E,columnIndex:t,columnCount:i,equalityCheck:d,renderItem:c,spacingSize:p})),i)))}function th({data:a,dataLength:n,rowIndex:r,columnIndex:l,columnCount:o,renderItem:i,equalityCheck:c,spacingSize:s}){const u=(0,t.useFacetMap)((e=>null==e?t.NO_VALUE:e*o+l),[l,o],[r]),d=(0,t.useFacetMemo)(((e,a)=>null!=a[e]?a[e]:t.NO_VALUE),[],[u,a],c),m=(0,t.useFacetMap)(((e,a)=>null==e?t.NO_VALUE:null==a[e*o+l]),[l,o],[r,a]),p=(0,t.useFacetMap)((e=>null==e?t.NO_VALUE:e),[],[r]);return e.createElement(e.Fragment,null,i({item:d,index:u,rowIndex:p,columnIndex:l,isHidden:m,listLength:n}),l<o-1&&s>0?e.createElement(Sc,{size:s}):null)}const ah=({label:a="",role:n="neutral"})=>{const r=(0,t.useFacetWrap)(n),l=Vn();return e.createElement("fast-div",{className:"YimiS"},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()("uydZW",l[e].background.base,l[e].border.base,l[e].text.base)),[l],[r])},e.createElement(gs,{type:"captionShort",role:n},e.createElement("fast-text",{text:a}))),e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()("ZXwO7",l[e].background.base,l[e].border.base)),[l],[r])}))};function nh({data:a,renderItem:n,containerSizePixels:r,rowSizeInRem:l,gamepadAlias:o,loading:i,footer:c,padSpinnerVertically:s,delegateFocusFromMemory:u,renderTracker:d}){const m=(0,t.useFacetWrap)(a),p=(0,t.useFacetMap)((e=>{const t=[];for(let a=0;a<e.length;a++){const{data:n,narrationSuffix:r,narrationTitle:l}=e[a];e[a].data.length<=0||t.push({isHeader:!0,narrationSuffix:r,narrationTitle:l,role:e[a].role,sectionIndex:a,sectionLength:n.length,numberOfSections:e.length,sectionTitle:e[a].title},...n.map(((t,o)=>({isHeader:!1,data:t,localIndex:o,narrationSuffix:r,narrationTitle:l,sectionIndex:a,sectionLength:n.length,numberOfSections:e.length,sectionTitle:e[a].title}))))}return t}),[],[m]),f=wo(-(l-lh));return e.createElement(wi,{value:!1},e.createElement(ZE,{renderTracker:d,loading:i,gamepadAlias:o,footer:c,rowSizeRem:l,padSpinnerVertically:s,containerSizePixels:r,data:p,columnCount:1,__initialRowOffsetPX:f,renderItem:({item:t,index:a})=>e.createElement(rh,{itemData:t,index:a,renderItem:n}),delegateFocusFromMemory:u}))}function rh({itemData:a,renderItem:n}){const{t:r}=oi("SectionList"),l=(0,t.useFacetMemo)((e=>e.isHeader),[],[a]),o=(0,t.useFacetMemo)((e=>e.isHeader?"none":"flex"),[],[a]);return e.createElement(rs,{getText:(0,t.useFacetCallback)((e=>()=>{var t,a;return[r(".groupNarration",[null!==(t=e.narrationTitle)&&void 0!==t?t:e.sectionTitle,(e.sectionIndex+1).toString(),e.numberOfSections.toString()]),null!==(a=e.narrationSuffix)&&void 0!==a?a:""].filter(Boolean).join(" . ")}),[r],[a])},e.createElement(pr,{disabled:l,hidden:l},e.createElement(oh,{role:(0,t.useFacetMap)((e=>e.isHeader?e.role:t.NO_VALUE),[],[a]),title:(0,t.useFacetMap)((e=>e.isHeader?e.sectionTitle:t.NO_VALUE),[],[a]),show:l}),e.createElement("fast-div",{style:{display:o,flex:1}},e.createElement(e.Fragment,null,n(a)))))}const lh=4.4;function oh({title:a,show:n,role:r}){const l=(0,t.useFacetMap)((e=>e?"flex":"none"),[],[n]);return e.createElement("fast-div",{style:{display:l,flex:1,justifyContent:"flex-end",flexDirection:"column"}},e.createElement(ah,{label:a,role:r}))}const ih=a.p+"assets/progress-27e63.png",ch=a.p+"assets/gamerscore-81b0c.png",sh=a.p+"assets/clock-8ff67.png",uh=a.p+"assets/rewards-72c0a.png",dh=a.p+"assets/bottle0-9fb82.png",mh=a.p+"assets/bottle1-fdac9.png",ph=a.p+"assets/bottle2-ed155.png",fh=a.p+"assets/bottle3-05ed8.png",gh=a.p+"assets/bottle4-c082d.png",Eh=a.p+"assets/bottle5-4cb31.png",hh=a.p+"assets/bottle6-25895.png",bh=a.p+"assets/bottle7-e7197.png",vh=a.p+"assets/bottle8-d6d3f.png",Fh=a.p+"assets/bottle9-b40a8.png";function Sh({children:t,role:a="neutral80"}){const n=Vn(a);return e.createElement(hn,{role:a},e.createElement("div",{className:lr()("i2Nr0",n.background.base,n.border.base)},t))}Sh.Data=function({value:t,label:a,icon:n}){const r=Vn("inherit");return e.createElement("div",{className:lr()("dIbWH",r.background.base)},n,e.createElement("div",{className:"VHEDr"},e.createElement(gs,{type:"captionShort",variant:"dimmest"},a),e.createElement(gs,{type:"captionShort"},t)))},Sh.Divider=function(){const t=Vn("inherit");return e.createElement("div",{className:lr()("juifw",t.shadow.base)})};const yh=({status:a})=>e.createElement("fast-div",{className:(0,t.useFacetMap)((([e])=>lr()("NQGrD",{ejkbA:"exited"===e||"exiting"===e||"unmounted"===e})),[],[a])},e.createElement(Kc,null));Sh.displayName="Summary",Sh.SummarySpinner=({hidden:t})=>e.createElement(xc,{visible:!t,timeout:500},(t=>e.createElement(yh,{status:t})));const Ch="nC7ze",Mh="XOt1L";function kh(e){return 0===e?dh:2===Math.round(10*e)?ph:3===Math.round(10*e)?fh:4===Math.round(10*e)?gh:5===Math.round(10*e)?Eh:6===Math.round(10*e)?hh:7===Math.round(10*e)?bh:8===Math.round(10*e)?vh:9===Math.round(10*e)||10===Math.round(10*e)?Fh:mh}function wh({inProgress:t,achievementsUnlocked:a,achievementsTotal:n,rewardsUnlocked:r,rewardsTotal:l,gamerScore:o,gamerScoreTotal:i,hoursPlayed:c,gamepadIndex:s}){const{t:u}=oi("AchievementsSummary"),d=null!=l&&l>0,m=null!=r&&r>0,p=`${o}/${i}`,f=0===n?0:a/n,g=n&&a&&100*f>98?Math.floor(100*f):Math.ceil(100*f),E=Ia(),h=[u(".narratorTextBlock"),u(".narratorSummary"),u(".narratorIndex",["1","4"]),u(".narratorPercentage",[`${g}`]),u(".narratorCompletedAchievements",[`${a}`,`${n}`]),u(".narratorInProgress",[`${t}`]),m&&d?u(".narratorCompletedRewards",[`${r}`,`${l}`]):"",u(".narratorGamerscore",[`${o}`,`${i}`]),u(".narratorTimePlayed",[`${c}`])];return e.createElement(Li,{inputLegend:!1,className:"",autofocus:!0,classNameHovered:"",classNameFocused:vi,classNamePressed:"",disabled:!E,gamepadIndex:s,narrationText:h.join(" . "),onClick:()=>{}},e.createElement(bi,{withoutBorders:!0,disabled:!E}),e.createElement(Sh,null,e.createElement("div",{className:"xVp12"},e.createElement(Vi,{effect:"specular"}),e.createElement("div",{className:"KtzUL"},e.createElement(oc,{imageRendering:"pixelated",src:kh(f),className:"HJp4C"}),e.createElement(gs,{type:"header2",shadow:!0},g),e.createElement(gs,{type:"header3",shadow:!0},e.createElement("div",{className:"BH570"},"%"))),e.createElement("div",{className:"bJlOL"},e.createElement(gs,{type:"captionShort"},u(".percentage",[`${a}`,`${n}`])))),e.createElement(Sh.Divider,null),e.createElement(Sh.Data,{icon:e.createElement("div",{className:Mh},e.createElement(oc,{src:ih,imageRendering:"pixelated",className:Ch})),label:u(".progress"),value:t}),e.createElement(Sh.Divider,null),d&&e.createElement(e.Fragment,null,e.createElement(Sh.Data,{icon:e.createElement("div",{className:Mh},e.createElement(oc,{src:uh,imageRendering:"pixelated",className:Ch})),label:u(".rewards"),value:`${null!=r?r:0}/${l}`}),e.createElement(Sh.Divider,null)),e.createElement(Sh.Data,{icon:e.createElement("div",{className:Mh},e.createElement(oc,{src:ch,imageRendering:"pixelated",className:Ch})),label:u(".gamerscore"),value:p}),e.createElement(Sh.Divider,null),e.createElement(Sh.Data,{icon:e.createElement("div",{className:Mh},e.createElement(oc,{src:sh,imageRendering:"pixelated",className:Ch})),label:u(".time"),value:u(".hoursPlayed",[`${c}`])})))}wh.displayName="AchievementsSummary",wh.Loading=function({loading:t}){return e.createElement(Sh,null,e.createElement("div",{className:"knzR5"},e.createElement(Sh.SummarySpinner,{hidden:!t})))};const Th=(0,e.createContext)(!1);function xh({onClick:a,shortcut:n,inputLegend:r}){const l=(0,t.useFacetWrap)(r);return e.createElement(Ts,{options:(0,t.useFacetMap)((e=>({button:n,inputLegend:e})),[n],[l]),onClick:a})}const Ih="KFyBZ",Ph="zfW8v",Oh="CGp5V",Nh="Gqi8v",Ah="WdNXT";function Lh({children:a,direction:n="column",align:r="end",hide:l}){return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()(Ah,{[Ih]:"row"===n,[Nh]:"column"===n,[Ph]:"start"===r,[Oh]:"center"===r,SSMjh:e})),[r,n],[(0,t.useFacetWrap)(l)])},a)}const Rh=a.p+"assets/pingGreen-7f77c.png";function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Dh.apply(this,arguments)}const _h=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("V0B0o",a);return e.createElement(oc,Dh({},n,{className:r,src:Rh,imageRendering:"pixelated"}))},Bh=a.p+"assets/pingRed-9496c.png";function Wh(){return Wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Wh.apply(this,arguments)}const Uh=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("DeSbe",a);return e.createElement(oc,Wh({},n,{className:r,src:Bh,imageRendering:"pixelated"}))},zh=a.p+"assets/pingYellow-62e78.png";function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},jh.apply(this,arguments)}const Hh=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("HxqCq",a);return e.createElement(oc,jh({},n,{className:r,src:zh,imageRendering:"pixelated"}))},Vh={listItem:"YtiPa",tall:"sPd5G",small:"FA0TJ"};function Gh({tall:a=!1,small:n=!1,children:r,isFocusable:l=!1,narrationText:o,gamepadAlias:i,focusGridIndex:c,innerRef:s,role:u="neutral80",disableDeferredMount:d=!1}){const m=Vn(u),p=(0,t.useFacetWrap)(null!=o&&o);return e.createElement(Th.Provider,{value:a},e.createElement(hn,{role:u},e.createElement(Li.Maybe,{isInteractive:l,gamepadAlias:i,className:lr()(Vh.listItem,m.border.base,m.text.base,m.background.base,{[Vh.tall]:a,[Vh.small]:n,[Vh.inert]:l}),innerRef:s,classNameFocused:vi,focusGridIndex:c,inputLegend:!1,narrationText:p},d?e.createElement(e.Fragment,null,e.createElement(e.Fragment,null,l&&e.createElement(bi,null),r)):e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,l&&e.createElement(bi,null),r)))))}Gh.Action=function({autofocus:a,children:n,onClick:r,inputLegend:l,narrationText:o,gamepadAlias:i,soundEffectPressed:c,onFocusChanged:s,onHoverChanged:u,gamepadIndex:d=0,role:m="neutral",disabled:p,className:f}){const g=(0,t.useFacetMap)((e=>!0===e),[],[(0,t.useFacetWrap)(p)]),E=(0,t.useFacetWrap)(c),h=(0,t.useFacetWrap)(l),b=$n(m),v=Vn(m),F=(0,t.useFacetMap)(((e,t)=>!t&&e),[],[h,g]),S=(0,t.useFacetMap)((e=>{var t;return lr()("XJnhR",{[null!==(t=v.background.interactive)&&void 0!==t?t:""]:!e},v.text.base,{_UAdw:e},f)}),[v,f],[g]),y=(0,t.useFacetMap)(((e,t)=>t?void 0:null!=e?e:b.press),[b],[E,g]),C=(0,t.useFacetCallback)((e=>()=>{e||r()}),[r],[g]);return e.createElement(hn,{role:m},e.createElement(Li,{autofocus:a,gamepadAlias:i,className:S,classNameFocused:vi,gamepadIndex:d,inputLegend:F,narrationText:o,onClick:C,onFocusChanged:s,onHoverChanged:u,soundEffectPressed:y},e.createElement(bi,null),e.createElement(Vi,{effect:"bevel",hide:g}),n))},Gh.AdditionalAction=function({children:a,onClick:n,onGamepadClick:r,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,shortcut:u,inputLegend:d,narrationText:m,gamepadAlias:p,hidden:f=!1,fitContent:g=!1,extraWide:E=!1,gamepadIndex:h=0,innerRef:b,touchDetectionDelay:v,soundEffectPressed:F,role:S="neutral",isSelected:y=!1,testId:C}){const M=(0,t.useFacetWrap)(f),k=(0,e.useContext)(Th),w=Vn(S),T=$n(S),x=Yn();return e.createElement(t.Mount,{when:M,condition:!1},e.createElement(hn,{role:S},null!=u&&e.createElement(xh,{onClick:n,shortcut:u,inputLegend:d}),e.createElement(Li,{className:lr()("TxpPs",w.background.interactive,{zNQoR:g,hxjUN:k,CE24O:E,[x.selected]:y}),touchDetectionDelay:v,soundEffectPressed:null!=F?F:T.press,classNameFocused:vi,gamepadIndex:h,gamepadAlias:p,inputLegend:d,onClick:n,onGamepadOrKeyboardSelect:r,onUp:l,onDown:o,onLeft:i,onRight:c,onMouseDown:s,narrationText:m,innerRef:b,"data-testid":C},e.createElement(bi,null),e.createElement(Vi,{effect:"bevel"}),a)))},Gh.Main=function({children:t}){return e.createElement("div",{className:"Mmtqs"},t)},Gh.Cell=function({children:t,direction:a="column",align:n="end",hide:r}){return null!=r?e.createElement(Lh,{children:t,direction:a,align:n,hide:r}):e.createElement("div",{className:lr()(Ah,{[Ih]:"row"===a,[Nh]:"column"===a,[Ph]:"start"===n,[Oh]:"center"===n})},t)},Gh.Icon=function({iconType:t,typographyType:a,role:n="inherit",text:r}){const l=(t=>{switch(t){case"green":return e.createElement(_h,null);case"red":return e.createElement(Uh,null);case"yellow":return e.createElement(Hh,null)}})(t);return e.createElement("div",{className:"mUN2d"},e.createElement(gs,{type:a,role:n,variant:"dimmer"},r),l)};const $h="tdDq6",Kh=a.p+"assets/locked-b7e1e.png",Xh=a.p+"assets/gamerscore_icon-53b10.png",Yh=a.p+"assets/greyframe-dd39b.png",qh=a.p+"assets/unlockedFrame-f9ecc.png",Qh=a.p+"assets/placeholder-30ebc.png",Jh=a.p+"assets/placeholderReward-5e651.png";function Zh({item:t,gamepadAlias:a,onClick:n,index:r,listLength:l,disabled:o}){return e.createElement(Gh,{gamepadIndex:r},e.createElement(eb,{item:t,gamepadAlias:a,onClick:n,index:r,listLength:l,disabled:o}))}const eb=({autofocus:a,item:n,gamepadAlias:r,onClick:l,index:o,listLength:i,disabled:c})=>{const{t:s}=oi("AchievementListItem"),u=Rd(Hd);return e.createElement(Gh.Action,{narrationText:(0,t.useFacetMap)(((e,t,a)=>[e.name,s(".siblingNarration",[`${t+1}`,`${a}`]),0!==e.progress&&e.progress>0&&e.progress<1?s(".percentageNarration",[`${Math.round(100*e.progress)}`]):"",s(".gamerscoreNarration",[`${e.gamerScore}`]),u&&e.hasReward?e.isLocked?s(".rewardLockedNarration"):s(".rewardUnlockedNarration"):"",e.description].join(" . ")),[s,u],[n,(0,t.useFacetWrap)(o),i]),inputLegend:s(".view"),onClick:l,gamepadAlias:r,autofocus:a,disabled:c},e.createElement(Gh.Cell,{direction:"row"},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()($h,{YsHy2:e.isLocked})),[],[n])},e.createElement(oc,{className:"Wz_PE",imageRendering:"pixelated",src:(0,t.useFacetMap)((e=>e.isLocked?Yh:qh),[],[n])}),e.createElement(oc,{className:$h,imageRendering:"pixelated",src:(0,t.useFacetMap)((e=>{var t;return null!==(t=e.image)&&void 0!==t?t:Qh}),[],[n])}))),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,(0,t.useFacetMap)((e=>e.name),[],[n]))),e.createElement(gs,{type:"captionShort",variant:"dimmer"},e.createElement(Ns,null,(0,t.useFacetMap)((e=>e.description),[],[n]))),e.createElement(tb,{when:(0,t.useFacetMap)((e=>!!e.progress&&1!==e.progress),[],[n])},e.createElement(Sc,{size:1}),e.createElement(Eu,{percentage:(0,t.useFacetMap)((e=>e.progress),[],[n])}))),e.createElement(Gh.Cell,{direction:"row",hide:(0,t.useFacetMap)((e=>!e.gamerScore),[],[n])},e.createElement("div",{className:"RRHee"},e.createElement(oc,{className:"qMjzA",src:Xh,imageRendering:"pixelated"}),e.createElement(gs,{type:"captionShort",variant:"dimmer"},(0,t.useFacetMap)((e=>e.gamerScore),[],[n]))),e.createElement(Sc,{size:2})),e.createElement(Gh.Cell,{direction:"row",hide:(0,t.useFacetMap)((e=>!(u&&!0===e.hasReward)),[u],[n])},e.createElement("div",{className:"cy_7D"},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>e.isLocked?"tAQd5":"B60cn"),[],[n])},e.createElement(tb,{when:(0,t.useFacetMap)((e=>e.isLocked),[],[n]),className:"oxSx1"},e.createElement(oc,{className:"Wi8gq",imageRendering:"pixelated",src:Kh}),e.createElement("div",{className:"HK9NP"})),e.createElement(oc,{className:"wfNbX",src:(0,t.useFacetMap)((e=>{var t;return null!==(t=e.rewardImage)&&void 0!==t?t:Jh}),[],[n])})))))};function tb({when:a,children:n,className:r}){return e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()(r,e?null:"sLKKx")),[r],[a])},n)}const ab=({text:e,interruptible:a=!0})=>{const n=Ti(e),{narrateById:r}=Mi();return(0,t.useFacetEffect)((()=>{r(n,a)}),[r,n,a],[(0,t.useFacetWrap)(e)]),null};function nb({component:a,tab:n}){const r=d(),l=(0,t.useFacetMap)((e=>e.tab===n),[n],[m()]),o=(0,t.useFacetMap)(((e,t)=>t&&e),[],[r,l]),i=(0,t.useFacetMap)((e=>!e),[],[o]),c=(0,e.useRef)(!1),s=(0,t.useFacetMemo)((e=>(c.current=c.current||e,c.current)),[],[o]);return e.createElement(t.Mount,{when:s},e.createElement(x,{value:l},e.createElement(pr,{disabled:i},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()("Dnjyy",{UHzR8:!e})),[],[l])},e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(a,null)))))}const rb=()=>{const a=(0,e.useRef)(null),n=(0,e.useRef)(null),r=(0,e.useRef)(null),{t:l}=oi("Achievements"),o=u(),i=Ad((0,t.useSharedFacet)(Yd),1e4),c=Ad((0,t.useSharedFacet)(Yd),1500),s=(0,t.useFacetMap)(((e,t,a,n)=>e?"not-available":t&&!n?"loading-failed":a&&!n?"loading-slow":"achievements"),[],[(0,t.useSharedFacet)(pm),i,c,(0,t.useSharedFacet)(Yd)]),d=zd({wide:8,narrow:6,width:260}),m=(0,t.useFacetMap)((e=>e?"jmQqX":"LjQbU"),[],[d]),p=(0,t.useFacetMap)((e=>e?"oXeAA":"r1UvO"),[],[d]);return e.createElement(qg,{innerRef:a},e.createElement(rs,{text:l(".narration.title")},e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>"loading-slow"===e),[],[s])},e.createElement(ab,{text:l(".narration.loadingMessage")})),e.createElement(fE,{onBackButton:o.goBack,center:e.createElement(gs,{type:"header5A"},l(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-layout-content",delegateByAlias:"achievments-wrapper"},e.createElement(hE,null,e.createElement(ac,{containerRef:n,alias:"achievments-wrapper",delegateFocusFromMemory:!0,delegateFocusByAlias:"achievements-content-wrapper"},e.createElement(hE.Row,{innerRef:n,gamepadIndex:0,fullHeight:!0},e.createElement(Yr,{data:s},(t=>{switch(t){case"not-available":return e.createElement(e.Fragment,null,e.createElement(hE.Column,{wideSize:2,narrowSize:1}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},e.createElement(Sc,{size:6}),e.createElement(yE,{imgClass:m,autofocus:!0,gamepadAlias:"ach-not-available-empty-state",imgSrc:Wd,gamepadIndex:0,title:l(".notAvailableMessageTitle"),text:l(".notAvailableMessage")}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0})));case"loading-failed":return e.createElement(e.Fragment,null,e.createElement(hE.Column,{wideSize:2,narrowSize:1}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},e.createElement(Sc,{size:6}),e.createElement(yE,{imgClass:p,autofocus:!0,gamepadAlias:"ach-load-error-empty-state",imgSrc:Bd,gamepadIndex:0,title:l(".errorMessageTitle"),text:l(".errorMessage")}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0})));default:return e.createElement(e.Fragment,null,e.createElement(hE.Column,{wideSize:3,narrowSize:3},e.createElement(Sc,{size:2}),e.createElement(db,null)),e.createElement(hE.Column,{wideSize:9,narrowSize:5},e.createElement(Sc,{size:2}),e.createElement(lb,null),e.createElement(ac,{alias:"achievements-content-wrapper",containerRef:r},e.createElement("div",{style:{flex:"1"},ref:r},e.createElement(nb,{tab:void 0,component:cb}),e.createElement(nb,{tab:"locked",component:sb}),e.createElement(nb,{tab:"completed",component:ub})))))}}))))))))},lb=()=>{const{t:a}=oi("Achievements"),n=u(),r=m(),l=(0,t.useFacetMap)((e=>e.tab?e.tab:"all"),[],[r]),o=[{label:a(".all"),value:"all"},{label:a(".locked"),value:"locked"},{label:a(".completed"),value:"completed"}];return e.createElement(_E,{gamepadAliasNamespace:"achievement-screen",gamepadIndex:0,value:l,onChange:e=>{n.replace(`/achievements/${"all"!==e?e:""}`)},tabs:o,enableGamepadShortcuts:!0,narrationTitle:a(".narration.title")})},ob=(0,e.createContext)(null),ib=()=>(0,e.useContext)(ob),cb=()=>{const{t:a}=oi("Achievements"),n=a(".narration.tab",[a(".all"),"2","4"])+" . "+a(".narration.selected"),r=(0,e.useRef)(null),[l,o]=(0,t.useFacetState)(0),i=(0,e.useCallback)((({height:e})=>o(e)),[o]);Eo(r,i);const c=ib();return e.createElement(rs,{text:n},e.createElement(ac,{containerRef:r,alias:"all-tab-wrapper",delegateFocusByAlias:"all-tab-content"},e.createElement("div",{style:{flex:"1"},ref:r},e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(nh,{rowSizeInRem:7,gamepadAlias:"all-tab-content",loading:(0,t.useFacetMap)((e=>!e),[],[(0,t.useSharedFacet)(Yd)]),containerSizePixels:null!=c?c:l,data:(0,t.useFacetMap)((e=>[{role:"informativeTint",title:a(".inProgress"),data:e.inProgress},{role:"secondary",title:a(".locked"),data:e.locked},{role:"successTint",title:a(".completed"),data:e.completed}]),[a],[(0,t.useSharedFacet)($d)]),footer:e.createElement(e.Fragment,null,e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})}),e.createElement(Sc,{size:1})),renderItem:t=>e.createElement(mb,{item:t}),renderTracker:t=>e.createElement(Ld,{type:"meaningful",renderingCompleted:t}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},sb=()=>{const{t:a}=oi("Achievements"),n=a(".narration.tab",[a(".locked"),"3","4"])+" . "+a(".narration.selected"),r=(0,e.useRef)(null),[l,o]=(0,t.useFacetState)(0),i=(0,e.useCallback)((({height:e})=>o(e)),[o]);Eo(r,i);const c=ib(),s=Io();return e.createElement(rs,{text:n},e.createElement(ac,{containerRef:r,alias:"locked-tab-wrapper",delegateFocusByAlias:"locked-tab-content"},e.createElement("div",{style:{flex:"1"},ref:r},e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(ZE,{rowSizeRem:7,headerSizeRem:.8,header:e.createElement(Sc,{size:2}),containerSizePixels:null!=c?c:l,columnCount:1,loading:(0,t.useFacetMap)((e=>!e),[],[(0,t.useSharedFacet)(Yd)]),gamepadAlias:"locked-tab-content",emptyMessage:e.createElement(yE,{imgClass:(0,t.useFacetMap)((e=>e?"gfcZy":"rXfHS"),[],[s]),autofocus:!0,gamepadAlias:"ach-locked-empty-state",imgSrc:(0,t.useFacetMap)((e=>0===e.length?Dd:void 0),[],[(0,t.useSharedFacet)(Kd)]),gamepadIndex:0,title:a(".lockedEmptyTitle"),text:a(".lockedEmptyText")}),data:(0,t.useSharedFacet)(Kd),footer:e.createElement(e.Fragment,null,e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})}),e.createElement(Sc,{size:1})),renderItem:({item:t,index:a,listLength:n})=>e.createElement(pb,{item:t,index:a,listLength:n}),renderTracker:t=>e.createElement(Ld,{type:"meaningful",renderingCompleted:t}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},ub=()=>{const{t:a}=oi("Achievements"),n=a(".narration.tab",[a(".completed"),"4","4"])+" . "+a(".narration.selected"),r=(0,e.useRef)(null),[l,o]=(0,t.useFacetState)(0),i=(0,e.useCallback)((({height:e})=>o(e)),[o]);Eo(r,i);const c=ib(),s=Io();return e.createElement(rs,{text:n},e.createElement(ac,{containerRef:r,alias:"completed-tab-wrapper",delegateFocusByAlias:"completed-tab-content"},e.createElement("div",{style:{flex:"1"},ref:r},e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(ZE,{columnCount:1,header:e.createElement(Sc,{size:2}),headerSizeRem:.8,containerSizePixels:null!=c?c:l,rowSizeRem:7,loading:(0,t.useFacetMap)((e=>!e),[],[(0,t.useSharedFacet)(Yd)]),gamepadAlias:"completed-tab-content",emptyMessage:e.createElement(yE,{imgClass:(0,t.useFacetMap)((e=>e?"mueN0":"mEB2O"),[],[s]),autofocus:!0,gamepadAlias:"ach-completed-empty-state",imgSrc:(0,t.useFacetMap)((e=>0===e.length?_d:void 0),[],[(0,t.useSharedFacet)(Xd)]),gamepadIndex:0,title:a(".completedEmptyTitle"),text:a(".completedEmptyText")}),data:(0,t.useSharedFacet)(Xd),footer:e.createElement(e.Fragment,null,e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})}),e.createElement(Sc,{size:1})),renderItem:({item:t,index:a,listLength:n})=>e.createElement(pb,{item:t,index:a,listLength:n}),renderTracker:t=>e.createElement(Ld,{type:"meaningful",renderingCompleted:t}),padSpinnerVertically:!0,delegateFocusFromMemory:!0}))))},db=()=>{const a=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(Qd)),n=Rd(Hd);return a===t.NO_VALUE?null:a.loaded?e.createElement(wh,{gamepadIndex:0,inProgress:a.inProgressCount,achievementsUnlocked:a.unlocked,achievementsTotal:a.total,rewardsTotal:n?a.rewardsTotal:0,rewardsUnlocked:n?a.rewardsUnlocked:void 0,gamerScore:a.gamerScore,gamerScoreTotal:a.maxGamerScore,hoursPlayed:a.hoursPlayed}):e.createElement(wh.Loading,{loading:!a.loaded})},mb=({item:a})=>{const n=u(),r=(0,t.useFacetMap)((e=>e.isHeader?t.NO_VALUE:e),[],[a]),l=(0,t.useFacetMap)((e=>e.data),[],[r]),o=(0,t.useFacetMap)((e=>e.localIndex),[],[r]),i=(0,t.useFacetMap)((e=>e.sectionLength),[],[r]);return e.createElement(Zh,{item:l,onClick:(0,t.useFacetCallback)((e=>()=>{n.push(`/achievement-detail/${e.id}`)}),[n],[l]),index:o,listLength:i})},pb=({item:a,index:n,listLength:r})=>{const l=u();return e.createElement(Zh,{item:a,onClick:(0,t.useFacetCallback)((e=>()=>{l.push(`/achievement-detail/${e.id}`)}),[l],[a]),index:n,listLength:r})},fb=(e,t)=>Math.round(e*t),gb="TKfnq",Eb=a.p+"assets/locked-b7e1e.png",hb=a.p+"assets/checkIcon-bcfbf.png";function bb({children:t,variant:a,date:n}){const{f:r}=oi("Window"),l="completed"===a?"success":"neutral60",o=Vn(l);return e.createElement("div",{className:lr()("P3s5b",o.background.base)},e.createElement(Vi,{effect:"specular"}),e.createElement(oc,{imageRendering:"pixelated",className:lr()({kLdrM:"locked"===a,X2i3D:"completed"===a}),src:"locked"===a?Eb:hb}),e.createElement(gs,{type:"captionShort",role:l},t),"completed"===a&&null!=n&&e.createElement("div",{className:"PoM_H"},e.createElement(gs,{type:"captionShort",role:l},r.formatDate(n))))}function vb({children:t,variant:a="locked",title:n,date:r,loading:l}){const o=Vn("neutral80");return l?e.createElement("div",{className:lr()("dDMcJ",o.border.base)},e.createElement(Fb,{className:o.overlay.base})):e.createElement("div",{className:lr()("xHU3n",o.background.base,o.border.base)},e.createElement(bb,{date:r,variant:a},n),t)}const Fb=({className:t})=>e.createElement("div",{className:lr()("xzfzB",t)},e.createElement(Kc,null)),Sb="VTr_m";function yb({children:t,role:a="neutral100"}){return e.createElement(hn,{role:a},e.createElement("div",{className:"hy23n"},t))}yb.Pair=function({label:t,value:a,icon:n}){const r=Vn("inherit");return e.createElement("div",{className:lr()(Sb,r.background.base)},e.createElement(gs,{type:"captionShort",variant:"dimmer"},t),e.createElement(gs,{type:"captionShort",variant:"dimmer"},n,a))},yb.Progress=function({label:t,value:a,total:n}){const{t:r}=oi("DescriptionList"),l=Vn("inherit");return e.createElement("div",{className:lr()("ptFWK",l.background.base)},e.createElement("div",{className:lr()(Sb)},e.createElement(gs,{type:"captionShort",variant:"dimmer"},null!=t?t:r(".progressLabel")),e.createElement(gs,{type:"captionShort",variant:"dimmer"},a,"/",n)),e.createElement("div",{className:"I0mfv"},e.createElement(Eu,{tall:!0,percentage:a/n}),e.createElement(Sc,{size:2})))},yb.displayName="DescriptionList";const Cb=a.p+"assets/gamerscore_icon-53b10.png",Mb=a.p+"assets/greyframe-dd39b.png",kb=a.p+"assets/unlockedBorder-2f13b.png",wb=a.p+"assets/placeholder-30ebc.png";function Tb({title:t,description:a="",image:n,gamerscore:r=0,progress:l=0,autofocus:o=!1,progressTarget:i=0,isLocked:c,dateUnlocked:s=0,loading:u,completedOnAnotherPlatform:d,gamepadIndex:m}){const{t:p}=oi("AchievementDetails"),f=Ia();return e.createElement(Li,{inputLegend:!1,className:"",classNameHovered:"",classNameFocused:vi,classNamePressed:"",disabled:!f,autofocus:f&&o,gamepadIndex:m,narrationText:!1,onClick:()=>{}},e.createElement(bi,{withoutBorders:!0,disabled:!f}),e.createElement(vb,{loading:u,title:p(c?".locked":".completed"),variant:c?"locked":"completed",date:s},e.createElement(hn,{role:"neutral"},e.createElement("div",{className:"akZA4"},e.createElement(Vi,{effect:"specular"}),e.createElement(Sc,{size:5}),e.createElement("div",{className:lr()("n2uci",{sgJds:c})},e.createElement(oc,{className:lr()(gb,"ERib5"),imageRendering:"pixelated",src:c?Mb:kb}),e.createElement(oc,{className:lr()(gb),imageRendering:"pixelated",src:null!=n?n:wb}),!c&&e.createElement("div",{className:"hXgLU"})),e.createElement(Sc,{size:2}),e.createElement("div",{className:"eXwnH"},e.createElement(gs,{type:"header5B"},t),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"paragraphs",variant:"dimmer"},a)),e.createElement(Sc,{size:5}))),e.createElement(yb,null,e.createElement(yb.Pair,{label:p(".gamerscore"),value:`${r}`,icon:e.createElement(oc,{className:"GooYD",imageRendering:"pixelated",src:Cb})}),d&&e.createElement(yb.Pair,{label:p(".anotherPlatform"),value:p(".yes")}),l&&0!==l&&1!==l?e.createElement(yb.Progress,{value:fb(l,i),total:i}):null)))}const xb=a.p+"assets/rewardUnlockedFrame-34e1b.png",Ib=a.p+"assets/rewardLockedFrame-2d590.png",Pb=a.p+"assets/unlockedIconGrey-2939d.png",Ob=a.p+"assets/lockedIconGrey-c2c6d.png";function Nb({image:t,title:a,isOwned:n,onClickView:r,role:l="neutral80",imageRole:o="neutral100"}){const{t:i}=oi("AchievementReward"),c=Vn(l),s=Vn(o),u=[i(n?".narration.rewardUnlocked":".narration.rewardLocked"),a].join(" . ");return e.createElement(hn,{role:l},e.createElement(rs,{text:u},e.createElement("div",{className:lr()("tZxVg",c.background.base,c.border.base)},e.createElement(Vi,{effect:"specular"}),e.createElement("div",{className:"SKSAr"},e.createElement("div",{className:"KAXsx"},e.createElement("div",{className:"QcClj"},e.createElement(gs,{type:"captionShort",variant:"dimmer"},e.createElement(Ns,null,i(".reward"))),n?e.createElement(oc,{src:Pb,imageRendering:"pixelated",className:"PCWpA"}):e.createElement(oc,{src:Ob,imageRendering:"pixelated",className:"yD_x4"})),e.createElement(gs,{type:"body",align:"center"},a)),e.createElement("div",{className:"UzVku"},e.createElement(oc,{src:t,imageRendering:"pixelated",className:lr()("D98f5",s.background.base,{CJ4sp:!n})}),e.createElement(oc,{src:n?xb:Ib,imageRendering:"pixelated",className:n?"A2FSq":"ehHcI"})),e.createElement("div",{className:"TAaUi"},e.createElement(ru,{delayedClick:!0,onClick:r,gamepadIndex:0,gamepadAlias:"reward-button",inputLegend:i(".viewReward"),variant:"secondary"},i(".viewReward")))))))}const Ab=({isLocked:e,progress:t,progressTarget:a},n)=>{const r=fb(t,a),l=Math.round(100*t);return e&&t>0&&t<1?[n(".narration.progress"),n(".narration.percentage",[`${r}`,`${a}`]),`${l}%`]:[]},Lb=()=>{const{t:a,f:n}=oi("AchievementDetailsRoute"),r=hr(),l=vr(),o=Rd(Hd),i=(0,t.useFacetUnwrap)((0,t.useSharedFacet)(qd(l.id))),c=!(i===t.NO_VALUE||!i.isLoaded),s=i===t.NO_VALUE?void 0:i.achievement,u=Ad((0,t.useSharedFacet)(Yd),1e4),d=Ad((0,t.useSharedFacet)(Yd),1500),m=(0,t.useFacetUnwrap)(u),p=(0,t.useFacetUnwrap)(d),f=(0,e.useRef)(null),g=c&&!s;(0,e.useEffect)((()=>{g&&r.goBack()}),[g,r]);const E=Boolean(o&&s&&null!=s.rewardName&&s.rewardImage),h=null!=s?[s.isLocked?a(".narration.locked"):a(".narration.completed"),s.dateUnlocked>0?n.formatDate(s.dateUnlocked):"",s.name,s.description,...0!==s.gamerScore?[a(".narration.gamerscore"),`${s.gamerScore}`]:[],...Ab(s,a)].join(" . "):"";if(i===t.NO_VALUE)return null;const b=o&&s&&s.hasReward&&s.isRewardOwned&&s.isLocked;return e.createElement(qg,null,e.createElement(rs,{text:a(".narration.title")},p!==t.NO_VALUE&&p&&(m===t.NO_VALUE||!m)&&e.createElement(ab,{text:a(".narration.loadingMessage")}),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:c}),e.createElement(fE,{onBackButton:r.goBack,center:e.createElement(gs,{type:"header5A"},a(".title")),delegateFocusFromMemory:!0,gamepadAlias:"achievements-details-layout-content",delegateByAlias:"achievements-details-wrapper",shouldNotDelegateToContent:!E},m!==t.NO_VALUE&&m?e.createElement(hE,null,e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{wideSize:2,narrowSize:1}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:8,narrowSize:6},e.createElement(Sc,{size:2}),e.createElement(yE,{gamepadAlias:"ach-details-empty-state",gamepadIndex:0,text:a(".errorMessage")})))):e.createElement(rs,{text:h},e.createElement(hE,null,e.createElement(ac,{containerRef:f,delegateFocusFromMemory:!0,alias:"achievements-details-wrapper",delegateFocusByAlias:"reward-wrapper"},e.createElement(hE.Row,{innerRef:f,gamepadIndex:0},(!E||!c)&&e.createElement(hE.Column,{wideSize:2,narrowSize:1}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:8,narrowSize:E&&c?5:6},e.createElement(Yc,{gamepadIndex:0,focusableIfScrollable:!0},e.createElement(Sc,{size:2}),s?e.createElement(Tb,{loading:!1,title:s.name,image:s.image,description:s.description,progress:s.progress,progressTarget:s.progressTarget,isLocked:s.isLocked,dateUnlocked:s.dateUnlocked,gamerscore:s.gamerScore,gamepadIndex:0,completedOnAnotherPlatform:!!b}):e.createElement(Tb,{gamepadIndex:0,loading:!0}),e.createElement(Sc,{size:2}),e.createElement(Zu.Space,null))),E&&s&&null!=s.rewardName&&null!=s.rewardImage&&e.createElement(hE.Column,{gamepadIndex:1,wideSize:4,narrowSize:3},e.createElement(Yc,{gamepadAlias:"reward-wrapper",delegateFocusByAlias:"reward-button",gamepadIndex:0,loading:!c},e.createElement(Sc,{size:2}),e.createElement(Nb,{title:s.rewardName,onClickView:()=>{r.push(`/persona?itemId=${s.rewardId}`)},isOwned:am(s),image:s.rewardImage}),e.createElement(Sc,{size:2}),e.createElement(Zu.Space,null))))))))))},Rb=()=>{const a=hr(),n=(0,t.useSharedFacet)(Fp),r=(0,t.useFacetUnwrap)(n),l=(0,e.useRef)(),{t:o}=oi("RenderDistanceWarningRoute"),i=Ia(),c=(0,t.useFacetCallback)((e=>()=>{e.renderDistance=e.defaultRenderDistance,e.showRenderDistanceWarningModal=!1,a.goBack()}),[a],[n]),s=(0,t.useFacetCallback)((e=>()=>{e.showRenderDistanceWarningModal=!1,a.goBack()}),[a],[n]);if(r==t.NO_VALUE)return null;null==l.current&&(l.current=r.renderDistance);const u=[o(".useRecommendedSettingsButton"),o(r.defaultRenderDistance>1?".chunksPluralCaption":".chunksSingularCaption",[`${r.defaultRenderDistance}`])].join(" "),d=l.current>1?".chunksPluralCaption":".chunksSingularCaption",m=[o(".useCurrentSettingsButton"),o(d,[`${l.current}`])].join(" ");return e.createElement(rs,{text:`${o(".title")}. ${o(".body1")}. ${o(".body2")}`},e.createElement(sd,null,e.createElement(sd.Header,null,o(".title")),e.createElement(sd.Content,{focusableIfScrollable:!i},e.createElement(sd.Paragraphs,{narrationText:`${o(".body1")}. ${o(".body2")}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(gs,{type:"captionLong"},o(".body1")),e.createElement(gs,{type:"captionLong"},o(".body2")))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,autofocus:!0,inputLegend:o(".confirmInputLegend"),variant:"primary",onClick:c},u),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:o(".confirmInputLegend"),variant:"secondary",onClick:s},m))))};function Db({role:t="inherit",reversed:a=!0}){const n=Vn(t),r=Xn();return e.createElement("fast-div",{className:"Fk8ro"},e.createElement("fast-div",{className:lr()("TPz7W",n.bevel.base,a?r.reversed:void 0)}))}const _b=(0,e.createContext)(!1);function Bb({children:a,spacingAroundSideMenu:n,footer:r,focusGridIndex:l,loading:o,scrollViewRef:i,role:c="neutral80",gamepadAlias:s,delegateFocusByAlias:u,adaptToNarrowScreens:d=!0,hideInputLegendSpace:m=!1,fullHeight:p=!1,narrationPrefix:f="",narrationRole:g="",narrationSuffix:E=""}){const h=(0,e.useRef)(null),b=To(),{t:v}=oi("SideMenu"),F=Vn(c),S=(0,t.useFacetMap)(((e,t,a)=>[e,""===t?v(".narrationRoleMenu"):t,a].filter((e=>e)).join(" . ")),[v],[(0,t.useFacetWrap)(null!=f?f:""),(0,t.useFacetWrap)(null!=g?g:""),(0,t.useFacetWrap)(null!=E?E:"")]),y="narrow"===b&&d;return e.createElement(hn,{role:c},e.createElement(rs,{text:S},e.createElement(Yc,{alwaysVisibleChildren:e.createElement(e.Fragment,null,null==n&&"desktop"===b&&e.createElement(Sc,{size:2}),n),focusGridIndex:l,floating:"desktop"!==b,delegateFocusFromMemory:!0,loading:o,spinnerBackgroundColor:"#313233",innerRef:i,gamepadAlias:s,delegateFocusByAlias:u},e.createElement("div",{ref:h,className:lr()("ktO0j",F.background.base,F.border.base,{JppWl:p})},e.createElement(Sc,{size:y?2:4}),e.createElement(_b.Provider,{value:y},a),null!=r&&e.createElement(gs,{type:"captionShort",variant:"dimmer"},e.createElement("div",{className:"H9jOa"},r)),e.createElement(Sc,{size:4})),m?null:e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})}),n)))}Bb.ItemMain=function({children:t}){return e.createElement("div",{className:"_ooLj"},t)},Bb.ItemCell=function({children:t,margin:a="end"}){return e.createElement("div",{className:lr()("Wfm8X",{HwQXE:"end"===a,OdjWP:"start"===a})},t)},Bb.Divider=function({label:t,role:a="inherit"}){return e.createElement(e.Fragment,null,e.createElement(gs,{role:a,type:"captionShort",variant:"dimmer"},e.createElement("div",{className:"OlLk0"},t)),e.createElement(Db,{role:a}))};const Wb=(0,t.createFacet)({initialValue:0}),Ub=(0,e.createContext)(Wb),zb=(0,e.createContext)(0);Bb.displayName="SideMenu",Bb.ItemList=function({items:a,renderItem:n,initialGamepadIndex:r=0}){return e.createElement(Ub.Provider,{value:(0,t.useFacetMap)((e=>e.length),[],[a])},e.createElement(t.Map,{array:a},((t,a)=>e.createElement(zb.Provider,{value:a},n({item:t,index:a,gamepadIndex:a+r,focusGridIndex:a+r})))))},Bb.ListItem=function({onSelect:a,children:n,selected:r,value:l,focusGridIndex:o,narrationText:i,narrationSuffix:c,inputLegend:s,soundEffectPressed:u,role:d="inherit",hasSubtitle:m,testId:p}){const{t:f}=oi("SideMenu.ListItem"),{narrateText:g}=Xc(),E=(0,e.useContext)(zb),h=(0,e.useContext)(Ub),b=Vn(d),v=$n(d),F=Yn(),S=(0,t.useFacetMap)((e=>f(".narrationIndex",[`${E+1}`,`${e}`])),[f,E],[h]),y=(0,t.useFacetMap)(((e,t,a,n)=>t?`${e} . ${f(".narrationRoleMenuItem")} . ${a} . ${n} . ${f(".narrationSelected")}`.replace(" .  . "," . "):`${e} . ${f(".narrationRoleMenuItem")} . ${a} . ${n} . ${f(".narrationUnselected")}`.replace(" .  . "," . ")),[f],[i,r,S,(0,t.useFacetWrap)(null!=c?c:"")]),C=(0,t.useFacetMap)(((e,t)=>t?void 0:null!=e?e:v.toggle),[v.toggle],[(0,t.useFacetWrap)(u),r]),M=(0,e.useContext)(_b);return e.createElement(hn,{role:d},e.createElement(Li,{className:(0,t.useFacetMap)((e=>{const t=!m&&b.bevel.interactive,a=e?[b.background.select,b.bevel.select]:t;return lr()(m?"YhkZz":"iWrTh",a,{qaKqk:e,[F.selected]:e,r9DpB:M})}),[b,F,M,m],[r]),classNameFocused:lr()(vi,"B2m9T"),classNameHovered:(0,t.useFacetMap)((e=>{const t=e?[b.background.select,b.bevel.select]:[b.background.interactive,b.bevel.interactive];return lr()([t,"rtKPV"])}),[b],[r]),onClick:(0,t.useFacetCallback)((e=>()=>{g(f(".narrationSelected")),a(e)}),[f,g,a],[l]),focusGridIndex:o,inputLegend:(0,t.useFacetMap)((e=>!e&&s),[s],[r]),soundEffectPressed:C,narrationText:y,"data-testid":p},e.createElement(bi,{className:"pwcli"}),e.createElement("div",{className:"SzTdK"},e.createElement(Sc,{size:2}),e.createElement("div",{className:"Pl2Kx"},n),e.createElement(Sc,{size:2}))))},Bb.Item=function({children:t}){const a=(0,e.useContext)(_b);return e.createElement("div",{className:lr()("vPqz2",{a31PC:a})},t)};function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},jb.apply(this,arguments)}function Hb(t){let{children:a,className:n,variant:r="neutral",isElevated:l=!1}=t,o=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["children","className","variant","isElevated"]);return e.createElement(Ys,jb({variant:r},o,{containerClassName:lr()("oVNTE",n),className:"bYpjn",reflection:l?void 0:"bevel",isElevated:l}),e.createElement(hn,{role:r},a))}function Vb(a){let{startFrame:n=0}=a,r=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["startFrame"]);const l=(0,t.useFacetWrap)(r.className),o=(0,t.useFacetMap)(((e="")=>`c9joz ${e}`),[],[l]),i=(0,t.useFacetWrap)(r.disabled),c=(0,t.useFacetWrap)(r.paused),s=(0,t.useFacetMap)((e=>e?"none":"flex"),[],[i]),u=(0,t.useFacetMap)((e=>e?"paused":"running"),[],[c]),d=(0,t.useFacetWrap)(n),m=r.duration||500,p=(0,t.useFacetMap)((e=>{var t,a;return m/r.frames*(t=e,0,a=r.frames,Math.min(Math.max(t,0),a))*-1+"ms"}),[m,r.frames],[d]);return e.createElement("fast-div",{className:o,style:{display:s,backgroundImage:`url(${r.src})`,animationPlayState:u,animationName:"ghQXH",animationDirection:r.animationDirection||"normal",animationTimingFunction:`steps(${r.frames})`,animationIterationCount:"number"==typeof r.repeat?r.repeat.toString():"infinite",animationDuration:`${m}ms`,animationDelay:p,imageRendering:r.imageRendering,width:`calc(${10*r.width/(r.frames+1)} * var(--base1Scale))`,height:`calc(${10*r.height} * var(--base1Scale))`,backgroundSize:`calc(${10*r.width} * var(--base1Scale)) calc(${10*r.height} * var(--base1Scale))`}})}const Gb=a.p+"assets/advanced-icon-1b6c5.png",$b=a.p+"assets/experimental-features-icon-dca93.png",Kb=a.p+"assets/cheats-icon-33f13.png",Xb=a.p+"assets/debug-icon-1cb52.png",Yb=a.p+"assets/general-icon-8ce31.png",qb=a.p+"assets/resource-packs-icon-e08f7.png",Qb=a.p+"assets/multiplayer-icon-d7d04.png",Jb=a.p+"assets/behaviour-packs-icon-2f4af.png";a(34753);const Zb=An({id:"vanilla",sound:{neutral:{reject:"note.bass",press:"random.click",contract:"random.click",expand:"random.click",toggle:"random.click",lift:"random.click",click:"random.click"},primary:{press:"tokens.vanilla.release"}},color:{neutral:{background:{default:jl,hovered:zl,pressed:Hl,disabled:Bl,selected:Hl},text:{dimmer:{default:Bl,disabled:Bl},dimmest:{default:Wl},regular:{default:Dl,disabled:jl}},shadow:{default:Hl,disabled:Wl},dropShadow:{default:"rgba(0, 0, 0, 0.25)"},icon:{regular:{default:Dl,disabled:jl},dimmer:{default:Bl},dimmest:{default:Wl}},border:{regular:{default:Gl,disabled:Ul}},caret:{regular:{default:Al}},specular:{default:{top:Zl,bottom:Jl}},bevel:{default:{top:Jl,bottom:Yl}},outline:{default:Dl},highlight:{default:"transparent",hovered:Xl},overlay:{default:"rgba(0, 0, 0, 0.7)"}},neutral20:{background:{default:"#e6e8eb",hovered:"#f4f6f9",pressed:Bl},shadow:{default:Wl},text:{regular:{default:Gl},dimmest:{default:Bl}},icon:{regular:{default:Dl}},outline:{default:_l},specular:{default:{top:Dl,bottom:Zl}},bevel:{default:{top:Jl,bottom:Yl}}},neutral50:{background:{default:Ul,hovered:Wl,pressed:zl},border:{regular:{default:Gl,disabled:Ul}},overlay:{default:"rgba(0, 0, 0, 0.5)"},icon:{regular:{default:Ul}}},neutral60:{background:{default:zl,hovered:jl,pressed:Hl,disabled:jl},border:{regular:{default:Gl,disabled:Ul},dimmest:{default:Ul}},text:{regular:{default:Dl,disabled:Wl}},icon:{regular:{default:Dl,disabled:Wl}}},neutral80:{background:{default:Hl,hovered:jl,selected:jl,pressed:Vl},shadow:{default:Vl},text:{regular:{default:Dl},dimmer:{default:Bl},dimmest:{default:Wl}},caret:{regular:{default:Al}},bevel:{default:{top:Jl,bottom:ql},hovered:{top:Jl,bottom:ql},pressed:{top:Ql,bottom:Jl},selected:{top:ql,bottom:Jl}},overlay:{default:ql}},neutral100:{background:{default:Gl},text:{regular:{default:Dl},dimmer:{default:Bl},dimmest:{default:Wl}}},primary:{background:{default:Ll,hovered:"#2a641c",pressed:Rl},shadow:{default:Rl},text:{regular:{default:Dl}},icon:{regular:{default:Dl,disabled:Wl}},border:{regular:{default:Gl}},specular:{default:{top:Zl,bottom:Jl},hovered:{top:eo,bottom:"rgba(255, 255, 255, 0.3)"}}},primaryTint:{background:{default:Al},text:{regular:{default:Gl}},border:{regular:{default:Gl}}},secondary:{background:{default:Bl,hovered:Wl,pressed:Wl},text:{regular:{default:Gl}},icon:{regular:{default:Gl}},shadow:{default:zl},border:{regular:{default:Gl}},specular:{default:{top:to,bottom:eo},hovered:{top:"rgba(255, 255, 255, 0.8)",bottom:to}}},success:{background:{default:Ll},text:{regular:{default:Dl}}},successTint:{background:{default:Nl},text:{regular:{default:Gl}},border:{regular:{default:Gl}}},informative:{background:{default:"#2e6be5"},text:{regular:{default:Dl}},border:{regular:{default:Gl}}},informativeTint:{background:{default:"#8cb3ff"},text:{regular:{default:Gl}},border:{regular:{default:Gl}}},destructive:{background:{default:"#ca3636",hovered:"#c02d2d",pressed:$l},text:{regular:{default:Dl}},icon:{regular:{default:Dl}},shadow:{default:$l},specular:{default:{top:Zl,bottom:Jl},hovered:{top:"rgba(255, 255, 255, 0.5)",bottom:eo}}},destructiveTint:{background:{default:"#ff8080"},text:{regular:{default:Gl}},border:{regular:{default:Gl}}},notice:{background:{default:"#d3791f"}},noticeTint:{background:{default:Kl},text:{regular:{default:Gl}},border:{regular:{default:Gl}},outline:{default:Gl}},dataViz01:{background:{default:"#42CCCC"}},dataViz02:{background:{default:"#9471E0"}},dataViz03:{background:{default:"#ffb366"}},dataViz04:{background:{default:"#89DEF9"}},dataViz05:{background:{default:Nl}},dataViz06:{background:{default:"#F064B8"}},dataViz07:{background:{default:Kl}},dataVizLine:{background:{default:Bl}},paper:{background:{default:Dl},text:{regular:{default:_l,disabled:jl},dimmer:{default:zl}},icon:{regular:{default:_l,disabled:jl}},border:{regular:{default:Gl,disabled:Ul}},caret:{regular:{default:_l}},specular:{default:{top:Zl,bottom:Jl}},bevel:{default:{top:Jl,bottom:Yl}},outline:{default:Gl},highlight:{default:"transparent",hovered:Xl}},neutralAlpha60:{background:{default:"rgba(0, 0, 0, 0.6)",hovered:jl,selected:jl,pressed:Vl},bevel:{default:{top:ql,bottom:Jl},hovered:{top:ql,bottom:Jl},selected:{top:ql,bottom:Jl},pressed:{top:Ql,bottom:Jl}},border:{}}}}),ev=An({id:"realms",sound:{secondary:{press:"tokens.vanilla.release"}},color:{primary:{background:{default:"#7345E5",hovered:"#5D2CC6",pressed:ro,disabled:Bl},border:{regular:{default:Gl,disabled:Ul}},overlay:{default:"rgba(5, 0, 41, 0.5)"},shadow:{default:ro,disabled:Wl},text:{regular:{default:Dl,disabled:jl}},icon:{regular:{default:Dl,disabled:jl}},specular:{default:{top:"rgba(208, 131, 255, 0.5)",bottom:"rgba(182, 81, 245, 0.4)"},hovered:{top:"rgba(208, 131, 255, 0.7)",bottom:"rgba(182, 81, 245, 0.6)"}},caret:{regular:{default:_l}},bevel:{default:{top:Jl,bottom:Yl},selected:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},hovered:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"},pressed:{top:"rgba(5, 0, 41, 0.4)",bottom:"rgba(208, 131, 255, 0.5)"}},outline:{default:Dl}},primaryTint:{background:{default:no},text:{regular:{default:Gl}},border:{regular:{default:Gl}}},informative:{background:{default:"#050029"},text:{regular:{default:Dl}},border:{regular:{default:Gl,disabled:Ul}}},PDPCore:{specular:{default:{top:"rgba(172, 144, 243, 0.5)",bottom:"rgba(172, 144, 243, 0.5)"}},text:{regular:{default:Dl,disabled:"#777682"},dimmer:{default:ao},dimmest:{default:"#5D5974"},stronger:{default:no}}},PDPPlus:{specular:{default:{top:"rgba(244, 96, 210, 0.5)",bottom:"rgba(244, 96, 210, 0.5)"}},text:{regular:{default:Dl,disabled:"#777682"},dimmer:{default:ao},dimmest:{default:"#5D5974"},stronger:{default:"#E833C2"}}}}}),tv=(An({id:"gameplayInputLegendCollection",color:{neutral100:{background:{default:"none"},specular:{default:{top:"none",bottom:"none"}},text:{regular:{default:Dl}}}}}),"N3UCJ"),av=a.p+"assets/icon-highlight-spritesheet-87ec6.png",nv=({iconSrc:a,selected:n,border:r=!1,variant:l="small"})=>{const o=Vn("neutral"),i=(0,t.useFacetMap)((e=>!e),[],[(0,t.useFacetWrap)(null!=n&&n)]),c="large"==l;return e.createElement("div",{className:c?"w3iOH":tv},e.createElement(oc,{aspectRatio:oc.AspectRatio["1:1"],src:a,className:lr()("f2nZb",{qUO41:c}),imageRendering:"pixelated"}),r&&e.createElement("div",{className:lr()(o.border.base,"Taoxo",{LVMpO:c})}),e.createElement("div",{className:"EvXg5"},e.createElement(Vb,{disabled:i,src:av,frames:8,duration:500,width:c?36:21.6,height:c?4:2.4,repeat:1,imageRendering:"pixelated"})))},rv=e.createContext("create");function lv(){return(0,t.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(gg.XboxLive)||e.userPermissions.multiplayer.denyReasons.includes(gg.XboxLive_Parental)),[],[(0,t.useSharedFacet)(Eg)])}const ov=a.p+"assets/hardcore-heart-4e8a8.png",iv=a.p+"assets/hardcore-heart-dead-78091.png",cv=a.p+"assets/hardcore-heart-animation-acc5d.png";function sv({animate:a,dead:n,className:r,startFrame:l}){const o=(0,t.useFacetWrap)(n),i=(0,t.useFacetMap)((e=>lr()("NUwUL",e)),[],[(0,t.useFacetWrap)(r)]),c=(0,t.useFacetMap)(((e,t)=>!(null!=e&&e)||null!=t&&t),[],[(0,t.useFacetWrap)(a),o]),s=(0,t.useFacetMap)((e=>null!=e?e:0),[],[(0,t.useFacetWrap)(l)]),u=(0,t.useFacetMap)((e=>null!=e&&e?iv:ov),[],[o]);return e.createElement(e.Fragment,null,e.createElement(oc,{src:u,className:i,imageRendering:"pixelated"}),e.createElement(Vb,{key:"hardcore-heart",src:cv,disabled:c,className:i,frames:14,duration:2240,width:30,height:2,imageRendering:"pixelated",startFrame:s}))}const uv=pi((({achievementsDisabledMessages:a,isEditWorld:n})=>{const{t:r}=oi("AchievementDisabledModal"),l=mi(),o=(0,t.useFacetMap)((e=>{const t=n?"EW":"CNW";return 1===e.length?r(`.oneSettingMessage${t}`):r(`.multipleSettingsMessage${t}`)}),[n,r],[a]);return e.createElement(sd,{onOverlayClick:l,defaultFocusAlias:"achievements-disabled-back"},e.createElement(sd.Header,{onClose:l},r(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:o,gamepadIndex:0},o),e.createElement(Sc,{size:2}),e.createElement(sd.List,{items:a,gamepadIndex:1}),e.createElement(Sc,{size:4})),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:"achievements-disabled-back",inputLegend:r(".closeInputLegend"),variant:"secondary",onClick:l},r(".goBackButtonText"))))})),dv="behavior-packs-modal-confirm",mv=pi((({packId:t,type:a,packType:n,onAccept:r})=>{const{t:l}=oi("CreateNewWorld.behaviorPacksRemoveModal"),o=mi(),i="deactivate"==a;return e.createElement(sd,{onOverlayClick:o,defaultFocusAlias:dv},e.createElement(sd.Header,{onClose:o},l(i?".deactivateTitle":".activateTitle")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:l(i?".messageDeactivate":".messageActivate"),center:!0},l(i?".messageDeactivate":".messageActivate"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:dv,gamepadIndex:0,inputLegend:l(i?".keepLabel":".dontAddPackLabel"),onClick:o,variant:"primary"},l(i?".keepLabel":".dontAddPackLabel")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:l(i?".removeLabel":".addPackLabel"),onClick:()=>{r(t,n),o()}},l(i?".removeLabel":".addPackLabel"))))})),pv="create-on-realms-error-back",fv=pi((()=>{const{t:a}=oi("CreateNewWorld"),n=(0,t.useSharedFacet)(Mm),r=(0,t.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[n]),l=(0,t.useFacetMap)((e=>{switch(e.createOnRealmsError){case Fm.UNASSIGNED_DEV_VERSION:return{title:a(".createOnRealmsError.unassignedDevVersion.title"),message:a(".createOnRealmsError.unassignedDevVersion.message"),message2:a(".createOnRealmsError.unassignedDevVersion.message2")};case Fm.MEMBER_OF_TOO_MANY_REALMS:return{title:a(".createOnRealmsError.memberOfTooManyRealms.title"),message:a(".createOnRealmsError.memberOfTooManyRealms.message"),message2:""};case Fm.CANNOT_CONNECT_TO_REALM:return{title:a(".createOnRealmsError.cannotConnectToRealm.title"),message:a(".createOnRealmsError.cannotConnectToRealm.message"),message2:""};case Fm.CROSS_PLATFORM_RESTRICTED:return{title:a(".createOnRealmsError.crossPlatformRestricted.title"),message:a(".createOnRealmsError.crossPlatformRestricted.message"),message2:a(".createOnRealmsError.crossPlatformRestricted.message2")};case Fm.UNKNOWN:default:return{title:a(".createOnRealmsError.unknown.title"),message:a(".createOnRealmsError.unknown.message"),message2:""}}}),[a],[n]),o=(0,t.useFacetMap)((e=>e.title),[],[l]),i=(0,t.useFacetMap)((e=>e.message),[],[l]),c=(0,t.useFacetMap)((e=>e.message2),[],[l]),s=(0,t.useFacetMap)((e=>""!=e.message2),[],[l]);return e.createElement(sd,{defaultFocusAlias:pv},e.createElement(sd.Header,{onClose:r},o),e.createElement(sd.Content,null,e.createElement(t.Mount,{when:s,condition:!1},e.createElement(sd.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(t.Mount,{when:s,condition:!0},e.createElement(sd.Paragraphs,{narrationText:`${i}. ${c}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(gs,{type:"captionLong",align:"center"},i),e.createElement(gs,{type:"captionLong",align:"center"},c)))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:pv,inputLegend:a(".createOnRealmsError.close"),variant:"secondary",onClick:r},a(".createOnRealmsError.close"))))})),gv="create-world-error-back",Ev=pi((function(){const{t:a}=oi("CreateNewWorld"),n=(0,t.useSharedFacet)(Mm),r=(0,t.useFacetCallback)((e=>()=>{e.clearErrors()}),[],[n]),l=(0,t.useFacetMap)((e=>e.createWorldError),[],[n]),o=(0,t.useFacetMap)((e=>{switch(e){case Sm.NOT_ENOUGH_STORAGE:return{title:a(".createWorldError.notEnoughStorage.title"),message:a(".createWorldError.notEnoughStorage.message")};case Sm.MISSING_CONTENT_KEY:default:return{title:a(".resourcePacks.contentKeyErrorTitle"),message:a(".resourcePacks.contentKeyErrorBodyNoName")}}}),[a],[l]),i=(0,t.useFacetMap)((e=>e.title),[],[o]),c=(0,t.useFacetMap)((e=>e.message),[],[o]);return e.createElement(sd,{defaultFocusAlias:gv},e.createElement(sd.Header,{onClose:r},i),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:c,center:!0},c)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:gv,inputLegend:a(".createWorldError.close"),variant:"secondary",onClick:r},a(".createWorldError.close"))))})),hv=a.p+"assets/hardcore-heart-white-6b381.png",bv=()=>{};let vv;function Fv(){}function Sv(t,a,n){const r=(0,e.useRef)(!1),l=(0,e.useRef)(!1),o=(0,e.useRef)(Fv),i=(0,Xr.useFacetCallback)(t,[t,...a],[...n]),c=(0,e.useCallback)((async(...e)=>{if(r.current)return;const t=e=>{const{promise:t,cancel:a}=(e=>{let t=bv;const a=new Promise((e=>{t=e})),n=e.get();if(n!==Xr.NO_VALUE)return t(n),{promise:a,cancel:bv};const r=e.observe(t);return{promise:a.then((e=>(r(),e))),cancel:r}})(function(e,t,a){return(0,Xr.mapFacetsLightweight)(e,(e=>e==vv.RUNNING?Xr.NO_VALUE:e),void 0)}([e]));return o.current=a,t};return(async(...e)=>{if(l.current)return;r.current=!0;const a=i(...e);if(a!==Xr.NO_VALUE){for(const e of a)if(await t(e)!=vv.DONE)break;r.current=!1}})(...e)}),[i]);return(0,e.useEffect)((()=>()=>{l.current=!0,o.current()}),[]),c}function yv(){return(0,t.useFacetCallback)((e=>({button:t,screen:a,details:n={}})=>e.fireEventButtonPressed(function({button:e,screen:t}){return`${t}Screen_${e}Button_OreUI`}({button:t,screen:a}),n)),[],[(0,t.useSharedFacet)(Xf)])}function Cv(e,a,n){const r=(0,t.useSharedFacet)(Ep),l=yv(),o=(0,t.useFacetMap)((e=>e.joinRealmTaskState),[],[r]),i=Sv((e=>function*(t){e.joinRealmWorld(t),yield o,e.clearJoinRealmTaskState()}),[o],[r]);return(0,t.useFacetCallback)((e=>()=>{l({screen:a,button:n,details:{realmId:e}}),i(e)}),[i,l,a,n],[e])}!function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.DONE=2]="DONE",e[e.CANCELLED=3]="CANCELLED",e[e.FAILED=4]="FAILED"}(vv||(vv={}));const Mv="hardcore-mode-world-warning-modal-play",kv=pi((({onCancel:a,onSubmit:n})=>{const{t:r}=oi("CreateNewWorld.hardcoreModeWorldModal"),[l,o]=(0,t.useFacetState)(!1),i=(0,t.useSharedFacet)(hp),c=(0,t.useFacetCallback)(((e,t)=>()=>{t&&(e.doNotShowHardcoreModeWarning=!0),a(),n()}),[a,n],[i,l]);return e.createElement(sd,{defaultFocusAlias:Mv},e.createElement(sd.Header,{onClose:a},r(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:r(".body")},r(".body")),e.createElement(Sc,{size:2}),e.createElement(sd.OrderedList,{items:(0,t.useFacetWrap)([r(".bodyListItem1"),r(".bodyListItem2"),r(".bodyListItem3")]),gamepadIndex:1}),e.createElement(Sc,{size:6})),e.createElement(sd.Buttons,{header:e.createElement(sd.Checkbox,{value:l,onChange:o,title:r(".doNotShowAgain")})},e.createElement(ru,{gamepadAlias:Mv,inputLegend:r(".createWorld"),variant:"primary",delayedClick:!0,onClick:c,imgSrc:hv},r(".createWorld")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:r(".goBack"),variant:"secondary",delayedClick:!0,onClick:a},r(".goBack"))))}));function wv(){const a=u(),n=d(),r=kv.useModal(!0),l=m(),o=Cv((0,t.useFacetMap)((e=>{var t;return null!==(t=e.realmId)&&void 0!==t?t:""}),[],[l]),"HardcoreModeWorldWarningModal","PlayNow"),i=(0,t.useFacetMap)(((e,t)=>e&&t),[],[n,r.isVisible]),c=(0,e.useCallback)((()=>{a.goBack()}),[a]),s=(0,e.useCallback)((()=>{a.goBack(),o()}),[a,o]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(kv.Component,{onSubmit:s,onCancel:c})))}pi((({title:t,description:a})=>e.createElement(sd,null,e.createElement(sd.Header,null,t),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:a,gamepadIndex:0,center:!0},a)))));const Tv="leaving-cnw-for-marketplace-modal-cancel",xv=pi((({onAccept:t})=>{const{t:a}=oi("CreateNewWorld.leavingCNWForMarketplaceModal"),n=mi();return e.createElement(sd.Overlay,{onClick:n},e.createElement(sd,{defaultFocusAlias:Tv},e.createElement(sd.Header,{onClose:n},a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:a(".message"),gamepadIndex:0,center:!0},a(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:Tv,inputLegend:a(".cancel"),variant:"secondary",onClick:n},a(".cancel")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:a(".continue"),variant:"primary",onClick:()=>{t(),n()}},a(".continue")))))})),Iv="lyc-modal-continue",Pv=pi((({onLeave:t})=>{const{t:a}=oi("CreateNewWorld.loseYourChangesModal"),n=mi();return e.createElement(sd,{defaultFocusAlias:Iv},e.createElement(sd.Header,{onClose:n},a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:a(".message"),gamepadIndex:0,center:!0},a(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:Iv,inputLegend:a(".continueInputLegend"),variant:"secondary",onClick:n},a(".continueButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:a(".leaveInputLegend"),variant:"destructive",onClick:()=>{n(),t()}},a(".leaveButton"))))}));function Ov(e,t){const a=[];for(let n=0;n<e.length;n++)t(e[n],n,e)&&a.push(e[n]);return a}const Nv="mpl-modal-go-back",Av=pi((({multiplayerData:a,activePacks:n,onDeactivatePack:r})=>{const{t:l}=oi("CreateNewWorld.multiplayerPlatformLockedModal"),o=mi(),i=(0,t.useFacetMap)((e=>Ov(e,(e=>e.isPlatformLocked))),[],[n]),c=(0,t.useFacetMap)((e=>e.length>1?l(".titlePlural"):l(".titleSingular")),[l],[i]),s=(0,t.useFacetMap)((e=>{var t,a;return e.length>1?l(".messagePlural",[jm(e,1).map((e=>e.name)).join(", "),null===(t=e[0])||void 0===t?void 0:t.name]):l(".messageSingular",[null===(a=e[0])||void 0===a?void 0:a.name])}),[l],[i]),u=(0,t.useFacetMap)((e=>e.length>1?l(".removeButtonPlural"):l(".removeButtonSingular")),[l],[i]),d=(0,t.useFacetCallback)(((e,t)=>()=>{o(),r&&t.forEach((e=>r(e.id,Lg.Resource))),e.multiplayerGame=!0}),[o,r],[a,i]);return e.createElement(sd,{defaultFocusAlias:Nv},e.createElement(sd.Header,{onClose:o},c),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:s,gamepadIndex:0},s)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,inputLegend:l(".removeInputLegend"),variant:"primary",onClick:d},u),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:Nv,inputLegend:l(".closeInputLegend"),variant:"secondary",onClick:o},l(".goBackButton"))))})),Lv="stay-button-alias",Rv=pi((({optOutCallback:t,closeModal:a})=>{const{t:n}=oi("CreateNewWorld.optBackModal");return e.createElement(sd,{onOverlayClick:a,defaultFocusAlias:Lv},e.createElement(sd.Header,{onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".message"),center:!0},n(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:Lv,inputLegend:n(".stayInputLegend"),variant:"primary",onClick:a},n(".stayButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:n(".goBackInputLegend"),variant:"secondary",onClick:()=>{a(),t()}},n(".goBackButton"))))})),Dv="rpl-modal-go-back",_v=pi((({packId:t,onAccept:a})=>{const{t:n}=oi("CreateNewWorld.resourcePacksDependencyWarningModal"),r=n(".body"),l=n(".activatePackButton"),o=mi();return e.createElement(sd,{onOverlayClick:o,defaultFocusAlias:Dv},e.createElement(sd.Header,{onClose:o},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:r,gamepadIndex:0,center:!0},r)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:Dv,inputLegend:n(".closeInputLegend"),variant:"primary",onClick:o},n(".goBackButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:l,onClick:()=>{o(),a(t)}},l)))})),Bv="rpdl-modal-accept",Wv=pi((({packId:a,packName:n,packSize:r,supportsSizeQuery:l,availableSize:o,onAccept:i})=>{const{t:c}=oi("CreateNewWorld.packDownloadModal"),s=(0,t.useFacetMap)((e=>c(".confirmationBodyActivate",[e])),[c],[n]),u=c(".confirmationBodyPackSize",[r]),d=(0,t.useFacetMap)((e=>c(".confirmationBodyAvailableSize",[e])),[c],[o]),m=mi(),p=(0,t.useFacetCallback)((e=>()=>{i(a,e),m()}),[i,m,a],[n]);return e.createElement(sd,{defaultFocusAlias:Bv},e.createElement(sd.Header,{onClose:m},c(".confirmationTitle")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:s},s),e.createElement(sd.Paragraphs,{narrationText:`${u}. ${d}`,spaceBetweenParagraphs:1,gamepadIndex:1},e.createElement(gs,{type:"captionLong"},u),e.createElement(t.Mount,{when:l},e.createElement(gs,{type:"captionLong"},d)))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:Bv,gamepadIndex:0,inputLegend:c(".confirmationDownloadAndActivateButton"),onClick:p,variant:"primary"},c(".confirmationDownloadAndActivateButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:c(".confirmationCancelButton"),onClick:m,gamepadIndex:1},c(".confirmationCancelButton"))))})),Uv="rpdl-modal-accept",zv=pi((({worldId:a,packIds:n,packNames:r,packSizes:l,availableSize:o,onAccept:i})=>{const{t:c}=oi("CreateNewWorld.packDownloadModal"),s=r.map((e=>`"${e}"`)),u=n.length>1,d=c(u?".confirmationBodyMultiple":".confirmationBody",[s.join(", ")]),m=c(".confirmationBodyPackSize",[l]),p=(0,t.useFacetMap)((e=>c(".confirmationBodyAvailableSize",[e])),[c],[o]),f=mi(),g=(0,e.useCallback)((()=>{i(a,n),f()}),[i,f,a,n]);return e.createElement(sd,{defaultFocusAlias:Uv},e.createElement(sd.Header,{onClose:f},c(".confirmationTitleAlt")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:d},d),e.createElement(sd.Paragraphs,{narrationText:`${m} . ${p}`,spaceBetweenParagraphs:1,gamepadIndex:1},e.createElement(gs,{type:"captionLong"},m),e.createElement(gs,{type:"captionLong"},p))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:Uv,gamepadIndex:0,inputLegend:c(".confirmationDownloadButton"),onClick:g,variant:"primary"},c(".confirmationDownloadButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:c(".confirmationCancelButton"),onClick:f,gamepadIndex:1},c(".confirmationCancelButton"))))})),jv="rpdl-modal-close",Hv="rpdl-modal-content",Vv=pi((({title:a,percentage:n,isImportingPack:r,onCancel:l=(()=>{})})=>{const{t:o}=oi("CreateNewWorld.packDownloadModal"),i=(0,t.useFacetMap)((e=>o(e?".importingProgressLabel":".downloadingProgressLabel")),[o],[r]),c=Ia(),s=be();return(0,t.useFacetEffect)((e=>{e&&c&&s(Hv)}),[s,c],[r]),e.createElement(sd,{defaultFocusAlias:jv},e.createElement(sd.Header,{onClose:l,titlebarGamepadAlias:jv,hideCloseButton:r},a),e.createElement(sd.Content,{gamepadAlias:Hv},e.createElement(sd.Text,{gamepadIndex:0,narrationText:i,center:!0},i),e.createElement(sd.Progress,{percentage:n})))})),Gv="rpdl-modal-cancel",$v=pi((({errorCode:t})=>{const{t:a}=oi("CreateNewWorld.resourcePacks"),n=mi(),r=t===Dg.NoManifest||t===Dg.MissingProperty||t===Dg.WrongTypeProperty||t===Dg.EmptyProperty||t===Dg.InvalidProperty||t===Dg.InvalidJSON||t===Dg.MalformedPropertyUUID||t===Dg.MalformedPropertyVERSION||t===Dg.DuplicateUUID||t===Dg.MissingModules||t===Dg.MultipleModules||t===Dg.UnsupportedFormatVersion,l=t===Dg.ContentTierIncompatible?a(".errorIncompatibleDeviceTitle"):t===Dg.ContentTierIncompatibleMemory?a(".errorIncompatibleMemoryTitle"):t===Dg.ContentTierIncompatibleRayTracing?a(".errorIncompatibleRayTracingTitle"):t===Dg.PackSelectErrorNoStore?a(".errorNoStoreTitle"):t===Dg.PackSelectErrorRequiredDependency?a(".errorRequiredDependencyTitle"):t===Dg.NoPackAccess?a(".errorFileAccessTitle"):t===Dg.VersionTooHigh||t===Dg.VersionTooLow?a(".errorIncompatibleVersionTitle"):t===Dg.IncompletePack?a(".errorIncompleteTitle"):t===Dg.UnsupportedFileFormat?a(".errorUnsupportedFormatTitle"):a(r?".errorReadingTitle":".errorUnknownTitle"),o=t===Dg.ContentTierIncompatible?a(".errorIncompatibleDeviceBody"):t===Dg.ContentTierIncompatibleMemory?a(".errorIncompatibleMemoryBody"):t===Dg.ContentTierIncompatibleRayTracing?a(".errorIncompatibleRayTracingBody"):t===Dg.PackSelectErrorNoStore?a(".errorNoStoreBody"):t===Dg.PackSelectErrorRequiredDependency?a(".errorRequiredDependencyBody"):t===Dg.NoPackAccess?a(".errorFileAccessBody"):t===Dg.VersionTooHigh?a(".errorIncompatibleVersionHighBody"):t===Dg.VersionTooLow?a(".errorIncompatibleVersionLowBody"):t===Dg.IncompletePack?a(".errorIncompleteBody"):t===Dg.UnsupportedFileFormat?a(".errorUnsupportedFormatBody"):a(r?".errorReadingBody":".errorUnknownBody");return e.createElement(sd,{defaultFocusAlias:Gv},e.createElement(sd.Header,{onClose:n},l),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:o},o)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:Gv,inputLegend:a(".goBackButton"),onClick:n},a(".goBackButton"))))})),Kv="rpl-modal-go-back",Xv=pi((({multiplayerData:a,packId:n,packName:r,packSize:l,packType:o,onActivatePack:i})=>{const{t:c}=oi("CreateNewWorld.resourcePacksPlatformLockedModal"),s=(0,t.useFacetMap)((e=>c(".body",[e])),[c],[r]),u=mi();return e.createElement(sd,{onOverlayClick:u,defaultFocusAlias:Kv},e.createElement(sd.Header,{onClose:u},c(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:s,gamepadIndex:0,center:!0},s)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,inputLegend:c(".removeInputLegend"),variant:"primary",onClick:()=>{a.multiplayerGame=!1,i(n,o,r,l),u()}},c(".turnOffMultiplayerAndApplyPackButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:Kv,inputLegend:c(".closeInputLegend"),variant:"secondary",onClick:u},c(".goBackButton"))))})),Yv=e=>e===He.PS4||e===He.PS5,qv=e=>e===He.XBOX,Qv=e=>e===He.NX_HANDHELD||e===He.NX_TV,Jv=e=>qv(e)||Qv(e)||Yv(e),Zv=e=>e===He.WIN32||e===He.UWP,eF=(e,t)=>Zv(e)&&t===je.ARVR_None,tF=e=>e===He.GOOGLE||e===He.IOS||e===He.MACOS||e===He.UWP||e===He.WIN32||e===He.XBOX,aF="create-world-platform-guest-modal",nF=pi((({onClose:a,mode:n})=>{const{t:r}=oi("CreateNewWorld"),l=function(e){const{t:a}=oi("CreateNewWorld"),n=u(),r=yv();return(0,t.useFacetMap)((e=>"nintendoGuestCreateWorld"===e?{message:a(".signInPromptWorldOnRealmModal.platformGuestCreate.nintendo.message")}:"nintendoGuestEditWorld"===e?{message:a(".signInPromptWorldOnRealmModal.platformGuestEdit.nintendo.message")}:"playstationGuestCreateWorld"===e?{message:a(".signInPromptWorldOnRealmModal.platformGuestCreate.playStation.message")}:"playstationGuestEditWorld"===e?{message:a(".signInPromptWorldOnRealmModal.platformGuestEdit.playStation.message")}:"msaGuestEditWorld"===e?{onSignIn:()=>{r({screen:"EditWorld",button:"SignIn"}),n.replace("/sign-in?signInSource=EditWorld_PlayOnRealm_SignInPrompt_OreUI")},message:a(".signInPromptWorldOnRealmModal.msaGuestEditWorld.message")}:{onSignIn:()=>{r({screen:"CreateNewWorld",button:"SignIn"}),n.replace("/sign-in?signInSource=CreateNewWorld_CreateOnRealm_SignInPrompt_OreUI")},message:a(".signInPromptWorldOnRealmModal.msaGuestCreateWorld.message")}),[a,n,r],[e])}((0,t.useFacetMap)(((e,t)=>Yv(e.platform)&&!t.isSignedInPlatformNetwork?"edit"===n?"playstationGuestEditWorld":"playstationGuestCreateWorld":Qv(e.platform)&&!t.isSignedInPlatformNetwork?"edit"===n?"nintendoGuestEditWorld":"nintendoGuestCreateWorld":"edit"===n?"msaGuestEditWorld":"msaGuestCreateWorld"),[n],[(0,t.useSharedFacet)(Ir),(0,t.useSharedFacet)(Eg)]));return e.createElement(Yr,{data:l},(t=>e.createElement(sd,{defaultFocusAlias:aF},e.createElement(sd.Header,{onClose:a},r(".signInPromptWorldOnRealmModal.title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{center:!0,gamepadIndex:0,narrationText:t.message},t.message)),e.createElement(sd.Buttons,null,t.onSignIn&&e.createElement(e.Fragment,null,e.createElement(ru,{"data-testid":"sign-in-prompt",inputLegend:r(".signInPromptWorldOnRealmModal.signIn"),variant:"primary",onClick:t.onSignIn},r(".signInPromptWorldOnRealmModal.signIn")),e.createElement(Sc,{size:1})),e.createElement(ru,{"data-testid":"cancel",gamepadAlias:aF,inputLegend:r(".signInPromptWorldOnRealmModal.cancel"),variant:"secondary",onClick:a},r(".signInPromptWorldOnRealmModal.cancel"))))))}));function rF({children:t}){return e.createElement(e.Fragment,null,t)}const lF=pi((({onUnlockTemplateSettings:t,mainButtonAlias:a})=>{const{t:n}=oi("CreateNewWorld"),r=be(),l=mi(),o="pop-up-modal-keepSettings";return e.createElement(sd,{defaultFocusAlias:o},e.createElement(sd.Header,{onClose:l},n(".unlockSettingsModal.title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".unlockSettingsModal.message"),gamepadIndex:0,center:!0},n(".unlockSettingsModal.message"))),e.createElement(sd.Buttons,null,e.createElement(rF,{options:{index:1}},e.createElement(ns,{options:{index:0}},e.createElement(ru,{gamepadAlias:o,inputLegend:n(".unlockSettingsModal.keepSettings"),variant:"primary",onClick:l},n(".unlockSettingsModal.keepSettings")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:n(".unlockSettingsModal.unlock"),onClick:()=>{t(),l(),null!=a&&r(a)},gamepadAlias:"pop-up-modal-unlockSettings"},n(".unlockSettingsModal.unlock"))))),e.createElement(as,{options:{button:W.B,inputLegend:n(".unlockSettingsModal.keepSettings")},onClick:l}))})),oF=a.p+"assets/hardcore-smoke-animation-fdeab.png";(0,e.createContext)({});const iF="__VISUAL_REGRESSION_TEST_ICON_STYLE_CACHE__";function cF(){return cF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},cF.apply(this,arguments)}function sF(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function uF(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const dF=({displayName:a,src:n,width:r,height:l})=>{const o=o=>{let{role:i="inherit",variant:c,color:s,className:u,style:d,width:m,height:p,disabled:f}=o,g=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(o,["role","variant","color","className","style","width","height","disabled"]),E=null;"undefined"!=typeof process&&"true"===process.env.VISUAL_REGRESSION_TEST&&(E=(({displayName:t,src:a})=>{if("true"!==process.env.VISUAL_REGRESSION_TEST)throw new Error("useStyleTagInjection was run outside of a visual regression test, this should never happen!");const n=`__${t}__`;return(0,e.useEffect)((()=>{var e;if(null==document.getElementById(iF)){const e=document.createElement("style");e.setAttribute("id",iF),e.setAttribute("type","text/css"),document.body.appendChild(e)}const t=document.getElementById(iF);!1===(null==t||null===(e=t.textContent)||void 0===e?void 0:e.includes(n))&&(null==t||t.appendChild(document.createTextNode(`.${n} { -webkit-mask-image: url('${a}') }`)))}),[n,a]),n})({displayName:a,src:n}));const h=Vn(i),b=Yn(),v=(0,t.useFacetWrap)(u),F=(0,t.useFacetWrap)(s),S=(0,t.useFacetWrap)(m),y=(0,t.useFacetWrap)(p),C=(0,t.useFacetWrap)(f),M=(0,t.useFacetWrap)(c),k=(0,t.useFacetMap)(((e,t,a,n)=>{var r,l;return lr()("CHrHN",{[null!==(r=h.icon.base)&&void 0!==r?r:""]:null==t,[null!==(l=h.icon.disable)&&void 0!==l?l:""]:a,[b.disabled]:a},n,e,E)}),[h,E,b],[v,F,C,M]),w=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sF(Object(a),!0).forEach((function(t){uF(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sF(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({width:(0,t.useFacetMap)((e=>(null!=e?e:r)/10+"rem"),[],[S]),height:(0,t.useFacetMap)((e=>(null!=e?e:l)/10+"rem"),[],[y]),WebkitMaskImage:`url('${n}')`,maskImage:`url('${n}')`,backgroundColor:F},d);return e.createElement("fast-div",cF({},g,{className:k,style:w}))};return o.displayName=a,o},mF={displayName:"IconAlbum",src:a.p+"assets/album.icon-9f610.png",width:24,height:24},pF={displayName:"IconArrowBack",src:a.p+"assets/arrowBack.icon-54263.png",width:8,height:14},fF={displayName:"IconArrowDown",src:a.p+"assets/arrowDown.icon-c672e.png",width:14,height:8},gF={displayName:"IconArrowForward",src:a.p+"assets/arrowForward.icon-df401.png",width:8,height:14},EF={displayName:"IconArrowUp",src:a.p+"assets/arrowUp.icon-0148d.png",width:14,height:8},hF={displayName:"IconCheck",src:a.p+"assets/check.icon-6a7ec.png",width:16,height:12},bF={displayName:"IconClock",src:a.p+"assets/clock.icon-5c364.png",width:16,height:16},vF={displayName:"IconCloudSync",src:a.p+"assets/cloud-sync.icon-9994c.png",width:20,height:20},FF={displayName:"IconCross",src:a.p+"assets/cross.icon-e4f12.png",width:14,height:14},SF={displayName:"IconDelete",src:a.p+"assets/delete.icon-d9b72.png",width:16,height:24},yF={displayName:"IconDocsPage",src:a.p+"assets/docsPage.icon-60a37.png",width:20,height:24},CF={displayName:"IconDocsSection",src:a.p+"assets/docsSection.icon-95985.png",width:16,height:16},MF={displayName:"IconExternalLink",src:a.p+"assets/externalLink.icon-ef655.png",width:24,height:24},kF={displayName:"IconFriends",src:a.p+"assets/friends.icon-23e24.png",width:12,height:12},wF={displayName:"IconMagnifyingGlass",src:a.p+"assets/magnifyingGlass.icon-7e237.png",width:24,height:24},TF={displayName:"IconOff",src:a.p+"assets/off.icon-f12ad.png",width:12,height:12},xF={displayName:"IconOn",src:a.p+"assets/on.icon-f87e8.png",width:2,height:12},IF={displayName:"IconPlayer",src:a.p+"assets/player.icon-7c34a.png",width:12,height:12},PF={displayName:"IconRealmsStories",src:a.p+"assets/realmsStories.icon-035cb.png",width:12,height:12},OF={displayName:"IconRealmsStoriesUnread",src:a.p+"assets/realmsStoriesUnread.icon-3e514.png",width:24,height:24},NF={displayName:"IconEnter",src:a.p+"assets/enter.icon-8a222.png",width:24,height:24},AF={displayName:"IconWarning",src:a.p+"assets/warning.icon-7b7ca.png",width:24,height:24},LF={displayName:"IconReset",src:a.p+"assets/reset.icon-96c87.png",width:24,height:24},RF={displayName:"IconEditImage",src:a.p+"assets/editImage.icon-86ad7.png",width:24,height:24},DF={Album:dF(mF),ArrowBack:dF(pF),ArrowDown:dF(fF),ArrowForward:dF(gF),ArrowUp:dF(EF),Check:dF(hF),Clock:dF(bF),CloudSync:dF(vF),Cross:dF(FF),Delete:dF(SF),DocsPage:dF(yF),DocsSection:dF(CF),EditImage:dF(RF),Enter:dF(NF),ExternalLink:dF(MF),Friends:dF(kF),MagnifyingGlass:dF(wF),Off:dF(TF),On:dF(xF),Player:dF(IF),RealmsStories:dF(PF),RealmsStoriesUnread:dF(OF),Reset:dF(LF),Warning:dF(AF)};let _F;!function(e){e[e.PRIMARY=0]="PRIMARY",e[e.REALMS=1]="REALMS"}(_F||(_F={}));const BF={[Em.PEACEFUL]:".difficultyPeacefulLabel",[Em.EASY]:".difficultyEasyLabel",[Em.NORMAL]:".difficultyNormalLabel",[Em.HARD]:".difficultyHardLabel"},WF={[tg.ADVENTURE]:".gameModeAdventureLabel",[tg.CREATIVE]:".gameModeCreativeLabel",[tg.SURVIVAL]:".gameModeSurvivalLabel",[tg.UNKNOWN]:".gameModeUnknownLabel"},UF="main-button",zF="secondary-button";function jF({onMainActionClick:a,onMainRealmsActionClick:n,worldPreviewImage:r,showSpinner:l,showRealmsButton:o,worldPacks:i,generalData:c,isRealmsButtonDisabled:s,isHardcoreMode:u,playerHasDied:d,multiplayerData:m,onEditThumbnail:p}){const{t:f}=sp("CreateNewWorldSideMenu"),{t:g}=sp("CreateNewWorld.general"),E=(0,e.useContext)(rv),h="create"===E,b=f(".create"),v=f(".createOnRealm"),F=f(".play"),S=Rd("vanilla.ab.newEditWorldScreenSecondVariant"),y=f(".playOnRealm"),C=(0,t.useSharedFacet)(Ir),[M,k]=(0,t.useFacetState)(void 0),w=kv.useModal(),T=nF.useModal(),x=(0,t.useFacetMap)(((e,t)=>{const a=WF[e.gameMode],n=t?".hardcoreModeTitle":BF[e.difficulty],r=""!=e.worldName?e.worldName:g(".worldNamePlaceholder");return f("edit"===E?".narrationPlayButtonHint":".narrationCreateButtonHint",[g(a),g(n),r])}),[f,g,E],[c,u]),I=Rd("vanilla.useGrayCreateOnRealmsButton"),P=(0,e.useRef)(null),O=(0,e.useCallback)((()=>{P.current&&(P.current.scrollHeight?P.current.scrollTop=0:requestAnimationFrame(O))}),[]);(0,t.useFacetEffect)(O,[O],[r]);const N=(0,t.useFacetMap)((e=>e.isStorageLow),[],[C]),A=lv(),L=(0,t.useFacetMap)(((e,t,a)=>e||t&&a.multiplayerGame),[],[N,A,m]),R=(0,t.useFacetMap)(((e,t,a)=>e||t&&a.multiplayerGame),[],[(0,t.useFacetWrap)(null!=s&&s),A,m]),D=(0,t.useFacetUnwrap)(N),_=D!==t.NO_VALUE&&D?zF:UF,B=(0,t.useFacetCallback)(((e,t,r,l,o)=>()=>{e!==_F.REALMS||!Yv(l.platform)&&!Qv(l.platform)||o.isLoggedInWithMicrosoftAccount&&o.isSignedInPlatformNetwork?h&&t&&!r.doNotShowHardcoreModeWarning?w.show():e===_F.REALMS?n():a():T.show()}),[w,h,T,n,a],[M,u,(0,t.useSharedFacet)(hp),(0,t.useSharedFacet)(Ir),(0,t.useSharedFacet)(Eg)]),W=(0,t.useFacetCallback)((e=>()=>e===_F.REALMS?n():a()),[n,a],[M]);return e.createElement(e.Fragment,null,e.createElement(Bb,{loading:l,scrollViewRef:P,delegateFocusByAlias:_,gamepadAlias:"cnw-side-menu"},e.createElement(Bb.Item,null,e.createElement(KF,{isHardcoreMode:u,playerHasDied:d,isCreateWorld:h,worldPreviewImage:r,onEditThumbnail:p})),e.createElement(Sc,{size:2}),e.createElement(Bb.Item,null,e.createElement(ru,{"data-testid":h?"create-world":"edit-world",disabled:L,gamepadAlias:UF,narrationSuffix:x,variant:S&&!h?"secondary":"hero",onClick:()=>{k(_F.PRIMARY),B()},inputLegend:h?b:F},h?b:F)),e.createElement(Sc,{size:1}),e.createElement(t.Mount,{when:o},e.createElement(Bb.Item,null,e.createElement(Nn,{collection:ev},e.createElement(ru,{gamepadAlias:zF,narrationSuffix:x,linebreak:!0,"data-testid":h?"create-world-on-realm":"play-on-realm",variant:I?"secondary":"primary",onClick:()=>{k(_F.REALMS),B()},inputLegend:h?v:y,disabled:R},h?v:y)))),e.createElement(Sc,{size:2}),e.createElement(HF,{worldPacks:i})),e.createElement(t.Mount,{when:w.isVisible},e.createElement(kv.Component,{onSubmit:W,onCancel:w.hide})),e.createElement(t.Mount,{when:T.isVisible},e.createElement(nF.Component,{mode:E,onClose:T.hide})))}const HF=({worldPacks:a})=>{const n="edit"===(0,e.useContext)(rv),r=Rd("vanilla.ab.newEditWorldScreenThirdVariant"),l=(0,t.useSharedFacet)(um),o=(0,t.useFacetMap)(((e,t)=>{const a=[{label:".generalTabLabel",image:Yb,value:"general"}];return!n||r||t.isDevBuild||t.isPreviewBuild||a.push({label:".resourcePacksTabLabel",image:qb,value:"resource-packs"},{label:".behaviorPacksTabLabel",image:Jb,value:"behavior-packs"}),a.push({label:".advancedTabLabel",image:Gb,value:"advanced"},{label:".multiplayerTabLabel",image:Qb,value:"multiplayer"}),a.push({label:".cheatsTabLabel",image:Kb,value:"cheats"}),(!n||r||t.isDevBuild||t.isPreviewBuild)&&a.push({label:".resourcePacksTabLabel",image:qb,value:"resource-packs"},{label:".behaviorPacksTabLabel",image:Jb,value:"behavior-packs"}),a.push({label:".experimentalFeaturesTabLabel",image:$b,value:"experimental"}),e&&a.push({label:".debugTabLabel",image:Xb,value:"debug"}),a}),[n,r],[(0,t.useSharedFacet)(dm),l]);return e.createElement(Bb.ItemList,{items:o,renderItem:t=>e.createElement(GF,{item:t.item,worldPacks:a})})},VF=(e,t,a)=>`/${e}/${t}/${a?"available":"active"}`,GF=({item:a,worldPacks:n})=>{const{t:r}=sp("CreateNewWorldSideMenu"),l=u(),o=(0,t.useFacetMap)((e=>e.label.includes(".debugTabLabel")?"Debug":r(e.label)),[r],[a]),i=m(),c=(0,t.useFacetMap)(((e,t)=>t.tab===e.value),[],[a,i]),s=(0,e.useContext)(rv),d=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[n]),p=(0,t.useFacetMap)((e=>e.activeBehaviorPacks),[],[n]);return e.createElement(Bb.ListItem,{narrationText:o,onSelect:(0,t.useFacetCallback)(((e,t,a,n)=>()=>{if(e.value===t.tab)return;const r="edit"===s?`edit-world/${t.id}`:"create-new-world";"resource-packs"===e.value?l.replace(VF(r,e.value,0===a.length)):"behavior-packs"===e.value?l.replace(VF(r,e.value,0===n.length)):l.replace(`/${r}/${e.value}`)}),[l,s],[a,i,d,p]),value:(0,t.useFacetMap)((e=>e.value),[],[a]),selected:c,inputLegend:r(".inputLegendSelect")},e.createElement(Bb.ItemCell,null,e.createElement(nv,{iconSrc:(0,t.useFacetMap)((e=>e.image),[],[a]),selected:c})),e.createElement(Bb.ItemMain,null,e.createElement(gs,{type:"body"},o)))};function $F({onEditThumbnail:t}){const{t:a}=sp("EditWorld");return e.createElement("div",{className:"M_Sas"},e.createElement(Hb,{inputLegend:a(".editThumbnailButton"),narrationText:a(".editThumbnailButton"),onClick:t,"data-testid":"edit-thumbnail-button"},e.createElement(DF.EditImage,null)))}function KF({isHardcoreMode:a,playerHasDied:n,worldPreviewImage:r,isCreateWorld:l,onEditThumbnail:o}){const i=Rd(Wm),[c,s]=(0,e.useState)(!1),u=Vn("neutral80"),d=wl(),m=(0,t.useFacetMap)(((e,t,a)=>lr()(u.border.base,"eRldN",{Fs2QM:e,dgfTQ:t&&l,V2KVp:a})),[u,l],[a,d,n]);(0,t.useFacetEffect)((e=>s((t=>!(!l||!e)||t))),[l],[a]);const p=(0,t.useFacetMap)((e=>e?"hardcore-smoke-on":"hardcore-smoke-off"),[],[a]);return e.createElement(e.Fragment,null,e.createElement(oc,{src:r,aspectRatio:oc.AspectRatio["16:9"],className:m}),!l&&i&&o&&e.createElement($F,{onEditThumbnail:o}),e.createElement(t.Mount,{when:a},e.createElement(sv,{animate:!0,dead:n,className:"KdiH7"})),c&&e.createElement(Yr,{data:p},(t=>e.createElement(Vb,{key:t,src:oF,className:"onv8P",frames:10,duration:1e3,repeat:1,width:24.2,height:3.9,imageRendering:"pixelated"}))))}jF.SideMenuList=HF,jF.AdvancedIcon=Gb,jF.ExperimentalFeaturesIcon=$b,jF.CheatsIcon=Kb,jF.DebugIcon=Xb,jF.GeneralIcon=Yb,jF.ResourcePacksIcon=qb,jF.MultiplayerIcon=Qb,jF.BehaviourPacksIcon=Jb,jF.SideMenuItem=GF;const XF=e=>{let t="";const a=e.length;for(let n=0;n<a;n++){const a=e[n];null!=a.before&&(t+=" . "+a.before),null!=a.text&&(t+=" . "+a.text),null!=a.as&&(t+=" . "+a.as),null!=a.after&&(t+=" . "+a.after)}return t.slice(3)},YF=e=>{const t=e.querySelectorAll("[data-narrate]"),a=t.length,n=[];for(let e=0;e<a;e++){const a=t[e],r=a.getAttribute("data-narrate"),l=a.getAttribute("data-narrate-as"),o=a.getAttribute("data-narrate-after"),i=a.getAttribute("data-narrate-before"),c={};if(null!=r&&""!==r)c.text=r;else{const e=a.textContent;null!=e&&(c.text=e)}null!=o&&""!==o&&(c.after=o),null!=l&&""!==l&&(c.as=l),null!=i&&""!==i&&(c.before=i),n.push(c)}return n},qF=(0,e.createContext)({});function QF({children:a,gamepadIndex:n,disabled:r,onClick:l,withUnderlinePolyfill:o,soundEffectPressed:i,inputLegend:c,focusRefOverride:s,narrationText:u,narrationSuffix:d,__testAlias:m,role:p="inherit","data-testid":f}){const{t:g}=oi("Link"),E=Vn(p),h=Gn(p),b=$n(p),v=(0,t.useFacetMap)(((e,t,a)=>{const n=[null!=e?e:a,g(".narrationComponentType")];return null!=t&&n.push(t),n.join(" . ")}),[g],[(0,t.useFacetWrap)(u),(0,t.useFacetWrap)(d),(0,t.useFacetWrap)(a)]),F=h.text.regular.default,S=(0,e.useMemo)((()=>({textDecorationColor:F})),[F]);return e.createElement(Li,{tag:"span",className:lr()("iTfr1",E.highlight.hover,E.text.base,{UEzHB:!1,zaq0M:o,_d1Tg:o&&!1}),gamepadAlias:m,classNameFocused:lr()(vi,"vLdsX"),gamepadIndex:n,focusRefOverride:s,inputLegend:null!=c?c:g(".open"),narrationText:v,onClick:l,disabled:r,soundEffectPressed:null!=i?i:b.click,style:S,"data-testid":f},e.createElement(bi,{role:p,disabled:r,withoutBorders:!0}),(0,t.isFacet)(a)?e.createElement("fast-text",{text:a}):a,o&&e.createElement("div",{className:lr()("BeCTv"),style:{borderBottomColor:F}}))}const JF=({children:t,onClick:a,soundEffectPressed:n,gamepadIndex:r,__testAlias:l,narrationSuffix:o,"data-testId":i})=>{const c=$n("inherit"),{linkNarrationSuffix:s}=(0,e.useContext)(qF),u=[o,s].filter(Boolean).join(" . ")||void 0;return e.createElement(gs,{type:"body",role:"inherit"},e.createElement(QF,{soundEffectPressed:null!=n?n:c.click,withUnderlinePolyfill:!0,onClick:a,gamepadIndex:null!=r?r:0,__testAlias:l,narrationSuffix:u,"data-testid":i},t))},ZF=a.p+"assets/cross-c49fd.png";function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},eS.apply(this,arguments)}const tS=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("dq15d",a);return e.createElement(oc,eS({},n,{className:r,src:ZF,imageRendering:"pixelated"}))};function aS(t){const{role:a="inherit",onClick:n}=t,{t:r}=oi("TitleBar.Buttons.Close");return e.createElement(Di,{role:a,onClick:n,className:"Rms1Z",inputLegend:r(".inputLegend"),narrationText:r(".narration"),testId:t["data-testid"]},"noticeTint"===a?e.createElement(tS,null):e.createElement(fc,null))}aS.displayName="BannerCloseButton";const nS=(a,n)=>!(0,t.isFacet)(a)&&e.Children.toArray(a).some((a=>{return!(0,t.isFacet)(a)&&(!!n(a)||(r=a,!(!(0,e.isValidElement)(r)||!Boolean(r.props.children))&&nS(a.props.children,n)));var r})),rS=t=>(0,e.isValidElement)(t)&&t.type===JF;function lS(a){const{children:n,role:r,gamepadIndex:l,__testAlias:o,onClose:i}=a,c=(0,e.useRef)(null),s=(0,e.useRef)(null),u=Ia(),d=Vn(r),{t:m}=oi("Banner"),p=(0,e.useMemo)((()=>!!i||(e=>nS(e,rS))(n)),[i,n]),f=(0,t.useFacetWrap)(u&&!p),g=p?"3.2rem":"2.8rem",E=((e,a)=>{const[n,r]=(0,t.useFacetState)("default");return Eo(e,(({height:e})=>{r(e>a?"spacious":"default")})),n})(s,ko(parseFloat(g))),h=(0,t.useFacetMap)((e=>lr()("geCU1",d.background.base,d.text.base,{Use2w:"spacious"===e})),[d],[E]),b=lr()("QTWPi",{p4K3_:!!i}),v=()=>{let e="";return c.current&&(e=XF(YF(c.current))),p?e:`${e} . ${m(".narrationComponentTypeTextBox")}`},F=(0,e.useMemo)((()=>i?{linkNarrationSuffix:m(".closeButtonNarrationHint",[m(".narrationComponentTypeTextBox")])}:{}),[i,m]);return e.createElement(hn,{role:r},e.createElement(ac,{containerRef:c},e.createElement(qF.Provider,{value:F},e.createElement("fast-div",{ref:c,className:h},e.createElement(oS,{when:f,gamepadIndex:null!=l?l:0,__testAlias:o,getNarrationText:v}),e.createElement(rs,{getText:v},e.createElement("fast-div",{ref:s,className:b,style:{minHeight:g}},n),i&&e.createElement(aS,{role:r,onClick:i,"data-testid":a["close-button-test-id"]}))))))}lS.displayName="Banner",lS.Text=function({children:t}){return e.createElement(gs,{type:"body",role:"inherit",shouldNarrate:!0},t)},lS.Link=JF;const oS=({when:a,gamepadIndex:n,getNarrationText:r,__testAlias:l})=>{const o=$n("inherit");return e.createElement(t.Mount,{when:a},e.createElement(Li,{className:"IXYkO",classNameFocused:vi,gamepadIndex:null!=n?n:0,gamepadAlias:l,inputLegend:!1,soundEffectPressed:o.click,getNarrationText:r},e.createElement(bi,{inset:!0})))};function iS({title:a,description:n,buttons:r,stackedButtons:l=!1,border:o=!1}){const i=(0,t.useFacetMap)(((e,t)=>[e,t].filter((e=>e)).join(" . ")),[],[(0,t.useFacetWrap)(a),(0,t.useFacetWrap)(null!=n?n:"")]);return e.createElement(Ws,{border:o,narrationText:i},null!=a&&e.createElement(zs,null,a),null!=n&&e.createElement(js,null,n),null!=r&&e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement("div",{className:l?"YPysf":"KIftG"},r)))}iS.ButtonSpacing=function(){return e.createElement(Sc,{size:2})};function cS({title:t,description:a,role:n="neutral"}){const r=Vn(n);return e.createElement("div",{className:lr()(r.background.base)},e.createElement(Sc,{size:6}),e.createElement(gs,{type:"sectionHeader",role:n},e.createElement(Sc,{size:6}),e.createElement("fast-text",{text:t})),null!=a&&e.createElement("div",{className:"Ddo87"},e.createElement(gs,{type:"captionShort",variant:"dimmer",role:n},e.createElement("fast-text",{text:a}))),e.createElement(Sc,{size:1}))}const sS={BaseSwitch:"A9D4z",toggle:"e7MoW",imageOn:"bgIQq",disabled:"p_TUt",imageOff:"R_YeG",toggleContainerBorder:"qxKas",toggleBase:"XjUWP",toggleBaseItem:"gMVJP",toggleTop:"RS5ul",toggleTopInner:"fr1iK",toggleTopTop:"aVlBS",toggleIcon:"rcXY3",toggleTopBottomBevel:"xqZlc",toggleTopOn:"KjBRi",toggleTopOff:"IxVml",toggleTopOnAnimated:"moANc",toggleTopOffAnimated:"FVcXO","switch-toggle-top-animation-on":"shenE","switch-toggle-top-animation-off":"kEW1j",offText:"pqxNj",onText:"ldgdO",toggleLabel:"SWTSF"},uS=a.p+"assets/onImage-b40d0.png";function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},dS.apply(this,arguments)}const mS=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("R3e0Q",a);return e.createElement(oc,dS({},n,{className:r,src:uS,imageRendering:"pixelated"}))},pS=a.p+"assets/offImage-cc909.png";function fS(){return fS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fS.apply(this,arguments)}const gS=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("i0_sF",a);return e.createElement(oc,fS({},n,{className:r,src:pS,imageRendering:"pixelated"}))},ES=(e,t)=>lr()(sS.toggleTop,{[t?sS.toggleTopOnAnimated:sS.toggleTopOn]:e,[t?sS.toggleTopOffAnimated:sS.toggleTopOff]:!e});function hS({onChange:a,gamepad:n,value:r,disabled:l=!1,onFocusChanged:o,showOnOffText:i=!1,shouldAnimateRef:c,soundEffectHovered:s,soundEffectFocused:u,soundEffectPressed:d,offNarrationText:m,onNarrationText:p,disabledNarrationSuffix:f,onRole:g="primary",offRole:E="neutral50",thumbRole:h="secondary",imgSrc:b}){var v;const{t:F}=oi("BaseSwitch"),S=Vn("inherit"),y=Vn(h),C=Vn(g),M=Vn(E),k=$n("inherit"),{narrateText:w}=Xc(),T=(0,e.useRef)(!1),x=null!=c?c:T,I=(0,e.useRef)(null),P=(0,t.useFacetWrap)(r),O=(0,t.useFacetMap)((()=>!0),[],[P]);(0,t.useFacetEffect)((e=>{var t;I.current&&(I.current.className=ES(e,null!==(t=x.current)&&void 0!==t&&t))}),[x],[P]);const N=(0,t.useFacetCallback)(((e,t,a)=>()=>{I.current&&(I.current.className=ES(e,!1),w(e?[F(".on"),null!=a?a:""].join(" . "):[F(".off"),null!=t?t:""].join(" . "))),x.current=!1}),[w,F,x],[P,(0,t.useFacetWrap)(m),(0,t.useFacetWrap)(p)]),A=(0,t.useFacetCallback)((e=>()=>{x.current=!0,null==a||a(!e)}),[a,x],[P]),L=(0,e.useCallback)((e=>{if(!I.current&&e){const a=(0,t.isFacet)(r)?r.get():r;e.className=ES(a,x.current)}I.current&&I.current.removeEventListener("animationend",N),e&&e.addEventListener("animationend",N),I.current=e}),[N,r,x]),R=(0,t.useFacetMap)(((e,t)=>[F(".elementType"),!0===t?F(".narrationDisabled"):"",F(e?".on":".off"),t&&null!=f?f:""].join(" . ")),[F,f],[P,(0,t.useFacetWrap)(l)]);return e.createElement(t.Mount,{when:O},e.createElement(Li.Maybe,{isInteractive:null!=a,className:sS.BaseSwitch,narrationText:R,inputLegend:F(".toggle"),gamepadIndex:null!==(v=null==n?void 0:n.index)&&void 0!==v?v:0,soundEffectHovered:null!=s?s:k.hover,soundEffectFocused:null!=u?u:k.focus,soundEffectPressed:null!=d?d:k.toggle,classNameHovered:sS.hovered,classNameFocused:lr()(sS.focused,vi),classNamePressed:sS.pressed,classNameDisabled:sS.disabled,disabled:l,onFocusChanged:o,onClick:A},e.createElement("fast-div",{className:sS.offText,style:{opacity:(0,t.useFacetMap)((e=>e?.6:1),[],[P]),display:i?"flex":"none"}},e.createElement("span",{className:lr()(sS.toggleLabel,S.text.base,S.text.disable)},F(".off"))),e.createElement("div",{className:lr()(sS.toggle,M.border.base,M.border.disable)},e.createElement("div",{className:sS.toggleContainerBorder}),e.createElement("fast-div",{className:sS.toggleBase},e.createElement("div",{className:lr()(sS.toggleBaseItem,sS.toggleBaseItemOn,C.background.base,C.background.disable)},e.createElement("div",{className:sS.imageOn},e.createElement(mS,null)),e.createElement(Vi,{interactive:!1,right:!1,role:"primary",disabled:l})),e.createElement("div",{className:lr()(sS.toggleBaseItem,sS.toggleBaseItemOff,M.background.base,M.background.disable)},e.createElement("div",{className:sS.imageOff},e.createElement(gS,null)),e.createElement(Vi,{interactive:!1,left:!1,role:"neutral50",disabled:l}))),e.createElement("div",{ref:L,className:sS.toggleTop},e.createElement("fast-div",{className:lr()(sS.toggleTopInner,y.border.base,y.border.disable,y.background.interactive)},e.createElement(bi,{role:"secondary",disabled:l}),e.createElement("div",{className:lr()(sS.toggleTopTop)},e.createElement(Qs,{imageSource:b,className:sS.toggleIcon}),e.createElement(Vi,{role:"secondary",disabled:l})),e.createElement("div",{className:lr()(sS.toggleTopBottomBevel,y.shadow.base,y.shadow.disable)})))),e.createElement("fast-div",{className:sS.onText,style:{opacity:(0,t.useFacetMap)((e=>e?1:.6),[],[P]),display:i?"flex":"none"}},e.createElement("span",{className:lr()(sS.toggleLabel,S.text.base,S.text.disable)},F(".on")))))}const bS=()=>{};function vS({onChange:a=bS,value:n,title:r,description:l,disabled:o=!1,showOnOffText:i=!1,soundEffectHovered:c,soundEffectFocused:s,soundEffectPressed:u,offNarrationText:d,onNarrationText:m,disabledNarrationSuffix:p,wrapperRole:f="neutral",onRole:g,offRole:E,thumbRole:h,imgSrc:b,"data-testid":v}){const{t:F}=oi("Switch"),S=$n(f),y=(0,e.useRef)(!1),C=(0,t.useFacetWrap)(n),M=(0,t.useFacetWrap)(o),k=(0,t.useFacetWrap)(r),w=(0,t.useFacetWrap)(l),T=(0,t.useFacetMap)((()=>!0),[],[C]),x=(0,t.useFacetCallback)(((e,t)=>()=>{t||(y.current=!0,a(!e))}),[a],[C,M]),I=(0,t.useFacetRef)(C),P=(0,t.useFacetRef)(M),O=(0,e.useCallback)((()=>{if(I.current===t.NO_VALUE||P.current===t.NO_VALUE)return"";const e=I.current,a=P.current;return[r,F(".elementType"),!0===a?F(".narrationDisabled"):"",F(e?".on":".off"),null!=l?l:"",a&&null!=p?p:""].filter((e=>e)).join(" . ")}),[I,P,l,p,F,r]),N=(0,t.useFacetMap)(((e,t)=>""!==e||null!=t&&""!==t?"_8UmaI":""),[],[k,w]),A=Ia(),L=(0,t.useFacetMap)((e=>null!=e?e:""),[],[w]),R=(0,t.useFacetMap)((e=>null!=e&&e.length>0),[],[k]),D=(0,t.useFacetMap)((e=>e.length>0),[],[L]),_=(0,t.useFacetMap)((e=>!0===e&&A),[A],[M]),B=(0,t.useFacetMap)((e=>!e&&F(".toggle")),[F],[M]),W=(0,t.useFacetMap)(((e,t)=>e?void 0:null!=t?t:S.hover),[S.hover],[M,(0,t.useFacetWrap)(c)]),U=(0,t.useFacetMap)((e=>null!=e?e:S.focus),[S.focus],[(0,t.useFacetWrap)(s)]),z=(0,t.useFacetMap)(((e,t)=>e?void 0:null!=t?t:S.toggle),[S.toggle],[M,(0,t.useFacetWrap)(u)]);return e.createElement(t.Mount,{when:T},e.createElement(rs,{getText:O},e.createElement(Ws,{role:f,disabled:M,onClick:x,focusable:_,shouldDisplayFocus:_,inputLegend:B,soundEffectHovered:W,soundEffectFocused:U,soundEffectPressed:z,narrationText:"","data-testid":v},e.createElement("div",{className:"BMKqH"},e.createElement("fast-div",{className:N},e.createElement(t.Mount,{when:R},e.createElement(zs,{disabled:o},k)),e.createElement(t.Mount,{when:D},e.createElement(js,null,L))),e.createElement(hS,{value:C,disabled:M,showOnOffText:i,shouldAnimateRef:y,disabledNarrationSuffix:p,onNarrationText:m,offNarrationText:d,onRole:g,offRole:E,thumbRole:h,imgSrc:b})))))}const FS="nUoyP",SS="DLmmU",yS="hV7S1",CS="vWkm_";function MS({gamepadIndex:a,gamepadAlias:n,children:r,icons:l,disabled:o,selected:i,onClick:c,extraSpeechProps:{index:s,groupSize:u,description:d},onFocusChanged:m,wrapText:p,soundEffectPressed:f,onRole:g="primary",offRole:E="secondary"}){const{t:h}=oi("Toggle"),b=Vn(g),v=Vn(E),F=i?g:E,S=[r,h(".narrationOptionType"),h(".count",[`${s+1}`,`${u}`]),h(i?".narrationSelected":".narrationUnselected"),null!=d?d:""].join(" . "),y=lr()("jxTxF",{[SS]:i,[CS]:o}),C=lr()(FS,[i?[b.background.base,b.background.disable]:v.background.interactive],[i?[b.text.base,b.text.disable]:v.text.interactive],{[CS]:o});return e.createElement(Li,{narrationText:S,className:lr()(y,v.border.base,v.border.disable),classNameFocused:lr()("lHZ6b",vi),classNamePressed:SS,soundEffectPressed:f,gamepadIndex:a,gamepadAlias:n,inputLegend:h(".select"),onClick:c,onFocusChanged:m,disabled:o},e.createElement(bi,{role:F,disabled:o}),e.createElement("div",{className:C},e.createElement(Vi,{role:F,interactive:!1===i,disabled:o}),e.createElement("div",{className:"gcCW_"},p?e.createElement(gs,{type:"body",role:F,align:p?"center":void 0,disableable:i,interactive:!i},l?o?l.disabled:i?l.selected:l.unselected:null,(0,t.isFacet)(r)?e.createElement("fast-text",{text:r}):r):e.createElement(gs,{type:"body",role:F,align:p?"center":void 0,disableable:i,interactive:!i},l?o?l.disabled:i?l.selected:l.unselected:null,e.createElement(Ns,{className:"b73Js"},r))),e.createElement("div",{className:lr()([i?[b.icon.base,b.icon.disable]:void 0],{L83HZ:i,[CS]:o})})),e.createElement("div",{className:lr()(yS,v.shadow.interactive,{[CS]:o})}))}function kS(){return e.createElement("div",{className:"xBetY"},e.createElement("div",{className:FS}),e.createElement("div",{className:yS}))}var wS=a(18371),TS=a.n(wS),xS=a(46376),IS=a.n(xS);function PS(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function OS(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?PS(Object(a),!0).forEach((function(t){NS(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):PS(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function NS(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function AS({children:a,disabled:n,footer:r,menuRole:l="secondary",itemRole:o="neutral60",style:i={}}){const c=Vn(l),s=Vn(o),u=Xn(),d=(0,e.useRef)(null),m=(0,t.useFacetWrap)(n),p=(0,t.useFacetMap)((e=>({index:1,disabled:e,bounded:!0})),[],[m]);return e.createElement(ac,{containerRef:d,disabled:m,shouldBindFocus:!0},e.createElement(ns,{options:p,scrollRef:d},e.createElement("fast-div",{ref:d,className:"BHtky",style:OS(OS({},i),{marginTop:"var(--base1Scale)"})},e.createElement(Yc,{gamepadIndex:0},e.createElement("div",{className:lr()("YsLjj",c.border.base)},e.createElement("div",{className:lr()("fD1Jz",s.border.base,u.dimmest)},e.createElement(hn,{role:o},a)))),r)))}const LS={dropdownItem:"MneaI",show:"opARO",hide:"jhxB_",image:"GOAWR",imageDisabled:"YJVxh"};function RS({item:a,onClick:n,isSelectable:r=!0,isSelected:l,soundEffectPressed:o,soundEffectHovered:i,role:c="inherit",onFocusChanged:s,disabled:u,gamepadIndex:d,itemTypeNarration:m,testId:p}){const{t:f}=oi("DropdownItem"),g=(0,t.useFacetWrap)(a),E=(0,t.useFacetWrap)(l),h=(0,t.useFacetWrap)(r),b=(0,t.useFacetWrap)(u),v=(0,t.useFacetMap)((e=>e.gamepadAlias),[],[g]),F=(0,t.useFacetMap)((e=>e.label),[],[g]),S=(0,t.useFacetMap)((e=>e.imageSource),[],[g]),y=(0,t.useFacetMap)((e=>e.Icon),[],[g]),C=(0,t.useFacetWrap)(null!=m?m:""),{background:M,text:k,border:w}=Vn(c),T=Yn(),x=Xn(),I=(0,t.useFacetMap)(((e,t,a,n,r)=>{var l;const o=[e.label,""!==r&&null!=r?r:f(".elementType"),e.enumeration];return t&&o.push(f(a?".selected":".unselected")),o.push(null!==(l=e.description)&&void 0!==l?l:"",n?f(".disabled"):""),o.filter(Boolean).join(" . ")}),[f],[g,h,E,b,C]),P=(0,t.useFacetMap)(((e,t)=>lr()(LS.dropdownItem,M.interactive,w.interactive,x.dimmest,{[T.selected]:e,[T.disabled]:t})),[M.interactive,w.interactive,T.selected,x.dimmest,T.disabled],[E,b]),O=(0,t.useFacetMap)((e=>e?LS.show:LS.hide),[],[E]),N=(0,t.useFacetMap)((e=>lr()(LS.image,{[LS.imageDisabled]:e})),[],[b]),A=(0,t.useFacetCallback)((e=>e?()=>null:n),[n],[b]);return e.createElement(Li,{className:P,classNameFocused:lr()(LS.dropdownFocusedItem,vi),classNameHovered:LS.dropdownItemHover,gamepadIndex:d,gamepadAlias:v,narrationText:I,inputLegend:f(".select"),onClick:A,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:s,"data-testid":p},e.createElement(bi,{role:c}),e.createElement(Qs,{imageSource:S,icon:y,className:N}),e.createElement(Ns,{className:k.interactive},F),e.createElement(t.Mount,{when:h},e.createElement("fast-div",{className:O},e.createElement(Cs,null))))}const DS=({item:a,onChange:n,currentValue:r,isSelectable:l=!0,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:c,disabled:s,gamepadIndex:u,itemTypeNarration:d,testId:m})=>{const p=(0,t.useFacetCallback)((e=>()=>{n(e.value)}),[n],[a]),f=(0,t.useFacetWrap)(s),g=(0,t.useFacetMap)((e=>e?-1:u+1),[u],[f]),E=(0,t.useFacetWrap)(r),h=(0,t.useFacetWrap)(l);return e.createElement(RS,{item:a,isSelected:(0,t.useFacetMap)(((e,t)=>e.isSelected||e.value===t),[],[a,E]),isSelectable:h,gamepadIndex:g,onClick:p,soundEffectPressed:o,soundEffectHovered:i,onFocusChanged:c,disabled:f,itemTypeNarration:d,testId:m})},_S=a.p+"assets/arrowDown-8543c.png";function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},BS.apply(this,arguments)}const WS=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("fYSEY",a);return e.createElement(oc,BS({},n,{className:r,src:_S,imageRendering:"pixelated"}))};function US(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function zS(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?US(Object(a),!0).forEach((function(t){jS(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):US(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function jS(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const HS=(0,t.createFacet)({initialValue:""});function VS({options:a,value:n,onChange:r,isOpen:l,onClick:o,onOpenClose:i,dropdownRef:c,disabled:s,onFocusChanged:u,onHoverChanged:d,placeholder:m,footer:p,gamepadAlias:f,soundEffectPressed:g,soundEffectItemHovered:E,narrationText:h,shouldOnlyHandleBackButtonPressWhenDropdownIsOpen:b=!0,isElevated:v=!0,hideDownArrow:F=!1,menuRole:S="secondary",itemRole:y="neutral60",dropdownMenuStyle:C,dropdownMenuPortalRef:M,onBackButtonPressProps:k,matchButtonHeight:w=!1}){const{narrateText:T}=Xc(),x=(0,t.useFacetWrap)(l),I=(0,t.useFacetWrap)(s),[P,O]=(0,t.useFacetState)(!1),[N,A]=(0,t.useFacetState)(!1),[L,R]=(0,t.useFacetState)(!1),D=(0,t.useFacetWrap)(m);(0,t.useFacetEffect)((e=>{null!=e&&O(e)}),[O],[x]);const _=(0,e.useRef)(null),B=M||c||_;(0,t.useFacetEffect)((e=>i&&i(e)),[i],[P]);const{t:U}=oi("BaseDropdown"),z=(0,t.useFacetWrap)(a),j=(0,t.useFacetWrap)(n),H=(0,t.useFacetMap)(((e,t)=>IS()(TS()("value",t))(e)),[],[z,j]);!function(e,a,n=!0){const r=(0,t.useFacetWrap)(n);(0,t.useFacetEffect)((t=>{if(!t)return;const n=t=>{e.current&&e.current.contains(t.target)||a()};return document.addEventListener("click",n,!0),()=>{document.removeEventListener("click",n,!0)}}),[e,a],[r])}(B,(()=>{O(!1),J(!1),setTimeout((()=>T(U(".stateCollapsed"))),0)}),P);const V=Qe(),G=ko(4.8),$=ko(30),K=(0,t.useFacetMap)(((e,t,a,n)=>{const r=e.length*G>$;return lr()({rQRSc:t,oNoil:n,KVO62:r,hqWc9:null==a})}),[G,$],[z,P,H,V]),X=(0,t.useFacetMap)((e=>lr()("UKRdZ",{fIk9X:e})),[],[P]),Y=(0,e.useMemo)((()=>"unique-identifier"+oo++),[]),q=null!=f?f:`dd-bevel-${Y}`,Q=be(),J=(0,e.useCallback)((e=>{if(e){const e=null!=f?`${f}-0`:`dd-bevel-${Y}-0`;("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:KS)((()=>{Q(e)}))}else Q(q)}),[f,Y,Q,q]),Z=(0,t.useFacetCallback)((e=>()=>{e&&(O(!1),J(!1),setTimeout((()=>T(U(".stateCollapsed"))),0)),k&&k(e)}),[k,O,J,T,U],[P]),ee=(0,t.useFacetCallback)((e=>()=>{const t=!e;O(t),o&&o(t),J(t)}),[O,o,J],[P]),te=(0,t.useFacetCallback)((e=>t=>{r(t),ee();const a=IS()(TS()("value",t))(e);setTimeout((()=>T([U(".selected"),null==a?void 0:a.narrationSuffix].join(" . "))),0)}),[r,ee,T,U],[z]),ae=(0,t.useFacetMap)(((e,t,a)=>(e||!b)&&(t||a)),[b],[P,N,L]),ne=(0,t.useFacetMemo)((e=>e.map(((t,a)=>zS(zS({},t),{},{enumeration:U(".enumeration",[`${a+1}`,`${e.length}`]),gamepadAlias:null!=f?`${f}-${a}`:`dd-bevel-${Y}-${a}`})))),[U,f,Y],[z]),re=$n("neutral"),le=(0,t.useFacetMap)(((e,t)=>lr()("D93jN",{ZSOVX:!e||!0===t})),[],[P,I]),oe=(0,t.useFacetMap)(((e,t)=>!e||!0===t),[],[P,I]),ie=(0,t.useFacetMap)((e=>e?U(".stateExpanded"):""),[U],[P]),ce=(0,t.useFacetMap)((e=>({button:W.B,disabled:!e,inputLegend:U(".close")})),[U],[ae]);return e.createElement(rs,{text:null!=h?h:HS},e.createElement("fast-div",{ref:B,className:X},e.createElement("fast-div",{className:K},e.createElement(Ys,{reflection:"specular",variant:S,narrationText:!1,onClick:ee,gamepadIndex:0,inputLegend:U(".open"),onFocusChanged:e=>{A(e),null==u||u(e)},onHoverChanged:e=>{null==d||d(e)},shouldNotDepressWhenPressed:!0,height:w?4:4.2,isElevated:v,disabled:I,soundEffectPressed:null!=g?g:re.press,gamepadAlias:q},e.createElement(GS,{hideDownArrow:F},(0,t.useFacetMap)(((e,t)=>e?e.label:null!=t?`${t}...`:""),[],[H,D])))),M?e.createElement($S,{when:P,content:e.createElement(rs,{text:ie},e.createElement("fast-div",{className:le},e.createElement(AS,{disabled:oe,footer:p,menuRole:S,itemRole:y,style:C},e.createElement(t.Map,{array:ne},((a,n)=>e.createElement(t.DeferredMount,null,e.createElement(DS,{item:a,gamepadIndex:n,onChange:te,key:n,currentValue:j,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:R,disabled:oe})))),e.createElement(Ts,{options:ce,onClick:Z})))),containerRef:M}):e.createElement(rs,{text:ie},e.createElement("fast-div",{className:le},e.createElement(AS,{disabled:oe,footer:p,menuRole:S,itemRole:y,style:C},e.createElement(t.Map,{array:ne},((a,n)=>e.createElement(t.DeferredMount,null,e.createElement(DS,{item:a,gamepadIndex:n,onChange:te,key:n,currentValue:j,soundEffectPressed:null!=g?g:re.press,soundEffectHovered:null!=E?E:re.hover,onFocusChanged:R,disabled:oe})))),e.createElement(Ts,{options:ce,onClick:Z}))))))}const GS=({children:t,hideDownArrow:a,menuRole:n="secondary"})=>{const r=Vn(n);return e.createElement("fast-div",{className:lr()("NKSLw",r.text.interactive)},e.createElement(Ns,null,t),!a&&e.createElement("div",{className:"boDJV"},e.createElement(WS,null)))};VS.ToggleInnerWrapper=GS;const $S=a=>!0===(0,t.useFacetUnwrap)(a.when)&&a.containerRef.current?e.createElement(e.Fragment,null,(0,t.createPortal)(a.content,a.containerRef.current)):null,KS=e=>e();function XS({description:a,gamepadIndex:n,onChange:r,wrapperRef:l,onFocusChanged:o,placeholder:i,label:c,options:s,value:u,disabled:d,disabledNarrationSuffix:m,soundEffectPressed:p,gamepadAlias:f}){const g=(0,t.useFacetWrap)(u),E=(0,t.useFacetWrap)(d),h=(0,t.useFacetWrap)(n);return e.createElement(ns,{options:(0,t.useFacetMap)((e=>({index:e})),[],[h])},e.createElement(YS,{options:s,value:g,disabled:E,disabledNarrationSuffix:m,label:c,description:a,placeholder:i,onChange:r,wrapperRef:l,onFocusChanged:o,soundEffectPressed:p,gamepadAlias:f}))}function YS({options:a,label:n,description:r,placeholder:l,value:o,onChange:i,wrapperRef:c,disabled:s,disabledNarrationSuffix:u,onFocusChanged:d,soundEffectPressed:m,gamepadAlias:p,menuRole:f="secondary",itemRole:g="neutral60"}){const{t:E}=oi("Dropdown"),h=Ia(),b=(0,t.useFacetWrap)(a),v=(0,t.useFacetMap)(((e,t)=>e.find((e=>e.value===t))),[],[b,o]),F=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""}),[],[v]),S=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.description)&&void 0!==t?t:""}),[],[v]),y=(0,t.useFacetMap)((e=>Boolean(e)),[],[S]),C=(0,e.useRef)(null),[M,k,w]=function(e,a,n){const r=ko(4.8),l=ko(30),o=(0,t.useFacetMap)((e=>e.length),[],[(0,t.useFacetWrap)(e)]),[i,c]=(0,t.useFacetState)(""),[s,u]=(0,t.useFacetState)("");return[{height:i},{height:s},e=>{var i;const s=null==n?void 0:n.current,d=null==n||null===(i=n.current)||void 0===i?void 0:i.parentElement,m=a.current,p=o.get();if(m&&p!==t.NO_VALUE)if(s&&d){const t=s.getBoundingClientRect().height,a=m.offsetTop,n=p*r,o=12,i=Math.min(Math.max(t,a+n+o),l+a+o),u=d.scrollHeight<s.offsetTop+i;c(e&&u?`${i}px`:"")}else{const t=m.getBoundingClientRect();if(0===t.height)return;const a=window.innerHeight-t.top;u(a<l&&e?`${a}px`:"")}}]}(a,C,c),T=(0,t.useFacetMap)(((e,t)=>[e,E(".toggleElementType"),E(".selected"),t,u].join(" . ")),[E,u],[F,S]),x=(0,t.useFacetWrap)(null!=s&&s),I=(0,t.useFacetMap)((e=>h&&!0===e),[h],[x]),P=(0,t.useFacetMap)(((e,t)=>[n,E(".narrationComponentType"),t?E(".narrationDisabled"):"",E(".stateCollapsed"),t?e:""].join(" . ")),[E,n],[T,x]);return e.createElement(rs,{text:P},e.createElement(Ws,{style:M,focusable:I,narrationText:""},e.createElement(zs,{disabled:s},n),null!=r&&e.createElement(js,null,r),e.createElement(Sc,{size:1}),e.createElement(VS,{narrationText:T,options:a,value:o,onChange:i,disabled:s,placeholder:l,onFocusChanged:d,footer:e.createElement(Zu.Space,null),soundEffectPressed:m,onOpenClose:w,dropdownRef:C,gamepadAlias:p,menuRole:f,itemRole:g,dropdownMenuStyle:k}),e.createElement(t.Mount,{when:y},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(js,{disabled:s},S)))))}let qS=0;const QS=()=>{};function JS({options:a,title:n,description:r,onChange:l=QS,disabled:o=!1,value:i,wrapToggleText:c,onMountComplete:s,soundEffectPressed:u,disabledNarrationSuffix:d}){const m=$n("neutral"),p=(0,e.useRef)(null),f=(0,t.useFacetWrap)(a),g=((e,a)=>{const[n,r]=(0,t.useFacetState)("unknown"),l=(0,t.useFacetCallback)((e=>t=>{r(t.width<e?"smaller":"bigger")}),[r],[wo(a)]);return Eo(e,l),n})(p,(0,t.useFacetMap)((e=>15*e.length),[],[f])),E=(0,t.useFacetMap)((e=>"smaller"===e),[],[g]),h=(0,t.useFacetMap)((e=>"unknown"===e),[],[g]);return(0,t.useFacetEffect)((e=>{e||null==s||s()}),[s],[h]),e.createElement("div",{ref:p},e.createElement(t.Mount,{when:E},e.createElement(XS,{label:n,description:r,gamepadIndex:0,options:a,value:i,onChange:l,disabled:o,disabledNarrationSuffix:d,soundEffectPressed:null!=u?u:m.toggle,wrapperRef:p})),e.createElement(t.Mount,{when:E,condition:!1},e.createElement(ZS,{disabledNarrationSuffix:d,options:a,title:n,description:r,onChange:l,disabled:o,value:i,wrapToggleText:c,soundEffectPressed:null!=u?u:m.toggle,skeleton:h})))}function ZS({options:a,title:n,description:r,onChange:l=QS,disabled:o=!1,value:i,wrapToggleText:c,soundEffectPressed:s,disabledNarrationSuffix:u,skeleton:d}){var m;const p=(0,t.useFacetUnwrap)(a),f=(0,t.useFacetUnwrap)(i),g=(0,t.useFacetUnwrap)(o),E=(0,e.useRef)("MCT-"+qS++),{narrateText:h}=Xc(),{t:b}=oi("Toggle"),v=Ia();if(p===t.NO_VALUE||f===t.NO_VALUE||g===t.NO_VALUE)return null;const F=p.findIndex((e=>e.value===f)),S=null===(m=p.find((e=>e.value===f&&e.description)))||void 0===m?void 0:m.description,y=g&&v?[null!=n?n:"",b(".narrationComponentType"),b(".narrationDisabled"),p[F].label,b(".narrationOptionType"),b(".narrationSelected"),null!=S?S:"",null!=u?u:""].join(" . "):"";return e.createElement(Ws,{focusable:g&&v,narrationText:y},null!=n&&e.createElement(zs,{disabled:g},n),null!=r?e.createElement(js,null,r):null,e.createElement(Sc,{size:1}),e.createElement("div",{className:"RJ8Px"},e.createElement(t.Mount,{when:d,condition:!1},e.createElement(rs,{text:`${null!=n?n:""} ${b(".narrationComponentType")}`},p.map(((a,n)=>e.createElement(MS,{key:n,icons:a.icons,onClick:()=>{const e=p[n];h([b(".narrationSelected"),e.narrationSuffix].join(" . ")),function(e){p!==t.NO_VALUE&&l(p[e].value)}(n)},selected:F===n,gamepadIndex:n,gamepadAlias:`${E.current}.${n}`,extraSpeechProps:{index:n,groupSize:p.length,description:a.description},disabled:g,wrapText:c,soundEffectPressed:F===n?void 0:s},a.label))))),e.createElement(t.Mount,{when:d},e.createElement(kS,null))),null!=S&&e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(js,null,S)))}function ey({children:t,role:a="neutral"}){const n=Vn(a);return e.createElement("div",{className:lr()(n.background.base,n.text.base)},t)}function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ty.apply(this,arguments)}function ay(t){var a;return t.shouldSkipLandmarkInVisual?e.createElement(pr,{disabled:t.disabled},t.children):null==t.containerRef?e.createElement(pr,t,t.children):e.createElement(ac,ty({},t,{delegateFocusFromMemory:t.delegateFocusFromMemory||"remember"===t.defaultFocusedChildBehavior,delegateFocusByAlias:null!==(a=t.delegateFocusByAlias)&&void 0!==a?a:t.defaultFocusedChildAlias}))}function ny(e){return e===He.NX_HANDHELD||e===He.NX_TV}function ry(e){return e===He.PS4}JS.displayName="Toggles",JS.Toggle=MS;const ly=a.p+"assets/achievement-bottle-1487f.png",oy="Wb7RU";let iy;function cy({isLockedTemplate:a,isAchievementsDisabled:n,achievementsDisabledMessages:r,multiplayerWarningState:l,experimentsWarningEnabled:o,onUnlockTemplateSettings:i,isEditorWorld:c,hardcoreModeMessageTab:s}){const{t:d}=oi("Notifications"),p=u(),f="edit"===(0,e.useContext)(rv),g=(0,t.useFacetMap)(((e,t,a)=>e&&!t&&!a),[],[n,(0,t.useSharedFacet)(mm),c]),E=uv.useShowModal(),h=(0,t.useSharedFacet)(hg),b=(0,t.useFacetMap)((e=>!e&&o),[o],[a]),v=lF.useShowModal(),F=(0,t.useFacetMap)((e=>e.platform),[],[(0,t.useSharedFacet)(Ir)]),S=(0,t.useFacetMap)((e=>l?function(e,t,a){if(e===vm.CHECK_INTERNET_CONNECTION)return a(".multiplayerWarnings.checkInternetConnection");if(e===vm.DISCONNECTED_THIRD_PARTY_WITH_SUBSCRIPTION){if(ry(t))return a(".multiplayerWarnings.playstationDisconnectedThirdPartyWithSubscription");if(ny(t))return a(".multiplayerWarnings.nintendoDisconnectedThirdPartyWithSubscription")}if(e===vm.LOCAL_MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY)return a(".multiplayerWarnings.nintendoLocalMultiplayerPrivilegesBlockedThirdParty");if(e===vm.MULTIPLAYER_PRIVILEGES_BLOCKED_THIRD_PARTY){if(ry(t))return a(".multiplayerWarnings.playstationMultiplayerPrivilegesBlockedThirdParty");if(ny(t))return a(".multiplayerWarnings.nintendoMultiplayerPrivilegesBlockedThirdParty")}return e===vm.MULTIPLAYER_PRIVILEGES_BLOCKED?a(".multiplayerWarnings.multiplayerPrivilegesBlocked"):e===vm.MULTIPLAYER_PRIVILEGES_BLOCKED_ON_CONSOLE?a(".multiplayerWarnings.multiplayerPrivilegesBlockedOnConsole"):e===vm.CROSS_PLATFORM_DISABLED?a(".multiplayerWarnings.playstationCrossPlatformDisabled"):e===vm.NON_MULTIPLAYER_SKIN_EQUIPPED?a(".multiplayerWarnings.nonMultiplayerSkinEquipped"):""}(l,e,d):""),[d,l],[F]),y=(0,t.useFacetMap)((e=>e.length>0),[],[S]),C=(0,t.useFacetMap)((()=>l===vm.NON_MULTIPLAYER_SKIN_EQUIPPED),[l],[]),M=(0,t.useFacetMap)((e=>e.isStorageLow),[],[(0,t.useSharedFacet)(Ir)]),k=(0,t.useFacetMap)((e=>e?d(function(e){switch(e){case iy.ADVANCED_TAB:return".hardcoreMode.advancedTab";case iy.CHEATS_TAB:return".hardcoreMode.cheatsTab";default:return".hardcoreMode.generalTab"}}(e)):""),[d],[(0,t.useFacetWrap)(s)]),w=(0,t.useFacetMap)((e=>!!e),[],[k]),T=(0,t.useFacetMap)(((e,t,a,n,r,l)=>e||t||a||o||n||r||l),[o],[y,g,a,h,M,w]),x=(0,t.useFacetCallback)((e=>()=>{var t,a;p.push(`/tabbed-upsell?tab=${t=e.tab,null!==(a={general:eg.MINECRAFT,"resource-packs":eg.PACKS,cheats:eg.MINECRAFT,experimental:eg.MINECRAFT,multiplayer:eg.MULTIPLAYER,advanced:eg.SEEDS,"behavior-packs":eg.PACKS}[t])&&void 0!==a?a:eg.MINECRAFT}`)}),[p],[m()]);return e.createElement(t.Mount,{when:T},e.createElement("div",{className:"eegnV"},e.createElement(t.Mount,{when:g},e.createElement(Ws,{compact:!0},e.createElement("div",{className:oy},e.createElement(lS,{role:"neutral100",gamepadIndex:0},e.createElement(oc,{className:"TBzZf",src:ly,imageRendering:"pixelated"}),e.createElement(Sc,{size:2}),e.createElement(lS.Text,null,d(".achievementsDisabled")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{onClick:()=>E({achievementsDisabledMessages:r,isEditWorld:f}),gamepadIndex:0},d(".readMoreLink")))))),e.createElement(t.Mount,{when:h},e.createElement(Ws,{compact:!0},e.createElement("div",{className:oy},e.createElement(lS,{role:"informative",gamepadIndex:1},e.createElement(lS.Text,null,d(".inTrialMode")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{onClick:x,gamepadIndex:0},d(".readMoreLink")))))),e.createElement(t.Mount,{when:y},e.createElement(Ws,{compact:!0},e.createElement("div",{className:oy},e.createElement(lS,{role:"informative",gamepadIndex:2},e.createElement(lS.Text,null,S),e.createElement(t.Mount,{when:C},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(lS.Link,{onClick:()=>p.push("/persona"),gamepadIndex:3},d(".changeSkinLink")))))))),e.createElement(t.Mount,{when:b},e.createElement(Ws,{compact:!0},e.createElement("div",{className:oy},e.createElement(lS,{role:"informative",gamepadIndex:4},e.createElement(lS.Text,null,d(".experimentsWarning.informationMessage")))))),e.createElement(t.Mount,{when:a},e.createElement(Ws,{compact:!0},e.createElement("div",{className:oy},e.createElement(lS,{role:"informative",gamepadIndex:5},e.createElement(lS.Text,null,d(".unlockSettingsMessage")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{gamepadIndex:1,onClick:()=>{v({onUnlockTemplateSettings:i,mainButtonAlias:UF})}},d(".unlockSettingsLink")))))),e.createElement(t.Mount,{when:M},e.createElement(Ws,{compact:!0},e.createElement("div",{className:oy},e.createElement(lS,{role:"noticeTint",gamepadIndex:6},e.createElement(lS.Text,null,d(".notEnoughStorage")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{onClick:()=>p.push("/settings/storage"),gamepadIndex:0},d(".freeSpace")))))),e.createElement(t.Mount,{when:w},e.createElement(Ws,{compact:!0},e.createElement("div",{className:oy},e.createElement(lS,{role:"informative",gamepadIndex:7},e.createElement(lS.Text,null,k)))))))}!function(e){e.GENERAL_TAB="generalTab",e.ADVANCED_TAB="advancedTab",e.CHEATS_TAB="cheatsTab"}(iy||(iy={}));const sy=(0,e.createContext)((0,t.createFacet)({initialValue:!1}));function uy({children:a,isLockedTemplate:n,isAchievementsDisabled:r,achievementsDisabledMessages:l,multiplayerWarningState:o,experimentsWarningEnabled:i,nestedRoutes:c,narrationText:s,onUnlockTemplateSettings:u,isEditorWorld:d,hardcoreModeMessageTab:m}){var p;const f=To(),g=null!==(p=DE())&&void 0!==p&&p,E=ir(),h=(0,e.useMemo)((()=>({clearRememberCache:e=>{}})),[]),b=(0,t.useFacetMap)((e=>!e),[],[E]),v=(0,e.useRef)(null),F=(0,e.useRef)();(0,t.useFacetLayoutEffect)((e=>{e||null==F.current||null==h||h.clearRememberCache(F.current),v.current&&(v.current.scrollTop=0)}),[h],[E]);const S=(0,t.useIsPaused)(),y=(0,t.useFacetMap)(((e,t)=>e||t||S),[S],[(0,e.useContext)(sy),(0,t.useIsDeferring)()]),C=c?dr:Ld,M=(0,t.useFacetUnwrap)(wl()),{t:k}=oi("CreateNewWorld"),w=`${k(".tabContainerNarrationSuffix")}. ${s}`;return e.createElement(rs,{text:w},e.createElement(C,{type:"contentful",renderingCompleted:!0}),e.createElement(Yc,{gamepadIndex:0,floating:"desktop"!==f,loading:y,disableScrolling:g,innerRef:v,defaultFocusedChildBehavior:"remember",stopCheckingForScroll:b,renderTracker:t=>e.createElement(C,{renderingCompleted:t,type:"meaningful"}),spinnerBackgroundColor:!0===M?void 0:"#48494A",nodeIdRef:F},"desktop"===f&&e.createElement(Sc,{size:2}),S?null:e.createElement(ey,{gamepadIndex:0},e.createElement("div",{className:"desktop"===f?"KdIrj":""},e.createElement(t.DeferredMount,null,e.createElement(rF,{options:{index:0}},e.createElement(ns,{options:{index:0}},e.createElement(cy,{isLockedTemplate:n,isAchievementsDisabled:r,achievementsDisabledMessages:l,multiplayerWarningState:o,experimentsWarningEnabled:i,onUnlockTemplateSettings:u,isEditorWorld:d,hardcoreModeMessageTab:m})))),e.createElement(rF,{options:{index:1}},e.createElement(ay,{shouldSkipLandmarkInVisual:!0},a)))),e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})})))}const dy=(e,t)=>e.isProfanityInString(t),my=pi((({onClose:t})=>{const{t:a}=oi("ProfanityWarningModalRoute");return e.createElement(sd,{defaultFocusAlias:"profanity-warning-modal-button"},e.createElement(sd.Header,{onClose:t},a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:a(".body"),center:!0},a(".body"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,inputLegend:a(".close"),variant:"primary",delayedClick:!0,onClick:t,gamepadAlias:"profanity-warning-modal-button"},a(".close"))))})),py=e=>{const a=my.useModal(),n=a.show;return[(0,t.useFacetCallback)((t=>(a,r)=>dy(t,a)?(e&&r(""),n(),cu.INVALID):cu.VALID),[e,n],[(0,t.useSharedFacet)(Gp)]),a]};function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},fy.apply(this,arguments)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},gy.apply(this,arguments)}const Ey=a=>{let{onBlur:n,filterProfanity:r=!1,clearOnProfanity:l=!0}=a,o=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["onBlur","filterProfanity","clearOnProfanity"]);const[i,c]=py(l),s=(0,e.useCallback)(((e,t)=>null!=n?n(e,t,dy):r?i(e,t):void 0),[n,i,r]);return e.createElement(e.Fragment,null,e.createElement(fu,gy({},o,{onBlur:s})),e.createElement(t.Mount,{when:c.isVisible},e.createElement(my.Component,{onClose:c.hide})))};Ey.WithButton=a=>{let{onBlur:n,filterProfanity:r=!1,clearOnProfanity:l=!0,buttonVariant:o="secondary"}=a,i=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["onBlur","filterProfanity","clearOnProfanity","buttonVariant"]);const[c,s]=py(l),u=(0,e.useCallback)(((e,t)=>null!=n?n(e,t,dy):r?c(e,t):void 0),[n,c,r]);return e.createElement(e.Fragment,null,e.createElement(fu.WithButton,fy({},i,{onBlur:u,buttonVariant:o})),e.createElement(t.Mount,{when:s.isVisible},e.createElement(my.Component,{onClose:s.hide})))};const hy=a.p+"assets/external-link-b22bb.png",by=pi((()=>{const{t}=oi("EditWorld.exportingWorldModal");return e.createElement(sd,null,e.createElement(sd.Header,null,t(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:t(".content"),gamepadIndex:0},t(".content"))))}));function vy(){const e=(0,t.useSharedFacet)(kg),a=(0,t.useFacetMap)((e=>e.worldData),[],[e]);return{advancedData:(0,t.useFacetMap)((e=>e.advanced),[],[a]),cheatsData:(0,t.useFacetMap)((e=>e.cheats),[],[a]),generalData:(0,t.useFacetMap)((e=>e.general),[],[a]),experimentsData:(0,t.useFacetMap)((e=>e.betaFeatures),[],[a]),multiplayerData:(0,t.useFacetMap)((e=>e.multiplayer),[],[a]),resourcePacksData:(0,t.useFacetMap)((e=>e.resourcePacks),[],[a])}}function Fy(){const e=m();return(0,t.useFacetMap)((e=>decodeURIComponent(e.id)),[],[e])}const Sy=pi((()=>{const{generalData:a}=vy(),n=(0,t.useFacetMap)((e=>e.worldName),[],[a]),{t:r}=oi("CreateNewWorld.duplicateWorld"),l=(0,t.useFacetMap)((e=>r(".header",[e])),[r],[n]);return e.createElement(sd,null,e.createElement(sd.Header,null,l),e.createElement(sd.Content,null,e.createElement(sd.Spinner,null)))})),yy=pi((({clearPlayerData:t,closeModal:a})=>{const{t:n}=oi("EditWorld.clearPlayerDataModal"),r=(0,e.useCallback)((()=>{null!=t&&t(Ig.IncludeLocalUser),a()}),[t,a]),l=(0,e.useCallback)((()=>{null!=t&&t(Ig.SkipLocalUser),a()}),[t,a]);return e.createElement(sd,{onOverlayClick:a},e.createElement(sd.Header,{onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".descriptionOne"),center:!0},n(".descriptionOne")),e.createElement(sd.Text,{gamepadIndex:1,narrationText:n(".descriptionTwo"),center:!0},n(".descriptionTwo"))),e.createElement(sd.Buttons,null,e.createElement(ru,{inputLegend:n(".allButton"),onClick:r},n(".allButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:n(".keepButton"),onClick:l},n(".keepButton"))))})),Cy="lyc-modal-continue",My=pi((({deleteWorld:t,closeModal:a})=>{const{t:n}=oi("CreateNewWorld.deleteWorldModal");return e.createElement(sd,{onOverlayClick:a,defaultFocusAlias:Cy},e.createElement(sd.Header,{onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".message"),gamepadIndex:0},n(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:Cy,inputLegend:n(".continueInputLegend"),variant:"secondary",onClick:a},n(".continueButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:n(".deleteInputLegend"),variant:"destructive",onClick:t},n(".deleteButton"))))})),ky="lyc-modal-continue",wy=pi((()=>{const a=hr(),{t:n}=oi("CreateNewWorld.editWorldErrorModal"),r=(0,t.useSharedFacet)(kg),l=(0,t.useSharedFacet)(Ag),o=(0,t.useFacetMap)((e=>e.loadWorldError),[],[r]),i=(0,t.useFacetMap)(((e,t)=>t.duplicateWorldError||e.saveLocalWorldError),[],[r,l]),c=(0,t.useFacetMap)(((e,t)=>null!=e||null!=t),[],[o,i]),s=(0,t.useFacetMap)(((e,t,a)=>{if(!a)return null;switch(e){case yg.IncorrectWorldId:case yg.UnexpectedError:return"unexpected"}switch(t){case Mg.IncorrectWorldId:case Mg.UnableToCreateWorldDirectoryPath:return"unexpected";case Mg.InsufficientDiskSpace:return"storage"}}),[],[o,i,c]),u=(0,t.useFacetMap)((e=>n("storage"===e?".storageError.title":".unexpectedError.title")),[n],[s]),d=(0,t.useFacetMap)((e=>n("storage"===e?".storageError.description":".unexpectedError.description")),[n],[s]),m=(0,t.useFacetCallback)(((e,t,n)=>()=>{null!=n?a.goBack():null!=t.duplicateWorldError?t.clearDuplicateWorldTaskState():null!=e.saveLocalWorldError&&e.clearSaveLocalWorldTaskState()}),[a],[r,l,o]);return e.createElement(sd,{onOverlayClick:m,defaultFocusAlias:ky},e.createElement(sd.Header,{onClose:m},u),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:d,gamepadIndex:0,center:!0},d)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:ky,inputLegend:n(".closeButton"),variant:"secondary",onClick:m},n(".closeButton"))))})),Ty=pi((()=>{const{t}=oi("CreateNewWorld.savingWorldModal");return e.createElement(sd,null,e.createElement(sd.Header,null,t(".header")),e.createElement(sd.Content,null,e.createElement(sd.Spinner,null)))})),xy="rpdl-modal-cancel",Iy=pi((()=>{const{t:a}=oi("CreateNewWorld.resourcePacks"),n=(0,t.useSharedFacet)(Bg),r=(0,t.useFacetMap)((e=>e.packDownloadError),[],[n]),l=(0,t.useFacetCallback)((e=>()=>{e.cancelPackDownload()}),[],[n]),o=(0,t.useFacetMap)((e=>e===_g.MissingDlcWorldTemplate?a(".downloadWorldTemplateNoInternetTitle"):e===_g.NoInternet?a(".downloadNoInternetTitle"):e===_g.HasPerformanceIssues?a(".errorIncompatibleDeviceTitle"):a(".errorUnknownTitle")),[a],[r]),i=(0,t.useFacetMap)((e=>e===_g.MissingDlcWorldTemplate?a(".downloadWorldTemplateNoInternetMsg"):e===_g.NoInternet?a(".connectionFailedBody"):e===_g.HasPerformanceIssues?a(".errorIncompatibleDeviceBody"):a(".errorUnknownBody")),[a],[r]),c=(0,t.useFacetMap)((e=>e===_g.MissingDlcWorldTemplate?a(".downloadWorldTemplateMsgRemovePacks"):""),[a],[r]),s=(0,t.useFacetUnwrap)(r)!==_g.MissingDlcWorldTemplate;return e.createElement(sd,{defaultFocusAlias:xy},e.createElement(sd.Header,{onClose:l},o),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:i,center:s},i),s&&e.createElement(sd.Text,{gamepadIndex:1,narrationText:c,center:!0},c)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:xy,inputLegend:a(".goBackButton"),onClick:l},a(".goBackButton"))))})),Py=pi((()=>{const a=(0,t.useSharedFacet)(Ag),{t:n}=oi("CreateNewWorld.general"),r=(0,t.useFacetMap)((e=>e.makeWorldInfiniteProgress),[],[a]);return e.createElement(sd,null,e.createElement(sd.Header,null,n(".makingInfiniteWorldProgressModal")),e.createElement(sd.Content,null,e.createElement(sd.Progress,{percentage:r})))})),Oy="content-key-error-modal-back",Ny=pi((()=>{const{t:a}=oi("CreateNewWorld.resourcePacks"),n=(0,t.useSharedFacet)(zg),r=(0,t.useFacetMap)((e=>{const t=e.brokenPacksToStart.map((e=>e.name)),n=t.map((e=>`"${e}"`)),r=t.length>1;return a(r?".contentKeyErrorBodyMultiple":".contentKeyErrorBody",[n.join(", ")])}),[a],[n]),l=(0,t.useFacetCallback)((e=>()=>e.clearStartLocalWorldResult()),[],[n]);return e.createElement(sd,{onOverlayClick:l,defaultFocusAlias:Oy},e.createElement(sd.Header,{onClose:l},a(".contentKeyErrorTitle")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:r,gamepadIndex:0,center:!0},r)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:Oy,variant:"secondary",inputLegend:a("PlatformLockedModal.closeInputLegend"),onClick:l},a("PlatformLockedModal.closeInputLegend"))))}));let Ay;!function(e){e.DaylightCycleChanged="daylight_cycle_changed",e.CheatsChanged="cheats_changed",e.DifficultyChanged="difficulty_changed",e.GameModeChanged="game_mode_changed",e.MultiplayerChanged="multiplayer_changed"}(Ay||(Ay={}));const Ly="lu82f",Ry=a.p+"assets/hardcore-heart-engraved-75556.png";function Dy(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Dy(Object(a),!0).forEach((function(t){By(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Dy(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function By(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Wy({isLockedTemplate:a,generalData:n,isUsingTemplate:r,worldSummary:l,isEditorWorld:o,generatorType:i,isAchievementsDisabled:c,achievementsDisabledMessages:s,isHardcoreMode:u,onUnlockTemplateSettings:d,onMakeWorldInfinite:m,onDuplicateWorld:p,onDeleteWorld:f,onExportWorld:g,onOptOut:E}){const{t:h}=oi("CreateNewWorld.general"),{t:b}=oi("CreateNewWorldSideMenu"),v=1==(0,t.useFacetUnwrap)(o)?".editor":"",F="edit"===(0,e.useContext)(rv),S=yv(),y=(0,t.useSharedFacet)(vg),C=(0,t.useSharedFacet)(um),M=(0,t.useSharedFacet)(Eg),k=(0,t.useFacetMap)((e=>F&&(e.isDevBuild||e.isPreviewBuild)),[F],[C]),w=(0,t.useFacetCallback)((e=>()=>{S({button:"Feedback",screen:"EditWorld"}),e.openLink(bg.EditWorldScreenFeedbackPage)}),[S],[y]),T=(0,t.useFacetMap)((e=>F&&e===Cg.Legacy),[F],[i]),x=(0,t.useFacetMap)((e=>e.worldName),[],[n]),I=(0,t.useFacetCallback)((e=>t=>e.worldName=t),[],[n]),P=!0===(0,t.useFacetUnwrap)(u)&&F?iy.GENERAL_TAB:void 0,O=(0,t.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(gg.XboxLive)),[],[M]),N=(0,t.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(gg.XboxLive_Parental)),[],[M]),A=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.ParentPermissionHelpPage)}),[],[(0,t.useSharedFacet)(vg)]),L=Rd(Rm),R=(0,t.useFacetMap)((e=>L&&!e),[L],[o]);return e.createElement(t.DeferredMountProvider,null,e.createElement(uy,{isLockedTemplate:a,isAchievementsDisabled:c,achievementsDisabledMessages:s,narrationText:b(".generalTabLabel"),onUnlockTemplateSettings:d,isEditorWorld:o,hardcoreModeMessageTab:P},e.createElement(t.Mount,{when:O},e.createElement("div",{className:Ly},e.createElement(Ws,{compact:!0},e.createElement(lS,{role:"noticeTint",gamepadIndex:7},e.createElement(lS.Text,null,h(".multiplayerPermissionBanner.text")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{gamepadIndex:1,onClick:A},h(".multiplayerPermissionBanner.link")))))),e.createElement(t.Mount,{when:N},e.createElement("div",{className:Ly},e.createElement(Ws,{compact:!0},e.createElement(lS,{role:"noticeTint",gamepadIndex:7},e.createElement(lS.Text,null,h(".multiplayerPermissionBanner.textParental")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{gamepadIndex:1,onClick:A},h(".multiplayerPermissionBanner.link")))))),e.createElement(t.Mount,{when:k},e.createElement(t.DeferredMount,null,e.createElement(iS,{title:h(".designPreviewTitle"),description:h(".designPreviewDescription"),buttons:e.createElement(e.Fragment,null,e.createElement(ru,{inputLegend:h(".designPreviewInputLegend"),horizontal:!0,onClick:w,imgSrc:hy},h(".feedbackButton")),e.createElement(iS.ButtonSpacing,null),e.createElement(ru,{inputLegend:h(".designPreviewInputLegend"),horizontal:!0,onClick:E},h(".optOutButton")))}))),e.createElement(t.Mount,{when:o},e.createElement(t.DeferredMount,null,e.createElement(cS,{title:h(".projectHeader")}))),e.createElement(t.DeferredMount,null,e.createElement(Ey,{label:h(`${v}.worldNameTitle`),gamepadIndex:1,placeholder:h(`${v}.worldNamePlaceholder`),maxLength:30,value:x,onChange:I,filterProfanity:!0,disabled:a})),e.createElement(t.Mount,{when:o},e.createElement(t.DeferredMount,null,e.createElement(cS,{title:h(".exportSettingsHeader"),description:h(".exportSettingsDescription")}))),e.createElement(t.DeferredMountWithCallback,null,e.createElement(jy,{isLockedTemplate:a,generalData:n,isUsingTemplate:r,achievementsDisabledMessages:s,isHardcoreMode:u})),e.createElement(t.DeferredMountWithCallback,null,e.createElement(zy,{isLockedTemplate:a,generalData:n,isHardcoreMode:u})),e.createElement(t.Mount,{when:R},e.createElement(t.DeferredMount,null,e.createElement(Uy,{isLockedTemplate:a,generalData:n,editingWorld:F}))),e.createElement(t.Mount,{when:T},e.createElement(t.DeferredMount,null,e.createElement(Ws,null,e.createElement(zs,null,h(".makeInfiniteHeader")),e.createElement(Sc,{size:1}),e.createElement("div",{style:{flexDirection:"row"}},e.createElement(ru,{variant:"secondary",onClick:m,inputLegend:h(".makeInfiniteButton"),autofocus:!0,horizontal:!0},h(".makeInfiniteButton"))),e.createElement(Sc,{size:1}),e.createElement(js,null,h(".makeInfiniteDescription"))))),F&&null!=l&&e.createElement(t.DeferredMount,null,e.createElement(Hy,{worldSummary:l,onDuplicateWorld:p,onDeleteWorld:f,onExportWorld:g}))))}function Uy({generalData:a,editingWorld:n,isLockedTemplate:r}){const{t:l}=oi("CreateNewWorld.general"),o=wa(),i=(0,t.useSharedFacet)(hg),c=(0,t.useFacetMap)(((e,t,a)=>a||t||n||e.gameMode!==tg.SURVIVAL&&e.gameMode!==tg.ADVENTURE),[n],[a,r,i]);return e.createElement(vS,{title:l(".hardcoreModeTitle"),soundEffectPressed:"ui.hardcore_toggle_press",disabled:c,description:l(".hardcoreModeDescription"),value:(0,t.useFacetMap)((e=>e.isHardcore),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.isHardcore=t,o(t?"ui.hardcore_enable":"ui.hardcore_disable")}),[o],[a]),gamepad:{index:4},imgSrc:Ry,"data-testid":"hardcore-mode-toggle"})}function zy({generalData:a,isLockedTemplate:n,isHardcoreMode:r}){const{t:l}=oi("CreateNewWorld.general"),o=(0,t.useNotifyMountComplete)(),i="edit"===(0,e.useContext)(rv),c=(0,t.useSharedFacet)(Xf);return e.createElement(JS,{onMountComplete:o,title:l(".difficultyTitle"),disabled:(0,t.useFacetMap)(((e,t)=>e||t),[],[r,n]),gamepad:{index:3},options:[{label:l(".difficultyPeacefulLabel"),description:l(".difficultyPeacefulDescription"),value:Em.PEACEFUL},{label:l(".difficultyEasyLabel"),description:l(".difficultyEasyDescription"),value:Em.EASY},{label:l(".difficultyNormalLabel"),description:l(".difficultyNormalDescription"),value:Em.NORMAL},{label:l(".difficultyHardLabel"),description:l(".difficultyHardDescription"),value:Em.HARD}],value:(0,t.useFacetMap)(((e,t)=>t?Em.HARD:e.difficulty),[],[a,r]),onChange:(0,t.useFacetCallback)(((e,t)=>a=>{i&&t.trackOptionChanged(Ay.DifficultyChanged,e.difficulty,a),e.difficulty=a}),[i],[a,c])})}function jy({generalData:a,isLockedTemplate:n,isUsingTemplate:r,achievementsDisabledMessages:l,isHardcoreMode:o}){const{t:i}=oi("CreateNewWorld.general"),{t:c}=oi("CreateNewWorld.all"),s=(0,t.useSharedFacet)(hg),u="edit"===(0,e.useContext)(rv),d=(0,t.useSharedFacet)(Xf),m=(0,t.useFacetMap)(((e,t,a)=>e||t||a),[],[n,s,o]),p=(0,t.useFacetMap)(((e,t)=>{const a=[_y({label:i(".gameModeSurvivalLabel"),description:i(".gameModeSurvivalDescription"),value:tg.SURVIVAL},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{}),{label:i(".gameModeCreativeLabel"),description:i(".gameModeCreativeDescription"),value:tg.CREATIVE,narrationSuffix:c(".narrationSuffixDisablesAchievements")}];return(u||t)&&a.push(_y({label:i(".gameModeAdventureLabel"),description:i(t?".gameModeAdventureTemplateDescription":".gameModeAdventureDescription"),value:tg.ADVENTURE},1===e.length?{narrationSuffix:c(".narrationSuffixEnablesAchievements")}:{})),a}),[i,c,u],[l,r]),f=(0,t.useNotifyMountComplete)();return e.createElement(JS,{title:i(".gameModeTitle"),gamepad:{index:2},disabled:m,options:p,onMountComplete:f,value:(0,t.useFacetMap)((e=>e.gameMode),[],[a]),onChange:(0,t.useFacetCallback)(((e,t)=>a=>{const n=e.gameMode;e.gameMode=a,u&&t.trackOptionChanged(Ay.GameModeChanged,n,a)}),[u],[a,d])})}function Hy({worldSummary:a,onDuplicateWorld:n,onDeleteWorld:r,onExportWorld:l}){const{t:o}=oi("CreateNewWorld.general"),i=(0,t.useFacetMap)((e=>{var t,a;const n=null!==(t=null==e?void 0:e.fileSize)&&void 0!==t?t:"-",r=null!==(a=null==e?void 0:e.lastSaved)&&void 0!==a?a:"-";return o(".fileDetails",[n,r])}),[o],[a]),c=(0,t.useFacetMap)((e=>[o(".fileManagementTitle"),o(".fileManagement.narrationComponentTypeSectionHeader"),e].join(" . ")),[o],[i]),s=My.useShowModal(),u=mi(),d=(0,e.useCallback)((()=>{null!=r&&(r(),u())}),[r,u]),m=(0,t.useSharedFacet)(Ir),p=(0,t.useFacetMap)((e=>Zv(e.platform)),[],[m]);return e.createElement(rs,{text:c},e.createElement(rF,{options:{index:5}},e.createElement(Ws,{compact:!0},e.createElement(Sc,{size:3}),e.createElement(zs,null,o(".fileManagementTitle")),e.createElement(Sc,{size:1}),e.createElement("div",{style:{flexDirection:"row"}},e.createElement(ru,{variant:"secondary",gamepadIndex:0,onClick:n,inputLegend:o(".fileManagementDuplicateWorldLabel"),autofocus:!0,horizontal:!0},o(".fileManagementDuplicateWorldLabel")),e.createElement(iS.ButtonSpacing,null),e.createElement(ru,{variant:"destructive",gamepadIndex:1,onClick:()=>s({deleteWorld:d,closeModal:u}),inputLegend:o(".fileManagementDeleteWorldLabel"),autofocus:!0,horizontal:!0},o(".fileManagementDeleteWorldLabel"))),e.createElement(t.Mount,{when:p},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement("div",{style:{flexDirection:"row"}},e.createElement(ru,{variant:"secondary",gamepadIndex:2,onClick:l,inputLegend:o(".fileManagementExportWorldLabel"),autofocus:!0,horizontal:!0},o(".fileManagementExportWorldLabel"))))),e.createElement(Sc,{size:1}),e.createElement(js,null,i),e.createElement(Sc,{size:3}))))}function Vy({cheatsData:a,disabled:n,gamepadIndex:r,isHardcoreMode:l}){const{t:o}=sp("CreateNewWorld.cheats"),{t:i}=sp("CreateNewWorld.cheats.narration"),c=(0,t.useFacetMap)(((e,t)=>t?1..toString():e.tickSpeed.toString()),[],[a,(0,t.useFacetWrap)(null!=l&&l)]),{narrateText:s}=Xc({interruptible:!1}),u=(0,t.useFacetCallback)((e=>t=>{e.tickSpeed=t}),[],[a]),d=(0,e.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g),n=parseInt(e)<=4096;return 0!==e.length&&a?n?fu.ValidationResult.VALID:(s(i(".tickSpeedNotWithinRange")),t(4096..toString()),fu.ValidationResult.INVALID):(s(i(".tickSpeedInvalidValue")),t(1..toString()),fu.ValidationResult.INVALID)}),[s,i]);return e.createElement(Ey.WithButton,{disabledNarrationSuffix:o(".settingDisabledHint"),buttonInputLegend:o(".tickSpeedReset"),buttonText:o(".tickSpeedReset"),disabled:n,buttonOnClick:()=>u(1..toString()),gamepadIndex:r,label:o(".tickSpeedLabel"),description:o(".tickSpeedDescription"),maxLength:4,value:c,onChange:u,onBlur:d,buttonNarrationHint:o(".narrationTickSpeedButtonNarrationHint"),isNumber:!0})}function Gy({cheatsData:a,disabled:n,gamepadIndex:r,isHardcoreMode:l}){const{t:o}=sp("CreateNewWorld.cheats"),i="edit"===(0,e.useContext)(rv),c=(0,t.useSharedFacet)(Xf),s=(0,t.useFacetCallback)(((e,t)=>a=>{i&&t.trackOptionChanged(Ay.DaylightCycleChanged,e.daylightCycle,a),e.daylightCycle=a}),[i],[a,c]),u=(0,t.useFacetMap)(((e,t)=>t?hm.NORMAL:e.daylightCycle),[],[a,(0,t.useFacetWrap)(null!=l&&l)]),d=[{label:o(".daylightCycleNormalLabel"),description:o(".daylightCycleNormalDescription"),value:hm.NORMAL},{label:o(".daylightCycleAlwaysDayLabel"),description:o(".daylightCycleAlwaysDayDescription"),value:hm.ALWAYS_DAY}];return i&&d.push({label:o(".daylightCycleLockTimeLabel"),description:o(".daylightCycleLockTimeDescription"),value:hm.LOCK_TIME}),e.createElement(JS,{disabledNarrationSuffix:o(".settingDisabledHint"),onMountComplete:(0,t.useNotifyMountComplete)(),title:o(".daylightCycleTitle"),disabled:n,gamepad:{index:r},options:d,value:u,onChange:s})}function $y({cheatsData:a,isLockedTemplate:n,achievementsDisabledMessages:r,isHardcoreMode:l}){const{t:o}=sp("CreateNewWorld.cheats"),{t:i}=sp("CreateNewWorld.all"),c="edit"===(0,e.useContext)(rv),s=(0,t.useSharedFacet)(Xf),u=(0,t.useFacetMap)(((e,t,a)=>e||t||a),[],[n,(0,t.useSharedFacet)(hg),l]),d=(0,t.useFacetCallback)(((e,t)=>a=>{c&&t.trackOptionChanged(Ay.CheatsChanged,Number(e.cheatsEnabled),Number(a)),e.cheatsEnabled=a}),[c],[a,s]),m=(0,t.useFacetMap)(((e,t)=>!t&&e.cheatsEnabled),[],[a,l]);return e.createElement(vS,{title:o(".title"),description:o(".description"),disabled:u,gamepad:{index:0},value:m,onChange:d,onNarrationText:i(".narrationSuffixDisablesAchievements")+" . "+i(".narrationSuffixSettingsAvailable"),offNarrationText:(0,t.useFacetMap)((e=>0===e.length?i(".narrationSuffixEnablesAchievements"):void 0),[i],[r])})}function Ky({cheatsData:a,isLockedTemplate:n,isAchievementsDisabled:r,achievementsDisabledMessages:l,onUnlockTemplateSettings:o,isEditorWorld:i,isHardcoreMode:c}){const{t:s}=sp("CreateNewWorld.cheats"),{t:u}=sp("CreateNewWorldSideMenu"),d=!0===(0,t.useFacetUnwrap)((0,t.useSharedFacet)(mm)),m=[{title:s(".inventoryTitle"),description:s(".inventoryDescription"),value:(0,t.useFacetMap)(((e,t)=>!t&&e.keepInventory),[],[a,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.keepInventory=t}),[],[a])},{title:s(".mobSpawningTitle"),description:s(".mobSpawningDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.mobSpawning),[],[a,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.mobSpawning=t}),[],[a])},{title:s(".mobGriefingTitle"),description:s(".mobGriefingDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.mobGriefing),[],[a,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.mobGriefing=t}),[],[a])},{title:s(".entitiesDropLootTitle"),description:s(".entitiesDropLootDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.entitiesDropLoot),[],[a,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.entitiesDropLoot=t}),[],[a])},{title:s(".weatherTitle"),description:s(".weatherDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.weather),[],[a,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.weather=t}),[],[a])},{title:s(".commandBlocksTitle"),description:s(".commandBlocksDescription"),value:(0,t.useFacetMap)(((e,t)=>!!t||e.commandBlocks),[],[a,c]),onChange:(0,t.useFacetCallback)((e=>t=>{e.commandBlocks=t}),[],[a])},{title:s(".educationTitle"),description:s(".educationDescription"),value:(0,t.useFacetMap)(((e,t)=>!t&&e.educationEdition),[],[a,c]),hidden:d,onChange:(0,t.useFacetCallback)((e=>t=>{e.educationEdition=t}),[],[a])}],p=(0,t.useFacetMap)(((e,t,a)=>!e.cheatsEnabled||t||a),[],[a,n,c]),f=!0===(0,t.useFacetUnwrap)(c)?iy.CHEATS_TAB:void 0;return e.createElement(t.DeferredMountProvider,null,e.createElement(uy,{isLockedTemplate:n,isAchievementsDisabled:r,achievementsDisabledMessages:l,narrationText:u(".cheatsTabLabel"),onUnlockTemplateSettings:o,isEditorWorld:i,hardcoreModeMessageTab:f},d?null:e.createElement(t.DeferredMount,null,e.createElement($y,{cheatsData:a,isLockedTemplate:n,achievementsDisabledMessages:l,isHardcoreMode:c})),e.createElement(rs,{text:d?[s(".settingsTitle.edu"),s(".settingsDescription.1"),s(".settingsDescription.2")].join(" . "):[s(".settingsTitle"),s(".narrationComponentTypeSectionHeader")].join(" . ")},d?e.createElement(t.DeferredMount,null,e.createElement(Ws,{compact:!0},e.createElement(Sc,{size:6}),e.createElement(gs,{type:"sectionHeader"},s(".settingsTitle")),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionShort",variant:"dimmer"},s(".settingsDescription.1")),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort",variant:"dimmer"},s(".settingsDescription.2")),e.createElement(Sc,{size:1}))):e.createElement(t.DeferredMount,null,e.createElement(cS,{title:s(".settingsTitle")})),e.createElement(t.DeferredMountWithCallback,null,e.createElement(Gy,{cheatsData:a,disabled:p,gamepadIndex:1,isHardcoreMode:c})),m.map(((a,n)=>a.hidden?null:e.createElement(t.DeferredMount,{key:a.title},e.createElement(vS,{disabledNarrationSuffix:s(".settingDisabledHint"),title:a.title,description:a.description,gamepad:{index:n+2},disabled:p,value:a.value,onChange:a.onChange})))),e.createElement(t.DeferredMount,null,e.createElement(Vy,{disabled:p,gamepadIndex:m.length+2,cheatsData:a,isHardcoreMode:c})))))}const Xy=a.p+"assets/under-construction-art-cropped-cd6d3.png",Yy="Qhp5U",qy="xjJ6b";function Qy(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Jy(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qy(Object(a),!0).forEach((function(t){Zy(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qy(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Zy(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function eC(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function tC({experimentalFeature:a,gamepadIndex:n,disabled:r,achievementsDisabledMessages:l,areAllTogglesDisabled:o}){const{gt:i}=function(){const{translate:t,formatDate:a}=(0,e.useContext)(Ur);return(0,e.useMemo)((()=>({f:{formatDate:a},gt:(e,a)=>{var n;return null!==(n=t(e,a))&&void 0!==n?n:e}})),[t,a])}(),{t:c}=oi("CreateNewWorld.all"),s=(0,t.useFacetMap)((e=>e.id),[],[a]),u=(0,t.useFacetUnwrap)(s),d=(0,t.useFacetMap)((e=>e.title),[],[a]),m=(0,t.useFacetUnwrap)(d),p=(0,t.useFacetMap)((e=>e.description),[],[a]),f=(0,t.useFacetUnwrap)(p),g=(0,t.useFacetMap)((e=>e.isEnabled),[],[a]),E=(0,t.useFacetMap)(((e,t)=>e||t.isTogglePermanentlyDisabled),[],[(0,t.useFacetWrap)(r),a]),h=(0,t.useFacetCallback)(((e,t)=>a=>{a&&t?km.set({userTriedToActivateToggle:!0,doSetToggleValue:()=>e.isEnabled=a,userHasAcceptedBetaFeatures:!1}):e.isEnabled=a}),[],[a,o]),b=c(".narrationSuffixDisablesAchievements"),v=(0,t.useFacetMap)((e=>0===e.length?c(".narrationSuffixEnablesAchievements"):void 0),[c],[l]);return null!=u?e.createElement(vS,{title:m!==t.NO_VALUE?i(m):"",description:f!==t.NO_VALUE?i(f):"",gamepad:{index:n},value:g,disabled:E,onChange:h,onNarrationText:b,offNarrationText:v}):null}function aC({item:a,index:n,achievementsDisabledMessages:r,areAllTogglesDisabled:l}){const{t:o}=oi("CreateNewWorld.experimentalFeatures"),i=(0,t.useFacetMap)((({description:e,numOfSections:t,title:a})=>{const r=t>1?o(".sectionEnumeration",[`${n+1}`,`${t}`]):null;return[a,o(".narrationComponentTypeSectionHeader"),r,e].filter((e=>e)).join(" . ")}),[o,n],[a]),c=(0,t.useFacetMap)((({title:e})=>e),[],[a]),s=(0,t.useFacetMap)((({description:e})=>e),[],[a]),u=(0,t.useFacetMap)((({disabled:e})=>e),[],[a]),d=(0,t.useFacetMap)((({features:e})=>e),[],[a]);return e.createElement(rs,{text:i},e.createElement(ns,{options:{index:n}},e.createElement(t.DeferredMount,null,e.createElement(cS,{title:c,description:s})),e.createElement(t.Map,{array:d},((a,n)=>e.createElement(t.DeferredMount,null,e.createElement(tC,{experimentalFeature:a,gamepadIndex:n,disabled:u,achievementsDisabledMessages:r,areAllTogglesDisabled:l}))))))}const nC=[{title:".gameplayTitle",description:".gameplayDescription",featuresFilter:e=>e.category===bm.GAMEPLAY},{title:".addOnCreatorsTitle",description:".addOnCreatorsDescription",featuresFilter:e=>e.category===bm.ADD_ON_CREATORS},{title:".internalTestsTitle",description:".internalTestsDescription",featuresFilter:e=>e.category===bm.INTERNAL_TESTS}];function rC({experimentsData:a,isLockedTemplate:n,isAchievementsDisabled:r,achievementsDisabledMessages:l,onUnlockTemplateSettings:o,isEditorWorld:i}){(0,e.useContext)(rv);const{t:c}=oi("CreateNewWorld.experimentalFeatures"),{t:s}=oi("CreateNewWorldSideMenu"),u=(0,t.useSharedFacet)(hg),d=(0,t.useFacetMemo)(((e,t,a)=>nC.map((t=>{let{featuresFilter:a}=t;return Jy(Jy({},eC(t,["featuresFilter"])),{},{features:Ov(e,a)})})).filter((({features:e})=>e.length>0)).map(((e,n,{length:r})=>{let{title:l,description:o}=e;return Jy(Jy({},eC(e,["title","description"])),{},{description:c(o),disabled:t||a,numOfSections:r,title:c(l)})}))),[c],[a,n,u]),m=(0,t.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[a]);return e.createElement(t.DeferredMountProvider,null,e.createElement(uy,{isLockedTemplate:n,isAchievementsDisabled:r,achievementsDisabledMessages:l,experimentsWarningEnabled:!0,narrationText:s(".experimentalFeaturesTabLabel"),onUnlockTemplateSettings:o,isEditorWorld:i},e.createElement(t.Map,{array:d},((t,a)=>e.createElement(aC,{item:t,index:a,achievementsDisabledMessages:l,areAllTogglesDisabled:m})))))}const lC="cnw-bfw-cancel";function oC({experimentsData:a}){const{t:n}=oi("CreateNewWorld.experimentalFeatures"),r=(0,t.useFacetUnwrap)(km),l=r!==t.NO_VALUE&&r.userTriedToActivateToggle,o=(0,t.useFacetMap)((e=>e.every((e=>!e.isEnabled))),[],[a]),i=(0,t.useFacetMap)((e=>l&&e),[l],[o]),c=()=>{km.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!1})},s=r!==t.NO_VALUE?r.doSetToggleValue:()=>{},u=n(".activateExperimentsConfirmationDescriptionPart1"),d=n(".activateExperimentsConfirmationDescriptionPart2"),m=n(".activateExperimentsConfirmationDescriptionPart3");return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(sd,{defaultFocusAlias:lC},e.createElement(sd.Header,{onClose:c},n(".activateExperimentsConfirmationTitle")),e.createElement(sd.Content,null,e.createElement(sd.Paragraphs,{narrationText:`${u} ${d} ${m}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(gs,{type:"captionLong"},u),e.createElement(gs,{type:"captionLong"},d),e.createElement(gs,{type:"captionLong"},m))),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"primary",gamepadIndex:0,gamepadAlias:lC,inputLegend:n(".activateExperimentsConfirmationCancelInputLegend"),onClick:c},n(".activateExperimentsConfirmationCancel")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:n(".activateExperimentsConfirmationConfirmInputLegend"),onClick:()=>{s(),km.set({userTriedToActivateToggle:!1,doSetToggleValue:()=>{},userHasAcceptedBetaFeatures:!0})}},n(".activateExperimentsConfirm"))))))}const iC="vanilla.editor.generatorTypeDropdown";let cC,sC;var uC,dC,mC,pC,fC,gC,EC,hC,bC,vC,FC,SC,yC,CC,MC,kC,wC,TC,xC,IC,PC,OC,NC,AC,LC,RC,DC,_C,BC,WC;let UC;var zC,jC,HC;let VC,GC,$C,KC,XC,YC,qC,QC,JC,ZC,eM,tM;!function(e){e.ToolPane="Editor.Drawer.ToolPane",e.Logging="Editor.Drawer.Log",e.GlobalPane="Editor.Drawer.GlobalPane",e.StructureDetailPane="Editor.Drawer.StructureDetailPane"}(cC||(cC={})),function(e){e.WelcomePanel="EditorUI.WelcomePanel"}(sC||(sC={})),(HC=uC||(uC={})).NoArgsAction="NoArgsAction",HC.MouseRayCastAction="MouseRayCastAction",function(e){e[e.Keyboard=1]="Keyboard",e[e.Mouse=2]="Mouse"}(dC||(dC={})),(jC=mC||(mC={}))[jC.Unused=0]="Unused",jC[jC.None=1]="None",jC[jC.Alt=2]="Alt",jC[jC.Control=4]="Control",jC[jC.Shift=8]="Shift",jC[jC.Any=15]="Any",function(e){e[e.Press=1]="Press",e[e.Release=2]="Release"}(pC||(pC={})),function(e){e[e.Button=1]="Button",e[e.Wheel=2]="Wheel",e[e.Drag=3]="Drag"}(fC||(fC={})),function(e){e[e.LeftButton=1]="LeftButton",e[e.MiddleButton=2]="MiddleButton",e[e.RightButton=3]="RightButton",e[e.Wheel=4]="Wheel"}(gC||(gC={})),function(e){e[e.ButtonDown=1]="ButtonDown",e[e.ButtonUp=2]="ButtonUp",e[e.WheelIn=3]="WheelIn",e[e.WheelOut=4]="WheelOut",e[e.DragStart=5]="DragStart",e[e.Drag=6]="Drag",e[e.DragEnd=7]="DragEnd"}(EC||(EC={})),function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESCAPE=27]="ESCAPE",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.KEY_0=48]="KEY_0",e[e.KEY_1=49]="KEY_1",e[e.KEY_2=50]="KEY_2",e[e.KEY_3=51]="KEY_3",e[e.KEY_4=52]="KEY_4",e[e.KEY_5=53]="KEY_5",e[e.KEY_6=54]="KEY_6",e[e.KEY_7=55]="KEY_7",e[e.KEY_8=56]="KEY_8",e[e.KEY_9=57]="KEY_9",e[e.KEY_A=65]="KEY_A",e[e.KEY_B=66]="KEY_B",e[e.KEY_C=67]="KEY_C",e[e.KEY_D=68]="KEY_D",e[e.KEY_E=69]="KEY_E",e[e.KEY_F=70]="KEY_F",e[e.KEY_G=71]="KEY_G",e[e.KEY_H=72]="KEY_H",e[e.KEY_I=73]="KEY_I",e[e.KEY_J=74]="KEY_J",e[e.KEY_K=75]="KEY_K",e[e.KEY_L=76]="KEY_L",e[e.KEY_M=77]="KEY_M",e[e.KEY_N=78]="KEY_N",e[e.KEY_O=79]="KEY_O",e[e.KEY_P=80]="KEY_P",e[e.KEY_Q=81]="KEY_Q",e[e.KEY_R=82]="KEY_R",e[e.KEY_S=83]="KEY_S",e[e.KEY_T=84]="KEY_T",e[e.KEY_U=85]="KEY_U",e[e.KEY_V=86]="KEY_V",e[e.KEY_W=87]="KEY_W",e[e.KEY_X=88]="KEY_X",e[e.KEY_Y=89]="KEY_Y",e[e.KEY_Z=90]="KEY_Z",e[e.NUMPAD_0=96]="NUMPAD_0",e[e.NUMPAD_1=97]="NUMPAD_1",e[e.NUMPAD_2=98]="NUMPAD_2",e[e.NUMPAD_3=99]="NUMPAD_3",e[e.NUMPAD_4=100]="NUMPAD_4",e[e.NUMPAD_5=101]="NUMPAD_5",e[e.NUMPAD_6=102]="NUMPAD_6",e[e.NUMPAD_7=103]="NUMPAD_7",e[e.NUMPAD_8=104]="NUMPAD_8",e[e.NUMPAD_9=105]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=106]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=107]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=108]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=109]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=110]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=111]="NUMPAD_DIVIDE",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.BACK_QUOTE=192]="BACK_QUOTE",e[e.BRACKET_OPEN=219]="BRACKET_OPEN",e[e.BACK_SLASH=220]="BACK_SLASH",e[e.BRACKET_CLOSE=221]="BRACKET_CLOSE",e[e.QUOTE=222]="QUOTE"}(hC||(hC={})),function(e){e[e.ActionExecute=1]="ActionExecute"}(bC||(bC={})),function(e){e[e.UpdatePropertyPane=1]="UpdatePropertyPane",e[e.PropertyPaneVisibilityChanged=3]="PropertyPaneVisibilityChanged",e[e.PropertyPaneCollapsedStateChanged=4]="PropertyPaneCollapsedStateChanged",e[e.UpdateObservableValue=5]="UpdateObservableValue",e[e.PropertyItemClicked=6]="PropertyItemClicked"}(vC||(vC={})),function(e){e[e.OnInitialize=1]="OnInitialize"}(FC||(FC={})),function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(SC||(SC={})),function(e){e.Undo="editor:actionBarItem:undo",e.Redo="editor:actionBarItem:redo"}(yC||(yC={})),(zC=CC||(CC={}))[zC.Create=0]="Create",zC[zC.Update=1]="Update",zC[zC.Destroy=2]="Destroy",zC[zC.Custom=3]="Custom",zC[zC.Passthrough=4]="Passthrough",function(e){e.ServerActionEvents="Editor::ServerActionEvents",e.ServerInputBindingEvents="Editor::ServerInputBindingEvents",e.ServerUXEvents="Editor::ServerUXEvents"}(MC||(MC={})),function(e){e.ClientActionEvents="Editor::ClientActionEvents",e.ClientUXEvents="Editor::ClientUXEvents",e.ClientLifecycleEvents="Editor::ClientLifecycle"}(kC||(kC={})),function(e){e[e.Register=1]="Register",e[e.Unregister=2]="Unregister",e[e.UpdateEnablement=3]="UpdateEnablement"}(wC||(wC={})),function(e){e[e.RegisterMouseBinding=2]="RegisterMouseBinding",e[e.Unregister=3]="Unregister"}(TC||(TC={})),function(e){e[e.UpdatePropertyPane=1]="UpdatePropertyPane",e[e.DestroyPropertyPane=2]="DestroyPropertyPane",e[e.UpdateMenu=3]="UpdateMenu",e[e.DestroyMenu=4]="DestroyMenu",e[e.UpdateStatusBarItem=5]="UpdateStatusBarItem",e[e.DestroyStatusBarItem=6]="DestroyStatusBarItem",e[e.UpdateModalToolOption=7]="UpdateModalToolOption",e[e.DestroyModalToolOption=8]="DestroyModalToolOption",e[e.BindActionToControl=11]="BindActionToControl",e[e.RemoveActionBindingFromControl=12]="RemoveActionBindingFromControl",e[e.UpdatePropertyItem=13]="UpdatePropertyItem",e[e.DestroyPropertyItem=14]="DestroyPropertyItem",e[e.OnNavigateFromEditor=15]="OnNavigateFromEditor",e[e.UpdateControlDemoVisibility_deprecated=16]="UpdateControlDemoVisibility_deprecated",e[e.UpdateWelcomePanelVisibility_deprecated=17]="UpdateWelcomePanelVisibility_deprecated",e[e.UpdateClientPanelVisibility=18]="UpdateClientPanelVisibility"}(xC||(xC={})),function(e){e[e.Right=0]="Right",e[e.Left=1]="Left"}(IC||(IC={})),function(e){e.Number="editorUI:Number",e.String="editorUI:String",e.Boolean="editorUI:Boolean",e.ComboBox="editorUI:ComboBox",e.ColorPicker="editorUI:ColorPicker",e.Dropdown="editorUI:Dropdown",e.Divider="editorUI:Divider",e.SubPane="editorUI:SubPane",e.Text="editorUI:Text",e.Button="editorUI:Button",e.Vector3="editorUI:Vector3",e.Image="editorUI:Image",e.Table="editorUI:Table",e.BlockList="editorUI:BlockList"}(PC||(PC={})),function(e){e[e.InputField=0]="InputField",e[e.InputFieldAndSlider=1]="InputFieldAndSlider"}(OC||(OC={})),function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary",e[e.Confirmation=2]="Confirmation",e[e.Destructive=3]="Destructive"}(NC||(NC={})),function(e){e[e.Custom=0]="Custom",e[e.Block=1]="Block",e[e.Entity=2]="Entity"}(AC||(AC={})),function(e){e[e.Default=0]="Default",e[e.Inline=1]="Inline",e[e.Expanded=2]="Expanded"}(LC||(LC={})),function(e){e[e.Checkbox=0]="Checkbox",e[e.ToggleSwitch=1]="ToggleSwitch"}(RC||(RC={})),function(e){e[e.Default=0]="Default",e[e.Block=1]="Block",e[e.Icon=2]="Icon"}(DC||(DC={})),function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(_C||(_C={})),function(e){e[e.Documentation=1]="Documentation",e[e.Feedback=2]="Feedback",e[e.PauseScreen=3]="PauseScreen"}(BC||(BC={})),function(e){e[e.ControlPanel=1]="ControlPanel",e[e.WelcomePanel=2]="WelcomePanel",e[e.LogPanel=3]="LogPanel"}(WC||(WC={})),function(e){e.TOGGLE_MODE="event.toggleMode",e.FREE_LOOK_BEGIN="event.freeLook.begin",e.FREE_LOOK_END="event.freeLook.end",e.OPEN_CONSOLE="event.openConsole",e.HOTBAR_1="event.hotbar1",e.HOTBAR_2="event.hotbar2",e.HOTBAR_3="event.hotbar3",e.HOTBAR_4="event.hotbar4",e.HOTBAR_5="event.hotbar5",e.HOTBAR_6="event.hotbar6",e.HOTBAR_7="event.hotbar7",e.HOTBAR_8="event.hotbar8",e.HOTBAR_9="event.hotbar9"}(UC||(UC={})),hC.UNDEFINED,mC.Unused,function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error",e[e.Debug=3]="Debug"}(VC||(VC={})),function(e){e[e.None=0]="None",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=4]="Error",e[e.Debug=8]="Debug",e[e.All=-1]="All"}(GC||(GC={})),function(e){e[e.Player=0]="Player",e[e.Global=1]="Global"}($C||($C={})),function(e){e.GLOBAL_EDITOR="global.editor",e.GLOBAL_TOOLMODE="global.toolMode",e.LOCAL_TOOLMODE_VIEWPORT="local.toolMode.viewport"}(KC||(KC={})),function(e){e[e.Width=30]="Width"}(XC||(XC={})),function(e){e[e.Disabled=0]="Disabled",e[e.Tool=1]="Tool",e[e.Crosshair=2]="Crosshair"}(YC||(YC={})),function(e){e[e.None=0]="None",e[e.Rectangle=1]="Rectangle",e[e.Square=2]="Square"}(qC||(qC={})),function(e){e[e.None=0]="None",e[e.Create=1]="Create",e[e.Move=2]="Move",e[e.Resize=3]="Resize",e[e.Rotate=4]="Rotate",e[e.Stroke=5]="Stroke",e[e.Count=6]="Count"}(QC||(QC={})),function(e){e.Dark="minecraft:editor:theme:dark",e.Light="minecraft:editor:theme:light",e.Redstone="minecraft:editor:theme:redstone",e.HighContrast="minecraft:editor:theme:high_contrast"}(JC||(JC={})),function(e){e[e.Top=0]="Top",e[e.TopStart=1]="TopStart",e[e.TopEnd=2]="TopEnd",e[e.RightStart=3]="RightStart",e[e.Right=4]="Right",e[e.RightEnd=5]="RightEnd",e[e.Bottom=6]="Bottom",e[e.BottomStart=7]="BottomStart",e[e.BottomEnd=8]="BottomEnd",e[e.LeftStart=9]="LeftStart",e[e.Left=10]="Left",e[e.LeftEnd=11]="LeftEnd"}(ZC||(ZC={})),function(e){e.Core="Core",e.Experimental="Experimental",e.Extension="Extension"}(eM||(eM={})),function(e){e.Reload="editor:actionItem:reload",e.CrosshairMode="editor:actionItem:crosshairMode",e.TriggerError="editor:actionItem:triggerError",e.KeyboardSettings="editor:actionItem:keyboardSettings",e.StructurePanel="editor:actionBarItem:structurePanel",e.AttachDebugger="editor:actionBarItem:attachDebugger"}(tM||(tM={}));const aM=(0,t.sharedFacet)("vanilla.editor");let nM;(0,t.sharedSelector)((e=>e.editorMode),[aM]),(0,t.sharedSelector)((e=>e.editorMode==YC.Tool),[aM]),(0,t.sharedSelector)((e=>e.canShowModeShortcutToast),[aM]),function(e){e[e.Simple=0]="Simple",e[e.Probability=1]="Probability"}(nM||(nM={}));const rM=(0,t.sharedFacet)("vanilla.editorBlockPalette");(0,t.sharedSelector)((e=>e.activePaletteIndex),[rM]),(0,t.sharedSelector)((e=>e.activePalette),[rM]);const lM=(0,t.sharedFacet)("vanilla.editorInput"),oM=((0,t.sharedSelector)((e=>{const t={};for(const a in e.keyBindings){const n=e.keyBindings[a];if(null!=n){!(a in t)&&(t[a]={});const e=t[a];for(const t in n){const a=n[t];a.key!==hC.UNDEFINED&&(!(a.key in e)&&(e[a.key]=[]),e[a.key].push({event:null!=a.actionId?a.actionId:t,modifier:a.modifier,inputType:a.inputType}))}}}return t}),[lM]),(0,t.sharedSelector)((e=>{const t={};return e.mouseBindings.forEach((e=>{!(e.contextId in t)&&(t[e.contextId]={});const a=t[e.contextId];!(e.actionType in a)&&(a[e.actionType]=[]),a[e.actionType].push(e.eventId)})),t}),[lM]),(0,t.sharedSelector)((e=>e.keyBindings),[lM]),(0,t.sharedFacet)("vanilla.editorLogging")),iM=((0,t.sharedSelector)((e=>e.messageList),[oM]),(0,t.sharedSelector)((e=>e.tagList),[oM]),(0,t.sharedSelector)((e=>e.logLevelFilter),[oM]),(0,t.sharedSelector)((e=>e.tagFilter),[oM]),(0,t.sharedFacet)("vanilla.editorProjectConstants"));function cM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sM(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}(0,t.sharedSelector)((e=>e.blockNameList),[iM]),(0,t.sharedSelector)((e=>e.atlasInfo),[iM]);const uM=(0,t.sharedFacet)("vanilla.editorScripting");let dM;(0,t.sharedSelector)((e=>({dispatch:(t,a,n,r)=>{e.dispatchDataStoreEvent(t,a,n,null!=r?function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?cM(Object(a),!0).forEach((function(t){sM(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cM(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({__Type:"DataStorePayloadDescription"},e)}(r):r)}})),[uM]),function(e){e.TitleBarBackground="TitleBarBackground",e.PanelBackground="PanelBackground",e.HeaderBackground="HeaderBackground",e.PanelBorder="PanelBorder",e.ElementBorder="ElementBorder",e.PrimaryActive="PrimaryActive",e.PrimaryDefault="PrimaryDefault",e.PrimaryMute="PrimaryMute",e.PrimaryDisable="PrimaryDisable",e.PrimaryBackground1="PrimaryBackground1",e.PrimaryBackground2="PrimaryBackground2",e.PrimaryBackground3="PrimaryBackground3",e.PrimaryBackground4="PrimaryBackground4",e.SecondaryActive="SecondaryActive",e.SecondaryDefault="SecondaryDefault",e.SecondaryMute="SecondaryMute",e.SecondaryDisable="SecondaryDisable",e.SecondaryBackground1="SecondaryBackground1",e.SecondaryBackground2="SecondaryBackground2",e.SecondaryBackground3="SecondaryBackground3",e.DropDown1="DropDown1",e.DropDown2="DropDown2",e.DropDown3="DropDown3",e.ScrollBar="ScrollBar",e.FocusOutline="FocusOutline",e.Warning="Warning",e.Error="Error",e.HotbarOutline="HotbarOutline",e.ViewportOutline="ViewportOutline",e.DisableBackground="DisableBackground",e.DisableOutline="DisableOutline",e.DisableText="DisableText",e.DisableFill="DisableFill",e.Coordinate1="Coordinate1",e.Coordinate2="Coordinate2",e.Coordinate3="Coordinate3",e.ConfirmFill="ConfirmFill",e.Confirm1="Confirm1",e.Confirm2="Confirm2",e.Confirm3="Confirm3",e.DestroyFill="DestroyFill",e.Destroy1="Destroy1",e.Destroy2="Destroy2",e.Destroy3="Destroy3",e.InfoFill="InfoFill",e.Info1="Info1",e.Info2="Info2",e.Info3="Info3",e.Caret="Caret"}(dM||(dM={}));const mM=(0,t.sharedFacet)("vanilla.editorSettings",{fontZoom:125,currentThemeId:JC.Dark,themesMap:{},isEditorMode:!1,selectedTool:"",selectedOperator:QC.Create,getKey:()=>"",setKey:()=>{},setKeys:()=>{},hasKey:()=>!1});(0,t.sharedSelector)((e=>e.isEditorMode),[mM]),(0,t.sharedSelector)((e=>e.selectedTool),[mM]),(0,t.sharedSelector)((e=>e.fontZoom),[mM]),(0,t.sharedFacet)("vanilla.editorStructure");const pM=({advancedData:a,isUsingTemplate:n,isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,onUnlockTemplateSettings:i,isEditorWorld:c,onSeedValueChange:s,isSeedChangeLocked:u,isHardcoreMode:d})=>{const{t:m}=sp("CreateNewWorld.advanced"),p="edit"===(0,e.useContext)(rv),f=Rd(iC),g={value:(0,t.useFacetMap)((e=>e.generatorType),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.generatorType=t}),[],[a])};return e.createElement(EM,{isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,onUnlockTemplateSettings:i,isEditorWorld:c,isHardcoreMode:d},e.createElement(t.Mount,{when:c},e.createElement(t.DeferredMount,null,e.createElement(cS,{title:m(".projectHeader"),description:m(".projectDescription")}))),f&&!p?e.createElement(t.Mount,{when:c},e.createElement(t.DeferredMount,null,e.createElement(XS,{gamepadIndex:0,label:m(".generatorTypeLabel"),options:[{value:Cg.Overworld,label:m(".vanillaWorldGeneratorLabel"),description:m(".vanillaWorldGeneratorDescription")},{value:Cg.Flat,label:m(".flatWorldGeneratorLabel"),description:m(".flatWorldGeneratorDescription")},{value:Cg.Void,label:m(".voidWorldGeneratorLabel"),description:m(".voidWorldGeneratorDescription")}],value:g.value,onChange:g.onChange}))):null,e.createElement(fM,{advancedData:a,isEditorWorld:c,onSeedValueChange:s,isSeedChangeLocked:u,showSeedTemplates:!0}),e.createElement(gM,{advancedData:a,isUsingTemplate:n,isLockedTemplate:r,achievementsDisabledMessages:o,isEditorWorld:c,isHardcoreMode:d}))},fM=({advancedData:a,isEditorWorld:n,onSeedValueChange:r,isSeedChangeLocked:l,showSeedTemplates:o})=>{const{t:i}=sp("CreateNewWorld.advanced"),{t:c}=sp("CreateNewWorld.all"),s="edit"===(0,e.useContext)(rv),u=Rd(iC),d=hr(),m=(0,t.useSharedFacet)(fm),p=(0,t.useSharedFacet)(bp),f=(0,t.useFacetMap)((e=>e.worldSeed),[],[a]),g=(0,t.useFacetMap)((e=>e.isClipboardCopySupported),[],[m]),E=(0,t.useFacetCallback)(((e,t,a)=>()=>{t.copyToClipboard(e),a.queueSnackbar(i(".copyToClipboard"))}),[i],[f,m,p]),h=s?E:()=>d.push("/create-new-world/seed-templates"),b=s?"":i(".worldSeedPlaceholder"),v=i(s?".worldSeedCopyButton":".worldSeedButton"),F=(0,t.useFacetMap)(((e,t,a)=>t||a&&u&&!s&&e.generatorType!=Cg.Overworld),[u,s],[a,l,n]);return o?e.createElement(t.DeferredMount,null,e.createElement(Yr,{data:g},(t=>s&&!t?e.createElement(Ey,{disabled:s,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:r,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-text-field"}):e.createElement(Ey.WithButton,{buttonInputLegend:v,buttonText:v,buttonOnClick:h,textDisabled:s,disabled:F,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:r,placeholder:b,buttonNarrationHint:i(".narrationTemplatesButtonNarrationHint"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked"),"data-testid":"world-seed-with-button"})))):e.createElement(t.DeferredMount,null,e.createElement(Ey,{gamepadIndex:0,disabled:F,label:i(".worldSeedLabel"),description:i(".worldSeedDescription"),maxLength:32,value:f,onChange:r,placeholder:i(".worldSeedPlaceholder"),disabledNarrationSuffix:c(".narrationSuffixTemplateLocked")}))},gM=({advancedData:a,isUsingTemplate:n,isLockedTemplate:r,achievementsDisabledMessages:l,isEditorWorld:o,isHardcoreMode:i})=>{const{t:c}=sp("CreateNewWorld.advanced"),{t:s}=sp("CreateNewWorld.all"),u="edit"===(0,e.useContext)(rv),d=(0,t.useSharedFacet)(hg),m=Rd("vanilla.settings.unlockRecipes"),p=Rd(iC),f=(0,t.useFacetMap)((e=>!p||p&&!e),[p],[o]),g=(0,t.useFacetMap)(((e,t)=>e||t),[],[n,d]),E=(0,t.useFacetMap)(((e,t)=>e||t||u),[u],[n,d]),h=(0,t.useFacetMap)((({simulationDistanceOptions:e})=>e.length<=1),[],[(0,t.useSharedFacet)(Gf)]),b=(0,t.useFacetMap)(((e,t)=>e||t),[],[i,E]),v=(0,t.useFacetMap)(((e,t)=>e||u||t),[u],[n,i]),F=(0,t.useFacetWrap)(!0),S=[{title:c(".useFlatWorldTitle"),description:c(".useFlatWorldDescription"),value:(0,t.useFacetMap)((e=>e.useFlatWorld),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.useFlatWorld=t}),[],[a]),onNarrationText:s(".narrationSuffixDisablesAchievements"),offNarrationText:(0,t.useFacetMap)((e=>0===e.length?s(".narrationSuffixEnablesAchievements"):void 0),[s],[l]),disabled:E,visible:f},{title:c(".startWithMapTitle"),description:c(".startWithMapDescription"),value:(0,t.useFacetMap)(((e,t)=>!t&&e.startWithMap),[],[a,i]),onChange:(0,t.useFacetCallback)((e=>t=>{e.startWithMap=t}),[],[a]),disabled:v,visible:F},{title:c(".bonusChestTitle"),description:c(".bonusChestDescription"),value:(0,t.useFacetMap)(((e,t)=>!t&&e.bonusChest),[],[a,i]),onChange:(0,t.useFacetCallback)((e=>t=>{e.bonusChest=t}),[],[a]),disabled:b,visible:F}],y={title:c(".recipesUnlockTitle"),description:c(".recipesUnlockDescription"),value:(0,t.useFacetMap)((e=>e.recipesUnlock),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.recipesUnlock=t}),[],[a]),disabled:d,onNarrationText:c(".recipesUnlockDescription"),visible:F},C=[{title:c(".showCoordinatesTitle"),description:c(".showCoordinatesDescription"),value:(0,t.useFacetMap)((e=>e.showCoordinates),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.showCoordinates=t}),[],[a]),disabled:d,onNarrationText:c(".showCoordinatesDescription")},{title:c(".showDaysPlayedTitle"),description:c(".showDaysPlayedDescription"),value:(0,t.useFacetMap)((e=>e.showDaysPlayed),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.showDaysPlayed=t}),[],[a]),disabled:d,onNarrationText:c(".showCoordinatesDescription")},...m?[y]:[],{title:c(".firesSpreadsTitle"),description:c(".firesSpreadsDescription"),value:(0,t.useFacetMap)((e=>e.firesSpreads),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.firesSpreads=t}),[],[a]),disabled:d,onNarrationText:c(".firesSpreadsDescription")},{title:c(".tntExplodesTitle"),description:c(".tntExplodesDescription"),value:(0,t.useFacetMap)((e=>e.tntExplodes),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.tntExplodes=t}),[],[a]),disabled:d,onNarrationText:c(".tntExplodesDescription")},{title:c(".respawnBlocksExplodeTitle"),description:c(".respawnBlocksExplodeDescription"),value:(0,t.useFacetMap)((e=>e.respawnBlocksExplode),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.respawnBlocksExplode=t}),[],[a]),disabled:d,onNarrationText:c(".respawnBlocksExplodeDescription")},{title:c(".mobLootTitle"),description:c(".mobLootDescription"),value:(0,t.useFacetMap)((e=>e.mobLoot),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.mobLoot=t}),[],[a]),disabled:d,onNarrationText:c(".mobLootDescription")},{title:c(".naturalRegenerationTitle"),description:c(".naturalRegenerationDescription"),value:(0,t.useFacetMap)((e=>e.naturalRegeneration),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.naturalRegeneration=t}),[],[a]),disabled:d,onNarrationText:c(".naturalRegenerationDescription")},{title:c(".tileDropsTitle"),description:c(".tileDropsDescription"),value:(0,t.useFacetMap)((e=>e.tileDrops),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.tileDrops=t}),[],[a]),disabled:d,onNarrationText:c(".tileDropsDescription")},{title:c(".immediateRespawnTitle"),description:c(".immediateRespawnDescription"),value:(0,t.useFacetMap)((e=>e.immediateRespawn),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.immediateRespawn=t}),[],[a]),disabled:d,onNarrationText:c(".immediateRespawnDescription")}],M=(0,t.useFacetMap)(((e,t)=>e||t),[],[h,r]);return e.createElement(e.Fragment,null,u?e.createElement(e.Fragment,null):S.map(((a,n)=>{var l;return e.createElement(t.DeferredMount,{key:a.title},e.createElement(t.Mount,{when:a.visible},e.createElement(vS,{title:a.title,disabled:null!==(l=a.disabled)&&void 0!==l?l:r,description:a.description,onChange:a.onChange,value:a.value,onNarrationText:a.onNarrationText,offNarrationText:a.offNarrationText,gamepad:{index:n+1}})))})),e.createElement(t.Mount,{when:o},e.createElement(t.DeferredMount,null,e.createElement(cS,{title:c(".exportSettingsHeader"),description:c(".exportSettingsDescription")}))),C.map(((a,n)=>{var l;return e.createElement(t.DeferredMount,{key:a.title},e.createElement(vS,{title:a.title,disabled:null!==(l=a.disabled)&&void 0!==l?l:r,description:a.description,onChange:a.onChange,value:a.value,gamepad:{index:1+n}}))})),e.createElement(t.DeferredMount,null,e.createElement(bM,{gamepadIndex:C.length+1,label:c(".respawnRadiusLabel"),disabled:g,description:c(".respawnRadiusDescription"),placeholder:c(".respawnRadiusPlaceholder"),advancedData:a})),e.createElement(t.DeferredMountWithCallback,null,e.createElement(hM,{title:c(".simulationDistanceTitle"),gamepadIndex:C.length+2,disabled:M,advancedData:a})),u?S.map(((a,n)=>{var l;return e.createElement(t.DeferredMount,{key:a.title},e.createElement(vS,{title:a.title,disabled:null!==(l=a.disabled)&&void 0!==l?l:r,description:a.description,onChange:a.onChange,value:a.value,onNarrationText:a.onNarrationText,offNarrationText:a.offNarrationText,gamepad:{index:C.length+n+3}}))})):e.createElement(e.Fragment,null))},EM=({isLockedTemplate:a,isAchievementsDisabled:n,achievementsDisabledMessages:r,onUnlockTemplateSettings:l,isEditorWorld:o,isHardcoreMode:i,children:c})=>{const{t:s}=sp("CreateNewWorldSideMenu"),u="edit"===(0,e.useContext)(rv),d=!0!==(0,t.useFacetUnwrap)(i)||u?void 0:iy.ADVANCED_TAB;return e.createElement(t.DeferredMountProvider,null,e.createElement(uy,{isLockedTemplate:a,isAchievementsDisabled:n,achievementsDisabledMessages:r,narrationText:s(".advancedTabLabel"),onUnlockTemplateSettings:l,isEditorWorld:o,hardcoreModeMessageTab:d},c))};function hM({title:a,gamepadIndex:n,disabled:r,advancedData:l}){const{t:o}=sp("CreateNewWorld.advanced"),i=(0,e.useCallback)(((e,t)=>({label:o(".simulationDistanceOption",[`${e}`]),value:e,description:o(t,[""+16*e,`${e}`])})),[o]),c=(0,t.useFacetMap)((({simulationDistanceOptions:e})=>{const t=e.length>1,a=t?".simulationDistanceDescription":".simulationDistanceDescriptionOnlyOne";return(t?e:[4,6,8]).map((e=>i(e,a)))}),[i],[(0,t.useSharedFacet)(Gf)]),s=(0,t.useFacetCallback)((e=>t=>{e.simulationDistance=t}),[],[l]);return e.createElement(JS,{onMountComplete:(0,t.useNotifyMountComplete)(),title:a,gamepad:{index:n},options:c,value:(0,t.useFacetMap)((e=>e.simulationDistance),[],[l]),onChange:s,disabled:r,wrapToggleText:!0})}function bM({gamepadIndex:a,label:n,description:r,placeholder:l,disabled:o,advancedData:i}){const c=(0,t.useFacetMap)((e=>e.respawnRadius.toString()),[],[i]),{t:s}=sp("CreateNewWorld.all"),{t:u}=sp("CreateNewWorld.advanced.narration"),{narrateText:d}=Xc({interruptible:!1}),m=(0,t.useFacetCallback)((e=>t=>{e.respawnRadius=t}),[],[i]),p=(0,e.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g),n=parseInt(e)<=128;return 0!==e.length&&a?n?fu.ValidationResult.VALID:(d(u(".respawnRadiusNotWithinRange")),t(128..toString()),fu.ValidationResult.INVALID):(d(u(".respawnRadiusInvalidValue")),t(10..toString()),fu.ValidationResult.INVALID)}),[d,u]);return e.createElement(Ey,{gamepadIndex:a,label:n,description:r,maxLength:8,value:c,disabled:o,onChange:m,onBlur:p,placeholder:l,disabledNarrationSuffix:s(".narrationSuffixTemplateLocked"),isNumber:!0})}pM.Wrapper=EM,pM.DefaultFields=gM,pM.WorldSeedField=fM;const vM=pM,FM=a.p+"assets/visitorGray10-9a6b6.png",SM=a.p+"assets/visitorGray70-d4a9e.png",yM=a.p+"assets/visitorGray90-9d4d1.png",CM=a.p+"assets/memberGray10-7cc66.png",MM=a.p+"assets/memberGray70-7b6db.png",kM=a.p+"assets/memberGray90-a38ee.png",wM=a.p+"assets/operatorGray10-1b749.png",TM=a.p+"assets/operatorGray70-266ca.png",xM=a.p+"assets/operatorGray90-0f8a3.png",IM={[Cm.VISITOR]:{selected:FM,unselected:yM,disabled:SM},[Cm.MEMBER]:{selected:CM,unselected:kM,disabled:MM},[Cm.OPERATOR]:{selected:wM,unselected:xM,disabled:TM}};function PM({type:t,status:a}){return e.createElement("div",{className:"d8tfi"},e.createElement(oc,{src:IM[t][a],className:"kFoCR",imageRendering:"pixelated"}),e.createElement(Sc,{size:1}))}const OM=a.p+"assets/steve-island-d0eb3.png";function NM({multiplayerData:a,worldPacks:n,isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,onDeactivatePack:i,onUnlockTemplateSettings:c,isEditorWorld:s}){const{t:u}=sp("CreateNewWorld.multiplayer"),{t:d}=sp("CreateNewWorldSideMenu"),{t:m}=sp("CreateNewWorld.all"),p="edit"===(0,e.useContext)(rv),f=(0,t.useSharedFacet)(Eg),g=(0,t.useSharedFacet)(Xf),E=(0,t.useFacetMap)((e=>e.platform),[],[(0,t.useSharedFacet)(Ir)]),h=(0,t.useFacetMap)(((e,t)=>Yv(t)&&!e.hasPremiumNetworkAccess),[],[f,E]),b=(0,t.useFacetMap)(((e,t,a)=>!a&&(!e.multiplayerSupported||t.isTrialAccount||e.generalWarningState===vm.NON_MULTIPLAYER_SKIN_EQUIPPED)),[],[a,f,h]),v=(0,t.useFacetMap)(((e,t,a)=>a||!e.multiplayerGame||t),[],[a,b,h]),F=(0,t.useSharedFacet)(mm),S=(0,t.useFacetMap)(((e,t)=>Qv(t)&&!e.hasPremiumNetworkAccess),[],[f,E]),y=(0,t.useFacetMap)((e=>Yv(e)||Qv(e)),[],[E]),C=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[y,F]),M=(0,t.useFacetMap)(((e,t)=>t&&!e.isLoggedInWithMicrosoftAccount),[],[f,y]),k=(0,t.useFacetMap)(((e,t)=>e.generalWarningState===vm.CHECK_INTERNET_CONNECTION||t),[],[a,v]),w=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[M,F]),T=(0,t.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[a]),x=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[n]),I=Av.useShowModal(),P=(0,t.useFacetCallback)(((e,t,n,r,l)=>o=>{if(!r)return o?void(!function(e,t){for(let t=0;t<e.length;t++)if(e[t].isPlatformLocked)return!0;return!1}(t)?(p&&n.trackOptionChanged(Ay.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o):I({multiplayerData:a,activePacks:x,onDeactivatePack:i})):(p&&n.trackOptionChanged(Ay.MultiplayerChanged,Number(e.multiplayerGame),Number(o)),e.multiplayerGame=o);l.showPremiumNetworkUpsellModal()}),[I,i,a,p,x],[a,x,g,h,(0,t.useSharedFacet)(Eg)]),O=(0,t.useFacetMap)(((e,t)=>e.playerPermissions===Cm.OPERATOR&&1===t.length?[u(".narrationMultiplayerAdditionalSettingsDisabled"),m(".narrationSuffixEnablesAchievements")].join(" . "):u(".narrationMultiplayerAdditionalSettingsDisabled")),[u,m],[a,o]),N=(0,t.useFacetMap)((e=>e.generalWarningState),[],[a]),A=(0,t.useFacetUnwrap)(N),L=A===t.NO_VALUE?void 0:A;return e.createElement(t.DeferredMountProvider,null,e.createElement(uy,{isAchievementsDisabled:l,isLockedTemplate:r,achievementsDisabledMessages:o,multiplayerWarningState:L,narrationText:d(".multiplayerTabLabel"),onUnlockTemplateSettings:c,isEditorWorld:s},e.createElement(t.Mount,{when:S},e.createElement(DM,null)),e.createElement(t.Mount,{condition:!1,when:S},e.createElement(e.Fragment,null,e.createElement(t.DeferredMount,null,e.createElement(vS,{"data-testid":"multiplayer-state-switch",key:u(".multiplayerGameTitle"),title:u(".multiplayerGameTitle"),description:u(".multiplayerGameDescription"),onNarrationText:u(".narrationMultiplayerAdditionalSettingsEnabled"),offNarrationText:O,value:(0,t.useFacetMap)(((e,t,a)=>!a&&e.multiplayerGame&&!t),[],[a,b,h]),disabled:b,onChange:P})),e.createElement(rs,{text:[u(".settingsTitle"),u(".narrationComponentTypeSectionHeader")].join(" . ")},e.createElement(t.DeferredMount,null,e.createElement(cS,{title:u(".settingsTitle")})),e.createElement(t.Mount,{when:T},e.createElement(t.DeferredMountWithCallback,null,e.createElement(AM,{gamepadIndex:1,platform:E,multiplayer:a,disabled:v}))),e.createElement(t.Mount,{when:M},e.createElement(t.DeferredMount,null,e.createElement(_M,{gamepadIndex:2,disabled:k}))),e.createElement(t.Mount,{when:w},e.createElement(t.DeferredMountWithCallback,null,e.createElement(LM,{gamepadIndex:2,disabled:v,multiplayer:a}))),e.createElement(t.DeferredMountWithCallback,null,e.createElement(RM,{multiplayer:a,gamepadIndex:3,disabled:v,achievementsDisabledMessages:o})),e.createElement(t.Mount,{when:C},e.createElement(vS,{key:u(".visibleToLanPlayersTitle"),title:u(".visibleToLanPlayersTitle"),description:u(".visibleToLanPlayersDescription"),disabledNarrationSuffix:u(".multiplayerSettingsDisabledNarrationHint"),gamepad:{index:4},disabled:v,value:(0,t.useFacetMap)((e=>e.visibleToLanPlayers),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.visibleToLanPlayers=t}),[],[a])})),e.createElement(t.DeferredMount,null,e.createElement(vS,{key:u(".friendlyFireTitle"),title:u(".friendlyFireTitle"),description:u(".friendlyFireDescription"),disabledNarrationSuffix:u(".multiplayerSettingsDisabledNarrationHint"),gamepad:{index:5},disabled:v,value:(0,t.useFacetMap)((e=>e.friendlyFire),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.friendlyFire=t}),[],[a])})))))))}function AM({platform:a,gamepadIndex:n,multiplayer:r,disabled:l}){const{t:o}=sp("CreateNewWorld.multiplayer"),i=(0,t.useFacetMap)(((e,t)=>!e.platformPlayerAccessEnabled||!e.multiplayerGame||t),[],[r,l]),c=(0,t.useFacetMemo)(((e,t)=>function(e,t,a){const n=[];return!e.platformPlayerInviteAccessSupported||Qv(t)||Yv(t)||n.push({label:a(".playerAccessInvitedLabel"),value:ym.INVITED,description:Qv(t)?a(".nintendoPlayerAccessInvitedDescription"):Yv(t)?a(".playstationPlayerAccessInvitedDescription"):a(".playerAccessInvitedDescription")}),n.push({label:a(".playerAccessFriendsLabel"),value:ym.FRIENDS,description:Qv(t)?a(".nintendoPlayerAccessFriendsDescription"):Yv(t)?a(".playstationPlayerAccessFriendsDescription"):a(".playerAccessFriendsDescription")}),n.push({label:a(".playerAccessFriendsOfFriendsLabel"),value:ym.FRIENDS_OF_FRIENDS,description:Qv(t)?a(".nintendoPlayerAccessFriendsOfFriendsDescription"):Yv(t)?a(".playstationPlayerAccessFriendsOfFriendsDescription"):a(".playerAccessFriendsOfFriendsDescription")}),n}(e,t,o)),[o],[r,a]),s=(0,t.useFacetUnwrap)((0,t.useFacetMemo)((e=>Qv(e)?o(".nintendoPlayerAccessTitle"):Yv(e)?o(".playstationPlayerAccessTitle"):o(".playerAccessTitle")),[o],[a]));return e.createElement(JS,{onMountComplete:(0,t.useNotifyMountComplete)(),title:s===t.NO_VALUE?o(".playerAccessTitle"):s,gamepad:{index:n},disabled:i,wrapToggleText:!0,options:c,value:(0,t.useFacetMap)((e=>e.platformPlayerAccess),[],[r]),onChange:(0,t.useFacetCallback)((e=>t=>{e.platformPlayerAccess=t}),[],[r])})}function LM({disabled:a,gamepadIndex:n,multiplayer:r}){const{t:l}=sp("CreateNewWorld.multiplayer"),o=(0,t.useFacetMap)((e=>e.platformPlayerAccessSupported),[],[r]),i=(0,t.useFacetUnwrap)((0,t.useFacetMemo)((e=>l(e?".microsoftPlayerAccessTitle":".playerAccessTitle")),[l],[o]));return e.createElement(JS,{disabledNarrationSuffix:l(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:(0,t.useNotifyMountComplete)(),title:i!==t.NO_VALUE?i:l(".playerAccessTitle"),gamepad:{index:n},disabled:a,wrapToggleText:!0,options:[{label:l(".playerAccessInvitedLabel"),value:ym.INVITED,description:l(".playerAccessInvitedDescription")},{label:l(".playerAccessFriendsLabel"),value:ym.FRIENDS,description:l(".playerAccessFriendsDescription")},{label:l(".playerAccessFriendsOfFriendsLabel"),value:ym.FRIENDS_OF_FRIENDS,description:l(".playerAccessFriendsOfFriendsDescription")}],value:(0,t.useFacetMap)((e=>e.playerAccess),[],[r]),onChange:(0,t.useFacetCallback)((e=>t=>{e.playerAccess=t}),[],[r])})}function RM({multiplayer:a,gamepadIndex:n,disabled:r,achievementsDisabledMessages:l}){const{t:o}=sp("CreateNewWorld.multiplayer"),{t:i}=sp("CreateNewWorld.all"),c=(0,t.useFacetMap)(((t,a)=>[{label:o(".playerPermissionsVisitorLabel"),value:Cm.VISITOR,description:o(".playerPermissionsVisitorDescription"),icons:{disabled:e.createElement(PM,{type:Cm.VISITOR,status:"disabled"}),selected:e.createElement(PM,{type:Cm.VISITOR,status:"selected"}),unselected:e.createElement(PM,{type:Cm.VISITOR,status:"unselected"})},narrationSuffix:t.playerPermissions===Cm.OPERATOR&&1===a.length?i(".narrationSuffixEnablesAchievements"):void 0},{label:o(".playerPermissionsMemberLabel"),value:Cm.MEMBER,description:o(".playerPermissionsMemberDescription"),icons:{disabled:e.createElement(PM,{type:Cm.MEMBER,status:"disabled"}),selected:e.createElement(PM,{type:Cm.MEMBER,status:"selected"}),unselected:e.createElement(PM,{type:Cm.MEMBER,status:"unselected"})},narrationSuffix:t.playerPermissions===Cm.OPERATOR&&1===a.length?i(".narrationSuffixEnablesAchievements"):void 0},{label:o(".playerPermissionsOperatorLabel"),value:Cm.OPERATOR,description:o(".playerPermissionsOperatorDescription"),icons:{disabled:e.createElement(PM,{type:Cm.OPERATOR,status:"disabled"}),selected:e.createElement(PM,{type:Cm.OPERATOR,status:"selected"}),unselected:e.createElement(PM,{type:Cm.OPERATOR,status:"unselected"})},narrationSuffix:i(".narrationSuffixDisablesAchievements")}]),[o,i],[a,l]);return e.createElement(JS,{disabledNarrationSuffix:o(".multiplayerSettingsDisabledNarrationHint"),onMountComplete:(0,t.useNotifyMountComplete)(),title:o(".playerPermissionsTitle"),gamepad:{index:n},disabled:r,options:c,value:(0,t.useFacetMap)((e=>e.playerPermissions),[],[a]),onChange:(0,t.useFacetCallback)((e=>t=>{e.playerPermissions=t}),[],[a])})}function DM(){const{t:a}=sp("CreateNewWorld.multiplayer");return e.createElement(yE,{borderless:!0,gamepadIndex:0,title:a(".nintendoSubscriptionPromotionTitle"),text:a(".nintendoSubscriptionPromotionBody"),imgSrc:OM,imgClass:"BHnbR",buttons:[{text:a(".nintendoSubscriptionPromotionButtonLabel"),onClick:(0,t.useFacetCallback)((e=>()=>e.showPremiumNetworkUpsellModal()),[],[(0,t.useSharedFacet)(Eg)]),inputLegend:a(".nintendoSubscriptionPromotionButtonLabel")}]})}function _M({gamepadIndex:t,disabled:a}){const{t:n}=sp("CreateNewWorld.multiplayer"),r=u();return e.createElement(Ws,null,e.createElement(zs,null,n(".microsoftSignInButtonTitle")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:n(".microsoftSignInButtonLabel"),onClick:()=>r.push("/sign-in?signInSource=MultiplayerTab_OreUI"),gamepadIndex:t,disabled:a},n(".microsoftSignInButtonLabel")))}const BM=t=>{const{gamepadAliasNamespace:a,path:n,narrationTitle:r}=t,{t:l}=oi("PackTabs"),o=hr(),i="edit"===(0,e.useContext)(rv),c=vr(),s=[{label:l(".activeTabButtonLabel"),value:"active"},{label:l(".availableTabButtonLabel"),value:"available"}],u=be(),d=i?`edit-world/${c.id}`:"create-new-world";return e.createElement(_E,{gamepadAliasNamespace:a,gamepadIndex:1,value:c.worldTemplateId,onChange:e=>{u(_E.getFocusAlias(a,e)),o.replace(`/${d}/${n}/${e}`)},tabs:s,enableGamepadShortcuts:c.tab===n,narrationTitle:r})};function WM({component:a,filter:n,gamepadIndex:r}){const l=vr().worldTemplateId===n,o=ir(),i=(0,t.useFacetMap)((e=>l&&e),[l],[o]);return e.createElement(or,{active:i},e.createElement(rF,{options:{index:r,disabled:!l}},e.createElement(gr,{visible:l,contentComponent:a,unmountOnExit:!1})))}function UM(e,t){const a=[];for(let n=0;n<e.length;n++)a[n]=t(e[n],n,e);return a}function zM(e,t){for(let a=0;a<e.length;a++)if(!t(e[a],a))return!1;return!0}function jM({children:a,role:n,align:r="top"}){const l=Vn(),o=(0,t.useFacetMap)((e=>lr()("c3aSY",l[e].background.base,l[e].text.base)),[l],[(0,t.useFacetWrap)(n)]);return e.createElement("div",{className:lr()("j_y1K",{YBe3o:"top"===r,kfqkp:"center"===r,eh7z2:"bottom"===r})},e.createElement(gs,{className:o,type:"body",role:n,overflowEllipsis:!0},a))}function HM(){return HM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},HM.apply(this,arguments)}function VM(t){var a;return t.shouldSkipLandmarkInVisual?e.createElement(pr,{disabled:t.disabled},t.children):null==t.containerRef?e.createElement(pr,t,t.children):e.createElement(ac,HM({},t,{delegateFocusFromMemory:t.delegateFocusFromMemory||"remember"===t.defaultFocusedChildBehavior,delegateFocusByAlias:null!==(a=t.delegateFocusByAlias)&&void 0!==a?a:t.defaultFocusedChildAlias}))}const GM=a.p+"assets/draggable-icon-cb81f.png",$M=a.p+"assets/arrow-down-f9b6c.png",KM=a.p+"assets/remove-icon-5a112.png",XM=a.p+"assets/settings-icon-af819.png",YM=a.p+"assets/add-icon-675d0.png",qM=a.p+"assets/warning-icon-e02fb.png",QM=a.p+"assets/mario_pack_icon_HACK-c158e.png",JM=a.p+"assets/missing-pack-icon-010c8.png",ZM={packListItemDragAnimationContainer:"K_ftf",packImage:"jkWPs",border:"IyJVt",draggableIcon:"yh9nh",expandArrowIcon:"ZVibx",flipped:"s7QSb",settingsIcon:"RvsYq",removeIcon:"jrqnD",addIcon:"v5aeN",expandableWrapper:"KpUwY",expanded:"ZFmh4",expandableContent:"S0c54",expandableContentWrapper:"cDMTw",expandableContentDescription:"emj3l",expandableContentLinksWrapper:"H2ovu",disabledPackImage:"qCfGN"},ek="0.0001px";function tk(a){const n=(0,e.useRef)(null),r=(0,t.useFacetWrap)(a),[l,o]=(0,t.useFacetState)(ek),[i,c]=(0,t.useFacetState)("hidden");return(0,t.useFacetEffect)((e=>{if(n.current){if(o(`${n.current.scrollHeight}px`),e){const e=setTimeout((()=>{o("auto"),c("visible")}),225);return()=>{clearTimeout(e)}}e||requestAnimationFrame((()=>{o(ek),c("hidden")}))}}),[c,o],[r]),[{height:l,overflow:i},n]}function ak(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nk(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ak(Object(a),!0).forEach((function(t){rk(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ak(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function rk(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function lk(){const e={active:0,available:0,realms:0};return t=>Object.keys(e).reduce(((a,n)=>{var r,l,o;const i=null!==(r=null===(l=t[n])||void 0===l||null===(o=l.resourcePacks)||void 0===o?void 0:o.length)&&void 0!==r?r:0,c=e[n]===i;return e[n]=i,a?c:a}),!0)}function ok(){const t=(0,e.useRef)(!0),{narrateText:a}=Xc({interruptible:!1}),{t:n}=oi("CreateNewWorld.resourcePacks");return(0,e.useCallback)((e=>{t.current&&"activate"===e?(a(n(".activateNarrationFirstPack")),t.current=!1):a(n(`.${e}Narration`))}),[a,n])}function ik(a,n,r,l,o,i){const c=be(),s=Ia(),u=(0,e.useRef)(null),d=(0,e.useRef)(null),m=(0,e.useRef)(null),p=(0,e.useRef)(null),f=Xv.useShowModal(),g=ok(),E=ok(),h=(0,e.useCallback)(((e,t,n)=>{u.current=e,d.current=t,m.current=n,p.current="remove",i(e,a)}),[a,i]),b=(0,t.useFacetCallback)((e=>(t,n,r,l,i,c)=>{u.current=t,d.current=i,m.current=c,p.current="activate",l&&e.multiplayerGame?f({multiplayerData:e,packId:t,packType:a,packName:n,packSize:r,onActivatePack:o}):o(t,a,n,r)}),[a,o,f],[l]),v=(0,t.useFacetMemo)((e=>Object.keys(n).reduce(((t,r)=>{const l=n[r],o=`${r}${a===Lg.Behavior?"BehaviorPacks":"TexturePacks"}`,i=e[o];return nk(nk({},t),{},{[r]:{gamepadAliases:l,resourcePacks:i}})}),{})),[n,a],[r],lk);return(0,t.useFacetEffect)((e=>{if(null==u.current||null==d.current||null==m.current||null==p.current)return;a===Lg.Resource&&E(p.current),a===Lg.Behavior&&g(p.current);const t=e[m.current];if(0===t.resourcePacks.length){const e=s?t.gamepadAliases.emptyStateMessageAlias:t.gamepadAliases.tabsAlias;return void c(e)}const n=null!=t.resourcePacks[d.current]?d.current:d.current-1,r=t.resourcePacks[n].id,l=ck(p.current,r);c(l)}),[c,s,a,E,g],[v]),{deactivatePack:h,activatePack:b}}function ck(e,t){return`${e}-${t}`}const sk=(0,e.createContext)(null);function uk(e){return(0,t.useFacetMap)((e=>null!=e?e:{id:"-1",contentId:"-1",name:"-1",creator:"-1",description:"-1",size:"-1",image:void 0,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1}),[],[e])}function dk(e){return e}function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},mk.apply(this,arguments)}const pk="_GLOBAL_MINECRAFT_TEXTURE_PACK_";function fk({pack:a,gamepadIndex:n,index:r,draggable:l,removable:o,activatable:i,canShowSettingsButton:c=!1,expandedPackId:s,containerListLength:u,outerRole:d="neutral",innerRole:m="neutral80",onDragStart:p=bk,onDrop:f=bk,onExpand:g=bk,onRemove:E=bk,onActivate:h=bk,onClickPackSettings:b=bk,onClickMoreDetails:v=bk,showTechnicalDetailsLink:F=!1}){const{t:S}=oi("PackListItem"),y=hr(),C=et(),M=(0,t.useSharedFacet)(Xf),k=(0,t.useFacetWrap)(l||!1),w=(0,t.useFacetWrap)(null!=o&&o),T=(0,t.useFacetWrap)(null!=i&&i),x=uk(a),I=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.id),[],[x])),P=(0,t.useFacetMap)((e=>e.name),[],[x]),O=(0,t.useFacetMap)((e=>e.size),[],[x]),N=(0,t.useFacetMap)((e=>e.description),[],[x]),A=(0,t.useFacetMap)((e=>e.isPlatformLocked),[],[x]),L=(0,t.useFacetRef)(A,!1),R=(0,t.useFacetMap)((e=>{switch(e.error){case Dg.PackDependencyWarning:return S(".errorPackMissingDependencies");case Dg.ContentTierIncompatible:return S(".errorPackNotCompatible");case Dg.ContentTierIncompatibleMemory:return S(".errorPackNotCompatibleMemory");case Dg.ContentTierIncompatibleRayTracing:return S(".errorPackNotCompatibleRayTracing");case Dg.NoPackAccess:return S(".errorPackAccess");case Dg.UnsupportedFileFormat:return S(".errorPackUnsupportedFormat");case Dg.NoManifest:case Dg.MissingProperty:case Dg.WrongTypeProperty:case Dg.EmptyProperty:case Dg.InvalidProperty:case Dg.MalformedPropertyUUID:case Dg.MalformedPropertyVERSION:case Dg.DuplicateUUID:case Dg.InvalidJSON:case Dg.MissingModules:case Dg.MultipleModules:case Dg.UnsupportedFormatVersion:return S(".errorPackReading");case Dg.VersionTooHigh:case Dg.VersionTooLow:return S(".errorPackIncompatibleVersion");case Dg.IncompletePack:return S(".errorPackIncomplete");default:return""}}),[S],[x]),D=(0,t.useFacetMap)((e=>e.error===Dg.PackDependencyWarning||e.error===Dg.IncompletePack||e.error===Dg.VersionTooHigh||e.error===Dg.VersionTooLow?"noticeTint":"destructiveTint"),[],[x]),_=(0,t.useFacetMap)((e=>0!=e.length),[],[R]),B=(0,t.useFacetMap)(((e,t)=>!(!e||t.error===Dg.NeedToDownloadPack)&&(c||t.error===Dg.VersionTooHigh||t.error===Dg.VersionTooLow||t.error===Dg.IncompletePack)),[c],[_,x]),W=(0,t.useFacetMap)((e=>!e.isMarketplaceItem),[],[x]),U=(0,t.useFacetMap)((e=>{const t=null!=e.image&&e.image.length>0?e.image:JM;return e.id.startsWith("7f4ba1a2-43dd-45b1-aa3f-0b3ca2ebd5c8")?QM:t}),[],[x]),z=(0,e.useRef)(null),j=(0,t.useFacetMap)((e=>e?1:0),[],[k]),H=(0,t.useFacetMap)((e=>e===I),[I],[s]),V=!1===(0,t.useFacetUnwrap)(H),G=!0===(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>!e),[],[k])),{handlers:$,dragStateFacet:K}=function({id:a,data:n,index:r,ref:l,pointerAxisLock:o,onDragStart:i,disabled:c,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}){const d=PE(),m=(0,e.useContext)(NE),p=(0,t.useFacetMap)((e=>e[a]),[a],[(0,t.useFacetWrap)(null!=m?m:{})]);(0,e.useEffect)((()=>{if(null!=d&&1!=c)return d.addDraggable({id:a,index:r,data:n,ref:l,pointerAxisLock:o,onDragStart:i,gamepadDragXOffsetPx:s,gamepadDragYOffsetPx:u}),()=>{d.removeDraggable(a)}}),[a,n,d,l,r,o,i,s,u,c]);const f=(0,t.useFacetCallback)((e=>t=>("gamepad"==e.dragging&&null!=d&&("up"!==t&&"down"!=t||d.focusDragMove(t)),0!=e.dragging)),[d],[p]),g=(0,e.useCallback)((e=>{if(null==d||null==e)return;const{clientX:t,clientY:n}=null!=e.clientX?e:e.touches[0];i?i((()=>{d.pointerDragStart(a,t,n)})):d.pointerDragStart(a,t,n)}),[d,a,i]),E=(0,e.useCallback)((()=>{null!=d&&(i?i((()=>{d.focusDragToggle(a)})):d.focusDragToggle(a))}),[d,i,a]);return{dragStateFacet:p,handlers:(0,e.useMemo)((()=>({onMouseDown:g,onGamepadClick:E,onUp:()=>!0===f("up"),onDown:()=>!0===f("down"),onLeft:()=>!0===f("left"),onRight:()=>!0===f("right")})),[g,E,f])}}({data:r,id:I,index:r,onDragStart:p,pointerAxisLock:"y",ref:z,disabled:G,gamepadDragXOffsetPx:ko(-.4),gamepadDragYOffsetPx:ko(-.8)}),X=function({id:a,index:n,ref:r,data:l,disabled:o,onDrop:i}){const c=PE(),s=(0,e.useContext)(AE),u=(0,t.useFacetMap)((e=>null!=e[a]?e[a]:{}),[a],[(0,t.useFacetWrap)(null!=s?s:{})]);return(0,e.useEffect)((()=>{if(null!=c&&1!=o)return c.addDroppable({id:a,index:n,ref:r,data:l,onDrop:i}),()=>{c.removeDroppable(a)}}),[a,n,r,l,i,c,o]),u}({id:I,index:r,data:r,onDrop:(e,t)=>{setTimeout((()=>{ie(S(".narrationReorderComplete",[`${t+1}`]))}),16),f(I,e,t)},ref:z,disabled:G}),Y=(0,t.useFacetMap)((e=>null!=e&&0!=e.dragging),[],[K]),q=(0,t.useFacetMap)((e=>null!=e&&e.dragging),[],[K]),Q=(0,t.useFacetMap)((e=>null!=e?e.displacement:0),[],[X]),J=(0,t.useFacetMap)((e=>null!=e?e.zIndex:""),[],[K]),Z=(0,t.useFacetMap)((e=>null!=e?e.transform:""),[],[K]),ee=(0,t.useFacetMap)((e=>null==e?"":`translate(0, ${100*e+"%"})`),[],[Q]),te=(0,t.useFacetMap)((e=>e?"-0.4rem":"0"),[],[Y]),ae=(0,t.useFacetMap)((e=>e?"-0.8rem":"0"),[],[Y]),ne=(0,t.useFacetMap)((e=>e?"0.7200000000000001rem 1.4400000000000002rem 0 rgba(0, 0, 0, 0.3)":""),[],[Y]),re=(0,t.useFacetMap)((e=>S(e?".dropInputLegendText":".dragInputLegendText")),[S],[Y]),le=(0,t.useFacetMap)(((e,t)=>null==t||e?"":"transform 100ms linear"),[],[Y,Q]),oe=(0,t.useFacetMap)((e=>"gamepad"===e?"transform 100ms linear":""),[],[q]),{narrateText:ie}=Xc(),ce=(0,t.useFacetCallback)(((e,t)=>()=>{ie([S((t=!t)?".narrationExpanded":".narrationCollapsed"),t?S(".narrationExpandedHint"):null].filter(dk).join(" . ")),g(e.id)}),[g,ie,S],[a,H]),se=(0,t.useFacetCallback)(((e,t)=>()=>{t.fireEventButtonPressed("Resource_Pack_Pack_Manifest_Button_OreUI",{}),y.push(`/manifest-validation/${e.contentId}`)}),[y],[a,M]),ue=(0,t.useFacetMap)((e=>S(e?".collapseDescriptionInputLegend":".expandDescriptionInputLegend")),[S],[H]),de=(0,t.useFacetMap)((e=>lr()(ZM.expandArrowIcon,{[ZM.flipped]:e})),[],[H]),me=(0,t.useFacetMap)((e=>e.hasSettings&&c),[c],[a]),pe=(0,t.useFacetMap)(((e,t)=>[e,S(".narrationComponentType"),t>0?S(".narrationListLengthContext",[`${r+1}`,`${t}`]):void 0].filter(dk).join(" . ")),[S,r],[P,(0,t.useFacetWrap)(null!=u?u:0)]),fe=(0,t.useFacetMap)(((e,t,a)=>[S(".narrationPackDescription"),S(".narrationAccordion"),S(e?".narrationExpanded":".narrationCollapsed"),e?null:S(t||a?".narrationExpandHint":".narrationExpandHintNoButtons")].filter(dk).join(" . ")),[S],[H,w,me]),ge=(0,t.useFacetMap)((e=>[S(".narrationReorderPack"),S(".narrationPackRank",[`${r+1}`]),S(".narrationButton"),S(e?".narrationReorderPointerHint":".narrationReorderGamepadHint"),S(".narrationMultiplePacksHint")].filter(dk).join(" . ")),[S,r],[C]),Ee=(0,t.useFacetMap)((e=>null==e?void 0:e.gamepadHoverIndex),[],[K]),he=(0,t.useFacetMap)((e=>null==e?void 0:e.pointerHoverIndex),[],[K]),be=(0,t.useFacetMap)((e=>null==e?void 0:e.hasDraggedPointerBeyondStartArea),[],[K]);(0,t.useFacetEffect)(((e,t,a,n,r)=>{!e||null==t&&null==a||(n&&null!=a&&r?ie(S(".narrationReorderPointerChangeConfirmation",[`${a+1}`])):null!=t&&ie(S(".narrationReorderGamepadChangeConfirmation",[`${t+1}`])))}),[ie,S],[Y,Ee,he,C,be]),(0,t.useFacetEffect)(((e,t)=>{e&&ie(S(t?".narrationReorderPointerDraggingHint":".narrationReorderGamepadDraggingHint"))}),[ie,S],[Y,C]);const ve=(0,e.useContext)(sk),Fe=$n(d),Se=Vn(d),ye=(0,t.useFacetMap)((e=>e?Fe.contract:Fe.expand),[Fe],[H]);return I==t.NO_VALUE?null:e.createElement(rs,{text:pe,key:I},e.createElement(hn,{role:d},e.createElement(rF,{options:{index:n}},e.createElement(ns,{options:{index:0}},e.createElement("fast-div",{style:{top:ae,left:te,zIndex:J}},e.createElement("fast-div",{ref:z,style:{transform:Z,transition:oe},className:ZM.packListItemContent},e.createElement("fast-div",{className:ZM.packListItemDragAnimationContainer,style:{transform:ee,boxShadow:ne,transition:le}},e.createElement(Gh,{gamepadIndex:0,defaultFocusedChildBehavior:"grid"},e.createElement(t.Mount,{when:k},e.createElement(Gh.AdditionalAction,mk({fitContent:!0,onClick:bk,inputLegend:re,narrationText:ge,gamepadIndex:0,touchDetectionDelay:0,soundEffectPressed:Fe.lift},$),e.createElement(Gh.Cell,{direction:"row"},e.createElement(Sc,{size:2}),e.createElement(oc,{src:GM,className:ZM.draggableIcon,imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionShort"},r+1),e.createElement(Sc,{size:2})))),e.createElement(Gh.Action,{inputLegend:ue,gamepadIndex:j,narrationText:fe,onClick:ce,soundEffectPressed:ye},e.createElement(Gh.Cell,null,e.createElement(oc,{src:U,className:lr()(ZM.packImage,Se.border.base,ZM.border)})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,P)),e.createElement(t.Mount,{when:B},e.createElement(jM,{role:D},R))),e.createElement(Gh.Cell,{direction:"row"},e.createElement(oc,{src:$M,className:de,imageRendering:"pixelated"}),e.createElement(Sc,{size:4}))),e.createElement(t.Mount,{when:me},e.createElement(Gh.AdditionalAction,{inputLegend:S(".settingsButtonText"),onClick:()=>b(I),narrationText:S(".narrationSettingsButton"),gamepadIndex:2},e.createElement(Gh.Cell,{align:"center"},e.createElement(oc,{src:XM,className:ZM.settingsIcon,imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{align:"center",type:"captionTiny"},S(".settingsButtonText"))))),e.createElement(t.Mount,{when:w},e.createElement(Gh.AdditionalAction,{inputLegend:S(".removeButtonText"),onClick:()=>E(I,r,ve),narrationText:S(".narrationRemoveButton"),gamepadIndex:3,gamepadAlias:ck("remove",I)},e.createElement(Gh.Cell,{align:"center"},e.createElement(oc,{src:KM,className:ZM.removeIcon,imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{align:"center",type:"captionTiny"},S(".removeButtonText"))))),e.createElement(t.Mount,{when:B},e.createElement(Gh.AdditionalAction,{inputLegend:S(".detailsButtonText"),onClick:se,narrationText:S(".narrationDetailsButton"),gamepadIndex:4},e.createElement(Gh.Cell,{align:"center"},e.createElement(oc,{src:qM,className:ZM.addIcon,imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{align:"center",type:"captionTiny"},S(".detailsButtonText"))))),e.createElement(t.Mount,{when:T},e.createElement(Gh.AdditionalAction,{inputLegend:S(".activateButtonText"),onClick:()=>h(I,P,O,L.current,r,ve),narrationText:S(".narrationActivateButton"),gamepadIndex:2,gamepadAlias:ck("activate",I)},e.createElement(Gh.Cell,{align:"center"},e.createElement(oc,{src:YM,className:ZM.addIcon,imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{align:"center",type:"captionTiny"},S(".activateButtonText"))))))))),e.createElement(VM,{disabled:V,shouldSkipLandmarkInVisual:!0,gamepadIndex:1},e.createElement(gk,{size:O,description:N,onClickMoreDetails:()=>v("string"==typeof I?I:""),onClickTechnicalDetails:se,expanded:H,hideMarketplaceLink:W,hideSize:W,outerRole:d,innerRole:m,showTechnicalDetailsLink:F&&I!=pk}))))))}function gk({expanded:a,description:n,size:r,onClickMoreDetails:l,onClickTechnicalDetails:o,hideMarketplaceLink:i,hideSize:c,outerRole:s,innerRole:u,showTechnicalDetailsLink:d=!1}){const m=(0,e.useRef)(null),{t:p}=oi("PackListItem"),[f,g]=tk(a),E=(0,t.useFacetMap)((e=>!e),[],[a]),h=Vn(s),b=Vn(u),v=(0,t.useFacetMap)(((e,t,a)=>[a?null:e,t].filter(dk).join(" . ")),[],[r,n,c]);return e.createElement(rs,{text:v},e.createElement(ac,{containerRef:m,delegateFocusFromMemory:!0},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()(ZM.expandableWrapper,h.background.base,{[ZM.expanded]:e})),[h],[a]),ref:m,style:f},e.createElement(hn,{role:u},e.createElement("div",{ref:g},e.createElement(Li.Maybe,{narrationText:!1,gamepadIndex:0,isInteractive:i,className:lr()(ZM.expandableContent,b.background.base,b.border.base),classNameFocused:vi},e.createElement(bi,null),e.createElement(Sc,{size:3}),e.createElement("div",{className:ZM.expandableContentWrapper},e.createElement("div",{className:ZM.expandableContentDescription},e.createElement(gs,{type:"captionLong"},n),e.createElement(Sc,{size:3}),e.createElement(t.Mount,{when:i,condition:!1},e.createElement(gs,{type:"captionLong"},e.createElement(QF,{disabled:E,gamepadIndex:0,onClick:l,withUnderlinePolyfill:!0},p(".descriptionMarketplaceLink"))))),e.createElement("div",{className:ZM.expandableContentLinksWrapper},e.createElement(t.Mount,{when:c,condition:!1},e.createElement(gs,{type:"captionShort",variant:"dimmer"},r)),d&&e.createElement(e.Fragment,null,e.createElement("div",null),e.createElement(gs,{type:"captionLong"},e.createElement(QF,{gamepadIndex:1,onClick:o,withUnderlinePolyfill:!0},p(".descriptionTechnicalDetailsLink")))))),e.createElement(t.Mount,{when:c,condition:!1},e.createElement(Sc,{size:3}))),e.createElement(Sc,{size:3}))))))}function Ek({pack:a,index:n,gamepadIndex:r,containerListLength:l,role:o="neutral"}){const i=uk(a),c=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.id),[],[i])),s=(0,t.useFacetMap)((e=>e.name),[],[i]),u=(0,t.useFacetMap)((e=>null!=e.image&&e.image.length>0?e.image:JM),[],[i]),{t:d}=oi("PackListItem"),m=(0,t.useFacetMap)(((e,t)=>[e,d(".narrationComponentType"),t>0?d(".narrationListLengthContext",[`${n+1}`,`${t}`]):void 0,d(".narrationDeactivatedState")].filter(dk).join(" . ")),[d,n],[s,(0,t.useFacetWrap)(null!=l?l:0)]),p=Vn(o),f=Ia();return c==t.NO_VALUE?null:e.createElement(rs,{text:m,key:c},e.createElement(rF,{options:{index:r}},e.createElement(ns,{options:{index:0}},e.createElement(Gh,{isFocusable:f,gamepadIndex:0},e.createElement(Sc,{size:2}),e.createElement(Gh.Cell,null,e.createElement(oc,{src:u,className:lr()(ZM.disabledPackImage,p.border.base,ZM.border)})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body",variant:"dimmer"},e.createElement(Ns,null,s)))))))}function hk(t){return function(e){var t;return null!==(t=e.deactivated)&&void 0!==t&&t}(t)?e.createElement(Ek,t):e.createElement(fk,t)}function bk(){}const vk=a=>{const n=(0,t.useFacetMemo)((e=>{const t=jd(e,(e=>e.id===a.packId));return null!=t?t:e[a.index]}),[a.packId,a.index],[a.packs]),r=(0,t.useFacetMap)((e=>e.length),[],[a.packs]);return e.createElement(hk,{showTechnicalDetailsLink:a.showTechnicalDetailsLink,gamepadIndex:a.index,pack:n,index:a.index,draggable:a.draggable,expandedPackId:a.expandedId,removable:a.isNotLockedTemplate,containerListLength:r,onDragStart:a.onDragStart,onDrop:a.onDrop,onExpand:a.onExpand,onRemove:a.onRemove,canShowSettingsButton:a.canShowSettingsButton,onClickPackSettings:a.onClickPackSettings,onClickMoreDetails:a.onClickMoreDetails})};function Fk(){let e=[];return function(t){if(e.length!==t.length)return e=UM(t,(e=>e.id)),!1;const a=zM(t,((t,a)=>e[a]===t.id));return a||(e=UM(t,(e=>e.id))),a}}function Sk(a){const n=(0,t.useFacetMemo)((e=>e),[],[a.packsFacet],Fk),r=(0,t.useFacetMap)((e=>e.map((e=>e.id))),[],[n]),l=(0,t.useFacetUnwrap)(r);return l!==t.NO_VALUE?e.createElement(e.Fragment,null,null==l?void 0:l.map(((t,r)=>e.createElement(vk,{showTechnicalDetailsLink:a.showTechnicalDetailsLink,packs:n,key:l[r],packId:t,index:r,draggable:a.draggable,expandedId:a.expandedId,onDragStart:a.onDragStart,onDrop:a.onDrop,onExpand:a.onExpand,onRemove:a.onRemove,canShowSettingsButton:a.canShowSettingsButton,onClickPackSettings:a.onClickPackSettings,onClickMoreDetails:a.onClickMoreDetails,isNotLockedTemplate:a.isNotLockedTemplate})))):null}function yk({text:t}){return e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionShort",variant:"dimmer"},t))}const Ck=a.p+"assets/arrowDownWhite-55034.png";function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Mk.apply(this,arguments)}const kk=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("ayLXu",a);return e.createElement(oc,Mk({},n,{className:r,src:Ck,imageRendering:"pixelated"}))},wk=a.p+"assets/arrowUpWhite-2c2b7.png";function Tk(){return Tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Tk.apply(this,arguments)}const xk=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("wXcBf",a);return e.createElement(oc,Tk({},n,{className:r,src:wk,imageRendering:"pixelated"}))},Ik={bevelWrapper:"xy0uV",content:"koWU0",left:"aMZtH",count:"NejtX",expandableWrapper:"cydJJ",expanded:"izYgc"};function Pk(a){const{label:n,count:r,children:l,narrationHint:o,alwaysShowHint:i=!1,onExpandNarrationHint:c,expandedDefaultState:s=!1,gamepadAlias:u,collapsible:d=!0,onChange:m,testId:p}=a,{t:f}=oi("Accordion"),{narrateText:g}=Xc(),[E,h]=(0,t.useFacetState)(s),[b,v]=tk(E),F=(0,t.useFacetMap)((e=>`(${e})`),[],[null!=r?r:Ok]),S=(0,t.useFacetMap)((e=>f(e?".closeInputLegend":".openInputLegend")),[f],[E]),y=(0,t.useFacetWrap)(o),C=(0,t.useFacetWrap)(n),M=(0,t.useFacetMap)(((e,t,a,n)=>[null!=t?f(".narrationCountLabel",[n,`${t>100?"100+":t}`]):n,f(".narrationComponentType"),f(e?".stateExpanded":".stateCollapsed"),e&&!i?null:a].join(" . ")),[f,i],[E,null!=r?r:Nk,y,C]),k=(0,t.useFacetWrap)(d),w=(0,t.useFacetCallback)(((e,t)=>()=>{if(t){const t=e?f(".stateCollapsed"):[f(".stateExpanded"),c].join(" . ");g(t),h(!e),m&&m(!e)}}),[g,f,c,h,m],[E,k]),T=(0,t.useFacetMap)((e=>`${Ik.expandableWrapper} ${e?Ik.expanded:""}`),[],[E]),x=(0,t.useFacetMap)(((e,t)=>e?t?"arrow-up-white":"arrow-down-white":"no-arrow"),[],[k,E]),I=(0,t.useFacetMap)((e=>!e),[],[E]);return e.createElement(e.Fragment,null,e.createElement("div",{className:Ik.bevelWrapper,"data-testid":p},e.createElement(Ys,{inputLegend:S,narrationText:M,onClick:w,variant:"neutral80",reflection:"bevel",gamepadAlias:u,"data-testid":"accordion-pressable"},e.createElement("div",{className:Ik.content},e.createElement("div",{className:Ik.left},e.createElement("fast-text",{text:n}),e.createElement(Sc,{size:2}),null!=r&&e.createElement("div",{className:Ik.count},e.createElement("fast-text",{text:F}))),e.createElement(Yr,{data:x},(t=>{switch(t){case"arrow-down-white":return e.createElement(kk,null);case"arrow-up-white":return e.createElement(xk,null);default:return null}}))))),e.createElement(pr,{disabled:I},e.createElement("fast-div",{className:T,style:b,"data-testid":"accordion-content"},e.createElement("div",{ref:v},e.createElement("div",{className:Ik.expandableContent},l)))))}const Ok=(0,t.createFacet)({initialValue:0}),Nk=(0,t.createFacet)({initialValue:null});function Ak(){return(0,e.useMemo)((()=>{const e=(0,t.createFacet)({initialValue:!1});return{closeExpanded:()=>e.set(!1),toggleExpanded:t=>e.setWithCallback((e=>e!=t&&t)),expandedId:e}}),[])}const Lk=(e,a,n,r,l,o)=>{const i=(0,t.useFacetMap)((e=>e.length>1),[],[e]);return{isDraggable:(0,t.useFacetMap)(((e,t)=>e&&!t),[],[i,l]),changePackPriority:(0,t.useFacetCallback)((()=>(e,t,n)=>{o&&o(e,a,t,n)}),[a,o],[]),dragStartHandler:(0,t.useFacetCallback)((e=>t=>{!1===e?t():(r(),setTimeout((()=>{t()}),200))}),[r],[n])}},Rk=a.p+"assets/marketplace-pass-promotion-static-d1708.png",Dk=a.p+"assets/minecraft-texture-pack-4c96b.png",_k={container:"g9sbm",draggableDashedBackground:"ufNa6",draggableDashedBackgroundGreyCover:"mojsE"};function Bk(e){const a=hr(),n=xv.useShowModal(),r=Ia();return(0,t.useFacetCallback)((t=>l=>{function o(){a.push(`/marketplace?packId=${l.substring(0,36)}`),t.fireEventButtonPressed(e,{})}r?n({onAccept:o}):o()}),[a,n,r,e],[(0,t.useSharedFacet)(Xf)])}const Wk=a.p+"assets/marketplace-icon-7f96f.png";function Uk({titleText:a,bodyText:n,onClick:r}){const{t:l}=sp("GetMoreButton"),o=Vn("neutral"),i=(0,t.useFacetWrap)(n),c=(0,t.useFacetMap)((e=>`${a} . ${l(".buttonNarration")} , ${e}`),[l,a],[i]);return e.createElement(Ys,{delayedClick:!0,inputLegend:l(".inputLegend"),narrationText:c,onClick:r,variant:"neutral",reflection:"bevel"},e.createElement("div",{className:"OR02_"},e.createElement(oc,{src:Wk,className:"YPAP8",imageRendering:"pixelated"}),e.createElement(Sc,{size:3}),e.createElement("div",{className:lr()("BrsPl",o.text.base)},e.createElement(gs,{type:"body"},a),e.createElement(gs,{variant:"dimmer",type:"captionShort"},n))))}const zk="tab-bar-cnw-rp-available",jk="empty-local-active-rp",Hk="empty-available-rp",Vk="empty-realms-plus-rp";function Gk({worldPacks:a,resourcePacksData:n,isEditorWorld:r,isLockedTemplate:l,onClickPackMoreDetails:o,onClickPackSettings:i,onChangePackPriority:c}){const s=ir(),u=(0,t.useFacetMap)((e=>({index:0,disabled:!e})),[],[s]);return e.createElement(ns,{options:u},(0,e.useMemo)((()=>e.createElement(e.Fragment,null,e.createElement(t.DeferredMount,null,e.createElement(Xk,{worldPacks:a,isEditorWorld:r,isLockedTemplate:l,onClickPackMoreDetails:o,onClickPackSettings:i,onChangePackPriority:c})),e.createElement(Sc,{size:6}),e.createElement(t.DeferredMount,null,e.createElement(Kk,{worldPacks:a,resourcePacksData:n,onClickPackMoreDetails:o})),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))),[a,n,r,l,o,i,c]))}const $k=e=>({id:pk,contentId:pk,name:e(".globalMinecraftPackTitle"),creator:"Minecraft",description:e(".globalMinecraftPackDescription"),size:"n/a",image:Dk,isMarketplaceItem:!1,isPlatformLocked:!1,hasSettings:!1});function Kk({worldPacks:a,resourcePacksData:n,onClickPackMoreDetails:r}){const{t:l}=sp("CreateNewWorld.resourcePacks"),o=(0,t.useFacetMap)((e=>e.globalTexturePacks),[],[a]),i=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[a]),c=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.length),[],[i])),s=c==t.NO_VALUE||0===c?1:c,{toggleExpanded:u,expandedId:d}=Ak(),m="edit"===(0,e.useContext)(rv),p=(0,t.useFacetMap)(((e,t)=>m?e.sharedPacksEnabled:t.sharedPacks),[m],[n,a]),f=!0===(0,t.useFacetUnwrap)(p),g=(0,t.useFacetMap)((e=>0===e.length?1:e.length+1),[],[o]),E=(0,t.useFacetUnwrap)(g),h=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>s+e-1),[s],[g])),b=E===t.NO_VALUE?0:E-1,v=h===t.NO_VALUE?0:h;return e.createElement(rs,{text:l(".narrationGlobalPacksHeader")},e.createElement(ah,{role:"neutral",label:l(".globalPacksListHeader")}),e.createElement(t.Map,{array:o},((t,a)=>f?e.createElement(hk,{containerListLength:g,deactivated:!0,pack:t,index:a,gamepadIndex:a+s}):e.createElement(hk,{pack:t,containerListLength:g,showTechnicalDetailsLink:!0,index:a,gamepadIndex:a+s,expandedPackId:d,onExpand:u,canShowSettingsButton:!1,onClickMoreDetails:r}))),e.createElement(hk,{showTechnicalDetailsLink:!0,containerListLength:g,pack:(0,t.useFacetWrap)($k(l)),index:b,gamepadIndex:v,expandedPackId:d,onExpand:u,onClickMoreDetails:r}),e.createElement(yk,{text:l(".globalPacksInfoMessage")}))}function Xk({worldPacks:a,isLockedTemplate:n,onClickPackMoreDetails:r,onClickPackSettings:l,onChangePackPriority:o,role:i="neutral"}){const{t:c}=sp("CreateNewWorld.resourcePacks"),s=Vn(i),u=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[a]),d=(0,t.useFacetMap)((e=>e.length<1),[],[u]),m=(0,t.useFacetMap)((e=>e.length>1),[],[u]),{expandedId:p,toggleExpanded:f,closeExpanded:g}=Ak(),{isDraggable:E,changePackPriority:h,dragStartHandler:b}=Lk(u,Lg.Resource,p,g,n,o),{deactivatePack:v}=Zk(),F=(0,t.useFacetMap)((e=>!e),[],[n]);return e.createElement(rs,{text:c(".narrationActiveLocalPacksHeader")},e.createElement(ah,{role:"neutral",label:c(".localPacksListHeader")}),e.createElement(t.Mount,{when:d},e.createElement(yE,{gamepadAlias:jk,title:c(".emptyLocalActivePacksMessageTitle"),text:c(".emptyLocalActivePacksMessageDescription"),gamepadIndex:0})),e.createElement("div",{className:_k.draggableDashedBackground},e.createElement("div",{className:lr()(_k.draggableDashedBackgroundGreyCover,s.background.base)}),e.createElement(t.Mount,{when:d,condition:!1},e.createElement(sk.Provider,{value:"active"},e.createElement(Sk,{showTechnicalDetailsLink:!0,packsFacet:u,draggable:E,expandedId:p,onDragStart:b,onDrop:h,onExpand:f,onRemove:v,onClickMoreDetails:r,onClickPackSettings:l,canShowSettingsButton:!0,isNotLockedTemplate:F})))),e.createElement(t.Mount,{when:n,condition:!1},e.createElement(t.Mount,{when:m},e.createElement(yk,{text:c(".packPriorityInfoMessage")}))),e.createElement(t.Mount,{when:n},e.createElement(yk,{text:c(".changesDisabledMessage")})))}function Yk({worldPacks:a,isEditorWorld:n,isLockedTemplate:r,onClickPackMoreDetails:l}){const o=ir(),i=(0,t.useFacetMap)((e=>({index:0,disabled:!e})),[],[o]),{t:c}=sp("CreateNewWorld.resourcePacks"),{toggleExpanded:s,expandedId:d}=Ak(),m=u(),p=Ia(),f=xv.useShowModal(),g=(0,t.useSharedFacet)(hg),E=(0,t.useSharedFacet)(mp),h=(0,t.useSharedFacet)(Xf),b=(0,t.useFacetMap)((e=>e.activeTexturePacks),[],[a]),v=(0,t.useFacetMap)((e=>e.availableTexturePacks),[],[a]),F=(0,t.useFacetMap)((e=>e.length<1),[],[v]),S=(0,t.useFacetMap)((e=>e.length),[],[v]),y=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[(0,t.useSharedFacet)(mm),n]),C=(0,t.useFacetMap)((e=>e.length>0),[],[b]),M=(0,t.useFacetMap)((e=>c(e?".activatedAllPacksMessageTitle":".userOwnsNoPacksMessageTitle")),[c],[C]),k=(0,t.useFacetMap)((e=>c(e?".activatedAllPacksMessageDescription":".userOwnsNoMessageDescription")),[c],[C]),w=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[r,g]),T=c(".getMoreButton.title"),x=c(".getMoreButton.body"),{activatePack:I}=Zk(),P=(0,t.useFacetCallback)(((e,t)=>()=>{function a(){t.fireEventButtonPressed("Get_More_Packs_Button_OreUI",{});const a=e.getMorePacks?`?title=${e.getMorePacks.title}&pageId=${e.getMorePacks.pageId}`:"";m.push(`/marketplace${a}`)}p?f({onAccept:a}):a()}),[m,p,f],[E,h]);return e.createElement(ns,{options:i},(0,e.useMemo)((()=>e.createElement(e.Fragment,null,e.createElement(Pk,{gamepadIndex:0,label:c(".inactivePacksAccordionHeader"),count:S,narrationHint:c(".inactivePacksAccordionHint"),onExpandNarrationHint:c(".inactivePacksOnExpandAccordionHint"),expandedDefaultState:!1},e.createElement(t.Mount,{when:F},e.createElement(yE,{gamepadAlias:Hk,title:M,text:k,gamepadIndex:0})),e.createElement(sk.Provider,{value:"available"},e.createElement(t.Map,{array:v},((t,a)=>e.createElement(hk,{containerListLength:S,activatable:w,onActivate:I,pack:t,index:a,gamepadIndex:a,expandedPackId:d,onExpand:s,onClickMoreDetails:l})))),e.createElement(Sc,{size:3})),e.createElement(qk,{worldPacks:a,isEditorWorld:n,isLockedTemplate:r,expandedId:d,toggleExpanded:s,onClickPackMoreDetails:l}),e.createElement(Sc,{size:1}),e.createElement(t.Mount,{when:y},e.createElement(Uk,{titleText:T,bodyText:x,onClick:P})),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))),[c,S,F,M,k,v,a,n,r,d,s,l,y,T,x,P,w,I]))}function qk({worldPacks:a,isEditorWorld:n,isLockedTemplate:r,expandedId:l,toggleExpanded:o,onClickPackMoreDetails:i}){const{t:c}=sp("CreateNewWorld.resourcePacks"),s=(0,t.useSharedFacet)(Eg),u=(0,t.useFacetMap)(((e,t,a)=>e.realmsPlusSupported&&!t&&!a),[],[a,(0,t.useSharedFacet)(mm),n]),d=(0,t.useFacetMap)((e=>e.isRealmsPlusSubscriptionActive||e.isMarketplacePassSubscriptionActive),[],[s]),m=(0,t.useFacetMap)((e=>!e.isMarketplacePassSubscriptionActive&&!e.isRealmsPlusSubscriptionActive),[],[s]),p=(0,t.useFacetMap)((e=>e.realmsTexturePacks),[],[a]),f=(0,t.useFacetMap)((e=>e.length<=0),[],[p]),g=(0,t.useFacetMap)(((e,t)=>t?e.length:"100+"),[],[p,d]),E=(0,t.useFacetMap)((e=>!e),[],[r]),{activatePack:h}=Zk();return e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(t.Mount,{when:u},e.createElement(Pk,{gamepadIndex:1,label:c(".marketplacePassPacksAccordionHeader"),count:g,narrationHint:c(".marketplacePassPacksAccordionHint"),onExpandNarrationHint:c(".marketplacePassPacksOnExpandAccordionHint"),expandedDefaultState:!1},e.createElement(t.Mount,{when:d},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:f},e.createElement(yE,{gamepadAlias:Vk,gamepadIndex:0,title:c(".marketplacePassPacksEmptyTitle"),text:c(".marketplacePassPacksEmptyBody")})),e.createElement(sk.Provider,{value:"realms"},e.createElement(t.Map,{array:p},((t,a)=>e.createElement(hk,{activatable:E,onActivate:h,pack:t,index:a,gamepadIndex:a,expandedPackId:l,onExpand:o,onClickMoreDetails:i})))))),e.createElement(t.Mount,{when:m},e.createElement(Qk,null)),e.createElement(Sc,{size:3}))))}function Qk(){const{t}=sp("CreateNewWorld.resourcePacks"),a=hr();return e.createElement(yE,{title:t(".marketplacePassPromotionTitle"),text:t(".marketplacePassPromotionBody"),imgSrc:Rk,imgClass:_k.marketplacePassPromotionImage,buttons:[{text:t(".marketplacePassPromotionButtonLabel"),inputLegend:t(".marketplacePassPromotionButtonInputLegend"),onClick:()=>a.push("/csb-pdp?tab=default")}],gamepadIndex:0})}const Jk=(0,e.createContext)({}),Zk=()=>(0,e.useContext)(Jk);function ew({worldPacks:a,multiplayerData:n,resourcePacksData:r,isEditorWorld:l,isLockedTemplate:o,isAchievementsDisabled:i,achievementsDisabledMessages:c,onActivatePack:s,onDeactivatePack:u,onChangePackPriority:d,onClickPackSettings:m,onUnlockTemplateSettings:p}){const{activatePack:f,deactivatePack:g}=ik(Lg.Resource,{active:{tabsAlias:"tab-bar-cnw-rp-active",emptyStateMessageAlias:jk},available:{tabsAlias:zk,emptyStateMessageAlias:Hk},realms:{tabsAlias:zk,emptyStateMessageAlias:Vk}},a,n,s,u),E=(0,t.useFacetMap)(((e,t)=>e||t.isTrialAccount),[],[o,(0,t.useSharedFacet)(Eg)]),{t:h}=sp("CreateNewWorld.resourcePacks"),{t:b}=sp("CreateNewWorldSideMenu"),v=(0,e.useMemo)((()=>({activatePack:f,deactivatePack:g})),[f,g]),F=Bk("Resource_Pack_More_Details_Button_OreUI"),S="edit"===(0,e.useContext)(rv),y=(0,t.useFacetMap)(((e,t)=>S?e.sharedPacksEnabled:t.sharedPacks),[S],[r,a]),C=(0,e.useRef)(!0);return(0,t.useFacetEffect)(((e,t)=>{e&&!C.current&&t.queueSnackbar(h(".globalPacksDeactivatedSnackbarMessage")),C.current=!1}),[h],[y,(0,t.useSharedFacet)(bp)]),e.createElement(Jk.Provider,{value:v},e.createElement(t.DeferredMountProvider,null,e.createElement(LE,null,e.createElement(uy,{isEditorWorld:l,isLockedTemplate:o,isAchievementsDisabled:i,achievementsDisabledMessages:c,nestedRoutes:!0,narrationText:b(".resourcePacksTabLabel"),onUnlockTemplateSettings:p},e.createElement(t.DeferredMount,null,e.createElement(vS,{disabled:E,gamepad:{index:0},title:h(".sharedPacksTitle"),description:h(".sharedPacksDescription"),onNarrationText:h(".sharedPacksDeactivatingGlobalPacks"),offNarrationText:h(".sharedPacksActivatingGlobalPacks"),onChange:(0,t.useFacetCallback)(((e,t)=>a=>{S?e.sharedPacksEnabled=a:t.sharedPacks=a}),[S],[r,a]),value:y})),e.createElement("div",{className:_k.container},e.createElement(BM,{gamepadAliasNamespace:"cnw-rp",path:"resource-packs",narrationTitle:b(".resourcePacksTabLabel")}),e.createElement(Sc,{size:2}),e.createElement(WM,{component:(0,e.useCallback)((()=>e.createElement(Gk,{worldPacks:a,resourcePacksData:r,isEditorWorld:l,isLockedTemplate:o,onClickPackSettings:m,onClickPackMoreDetails:F,onChangePackPriority:d})),[a,r,l,o,m,F,d]),gamepadIndex:3,filter:"active"}),e.createElement(WM,{component:(0,e.useCallback)((()=>e.createElement(Yk,{worldPacks:a,isEditorWorld:l,isLockedTemplate:o,onClickPackMoreDetails:F})),[a,l,o,F]),gamepadIndex:3,filter:"available"}),e.createElement(Sc,{size:2}))))))}const tw=a.p+"assets/empty-state-art-cd6d3.png",aw="empty-active-bp",nw="empty-available-bp";function rw({worldPacks:a,isLockedTemplate:n,onChangePackPriority:r,onClickPackSettings:l,onClickPackMoreDetails:o}){const i=ir(),c=(0,t.useFacetMap)((e=>({index:0,disabled:!e})),[],[i]);return e.createElement(e.Fragment,null,e.createElement(ns,{options:c},(0,e.useMemo)((()=>e.createElement(lw,{isLockedTemplate:n,worldPacks:a,onChangePackPriority:r,onClickPackSettings:l,onClickPackMoreDetails:o})),[n,r,a,l,o])),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}function lw({role:a="neutral",worldPacks:n,isLockedTemplate:r,onChangePackPriority:l,onClickPackMoreDetails:o,onClickPackSettings:i}){const{t:c}=sp("CreateNewWorld.behaviorPacks"),{toggleExpanded:s,expandedId:u,closeExpanded:d}=Ak(),m=Vn(a),{deactivatePack:p}=cw(),f=(0,t.useFacetMap)((e=>e.activeBehaviorPacks),[],[n]),g=(0,t.useFacetMap)((e=>e.length<1),[],[f]),E=(0,t.useFacetMap)((e=>e.length>1),[],[f]),h=(0,t.useFacetMap)((e=>!e),[],[r]),{isDraggable:b,changePackPriority:v,dragStartHandler:F}=Lk(f,Lg.Behavior,u,d,r,l);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:g},e.createElement(yE,{gamepadAlias:aw,title:c(".emptyLocalActivePacksMessageTitle"),text:c(".emptyLocalActivePacksMessageDescription"),gamepadIndex:0})),e.createElement("div",{className:"PWSBv"},e.createElement("div",{className:lr()("pTqB3",m.background.base)}),e.createElement(t.Mount,{when:g,condition:!1},e.createElement(sk.Provider,{value:"active"},e.createElement(Sk,{showTechnicalDetailsLink:!0,packsFacet:f,draggable:b,expandedId:u,onDragStart:F,onDrop:v,onExpand:s,onRemove:p,onClickMoreDetails:o,onClickPackSettings:i,canShowSettingsButton:!0,isNotLockedTemplate:h})))),e.createElement(t.Mount,{when:r,condition:!1},e.createElement(t.Mount,{when:E},e.createElement(yk,{text:c(".packPriorityInfoMessage")}))),e.createElement(t.Mount,{when:r},e.createElement(yk,{text:c(".changesDisabledMessage")})))}function ow({worldPacks:a,isLockedTemplate:n,onClickPackMoreDetails:r}){const{t:l}=sp("CreateNewWorld.behaviorPacks"),{toggleExpanded:o,expandedId:i}=Ak(),{activatePack:c}=cw(),s=ir(),u=(0,t.useFacetMap)((e=>({index:0,disabled:!e})),[],[s]),d=(0,t.useFacetMap)((e=>e.availableBehaviorPacks),[],[a]),m=(0,t.useFacetMap)((e=>e.length<1),[],[d]),p=(0,t.useFacetMap)((e=>!e),[],[n]);return e.createElement(e.Fragment,null,e.createElement(ns,{options:u},(0,e.useMemo)((()=>e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:m},e.createElement(yE,{gamepadAlias:nw,title:l(".activatedAllPacksMessageTitle"),text:l(".activatedAllPacksMessageDescription"),gamepadIndex:0})),e.createElement(sk.Provider,{value:"available"},e.createElement(t.Map,{array:d},((t,a)=>e.createElement(hk,{activatable:p,onActivate:c,pack:t,index:a,gamepadIndex:a,expandedPackId:i,onExpand:o,onClickMoreDetails:r})))))),[l,d,m,p,c,i,o,r])),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}const iw=(0,e.createContext)({}),cw=()=>(0,e.useContext)(iw);function sw({worldPacks:a,multiplayerData:n,isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,onActivatePack:i,onDeactivatePack:c,onChangePackPriority:s,onClickPackSettings:u,onUnlockTemplateSettings:d,isEditorWorld:m}){const{t:p}=sp("CreateNewWorld.behaviorPacks"),{t:f}=sp("CreateNewWorldSideMenu"),g=(0,t.useFacetMap)((e=>e.activeBehaviorPacks.length>0||e.availableBehaviorPacks.length>0),[],[a]),E=ik(Lg.Behavior,{active:{tabsAlias:"tab-bar-cnw-bp-active",emptyStateMessageAlias:aw},available:{tabsAlias:"tab-bar-cnw-bp-available",emptyStateMessageAlias:nw}},a,n,i,c),h=Ud({wide:8,narrow:5,width:260})?"XnOc_":"Md7uv",b=Bk("Resource_Pack_More_Details_Button_OreUI");return e.createElement(iw.Provider,{value:E},e.createElement(t.DeferredMountProvider,null,e.createElement(LE,null,e.createElement(uy,{isLockedTemplate:r,isAchievementsDisabled:l,achievementsDisabledMessages:o,nestedRoutes:!0,narrationText:f(".behaviorPacksTabLabel"),onUnlockTemplateSettings:d,isEditorWorld:m},e.createElement(t.DeferredMount,null,e.createElement(t.Mount,{when:g,condition:!0},e.createElement("div",{className:"TPaUw"},e.createElement(BM,{gamepadAliasNamespace:"cnw-bp",path:"behavior-packs",narrationTitle:f(".behaviorPacksTabLabel")}),e.createElement(Sc,{size:2}),e.createElement(WM,{component:()=>e.createElement(rw,{worldPacks:a,isLockedTemplate:r,onChangePackPriority:s,onClickPackSettings:u,onClickPackMoreDetails:b}),gamepadIndex:3,filter:"active"}),e.createElement(WM,{component:()=>e.createElement(ow,{worldPacks:a,isLockedTemplate:r,onChangePackPriority:s,onClickPackMoreDetails:b}),gamepadIndex:3,filter:"available"}),e.createElement(Sc,{size:2})))),e.createElement(t.DeferredMount,null,e.createElement(t.Mount,{when:g,condition:!1},e.createElement(yE,{gamepadAlias:aw,title:p(".noPacksAvailableTitle"),text:p(".noPacksAvailableBody"),gamepadIndex:0,imgSrc:tw,borderless:!0,imgClass:h})))))))}function uw({isLockedTemplate:a,isAchievementsDisabled:n,achievementsDisabledMessages:r,onUnlockTemplateSettings:l,onExportTemplate:o,onClearPlayerData:i,isEditorWorld:c}){const s=(0,t.useSharedFacet)(xm),u=(0,t.useFacetMap)((({allBiomes:e})=>e),[],[s]),d=(0,t.useFacetMap)((({spawnDimensionId:e})=>e),[],[s]),m=(0,t.useFacetMap)((e=>UM(e,(e=>({label:e.label,dimension:e.dimension,value:e.id})))),[],[u]),p=(0,t.useFacetMap)(((e,t)=>Ov(e,(e=>e.dimension===t))),[],[m,d]),f=(0,t.useFacetMap)((e=>e.spawnBiomeId),[],[s]),g=(0,t.useFacetMap)((e=>e.defaultSpawnBiome||e.isBiomeOverrideActive),[],[s]),E=(0,t.useSharedFacet)(Ir),h=(0,t.useFacetMap)((e=>Zv(e.platform)),[],[E]),b="edit"===(0,e.useContext)(rv),v=(0,t.useFacetMap)((e=>e&&b),[b],[h]),F=(0,e.useRef)(null),S=(0,e.useRef)(null);return e.createElement(t.DeferredMountProvider,null,e.createElement(uy,{isLockedTemplate:a,isAchievementsDisabled:n,achievementsDisabledMessages:r,narrationText:"Debug",onUnlockTemplateSettings:l,isEditorWorld:c},e.createElement(t.DeferredMount,null,e.createElement(vS,{title:"Flat nether",gamepad:{index:0},value:(0,t.useFacetMap)((e=>e.flatNether),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.flatNether=t}),[],[s])})),e.createElement(t.DeferredMount,null,e.createElement(vS,{title:"Enable game version override",gamepad:{index:1},value:(0,t.useFacetMap)((e=>e.enableGameVersionOverride),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.enableGameVersionOverride=t}),[],[s])})),e.createElement(t.DeferredMount,null,e.createElement(Ey,{label:"Game version override",gamepadIndex:2,placeholder:"0.0.0",maxLength:30,disabled:(0,t.useFacetMap)((e=>!e.enableGameVersionOverride),[],[s]),value:(0,t.useFacetMap)((e=>e.gameVersionOverride),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.gameVersionOverride=t}),[],[s])})),e.createElement(t.DeferredMount,null,e.createElement(cS,{title:"World biome settings"})),e.createElement(vS,{title:"Default spawn biome",description:"Using the default spawn biome will mean a random overworld spawn is selected",gamepad:{index:3},disabled:(0,t.useFacetMap)((e=>e.isBiomeOverrideActive),[],[s]),value:(0,t.useFacetMap)((e=>e.defaultSpawnBiome),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.defaultSpawnBiome=t}),[],[s])}),e.createElement(t.DeferredMount,null,e.createElement(JS,{onMountComplete:(0,t.useNotifyMountComplete)(),title:"Spawn dimension filter",gamepad:{index:4},disabled:g,wrapToggleText:!0,options:[{label:"Overworld",value:0},{label:"Nether",value:1}],value:d,onChange:(0,t.useFacetCallback)((e=>t=>{e.spawnDimensionId=t}),[],[s])})),e.createElement(t.DeferredMount,null,e.createElement("div",{ref:F},e.createElement(XS,{label:"Spawn biome",options:p,onChange:(0,t.useFacetCallback)((e=>t=>e.spawnBiomeId=t),[],[s]),disabled:g,gamepadIndex:5,value:(0,t.useFacetMap)(((e,t)=>t.filter((t=>t.value===e)).length>0?e:t[0].value),[],[f,p]),wrapperRef:F}))),e.createElement(vS,{title:"Biome override",description:"Set the world to a selected biome. This will override the Spawn biome!",gamepad:{index:6},value:(0,t.useFacetMap)((e=>e.isBiomeOverrideActive),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.isBiomeOverrideActive=t}),[],[s])}),e.createElement("div",{ref:S},e.createElement(XS,{label:"Biome override",description:"Select biome to be used in the entire world",options:m,disabled:(0,t.useFacetMap)((e=>!e.isBiomeOverrideActive),[],[s]),onChange:(0,t.useFacetCallback)((e=>t=>{e.biomeOverrideId=t}),[],[s]),gamepadIndex:7,value:(0,t.useFacetMap)((e=>e.biomeOverrideId),[],[s]),wrapperRef:S})),e.createElement(t.Mount,{when:v},e.createElement(dw,{onExportTemplate:o,onClearPlayerData:i}))))}const dw=({onExportTemplate:t,onClearPlayerData:a})=>{const{t:n}=sp("EditWorld.exportWorldFlow");return e.createElement(Ws,null,e.createElement(gs,{type:"sectionHeader"},"File management"),e.createElement(Sc,{size:4}),e.createElement(ru,{variant:"secondary",onClick:a,inputLegend:"Clear player data"},n(".clearPlayerDataTitle")),e.createElement(Sc,{size:4}),e.createElement(ru,{variant:"secondary",onClick:t,inputLegend:"Export"},n(".exportLabel")))};function mw(){}function pw(){const a=(0,t.useSharedFacet)(Rf),n=(0,t.useFacetMap)((e=>e.prompt.active),[],[a]),r=(0,t.useFacetMap)((e=>e.prompt.title),[],[a]),l=(0,t.useFacetMap)((e=>e.prompt.body),[],[a]),o=(0,t.useFacetMap)((e=>e.prompt.actions),[],[a]),i=(0,t.useFacetCallback)((e=>t=>{e.prompt.handleAction(t)}),[],[a]),c=(0,t.useFacetMap)((e=>e.length<=1),[],[o]),s=(0,t.useFacetCallback)((e=>e.length>1?()=>{var t;const a=null===(t=e.find((({variant:e})=>e===Zf.Secondary)))||void 0===t?void 0:t.id;null!=a&&i(a)}:mw),[i],[o]);return e.createElement(t.Mount,{when:n},e.createElement(sd,{defaultFocusAlias:fw},e.createElement(sd.Header,{onClose:s,hideCloseButton:c},r),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:l,gamepadIndex:0},e.createElement("fast-text",{text:l}))),e.createElement(sd.Buttons,{horizontal:!1},e.createElement(t.Map,{array:o},((t,a)=>e.createElement(e.Fragment,null,a>0&&e.createElement(Sc,{size:1}),e.createElement(gw,{button:t,index:a,onClick:i})))))))}const fw="prompt-default-btn";function gw({button:a,onClick:n,index:r}){const{t:l}=oi("CreateNewWorld.dlcCheckErrorModal"),o=(0,t.useFacetCallback)((e=>()=>n(e.id)),[n],[a]),i=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.variant===Zf.Primary?"primary":"secondary"),[],[a]));return e.createElement(ru,{onClick:o,gamepadIndex:r,inputLegend:l(".buttonSelectInputLegend"),gamepadAlias:0===r?fw:void 0,variant:i===t.NO_VALUE?"secondary":i},(0,t.useFacetMap)((e=>e.label),[],[a]))}const Ew=()=>{};function hw({autoplay:a,eventName:n,delay:r=0,disabled:l=!1,cancellable:o=!1}){const i=(0,t.useFacetWrap)(a),c=(0,t.useFacetWrap)(o),s=(0,t.useFacetWrap)(l),u=(0,t.useFacetWrap)(r),d=(0,t.useFacetWrap)(n),m=Ma(),p=(0,e.useRef)(Ew),f=(0,e.useRef)(!1);return(0,t.useFacetLayoutEffect)(((e,t,a,n,r)=>{const l=!1===a&&e&&r!==ka;if(f.current)return l&&(p.current=m(r,null!=t?t:0)),()=>{n&&(p.current(),p.current=Ew)};f.current=!0}),[m],[i,u,s,c,d]),null}var bw;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Bottom=3]="Bottom"}(bw||(bw={}));const vw={[bw.Top]:"QB5Kg",[bw.Left]:"oz9Hz",[bw.Right]:"JXIjK",[bw.Bottom]:"KMoQ1"};function Fw({anchor:a=bw.Right,children:n,drawerContent:r,isOpen:l,role:o="inherit",onOverlayClick:i,disableAnimation:c}){var s;l=(0,t.useFacetWrap)(null!==(s=l)&&void 0!==s&&s);const u=Vn(o),[d,m]=(0,t.useFacetState)(l.get()),p=(0,t.useFacetWrap)(null!=c&&c),f=ul();return(0,t.useFacetEffect)(((e,t)=>{if(!e){if(t)return m(!0);const e=setTimeout((()=>{m(!0)}),275);return()=>{clearTimeout(e)}}m(!1)}),[m],[l,p]),e.createElement(e.Fragment,null,n,e.createElement("fast-div",{className:"_2ofy"},e.createElement("fast-div",{onClick:i,className:(0,t.useFacetMap)(((e,t)=>lr()("oNyMv",u.overlay.base,{s4MUE:e,OC8iA:t})),[u],[l,p])}),e.createElement("fast-div",{style:{top:a===bw.Bottom?"":f.top+"px",bottom:a===bw.Top?"":f.bottom+"px",right:a===bw.Left?"":f.right+"px",left:a===bw.Right?"":f.left+"px"},className:(0,t.useFacetMap)(((e,t,n)=>lr()("sV4l2",vw[a],{FSf9q:e,ywOIV:t,IqDTi:n})),[a],[l,d,p])},r)),e.createElement(hw,{eventName:"ui.drawer_open",autoplay:l}),e.createElement(hw,{eventName:"ui.drawer_close",autoplay:(0,t.useFacetMap)((e=>!e),[],[l])}))}Fw.Anchor=bw;const Sw=a.p+"assets/under-construction-art-cropped-cd6d3.png",yw="CeXrm";let Cw;function Mw(e){return(0,t.useFacetMap)(((t,a)=>{switch(e){case Cw.FRIENDS:return!Yv(a.platform)&&!Qv(a.platform)&&!t.isLoggedInWithMicrosoftAccount;case Cw.REALMS:return(Yv(a.platform)||Qv(a.platform))&&!t.isSignedInPlatformNetwork||!t.isLoggedInWithMicrosoftAccount;case Cw.SERVERS:case Cw.TEMPLATES:default:return!t.isLoggedInWithMicrosoftAccount}}),[e],[(0,t.useSharedFacet)(Eg),(0,t.useSharedFacet)(Ir)])}function kw({header:a,renderItem:n,renderSectionHeader:r,data:l,focusGridIndex:o,itemSeparator:i,sectionSeparator:c,loading:s=!1,footer:u,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusFromMemory:E=!0,scrollRef:h,delegateFocusByAlias:b,sectionsWrapper:v=ww}){const F=(0,t.useIsPaused)(),S=(0,t.useFacetWrap)(l),y=(0,t.useFacetMemo)((e=>Ov(e,(e=>null!=e.emptyStateMessage||e.data.length>0))),[],[S]);return e.createElement(t.DeferredMountProvider,null,e.createElement(xw,{scrollRef:h,delegateFocusFromMemory:E,loading:s,focusGridIndex:o,renderTracker:d,padSpinnerVertically:m,gamepadAlias:p,spinnerBackgroundColor:f,showSpinnerBorder:g,delegateFocusByAlias:b},null!=a&&e.createElement(e.Fragment,null,a,i),!1===F&&e.createElement(v,null,e.createElement(t.Map,{array:y},((t,l)=>e.createElement(Tw,{headerPresent:null!=a,section:t,sectionIndex:l,sections:y,renderSectionHeader:r,renderItem:n,sectionSeparator:c})))),u))}function ww({children:t}){return e.createElement(e.Fragment,null,t)}function Tw({headerPresent:a,section:n,sectionIndex:r,sections:l,renderSectionHeader:o,renderItem:i,sectionSeparator:c,itemSeparator:s}){const u=(0,t.useFacetMap)((e=>e.data),[],[n]),d=(0,t.useFacetMap)((e=>e.data.length),[],[n]),m=(0,t.useFacetMap)((e=>e.title),[],[n]),p=(0,t.useFacetMap)((e=>e.role),[],[n]),f=(0,t.useFacetMap)((e=>0==e.data.length||null==e.data),[],[n]),g=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.emptyStateMessage)&&void 0!==t?t:""}),[],[n]),E=o(m,p),{t:h}=oi("SectionList"),b=a?r+1:r,v=(0,t.useFacetMap)((e=>{var t,a;const n=e[r];return[h(".groupNarration",[null!==(t=n.narrationTitle)&&void 0!==t?t:n.title,`${r+1}`,`${e.length}`]),null!==(a=n.narrationSuffix)&&void 0!==a?a:""].join(" . ")}),[r,h],[l,n]);return e.createElement(ns,{options:{index:b},key:b},e.createElement(rs,{text:v},r>0&&c,E,s,e.createElement(t.Mount,{when:f},e.createElement(yE,{gamepadIndex:0,text:g})),e.createElement(t.Map,{array:u},((t,a)=>e.createElement(e.Fragment,null,a>0&&s,i({itemFacet:t,index:a,sectionIndex:b,listLengthFacet:d}))))))}function xw({loading:a,children:n,renderTracker:r,padSpinnerVertically:l,focusGridIndex:o,gamepadAlias:i,spinnerBackgroundColor:c,showSpinnerBorder:s,delegateFocusFromMemory:u=!0,scrollRef:d,delegateFocusByAlias:m}){const p=(0,t.useIsDeferring)(),f=(0,t.useIsPaused)(),g=(0,t.useFacetMap)(((e,t)=>t||e||f),[f],[p,(0,t.useFacetWrap)(null!=a&&a)]);return e.createElement(Yc,{innerRef:d,loading:g,focusGridIndex:o,renderTracker:r,padSpinnerVertically:l,gamepadAlias:i,delegateFocusFromMemory:u,spinnerBackgroundColor:c,showSpinnerBorder:s,delegateFocusByAlias:m},n)}!function(e){e.SERVERS="SERVERS",e.REALMS="REALMS",e.FRIENDS="FRIENDS",e.TEMPLATES="TEMPLATES"}(Cw||(Cw={}));const Iw=a.p+"assets/arrowForward-03da5.png",Pw=a.p+"assets/arrowForwardDisabled-779d8.png";function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ow.apply(this,arguments)}const Nw=a=>{let{className:n,disabled:r}=a,l=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["className","disabled"]);const o=(0,t.useFacetWrap)(null!=r&&r),i=sc("FHUZr",n);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(oc,Ow({},l,{className:i,src:Pw,imageRendering:"pixelated"}))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement(oc,Ow({},l,{className:i,src:Iw,imageRendering:"pixelated"}))))};const Aw="...",Lw=({index:a,totalPages:n,currentPage:r,onChange:l,role:o="neutral"})=>{const i=$n(o),c=Vn(o),{t:s}=oi("Pagination"),u=(0,t.useFacetMap)(((e,t)=>((e,t,a)=>{const n=String(a+1);if(0===a)return n;if(6===a)return String(e);if(e<=7)return n;if(t>=4&&1===a)return Aw;if(t<=e-3){if(5===a)return Aw;if(Array.from({length:e-6},((e,t)=>t+4)).includes(t))switch(a){case 2:return String(t+4-5);case 3:return String(t+4-4);case 4:return String(t+4-3)}return n}return String(a+(e-6))})(t,e,a)),[a],[r,n]),d=(0,t.useFacetMap)(((e,t)=>e===String(t)),[],[u,r]),m=(0,t.useFacetCallback)(((e,t,n,r)=>()=>{t||l(e!==Aw||1!==a?e!==Aw||5!==a?Number(e):Math.min(n+5,r):Math.max(n-5,1))}),[a,l],[u,d,r,n]),p=(0,t.useFacetMap)(((e,t,n,r)=>e===Aw&&1===a?s(".skipPrevious",[String(Math.max(n-5,0))]):e===Aw&&5===a?s(".skipNext",[String(Math.min(n+5,r)),String(r)]):s(".index",[e,String(r),s(t?".selected":".unselected")])),[a,s],[u,d,r,n]),f=(0,t.useFacetMap)((e=>lr()(c.background.base,c.text.base,c.border.base,e?"uvCnl":[c.background.hover,c.background.press,c.text.hover,c.text.press,c.border.hover,c.border.press])),[c],[d]),g=(0,t.useFacetMap)((e=>!1===e?i.press:void 0),[i],[d]),E=(0,t.useFacetMap)((e=>!1===e?i.hover:void 0),[i],[d]),h=(0,t.useFacetMap)((e=>!1===e?i.focus:void 0),[i],[d]);return e.createElement(Li,{narrationText:p,"data-testid":`pagination-index-${a}`,gamepadIndex:a+1,inputLegend:s(".currentPage",[`${a+1}`]),onClick:m,classNameFocused:vi,className:f,soundEffectPressed:g,soundEffectHovered:E,soundEffectFocused:h},e.createElement(bi,null),e.createElement(t.Mount,{condition:!1,when:d},e.createElement(Vi,{effect:"bevel"})),e.createElement("div",{className:"fBAuV"},e.createElement(t.Mount,{when:d},e.createElement("fast-div",{className:lr()("UNmNG",c.icon.base)})),e.createElement(gs,{type:"body"},u)))},Rw=a=>{let{direction:n,narrationText:r,disabled:l,inputLegend:o,onClick:i,gamepadIndex:c,disabledNarration:s}=a,u=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["direction","narrationText","disabled","inputLegend","onClick","gamepadIndex","disabledNarration"]);const d=(0,t.useFacetMap)(((e,t,a)=>e?a:t),[],[l,r,s]);return e.createElement("div",{className:"XM_PG"},e.createElement(Ys,{height:4,isElevated:!0,narrationText:d,variant:"secondary","data-testid":u["data-testid"],disabled:l,inputLegend:o,onClick:i,gamepadIndex:c},e.createElement("div",{className:"zHOXo"},"next"===n?e.createElement(Nw,{disabled:l,className:"AYHNu"}):e.createElement(tE,{className:"KCWC4",disabled:l}))))},Dw=({onChange:a,totalPages:n=1,currentPage:r=1,role:l="neutral",counterStyle:o="indices-list",unlockMaxWidth:i=!1,prevNarrationSuffix:c="",nextNarrationSuffix:s="",triggerShortcuts:u=!1})=>{const d=(0,t.useFacetWrap)(o),m=(0,t.useFacetWrap)(r),p=(0,t.useFacetWrap)(n),f=Vn(l),g=Qe(),E=(0,e.useContext)($e).isPointerInputTouch,{narrateText:h}=Xc(),b=To(),v=(0,t.useFacetWrap)(i),F=(0,t.useFacetWrap)(c),S=(0,t.useFacetWrap)(s),{t:y}=oi("Pagination"),C=(0,e.useRef)(null),M=(0,t.useFacetMap)((e=>Array.from({length:Math.min(e,7)},((e,t)=>t))),[],[p]),k=(0,t.useFacetCallback)((e=>()=>{if(e>0){const t=Math.max(e-1,0);a(t),h(t>1?[y(".nowOnPage",[String(t)]),y(".previousPage",[String(t-1)])].join(" . "):[y(".nowOnPage",[String(t)]),y(".previousPageDisabled")].join(" . "))}}),[h,a,y],[m]),w=(0,t.useFacetCallback)(((e,t)=>()=>{if(e<t){const n=Math.min(e+1,t);a(n),h(n<t?[y(".nowOnPage",[String(n)]),y(".nextPage",[String(n+1)])].join(" . "):[y(".nowOnPage",[String(n)]),y(".nextPageDisabled")].join(" . "))}}),[h,a,y],[m,p]),T=(0,t.useFacetMap)(((e,t)=>e||t?`${y(".context")} . ${y(".contextHintMouse")}`:`${y(".context")} . ${y(".contextHintGamepad")}`),[y],[g,E]),x=(0,t.useFacetMap)((e=>y(".previousPage",[""+(e-1)])),[y],[m]),I=(0,t.useFacetMap)(((e,t,a)=>t.length>0?[a,t].join(" . "):a),[],[m,F,x]),P=(0,t.useFacetMap)((e=>y(".nextPage",[`${e+1}`])),[y],[m]),O=(0,t.useFacetMap)(((e,t,a)=>t.length>0?[a,t].join(" . "):a),[],[m,S,P]),N=(0,t.useFacetMap)(((e,t)=>y(".indexCounter",[`${e}`,`${t}`])),[y],[m,p]),A=(0,t.useFacetMap)((e=>e?lr()("OGL9O"):""),[],[v]),L=(0,t.useFacetWrap)(u),R=(0,t.useFacetMap)((e=>1===e),[],[m]),D=(0,t.useFacetMap)(((e,t)=>e===t),[],[m,p]),_=(0,t.useFacetMap)((e=>({button:W.LEFT_TRIGGER,inputLegend:y(".previousPageInputLegend"),disabled:e})),[y],[R]),B=(0,t.useFacetMap)((e=>({button:W.RIGHT_TRIGGER,inputLegend:y(".nextPageInputLegend"),disabled:e})),[y],[D]);return e.createElement(t.Mount,{when:(0,t.useFacetMap)(((e,t)=>e>1||"hide-counter"===t),[],[p,d])},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:L},e.createElement(e.Fragment,null,e.createElement(ts,{options:_,onClick:k}),e.createElement(ts,{options:B,onClick:w}))),e.createElement(rs,{text:T},e.createElement("fast-div",{className:A,ref:C},e.createElement("div",{className:"EH7DY"},e.createElement(Rw,{direction:"previous",disabled:R,disabledNarration:(0,t.useFacetWrap)(y(".previousPageDisabled")),inputLegend:x,narrationText:I,onClick:k,"data-testid":"pagination-button-left",gamepadIndex:0}),e.createElement(Sc,{size:4}),e.createElement(Yr,{data:d},(n=>{switch(n){case"indices-list":return e.createElement(e.Fragment,null,e.createElement("div",{className:"lQDP_"},e.createElement("div",{className:"A_Lrf"},e.createElement("div",{className:"hqAey"},e.createElement(t.Map,{array:M},((t,n)=>e.createElement(Lw,{role:l,currentPage:m,totalPages:p,index:n,onChange:a})))))));case"index-counter":case"index-counter-no-border":return e.createElement(e.Fragment,null,"narrow"!==b&&e.createElement(gs,{className:lr()("JRfbL","index-counter-no-border"===n?[]:["cy0Fh",f.background.base,f.border.base]),align:"center",verticalAlign:"center",type:"body"},e.createElement("fast-text",{text:N})));default:return e.createElement(e.Fragment,null)}})),e.createElement(Sc,{size:4}),e.createElement(Rw,{direction:"next",disabled:D,disabledNarration:(0,t.useFacetWrap)(y(".previousPageDisabled")),inputLegend:P,narrationText:O,onClick:w,"data-testid":"pagination-button-right",gamepadIndex:(0,t.useFacetMap)((e=>e+2),[],[p])}))))))};function _w({screenAnalyticsId:t}){const a=u(),{t:n}=oi("AddFriendsButton"),r=yv();return e.createElement("div",{className:"mSqKT"},e.createElement(Sc,{size:1}),e.createElement(ru,{variant:"primary",onClick:()=>{r({button:"SearchForPlayers",screen:t}),a.push("/add-friend")},gamepadIndex:0,inputLegend:n(".searchForFriends"),"data-testid":"friends-drawer-add-friends-button"},n(".searchForFriends")),e.createElement(Sc,{size:3}))}const Bw=a.p+"assets/online-badge-e3691.png";function Ww(){return e.createElement(oc,{src:Bw,className:"KDWBk",imageRendering:"pixelated"})}const Uw=a.p+"assets/no-player-profile-d13a7.png",zw={small:2.4,medium:3.2,large:5.2};function jw({status:a="online",src:n="",variant:r="medium",grayscaleAvatar:l=!1,usePersonaPicRendering:o="if-enabled"}){const i=(0,t.useFacetWrap)(a),c=(0,t.useFacetMap)((e=>""!=e&&null==e),[],[(0,t.useFacetWrap)(n)]),s=(0,t.useFacetWrap)(r),u=(0,t.useFacetMap)((e=>""==e||null==e?Uw:e),[],[(0,t.useFacetWrap)(n)]),d=(0,t.useFacetWrap)(l),m=Rd("vanilla.usePersonaProfileImages"),p=(0,t.useFacetMap)(((e,t)=>t?"pixelated":"if-enabled"===e?m?"pixelated":void 0:!0===e?"pixelated":void 0),[m],[(0,t.useFacetWrap)(o),c]),f=Vn(),g=(0,t.useFacetMap)((e=>lr()("hYQ3Q","online"===e?"acBo_":"W7VPS")),[],[i]),E=(0,t.useFacetMap)((e=>lr()("qA9dD",{B8iqy:e})),[],[d]);return e.createElement("fast-div",{className:lr()("FZHBQ",f.neutral.border.base),style:{width:(0,t.useFacetMap)((e=>`${zw[e]}rem`),[],[s]),height:(0,t.useFacetMap)((e=>`${zw[e]}rem`),[],[s])}},e.createElement(oc,{src:u,className:E,imageRendering:p}),e.createElement("fast-div",{className:g},e.createElement(Ww,null)))}jw.VARIANT_SIZES=zw;const Hw=a.p+"assets/play-63100.png",Vw="Jc2Hh",Gw=({className:t})=>{const a=null!=t?`Jc2Hh ${t}`:Vw;return e.createElement(oc,{className:a,src:Hw,imageRendering:"pixelated"})},$w=a.p+"assets/delete-dc012.png";function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Kw.apply(this,arguments)}const Xw=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("igbFB",a);return e.createElement(oc,Kw({},n,{className:r,src:$w,imageRendering:"pixelated"}))},Yw=a.p+"assets/IconAddPlayerWhite-c25a0.png";function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qw.apply(this,arguments)}const Qw=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("NWOSY",a);return e.createElement(oc,qw({},n,{className:r,src:Yw,imageRendering:"pixelated"}))},Jw=()=>{const e=(0,t.useSharedFacet)(Xf);return(0,t.useFacetCallback)((e=>(t,a={},n,r)=>{const l={};Object.keys(a).forEach((e=>{const{value:t,privacyTag:n}=a[e],r={__Type:"EventProperty",value:t,privacyTag:n};l[e]=r}));const o={};return n&&Object.keys(n).forEach((e=>{const{value:t,aggregationType:a}=n[e],r={__Type:"EventMeasurement",value:t,aggregationType:a};o[e]=r})),e.fireEvent(t,l,0===Object.keys(o).length?void 0:o,r)}),[],[e])};function Zw(e){const a=(0,t.useSharedFacet)(Ep);return(0,t.useFacetCallback)(((e,t)=>()=>{t.joinFriendServerByInvite(e)}),[],[e,a])}const eT=pi((({joinServer:t,onClose:a})=>{const{t:n}=oi("MobileDataBlockedModal"),r=u(),l="backButton";return e.createElement(sd,{defaultFocusAlias:l},e.createElement(sd.Header,{onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Paragraphs,{narrationText:`${n(".onlyWifi")}. ${n(".costWarning")}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(gs,{type:"captionLong"},n(".onlyWifi")),e.createElement(gs,{type:"captionLong"},n(".costWarning")))),e.createElement(sd.Buttons,null,e.createElement(ru,{delayedClick:!0,onClick:()=>{a(),r.push("/settings/general")},autofocus:!0,gamepadAlias:l,inputLegend:n(".changeSettings"),variant:"primary"},n(".changeSettings")),e.createElement(Sc,{size:1}),e.createElement(ru,{delayedClick:!0,inputLegend:n(".playOnceWithData"),variant:"secondary",onClick:()=>{t(),a()},"data-testid":"play-once-with-data"},n(".playOnceWithData"))))}));function tT(e){return`/profile?xuid=${e}`}const aT=a.p+"assets/external-link-0e493.png",nT=pi((({onClose:a})=>{const{t:n}=oi("CreateNewWorld.upsellModal"),r=(0,t.useFacetCallback)((e=>()=>{e.showPremiumNetworkUpsellModal(),a()}),[a],[(0,t.useSharedFacet)(Eg)]),l=(0,t.useFacetMap)((e=>Qv(e.platform)?n(".bodyNintendo"):n(".bodyXbox")),[n],[(0,t.useSharedFacet)(Ir)]);return e.createElement(sd,null,e.createElement(sd.Header,{onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:l},l)),e.createElement(sd.Buttons,null,e.createElement(ru,{inputLegend:n(".primaryButton"),onClick:r,variant:"primary",imgSrc:aT,"data-testid":"learn-more-premium-upsell"},n(".primaryButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:n(".back"),onClick:a},n(".back"))))})),rT=a.p+"assets/external_link-0e493.png",lT=pi((({onClose:t,screenAnalyticsId:a})=>{const{t:n}=oi("FriendsDrawer.multiplayerRequireAccountModal"),r=yv(),l=u(),o=(0,e.useCallback)((()=>{r({screen:a,button:"SignIn"}),l.replace("/sign-in?signInSource=RequireAccountModal_OreUI"),t()}),[r,l,a,t]);return e.createElement(sd,null,e.createElement(sd.Header,{onClose:t},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".text")},n(".text"))),e.createElement(sd.Buttons,null,e.createElement(ru,{inputLegend:n(".loginButtonLabel"),onClick:o,variant:"primary",imgSrc:rT,"data-testid":"login-msa-button"},n(".loginButtonLabel")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:n(".backButtonLabel"),onClick:t},n(".backButtonLabel"))))}));function oT({item:a,index:n,listLength:r,onAdditionalActionClick:l,disabled:o,gamepadAlias:i,profileEntryPoint:c,screenAnalyticsId:s=""}){const{t:d}=oi("PlayerListItem"),m=u(),p=(0,t.useFacetMap)((e=>e.xuid),[],[a]),f=(0,t.useFacetMap)((e=>e.gamerTag),[],[a]),g=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:""}),[],[a]),E=(0,t.useFacetMap)((e=>e.playingOnServerId),[],[a]),h=(()=>{const t=Jw();return(0,e.useCallback)((e=>{t("ButtonPressed",{ButtonName:{value:"Profile",privacyTag:$f.CustomerContent},entryPoint:{value:e,privacyTag:$f.CustomerContent}},{Count:{value:1,aggregationType:Kf.Increment}},!0)}),[t])})(),b=(0,t.useFacetCallback)((e=>()=>{h(c),null!=e.platformId?m.push(`/profile?platformId=${e.platformId}`):m.push(tT(e.xuid))}),[m,h,c],[a]),v=(0,t.useFacetMap)((e=>e.platform),[],[a]),F=(0,t.useSharedFacet)(Eg),S=(0,t.useFacetMap)((({variant:e,isOnline:t,platform:a})=>"sent-request"===e?d(".pending"):"received-request"===e?d(".receivedRequest"):!0===t?d(null!=a?`.online.${a}`:".online"):!1===t?d(".offline"):""),[d],[a,v]),y=(0,t.useFacetMap)((({isOnline:e})=>!0===e?"online":"offline"),[],[a]),C=(0,t.useFacetMap)((({variant:e})=>"added-not-mutual"===e?"added-status":"added-mutual"===e?"friends-status":"none"),[],[a]),M=(0,t.useFacetWrap)(o),k=(0,t.useFacetMap)((({variant:e},t)=>"sent-request"===e||"received-request"===e||null!=t&&t),[],[a,M]),w=(0,t.useFacetMap)((({variant:e,playingOnServerId:t},a)=>"player"===e&&null!=t&&a.userPermissions.multiplayer.allowed?"join":"sent-request"===e?"delete-request":"received-request"===e?"accept-reject-request":"add-friend"===e&&a.userPermissions.addFriends.allowed?"add-friend":"none"),[],[a,F]),T=(0,t.useFacetMap)((({variant:e},t,a,r,l,o)=>{const i=[];let c=o;return"sent-request"===e?c=d(".sentRequestNarration"):"received-request"===e&&(c=d(".receivedRequestNarration")),i.push(t,c,d(l?".listItemRole":".buttonRole"),d(".narrationItemOrderContext",[`${n+1}`,`${a}`])),l||i.push(d(".playerProfileHint")),"none"!==r&&i.push(d(".additionalActionsHint")),i.join(" . ")}),[d,n],[a,f,r,w,k,S]),x=be(),I=(0,t.useFacetCallback)((e=>()=>{l&&l(),x(e)}),[x,l],[(0,t.useFacetWrap)(i)]),P=(0,t.useFacetMap)((e=>e.location),[],[a]);return e.createElement(Gh,null,e.createElement(Gh.Action,{narrationText:T,inputLegend:d(".viewProfile"),onClick:b,gamepadAlias:i,disabled:k},e.createElement(Gh.Cell,{direction:"row"},e.createElement(jw,{variant:"large",src:g,status:y})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,f)),e.createElement(gs,{type:"captionShort",variant:"dimmer"},S)),e.createElement(Yr,{data:C},(t=>{switch(t){case"added-status":return e.createElement(dT,{text:d(".added"),Icon:Cs});case"friends-status":return e.createElement(dT,{text:d(".friends"),Icon:Cs});default:return e.createElement(e.Fragment,null)}}))),e.createElement(Yr,{data:w},(t=>{switch(t){case"none":return e.createElement(e.Fragment,null);case"join":return e.createElement(iT,{playingOnServerId:E,onClickAdditionalAction:I,screenAnalyticsId:s});case"delete-request":return e.createElement(cT,{onClickAdditionalAction:I});case"accept-reject-request":return e.createElement(sT,{playerId:p,onClickAdditionalAction:I});case"add-friend":return e.createElement(uT,{playerId:p,onClickAdditionalAction:I,location:P,index:n,listLength:r})}})))}function iT({playingOnServerId:a,onClickAdditionalAction:n,screenAnalyticsId:r}){const{t:l}=oi("PlayerListItem"),o=yv(),i=(0,t.useSharedFacet)(Ir),c=function(e){const a=(0,t.useSharedFacet)(Ep),n=(0,t.useFacetMap)((e=>e.joinFriendServerState),[],[a]),r=Sv((e=>function*(t){e.joinFriendServer(t),yield n,e.clearJoinFriendServerTaskState()}),[n],[a]);return(0,t.useFacetCallback)((e=>()=>{r(e)}),[r],[e])}((0,t.useFacetMap)((e=>null!=e?e:""),[],[a])),s=(0,t.useSharedFacet)(Eg),u=(0,t.useFacetMap)(((e,t)=>(Yv(t.platform)||Qv(t.platform))&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess),[],[s,i]),d=(0,t.useFacetMap)(((e,t)=>(Qv(e.platform)||qv(e.platform))&&!t.hasPremiumNetworkAccess),[],[i,s]),m=(0,t.useFacetMap)(((e,t)=>Yv(e.platform)&&!t.hasPremiumNetworkAccess),[],[i,s]),p=eT.useModal(),f=nT.useModal(),g=lT.useModal(),E=(0,t.useFacetCallback)(((e,t,a,l,i)=>()=>{o({screen:r,button:"Join"}),t.onlyCellularAvailable&&t.showCellularDataFee?p.show():i?e.showPremiumNetworkUpsellModal():a?f.show():l?g.show():(c(),n&&n())}),[c,p,n,o,r,f,g],[s,i,d,u,m]),h=(0,t.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,c(),n&&n()}),[c,n],[(0,t.useSharedFacet)(Fp)]);return e.createElement(e.Fragment,null,e.createElement(Gh.AdditionalAction,{narrationText:[l(".joinFriend"),l(".buttonRole")].join(" . "),inputLegend:l(".select"),onClick:E,testId:"player-list-item-join-button"},e.createElement(Gw,null),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionShort"},e.createElement(Ns,null,l(".join")))),e.createElement(t.Mount,{when:p.isVisible},e.createElement(eT.Component,{onClose:p.hide,joinServer:h})),e.createElement(t.Mount,{when:f.isVisible},e.createElement(nT.Component,{onClose:f.hide})),e.createElement(t.Mount,{when:g.isVisible},e.createElement(lT.Component,{onClose:g.hide,screenAnalyticsId:r})))}function cT({onClickAdditionalAction:t}){const{t:a}=oi("PlayerListItem"),n=(0,e.useCallback)((()=>{t&&t()}),[t]);return e.createElement(Gh.AdditionalAction,{inputLegend:a(".select"),onClick:n,narrationText:[a(".delete"),a(".buttonRole")].join(" . ")},e.createElement(Gh.Cell,{align:"center"},e.createElement(Xw,null),e.createElement(Sc,{size:1}),e.createElement(gs,{align:"center",type:"captionTiny"},a(".delete"))))}function sT({playerId:a,onClickAdditionalAction:n}){const{t:r}=oi("PlayerListItem"),l=(0,t.useSharedFacet)(Xm),o=(0,t.useFacetCallback)(((e,t)=>()=>{e.acceptRequest(t),n&&n()}),[n],[l,a]),i=(0,t.useFacetCallback)(((e,t)=>()=>{e.rejectRequest(t),n&&n()}),[n],[l,a]);return e.createElement(e.Fragment,null,e.createElement(Gh.AdditionalAction,{inputLegend:r(".select"),onClick:o,narrationText:[r(".accept"),r(".buttonSiblings",["1","2"])].join(" . "),testId:"player-list-item-accept-button"},e.createElement(Gh.Cell,{align:"center"},e.createElement(Cs,null),e.createElement(Sc,{size:1}),e.createElement(gs,{align:"center",type:"captionTiny"},r(".accept")))),e.createElement(Gh.AdditionalAction,{inputLegend:r(".select"),onClick:i,narrationText:[r(".reject"),r(".buttonSiblings",["2","2"])].join(" . "),testId:"player-list-item-reject-button"},e.createElement(Gh.Cell,{align:"center"},e.createElement(fc,null),e.createElement(Sc,{size:1}),e.createElement(gs,{align:"center",type:"captionTiny"},r(".reject")))))}function uT({playerId:a,onClickAdditionalAction:n,location:r,index:l,listLength:o}){const{t:i}=oi("PlayerListItem"),c=(0,t.useFacetCallback)(((e,t,a)=>()=>{null!=a&&t.addFriend(e,a),n&&n()}),[n],[a,(0,t.useSharedFacet)(zp),r]),s=(0,t.useFacetMap)(((e,t)=>{const a=[i(".addButtonText"),i(".buttonRole")];return t===Up.ADDFRIENDS_SEARCH&&a.push(i(".narrationItemOrderContext",[`${l+1}`,`${e}`])),a.join(" . ")}),[l,i],[o,r]);return e.createElement(Gh.AdditionalAction,{inputLegend:i(".addButtonInputLegend"),onClick:c,narrationText:s,testId:"player-list-item-add-button"},e.createElement(Gh.Cell,{align:"center"},e.createElement(Qw,null),e.createElement(Sc,{size:1}),e.createElement(gs,{align:"center",type:"captionTiny"},i(".addButtonText"))))}function dT({Icon:t,text:a}){return e.createElement(Gh.Cell,{direction:"row"},e.createElement(t,null),e.createElement(Sc,{size:2}),e.createElement(gs,{variant:"dimmer",type:"captionShort"},a),e.createElement(Sc,{size:1}))}function mT(){return(0,t.useFacetMap)((e=>Yv(e.platform)||Qv(e.platform)),[],[(0,t.useSharedFacet)(Ir)])}const pT=a.p+"assets/external-link-b22bb.png";function fT({tab:a,stackedButtons:n=!1}){const{t:r}=oi("PlayScreen"),l=gT(a),o=hT(a),i=(0,t.useFacetMap)((e=>e.isDevBuild||e.isPreviewBuild),[],[(0,t.useSharedFacet)(um)]);return e.createElement(t.Mount,{when:i},e.createElement(iS,{border:!0,stackedButtons:n,title:r(".designPreviewTitle"),description:r(".designPreviewDescription"),buttons:e.createElement(e.Fragment,null,e.createElement(ru,{inputLegend:`${r(".designPreviewInputLegend")}`,horizontal:!n,onClick:l,imgSrc:pT,gamepadIndex:0},r(".feedbackButton")),e.createElement(iS.ButtonSpacing,null),e.createElement(ru,{inputLegend:`${r(".designPreviewInputLegend")}`,horizontal:!n,onClick:o,gamepadIndex:1},r(".optOutButton")))}))}function gT(e){const a=(0,t.useSharedFacet)(vg),n=yv();return(0,t.useFacetCallback)((t=>()=>{n({button:"Feedback",screen:"Play"}),t.openLink(function(e){switch(e){case"friends":return bg.FriendsDrawerFeedbackPage;case"servers":return bg.ServersTabFeedbackPage;case"realms":return bg.RealmsTabFeedbackPage;case"template":return bg.StartFromTemplateFeedbackPage;default:return bg.PlayScreenFeedbackPage}}(e))}),[n,e],[a])}function ET({tab:a,borderless:n=!1,transparent:r=!1}){const{t:l}=oi("PlayScreen"),o=gT(a),i=`${l(".designPreviewShortDescription")}`,{background:c,border:s}=Vn("neutral"),u=Kn("panel","neutral"),d=lr()("UfghS",!n&&"PgFzj",s.base,!r&&c.base,u.main.base),m=(0,t.useFacetMap)((e=>e.isDevBuild||e.isPreviewBuild),[],[(0,t.useSharedFacet)(um)]);return e.createElement(t.Mount,{when:m},e.createElement(rs,{text:i},e.createElement("div",{className:d},e.createElement(Sc,{size:2}),e.createElement(ru,{inputLegend:`${l(".designPreviewInputLegend")}`,onClick:o,imgSrc:pT,gamepadIndex:0},l(".feedbackButton")),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort",role:"neutral",variant:"dimmest",align:"center"},l(".designPreviewShortDescription")),e.createElement(Sc,{size:2}))))}function hT(e){const a=hr(),n=(0,t.useSharedFacet)(jf),r=yv();return(0,t.useFacetCallback)((t=>()=>{r({button:"OptOut",screen:"Play"}),t.selectTechStackForScreen(Uf.PlayScreen,zf.JsonUI),a.replace("/play/"+e)}),[a,e,r],[n])}function bT(e){return(0,t.useFacetMap)(((e,t)=>{const{xuid:a,platformId:n}=t;return""===a&&""===n?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!=n?e.playerProfiles.find((e=>e.data.platformId===n))||null:e.playerProfiles.find((e=>e.data.xuid===a))||null}),[],[(0,t.useSharedFacet)(_p),e])}function vT(){const e=(0,t.useSharedFacet)(_p),a=(0,t.useSharedFacet)(Eg);return(0,t.useFacetMap)(((e,t)=>t.isLoggedInWithMicrosoftAccount?e.playerProfiles.find((e=>e.data.xuid===t.currentXuid))||null:e.playerProfiles.find((e=>e.data.platformId===t.currentPlatformId))||null),[],[e,a])}function FT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ST(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?FT(Object(a),!0).forEach((function(t){yT(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):FT(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function yT(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function CT({loading:a,drawerOpen:n,friendsOnline:r,friendsOffline:l,incomingRequests:o,outgoingRequests:i,profileEntryPoint:c,spinnerBackgroundColor:s,showSpinnerBorder:u,screenAnalyticsId:d}){const{t:m}=oi("FriendList"),p=(0,t.useFacetMap)((e=>Yv(e.platform)?"playstation":Qv(e.platform)?"switch":void 0),[],[(0,t.useSharedFacet)(Ir)]),f=(0,t.useFacetMap)(((e,t)=>e&&!t.isLoggedInWithMicrosoftAccount?"title":e&&t.isLoggedInWithMicrosoftAccount?"list-item":"none"),[],[mT(),(0,t.useSharedFacet)(Eg)]),g=(0,e.useRef)(null),{delegationEventFacet:E,delegateFocus:h}=Xi(),b=(0,e.useCallback)((()=>{g.current&&(g.current.scrollTop=0,h.first())}),[g,h]),{currentPage:v,totalPages:F,currentOnlineFriendsData:S,currentOfflineFriendsData:y,changeFriendsPage:C,reset:M}=function({friendsPerPage:a,friendsOnline:n,friendsOffline:r,onPagination:l}){const[o,i]=(0,t.useFacetState)(1),c=(0,t.useFacetMap)(((e,t)=>Math.ceil((e.length+t.length)/a)),[a],[n,r]),s=(0,t.useFacetMemo)(((e,t,n)=>{const r=[...$m(e),...t];return function({currentPage:e,friendsPerPage:t,friends:a}){const n=(e-1)*t,r=n+t;return a.slice(n,r)}({currentPage:n,friendsPerPage:a,friends:r})}),[a],[n,r,o]),u=(0,t.useFacetMap)((e=>e.filter((e=>e.isOnline))),[],[s]),d=(0,t.useFacetMap)((e=>e.filter((e=>!e.isOnline))),[],[s]),m=(0,t.useFacetCallback)((e=>t=>{e!==t&&(i(t),l())}),[i,l],[o]),p=(0,e.useCallback)((()=>i(1)),[i]);return(0,t.useFacetEffect)(((e,t)=>{if(e>0&&e<t){i(e);const t=setTimeout(l,30);return()=>clearTimeout(t)}}),[l,i],[c,o]),{currentPage:o,totalPages:c,currentOnlineFriendsData:u,currentOfflineFriendsData:d,changeFriendsPage:m,reset:p}}({friendsPerPage:15,friendsOnline:r,friendsOffline:l,onPagination:b}),k=(0,t.useFacetMemo)(((e,t,a,n,r,l,o)=>{let i=new Set;var c;"list-item"===r&&(i=new Set((null!==(c=o.platformFriends)&&void 0!==c?c:[]).map((e=>e.xuid))));const s=function({friendsOnline:e,friendsOffline:t,incomingRequests:a,outgoingRequests:n},r,l){return{online:$m(e).map((e=>MT(e,"player",r.has(e.xuid)?l:void 0))),offline:t.map((e=>MT(e,"player"))),requests:[...a.map((e=>MT(e,"received-request"))),...n.map((e=>MT(e,"sent-request")))]}}({friendsOnline:e,friendsOffline:t,incomingRequests:a,outgoingRequests:n},i,l);return s}),[],[S,y,o,i,f,p,(0,t.useSharedFacet)(Gm)]),w=be();(0,t.useFacetLayoutEffect)(((e,t)=>{e||t||!g.current?e&&!t&&g.current&&(M(),w("own-profile")):g.current.scrollTop=0}),[g,M,h,w],[n,a]);const T=vT(),x=(0,t.useFacetMap)(((e,t)=>null!=e&&!t),[],[T,a]),I=(0,t.useFacetMap)((e=>{var t,a,n,r,l,o;return""!==(null==e?void 0:e.data.xuid)?{xuid:null!==(t=null==e?void 0:e.data.xuid)&&void 0!==t?t:"",gamerTag:null!==(a=null==e?void 0:e.data.xblName)&&void 0!==a?a:"",gamerIcon:null!==(n=null==e?void 0:e.data.xblProfilePic)&&void 0!==n?n:"",variant:"self",isOnline:!0}:{xuid:null!==(r=null==e?void 0:e.data.platformId)&&void 0!==r?r:"",gamerTag:null!==(l=null==e?void 0:e.data.platformName)&&void 0!==l?l:"",gamerIcon:null!==(o=null==e?void 0:e.data.platformProfilePic)&&void 0!==o?o:"",variant:"self",isOnline:!0}}),[],[T]),P=(0,e.useRef)(null),O=(0,t.useFacetMap)((e=>e>1),[],[F]);return e.createElement(kw,{scrollRef:g,delegateFocusByAlias:"own-profile",header:e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(ET,{tab:"friends"}),e.createElement(t.Mount,{when:x},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(ah,{role:"informativeTint",label:m(".you")}),e.createElement(oT,{item:I,listLength:(0,t.useFacetWrap)(1),index:0,gamepadAlias:"own-profile",profileEntryPoint:c,screenAnalyticsId:d}))),e.createElement(Sc,{size:2}),e.createElement(_w,{screenAnalyticsId:d})),sectionsWrapper:({children:t})=>e.createElement(qi,{delegationEvent:E},e.createElement(ac,{containerRef:P,delegateFocusFromMemory:n},e.createElement("div",{ref:P,style:{flexGrow:1}},t))),loading:a,data:(0,t.useFacetMemo)(((e,t,a,n,r,l,o)=>[ST({role:"successTint",title:m("title"===t&&a?`.online.${a}`:".online",[`${l.length}`]),narrationTitle:m("title"===t&&a?`.narration.online.${a}`:".narration.online"),narrationSuffix:m(1!=l.length?".onlineFriendsNumberMultiple":".onlineFriendsNumberSingular",[`${l.length}`]),data:e.online},1===n?{emptyStateMessage:m(".noOnlineFriends")}:{}),{role:"neutral",title:m(".pending",[`${e.requests.length}`]),narrationTitle:m(".pendingFriends"),narrationSuffix:m(1!=e.requests.length?".pendingFriendsNumberMultiple":".pendingFriendsNumberSingular",[`${e.requests.length}`]),data:e.requests},ST({role:"secondary",title:m(".offline",[`${o.length}`]),narrationTitle:m(".offlineFriends"),narrationSuffix:m(1!=o.length?".offlineFriendsNumberMultiple":".offlineFriendsNumberSingular",[`${o.length}`]),data:e.offline},n===r?{emptyStateMessage:m(".noOfflineFriends")}:{})]),[m],[k,f,p,v,F,r,l]),footer:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:O},e.createElement(e.Fragment,null,e.createElement(Sc,{size:4}),e.createElement(Dw,{totalPages:F,currentPage:v,onChange:C}),e.createElement(Sc,{size:4}))),e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})})),sectionSeparator:e.createElement(Sc,{size:3}),renderSectionHeader:(t,a)=>e.createElement(ah,{role:a,label:t}),renderItem:t=>e.createElement(oT,{item:t.itemFacet,listLength:t.listLengthFacet,index:t.index,gamepadAlias:`friend-list-item-${t.sectionIndex}-${t.index}`,profileEntryPoint:c,screenAnalyticsId:d}),spinnerBackgroundColor:s,showSpinnerBorder:u})}function MT(e,t,a){return{gamerIcon:e.gamerIcon,gamerTag:e.gamerTag,isOnline:e.isOnline,playingOnServerId:e.playingOnServerId,xuid:e.xuid,variant:t,platform:a}}const kT=a.p+"assets/no-friends-empty-state-4846a.png";function wT({screenAnalyticsId:t}){const{t:a}=oi("EmptyFriendList");return e.createElement(rs,{text:a(".noFriendsCaption")},e.createElement(ET,{tab:"friends"}),e.createElement(Sc,{size:2}),e.createElement("div",{className:"y1MBg"},e.createElement(gs,{type:"body",align:"center"},a(".noFriendsCaption")),e.createElement(Sc,{size:4}),e.createElement(oc,{imageRendering:"pixelated",src:kT,className:"HSft6"}),e.createElement(Sc,{size:4}),e.createElement(_w,{screenAnalyticsId:t})))}const TT=a.p+"assets/Realms-missing-0133a.png",xT=a.p+"assets/sign-in-prompts-friends-animated-0c355.gif",IT=a.p+"assets/sign-in-prompts-friends-01fb9.png",PT=a.p+"assets/sign-in-prompts-servers-animated-ab246.gif",OT=a.p+"assets/sign-in-prompts-servers-cc10e.png";function NT({gifSrc:a,imageSrc:n,className:r}){const l=(0,t.useFacetMap)((e=>e?a:n),[a,n],[AT()]);return e.createElement(oc,{src:l,className:r,imageRendering:"pixelated"})}function AT(){return(0,t.useFacetMap)((e=>e.screenAnimationEnabled),[],[(0,t.useSharedFacet)(pa)])}function LT(){const e=u();return(0,t.useFacetCallback)(((t,a)=>()=>{const n=a.arvrPlatform===je.ARVR_Rift;a.platform!==He.WIN32||n?t.purchaseGame(Qf.FullGame):e.push("/win10-trial-conversion")}),[e],[(0,t.useSharedFacet)(Jf),(0,t.useSharedFacet)(Ir)])}function RT({context:t}){const{t:a}=oi("TrialModeMessage"),n="friendsDrawer"===t,r=LT();return e.createElement(Yc,{floating:!0,flexShrinkWrapper:!0},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(yE,{hideSpacingAroundImage:!0,borderless:n,title:a(".title"),text:DT(t,a),imgSrc:BT(t),imgClass:_T(t),buttons:[{text:a(".buyMinecraftButton"),onClick:r,variant:"primary"}]}),e.createElement(Sc,{size:3}),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0})))}function DT(e,t){return"realms"===e?t(".realmsMessage"):"servers"===e?t(".serversMessage"):"friendsDrawer"===e?t(".friendsDrawerMessage"):"Translation missing"}function _T(e){const a=zd({wide:8,narrow:6,width:260});return(0,t.useFacetMap)((t=>"friendsDrawer"===e?"M63tU":"servers"===e?t?"QLe2q":"UGpBp":t?"OdyZ1":"drkbv"),[e],[a])}function BT(e){const a=AT(),n=(0,t.useFacetMap)((e=>e?xT:IT),[],[a]),r=(0,t.useFacetMap)((e=>e?PT:OT),[],[a]);return"realms"===e?TT:"servers"===e?r:"friendsDrawer"===e?n:void 0}const WT=a.p+"assets/IconClock-999dc.png";function UT(){return UT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},UT.apply(this,arguments)}const zT=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("moAxw",a);return e.createElement(oc,UT({},n,{className:r,src:WT,imageRendering:"pixelated"}))};function jT(e){const t=(new Date).getTime(),a=new Date(e).getTime()-t;return{days:String(Math.floor(a/864e5)),hours:String(Math.floor(a%864e5/36e5)),minutes:String(Math.floor(a%36e5/6e4))}}function HT({endDate:a}){const[n,r]=(0,t.useFacetState)({days:"0",hours:"0",minutes:"0"}),{t:l}=oi("PlayScreen.SuspendedMessage"),o=(0,t.useFacetMap)((e=>l(".timer",[e.days,e.hours,e.minutes])),[l],[n]);return(0,t.useFacetEffect)((e=>{r(jT(e));const t=setInterval((()=>{r(jT(e))}),6e4);return()=>clearInterval(t)}),[r],[a]),e.createElement(gs,{type:"body"},e.createElement(zT,null),e.createElement(Sc,{size:1}),e.createElement("fast-text",{text:o}))}const VT=new Date("2038-01-19T03:14:07Z").getTime();function GT({reason:a,expiration:n,usedInDrawer:r=!1}){const{t:l}=oi("PlayScreen"),{t:o}=oi("BannedOrSuspendedReason"),i=(0,t.useFacetMap)((e=>(e=>{if(!e||"Indefinite"===e)return!1;const t=new Date(e).getTime();return!(isNaN(t)||t<0||t>VT)})(e)),[],[n]),c=(0,t.useFacetMap)((e=>e?".SuspendedMessage":".BannedMessage"),[],[i]),s=(0,t.useFacetMap)((e=>o(`.${""!=e?e:"xbox.report.policyViolation"}`)),[o],[a]),u=(0,t.useFacetMap)((e=>l(`${e}.title`)),[l],[c]),d=(0,t.useFacetMap)(((e,t)=>l(`${e}.reasonsTitle`)+" "+t),[l],[c,s]),m=(0,t.useFacetMap)((e=>l(`${e}.bodyFirstParagraph`)),[l],[c]),p=(0,t.useFacetMap)((e=>l(`${e}.bodySecondParagraph`)),[l],[c]),f=(0,t.useFacetMap)((e=>l(`${e}.helpButton`)),[l],[c]),g=(0,t.useFacetMap)(((e,t,a,n)=>[e,t,a,n].join(" . ")),[],[u,d,m,p]),E=Vn("neutral80"),h=lr()("B7SS5",E.background.base,E.border.base,{qt3Wn:r}),b=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.BannedHelpPage)}),[],[(0,t.useSharedFacet)(vg)]);return e.createElement(Yr,{data:i},(t=>e.createElement("div",null,e.createElement(rs,{text:g},e.createElement(lS,{role:"noticeTint"},e.createElement("fast-div",{className:lr()("AzDBT",{OU94J:t&&r})},e.createElement(lS.Text,null,u),t&&e.createElement(HT,{endDate:n}))),e.createElement("fast-div",{className:h},e.createElement("div",{className:"fiVzs"},e.createElement(gs,{type:"captionShort",variant:"dimmest",align:"left"},d)),e.createElement(Sc,{size:3}),e.createElement(gs,{type:"captionShort",variant:"dimmest",align:"left"},m),e.createElement(Sc,{size:3}),e.createElement(gs,{type:"captionShort",variant:"dimmest",align:"left"},p),e.createElement(Sc,{size:2}),e.createElement("div",{className:"YrEch"},e.createElement(ru,{"data-testid":"help-button-"+(t?"suspended":"banned"),autofocus:!0,inputLegend:f,variant:"secondary",imgSrc:hy,onClick:b},f)))),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))))}GT.InTab=function({reason:t,expiration:a}){return e.createElement(Yc,{floating:!0},e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{wideSize:10,narrowSize:8},e.createElement(Sc,{size:2}),e.createElement(GT,{expiration:a,reason:t})),e.createElement(hE.Column,{wideSize:1,narrowSize:0})))};const $T=a.p+"assets/no-internet-art-53f29.png";function KT({title:a,text:n,buttons:r,borderless:l,disableResize:o}){const{t:i}=oi("PlayScreen.noInternetMessage"),c=zd({wide:8,narrow:6,width:256}),s=(0,t.useFacetMap)((e=>e||Boolean(o)?"gu_EE":"dxFd2"),[o],[c]);return e.createElement(e.Fragment,null,e.createElement(yE,{borderless:l,title:Boolean(a)?a:i(".title"),text:n,imgSrc:$T,imgClass:s,buttons:r}),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}const XT=a.p+"assets/error-9e281.png";function YT({tab:t,borderless:a}){const{t:n}=oi("PlayScreen"),r=Ud({wide:8,narrow:6,width:256});return e.createElement(e.Fragment,null,e.createElement(yE,{borderless:a,gamepadIndex:0,title:n(".errorOnLoadingTitle",[t]),text:n(".errorOnLoadingText"),imgSrc:XT,imgClass:r||a?"MN0Na":"IVeH5"}),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}const qT=a.p+"assets/sign-in-prompts-friends-01fb9.png",QT=a.p+"assets/sign-in-prompts-servers-animated-0c355.gif";function JT(){const{t}=oi("FriendsDrawer.notLoggedInMessage"),a=t(".title"),n=t(".text"),r=t(".button"),l=`${a} . ${n}`,o=hr(),i=yv();return e.createElement("div",{className:"awqCt"},e.createElement(rs,{text:l},e.createElement(gs,{type:"secondaryButton",role:"neutral80",align:"center"},a),e.createElement(NT,{gifSrc:QT,imageSrc:qT,className:"eiIlM"}),e.createElement(gs,{type:"captionShort",role:"neutral80",variant:"dimmest",align:"center"},n),e.createElement(Sc,{size:2}),e.createElement("div",{className:"eh1tX"},e.createElement(ru,{variant:"primary",onClick:()=>{i({screen:"FriensdDrawer",button:"SignIn"}),o.replace("/sign-in?signInSource=SignInOnFriendsDrawer_OreUI")},inputLegend:".inputLegend",autofocus:!0},r))))}const ZT=a.p+"assets/online-safety-child-8fad2.png",ex=a.p+"assets/online-safety-adult-dc71d.png";function tx({isParental:a=!1,borderless:n}){const{t:r}=oi("FriendsDrawer.AddFriendsOnlineSafety"),l=Ud({wide:8,narrow:6,width:256});return e.createElement(e.Fragment,null,e.createElement(yE,{borderless:n,gamepadIndex:0,title:r(".title"),text:r(a?".textParental":".text"),imgSrc:a?ZT:ex,imgClass:l||n?"wxkOc":"R96PQ",buttons:[{text:r(".helpButton"),variant:"secondary",imgSrc:hy,onClick:(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.ParentPermissionHelpPage)}),[],[(0,t.useSharedFacet)(vg)])}]}),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}function ax(){const e=(0,t.useSharedFacet)(Gm),a=(0,t.useFacetMap)(((e,t,a)=>function(e,t,a){return function(e,t){const a=[];return e.forEach((e=>a.push(e))),t.forEach((e=>a.push(e))),a}(t.isLoggedInWithMicrosoftAccount&&null!=e.xblFriends?e.xblFriends:[],a&&null!=e.platformFriends?e.platformFriends:[])}(e,a,t)),[],[e,mT(),(0,t.useSharedFacet)(Eg)]);return{friends:a,friendsOnline:(0,t.useFacetMap)((e=>e.filter((e=>e.isOnline&&e.titleHistory==Hm.HasPlayed))),[],[a]),friendsOffline:(0,t.useFacetMap)((e=>e.filter((e=>!e.isOnline&&e.titleHistory==Hm.HasPlayed))),[],[a]),isLoading:(0,t.useFacetMap)((e=>e.xblLoadingState==Vm.Loading||e.platformLoadingState==Vm.Loading),[],[e]),isReady:(0,t.useFacetMap)((e=>e.xblLoadingState===Vm.Ready||e.platformLoadingState==Vm.Ready),[],[e]),isUnavailable:(0,t.useFacetMap)((e=>e.xblLoadingState===Vm.Unavailable||e.platformLoadingState==Vm.Unavailable),[],[e])}}function nx({screenAnalyticsId:a}){const{t:n}=sp("FriendsDrawer"),r=yv(),l=u(),o=(0,t.useFacetCallback)((e=>()=>e.openLink(bg.ParentPermissionHelpPage)),[],[(0,t.useSharedFacet)(vg)]),i=(0,e.useCallback)((()=>{r({screen:a,button:"SignIn"}),l.replace("/sign-in?signInSource=FriendsDrawer_NotLoggedInBanner_OreUI")}),[r,l,a]),c=(0,t.useFacetMap)(((e,t)=>e.userPermissions.multiplayer.denyReasons.includes(gg.XboxLive)?"multiplayer":e.userPermissions.multiplayer.denyReasons.includes(gg.XboxLive_Parental)?"multiplayer-parental":!Yv(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?!Qv(t.platform)||e.isLoggedInWithMicrosoftAccount||e.hasPremiumNetworkAccess?Yv(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-playstation":Qv(t.platform)&&!e.isLoggedInWithMicrosoftAccount&&e.hasPremiumNetworkAccess?"msa-guest-with-premium-nintendo":void 0:"msa-guest-nintendo":"msa-guest-playstation"),[],[(0,t.useSharedFacet)(Eg),(0,t.useSharedFacet)(Ir)]);return e.createElement(e.Fragment,null,e.createElement(Yr,{data:c},(t=>{switch(t){case"multiplayer":return e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,n(".multiplayerBanner.text")),e.createElement(lS.Link,{"data-testId":"multiplayer-link",onClick:o},n(".multiplayerBanner.learnMore")));case"multiplayer-parental":return e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,n(".multiplayerBanner.textParental")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{onClick:o,"data-testId":"multiplayer-link"},n(".multiplayerBanner.learnMore")));case"msa-guest-playstation":return e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,n(".msaGuestPlaystationBanner")),e.createElement(lS.Link,{onClick:i,"data-testId":"login-link"},n(".bannerLogInMicrosoft")));case"msa-guest-nintendo":return e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,n(".msaGuestNintendoBanner")),e.createElement(lS.Link,{onClick:i,"data-testId":"login-link"},n(".bannerLogInMicrosoft")));case"msa-guest-with-premium-playstation":case"msa-guest-with-premium-nintendo":return e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,n(".msaGuestPremiumBanner")),e.createElement(lS.Link,{onClick:i,"data-testId":"login-link"},n(".bannerLogInMicrosoft")));default:return null}})))}function rx(){const{t}=oi("FriendsDrawer"),a=hT("friends");return e.createElement(e.Fragment,null,e.createElement(yE,{borderless:!0,imgSrc:Sw,imgClass:"w1M8x",title:t(".emptyStateTitle"),text:t(".emptyStateBody"),buttons:[{text:t(".emptyStateButtonLabel"),inputLegend:t(".emptyStateButtonInputLegend"),onClick:a}]}))}function lx({closeButtonAlias:a,closeFriendsDrawer:n,isDrawerOpen:r,screenAnalyticsId:l,role:o="neutral80"}){const{t:i}=oi("FriendsDrawer"),c=Vn(o),s=(0,t.useSharedFacet)(Eg),u=(0,t.useSharedFacet)(Ir),d=(0,t.useSharedFacet)(Gm),m=(0,t.useFacetMap)((e=>!e),[],[r]),p=(0,t.useFacetWrap)([]),f=(0,t.useFacetWrap)([]),{friendsOnline:g,friendsOffline:E,isLoading:h,isReady:b,isUnavailable:v}=ax(),F=(0,t.useFacetMap)(((e,t,a,n,r)=>r&&0===e.length&&0===t.length&&0===a.length&&0===n.length),[],[p,f,g,E,b]),S=Ad(b,1e4),y=Rd(Nm),C=(0,t.useFacetMap)((e=>e.banExpiration),[],[s]),M=(0,t.useFacetMap)((e=>""!=e.banReason?e.banReason:"xbox.report.policyViolation"),[],[s]),k=(0,t.useFacetMap)(((e,t,a,n,r,l,o,i)=>y?a.isOnline?o?"trial-mode":!t.isSignedInPlatformNetwork&&Qv(a.platform)?"platform-guest-nintendo":!t.isSignedInPlatformNetwork&&Yv(a.platform)?"platform-guest-playstation":t.isLoggedInWithMicrosoftAccount||!Qv(a.platform)||n||i?t.isLoggedInWithMicrosoftAccount||!Yv(a.platform)||n||i?t.hasPremiumNetworkAccess||!Qv(a.platform)||n?t.hasPremiumNetworkAccess||!Yv(a.platform)||n?!t.hasPremiumNetworkAccess&&t.isLoggedInWithMicrosoftAccount&&a.platform===He.XBOX?"no-online-subscription-xbox":e?"login-prompt":t.isBanned?"banned":n&&t.userPermissions.addFriends.denyReasons.includes(gg.XboxLive_Parental)?"add-friends-parental-online-safety":n&&t.userPermissions.addFriends.denyReasons.includes(gg.XboxLive)?"add-friends-online-safety":n?"empty-friends-list":r.xblLoadingState==Vm.Error||r.platformLoadingState==Vm.Error||1==l?"error-on-loading":"friends-list":"no-online-subscription-playstation":"no-online-subscription-nintendo":"msa-guest-playstation":"msa-guest-nintendo":"offline":"under-construction"),[y],[Mw(Cw.FRIENDS),s,u,F,d,S,(0,t.useSharedFacet)(hg),v]),w=cx(),T=(0,t.useFacetMap)(((e,t)=>[i(".friendsDrawerName"),t?"":i(".numberOfFriends",[`${e.length}`])].join(" . ")),[i],[g,w]),x=(0,t.useFacetMap)(((e,t)=>"friends-list"!=e?i(".title"):i(".titleWithAmount",[`${t.length}`])),[i],[k,g]),I=(0,e.useRef)(null);return e.createElement(ac,{containerRef:I,disabled:m,shouldBindFocus:!0,delegateFocusFromMemory:!0},e.createElement("div",{ref:I,className:lr()("Smx2z",c.background.base,c.border.base)},e.createElement(ts,{onClick:n,options:{button:W.B,inputLegend:i(".backButton")}}),e.createElement(rs,{text:T},e.createElement(hc,{right:e.createElement(hc.Buttons.Close.Component,{gamepadAlias:a,narrationSuffix:i(".closeButtonNarrationHint"),onClick:n})},e.createElement(gs,{type:"body"},e.createElement(Ns,null,x))),e.createElement(Yr,{data:k},(t=>{switch(t){case"empty-friends-list":return e.createElement("div",{className:yw},e.createElement(Yc,{flexShrinkWrapper:!0},e.createElement(wT,{screenAnalyticsId:l})));case"msa-guest-nintendo":case"msa-guest-playstation":case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"no-online-subscription-xbox":case"friends-list":return e.createElement(e.Fragment,null,e.createElement(nx,{screenAnalyticsId:l}),e.createElement("div",{className:"Dbc94"},e.createElement(CT,{drawerOpen:r,loading:h,friendsOnline:g,friendsOffline:E,incomingRequests:p,outgoingRequests:f,profileEntryPoint:Dp.FriendsDrawer,spinnerBackgroundColor:"transparent",showSpinnerBorder:!1,screenAnalyticsId:l})));case"add-friends-online-safety":return e.createElement("div",{className:yw},e.createElement(Yc,{flexShrinkWrapper:!0},e.createElement(tx,{borderless:!0})));case"add-friends-parental-online-safety":return e.createElement("div",{className:yw},e.createElement(Yc,{flexShrinkWrapper:!0},e.createElement(tx,{isParental:!0,borderless:!0})));case"banned":return e.createElement("div",{className:"EXjPA"},e.createElement(Yc,{flexShrinkWrapper:!0},e.createElement(GT,{usedInDrawer:!0,expiration:C,reason:M})));case"offline":return e.createElement("div",{className:yw},e.createElement(Yc,{flexShrinkWrapper:!0},e.createElement(KT,{text:i(".noInternetMessage"),borderless:!0,disableResize:!0})));case"error-on-loading":return e.createElement("div",{className:yw},e.createElement(Yc,{flexShrinkWrapper:!0},e.createElement(YT,{tab:i(".title"),borderless:!0})));case"trial-mode":return e.createElement("div",{className:yw},e.createElement(RT,{context:"friendsDrawer"}));case"login-prompt":return e.createElement("div",{className:yw},e.createElement(Yc,{flexShrinkWrapper:!0},e.createElement(JT,null)));default:return e.createElement("div",{className:yw},e.createElement(Yc,{flexShrinkWrapper:!0},e.createElement(rx,null)))}})))))}function ox({children:a,screenAnalyticsId:n,role:r="neutral80"}){const l=yv(),{friends:o}=ax(),i=(0,t.useFacetMap)((e=>!e.screenAnimationEnabled),[],[(0,t.useSharedFacet)(pa)]),[c,s]=(0,t.useFacetState)(!1),u=(0,e.useCallback)((()=>s((e=>e===t.NO_VALUE?e:!e))),[s]),d=(0,e.useCallback)((()=>s(!1)),[s]),m=(0,e.useCallback)((()=>s(!0)),[s]),p=(0,t.useFacetCallback)((e=>()=>{l({button:"FriendsShortcut",screen:n,details:{friendsCount:`${e.length}`}}),u()}),[u,n,l],[o]);return e.createElement(Fw,{anchor:Fw.Anchor.Right,drawerContent:e.createElement(lx,{closeFriendsDrawer:d,isDrawerOpen:c,closeButtonAlias:"friends-close-btn",role:r,screenAnalyticsId:n}),isOpen:c,onOverlayClick:d,disableAnimation:i},a({toggleFriendsDrawer:u,openFriendsDrawer:m,closeFriendsDrawer:d,isFriendsDrawerOpen:c}),e.createElement(ix,{onClick:p}))}function ix({onClick:a}){return e.createElement(ts,{onClick:a,options:(0,t.useFacetMap)((e=>({button:W.Y,disabled:e})),[],[Je()])})}function cx(){const e=Rd(Nm);return(0,t.useFacetMap)(((t,a)=>{if(!e)return!0;if(!Yv(a.platform)&&!Qv(a.platform)&&!t.isLoggedInWithMicrosoftAccount)return!0;if(Qv(a.platform)||Yv(a.platform)){if(!t.isSignedInPlatformNetwork)return!0;if(!t.hasPremiumNetworkAccess)return!0}return!!t.isBanned||!t.userPermissions.addFriends.allowed||!!t.isTrialAccount}),[e],[(0,t.useSharedFacet)(Eg),(0,t.useSharedFacet)(Ir)])}pi((({onClose:a})=>{const n="CreateTestWorldInfoModal-close-btn";return e.createElement(sd,{defaultFocusAlias:n,onOverlayClick:a},e.createElement(sd.Header,{onClose:a},"Create Test World"),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:!1},"This button applies the following settings on the Create New World screen:"),e.createElement(sd.List,{gamepadIndex:1,items:(0,t.useFacetWrap)(["Game Mode: Creative","Flat World: true","Cheats Enabled: true","Daylight cycle: Always Day","Mob spawning: false","Weather: false","Keep Inventory: true"])}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:!1},"Any other settings which don't conflict with the above will remain unchanged.")),e.createElement(sd.Buttons,null,e.createElement(ru,{onClick:a,inputLegend:"Back",gamepadAlias:n},"Back")))}));const sx=(0,t.createStaticFacet)(!1),ux=()=>{},dx={isDebugDrawerOpen:sx,closeDebugDrawer:ux,openDebugDrawer:ux,toggleDebugDrawer:ux},mx=t=>e.createElement(e.Fragment,null,t.children(dx)),px=({condition:t,children:a,options:n})=>(Rd(Lm),e.createElement(mx,{children:a}));function fx(a){const n=(0,t.useFacetMap)(((e,t)=>e||t),[],[a.isDebugDrawerOpen,a.isFriendsDrawerOpen]);return e.createElement(e.Fragment,null,a.children({isAnyDrawerOpen:n}))}const gx={isFriendsDrawerOpen:sx,closeFriendsDrawer:ux,openFriendsDrawer:ux,toggleFriendsDrawer:ux},Ex=t=>e.createElement(e.Fragment,null,t.children(gx)),hx=({condition:a,screenAnalyticsId:n,children:r})=>!0===(0,t.useFacetUnwrap)(a)?e.createElement(ox,{children:r,screenAnalyticsId:n}):e.createElement(Ex,{children:r,screenAnalyticsId:n}),bx=({onClick:a,screenAnalyticsId:n})=>{const r=yv(),{friendsOnline:l,friends:o}=ax(),i=(0,t.useFacetMap)((e=>e.length),[],[l]),c=(0,t.useFacetCallback)((e=>()=>{r({button:"Friends",screen:n,details:{friendsCount:`${e.length}`}}),a()}),[n,r,a],[o]),s=Rd(Nm),u=(0,t.useFacetMap)((e=>s&&!e),[s],[cx()]);return e.createElement(fE.FriendsButton,{friendsOnline:i,onClick:c,displayAmountOfOnlineFriends:u,testId:"vanilla-screen-layout-friends-button"})};function vx({disableBackButton:a,children:n,debugDrawer:r,delegateByAlias:l,friendsDrawer:o,gamepadAlias:i,onBack:c,title:s,screenAnalyticsId:d}){const{t:m}=oi("VanillaScreenLayout"),p=u(),f=Rd(Lm),g=null!=r&&r.length>0&&f,E=(0,t.useFacetWrap)(null!=o&&o),h=(0,t.useFacetWrap)(null!=a&&a),b=(0,t.useFacetMap)((e=>m(".narration.title",[e])),[m],[(0,t.useFacetWrap)(s)]),v=(0,t.useFacetCallback)((e=>()=>{e||(!1!==c&&null!=c?c():p.goBack())}),[c,p],[h]);return e.createElement(t.DeferredMountProvider,null,e.createElement(qg,null,e.createElement(px,{condition:g,options:r},(({toggleDebugDrawer:a,isDebugDrawerOpen:r})=>e.createElement(hx,{condition:E,screenAnalyticsId:d},(({toggleFriendsDrawer:a,isFriendsDrawerOpen:o})=>e.createElement(rs,{text:b},e.createElement(fE,{onBackButton:!1===c?void 0:v,center:e.createElement(gs,{type:"header5A"},s),right:e.createElement(e.Fragment,null,null,e.createElement(t.Mount,{when:E},e.createElement(e.Fragment,null,e.createElement(fE.Divider,null),e.createElement(bx,{onClick:a,screenAnalyticsId:d})))),delegateFocusFromMemory:!0,gamepadAlias:i,delegateByAlias:l},e.createElement(fx,{isDebugDrawerOpen:r,isFriendsDrawerOpen:o},n)))))))))}function Fx({advancedData:a,cheatsData:n,experimentsData:r,generalData:l,multiplayerData:o,resourcePacksData:i,worldPacks:c,isUsingTemplate:s,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h,worldSummary:b,isEditorWorld:v,onMakeWorldInfinite:F,onDuplicateWorld:S,onDeleteWorld:y,onExportWorld:C,onExportTemplate:M,onOptOut:k,onClearPlayerData:w,onSeedValueChange:T=(()=>{}),isSeedChangeLocked:x}){const I=(0,t.useFacetMap)((e=>e.generatorType),[],[a]),P=Rd(Rm),O=(0,t.useFacetMap)((e=>P&&e.isHardcore),[P],[l]);return e.createElement(e.Fragment,null,e.createElement(nb,{component:(0,e.useCallback)((()=>e.createElement(Wy,{isLockedTemplate:u,generalData:l,isAchievementsDisabled:d,achievementsDisabledMessages:m,onUnlockTemplateSettings:h,worldSummary:b,isUsingTemplate:s,isEditorWorld:v,isHardcoreMode:O,generatorType:I,onMakeWorldInfinite:F,onDuplicateWorld:S,onDeleteWorld:y,onExportWorld:C,onOptOut:k})),[u,l,d,m,h,b,s,v,O,I,F,S,y,C,k]),tab:"general"}),e.createElement(nb,{component:(0,e.useCallback)((()=>e.createElement(rC,{experimentsData:r,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onUnlockTemplateSettings:h,isEditorWorld:v})),[r,u,d,m,h,v]),tab:"experimental"}),e.createElement(nb,{component:(0,e.useCallback)((()=>e.createElement(Ky,{cheatsData:n,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onUnlockTemplateSettings:h,isEditorWorld:v,isHardcoreMode:O})),[n,u,d,m,h,v,O]),tab:"cheats"}),e.createElement(nb,{tab:"advanced",component:(0,e.useCallback)((()=>e.createElement(vM,{advancedData:a,cheatsData:n,isUsingTemplate:s,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onUnlockTemplateSettings:h,isEditorWorld:v,onSeedValueChange:T,isSeedChangeLocked:x,isHardcoreMode:O})),[a,n,s,u,d,m,h,v,T,x,O])}),e.createElement(nb,{tab:"multiplayer",component:(0,e.useCallback)((()=>e.createElement(NM,{multiplayerData:o,worldPacks:c,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onDeactivatePack:f,onUnlockTemplateSettings:h,isEditorWorld:v})),[o,c,u,d,m,f,h,v])}),e.createElement(nb,{component:(0,e.useCallback)((()=>e.createElement(ew,{worldPacks:c,multiplayerData:o,resourcePacksData:i,isEditorWorld:v,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h})),[c,o,i,v,u,d,m,p,f,g,E,h]),tab:"resource-packs"}),e.createElement(nb,{component:(0,e.useCallback)((()=>e.createElement(sw,{worldPacks:c,multiplayerData:o,isEditorWorld:v,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h})),[c,o,v,u,d,m,p,f,g,E,h]),tab:"behavior-packs"}),e.createElement(nb,{component:(0,e.useCallback)((()=>e.createElement(uw,{isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onUnlockTemplateSettings:h,onExportTemplate:M,isEditorWorld:v,onClearPlayerData:w})),[u,d,m,h,M,w,v]),tab:"debug"}),null)}const Sx=({experimentsData:a,generalData:n,multiplayerData:r,worldPacks:l,worldPreviewImage:o,mainActionCallback:i,realmsActionCallback:c,isEditorWorld:s,isPageLoading:u,isRealmsButtonDisabled:d,renderPage:m,backButtonCallback:p,backButtonDisabled:f,onEditThumbnail:g,children:E})=>{const{t:h}=oi("CreateNewWorld"),b=(0,e.useContext)(rv),v=(0,t.useFacetMap)((e=>h("edit"===b?".editTitle":(e?".editor":"")+".title")),[h,b],[s]),F=(0,t.useSharedFacet)(hg),S=(0,t.useSharedFacet)(mm),y=(0,t.useFacetMap)(((e,t,a)=>!(e||t||a)),[],[s,S,F]),C=Rd(Rm),M=(0,t.useFacetMap)((e=>C&&e.isHardcore),[C],[n]),k=(0,t.useFacetMap)((e=>e.playerHasDied),[],[n]),w=(0,t.useFacetWrap)(null!=u&&u);return e.createElement(t.Mount,{when:m},e.createElement(xE,null,e.createElement(vx,{screenAnalyticsId:"edit"===b?"Edit":"CreateNewWorld",onBack:p,disableBackButton:f,title:v,gamepadAlias:"cnw-layout-content",delegateByAlias:"cnw-side-menu",debugDrawer:"edit"===b?[]:["create-test-world"]},(()=>e.createElement(e.Fragment,null,e.createElement(hE,{noGutters:!0},e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:4,narrowSize:3},e.createElement(jF,{showRealmsButton:y,showSpinner:w,worldPreviewImage:o,onMainActionClick:i,onMainRealmsActionClick:c,worldPacks:l,generalData:n,isHardcoreMode:M,playerHasDied:k,isRealmsButtonDisabled:d,multiplayerData:r,onEditThumbnail:g})),e.createElement(hE.Column,{gamepadIndex:1,wideSize:8,narrowSize:5},E))),e.createElement(oC,{experimentsData:a})))),e.createElement(pw,null)))},yx=({advancedData:t,cheatsData:a,experimentsData:n,generalData:r,multiplayerData:l,resourcePacksData:o,worldPacks:i,worldPreviewImage:c,isUsingTemplate:s,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h,mainActionCallback:b,realmsActionCallback:v,worldSummary:F,isEditorWorld:S,onMakeWorldInfinite:y,onDuplicateWorld:C,onDeleteWorld:M,onEditThumbnail:k,onExportWorld:w,onExportTemplate:T,onOptOut:x,onClearPlayerData:I,onSeedValueChange:P=(()=>{}),isSeedChangeLocked:O,isPageLoading:N,isRealmsButtonDisabled:A,renderPage:L,backButtonCallback:R,backButtonDisabled:D})=>e.createElement(Sx,{experimentsData:n,generalData:r,multiplayerData:l,worldPacks:i,worldPreviewImage:c,mainActionCallback:b,realmsActionCallback:v,isEditorWorld:S,isPageLoading:N,isRealmsButtonDisabled:A,renderPage:L,backButtonCallback:R,backButtonDisabled:D,onEditThumbnail:k},e.createElement(Fx,{advancedData:t,cheatsData:a,experimentsData:n,generalData:r,multiplayerData:l,resourcePacksData:o,worldPacks:i,isUsingTemplate:s,isLockedTemplate:u,isAchievementsDisabled:d,achievementsDisabledMessages:m,onActivatePack:p,onDeactivatePack:f,onChangePackPriority:g,onClickPackSettings:E,onUnlockTemplateSettings:h,worldSummary:F,isEditorWorld:S,onMakeWorldInfinite:y,onDuplicateWorld:C,onDeleteWorld:M,onExportWorld:w,onExportTemplate:T,onOptOut:x,onClearPlayerData:I,onSeedValueChange:P,isSeedChangeLocked:O}));yx.Wrapper=Sx,yx.DefaultTabs=Fx;const Cx=yx,Mx=a.p+"assets/world-preview-default-d0210.jpg",kx="realm-preview-create-preview-realm-close",wx=pi((({onConfirm:a,onClose:n})=>{const{t:r}=oi("RealmsPreviews.create"),l=(0,t.useSharedFacet)(um),o=(0,t.useFacetMap)((e=>e.isBetaBuild?r(".titleAndButtonLabel.beta"):r(".titleAndButtonLabel.preview")),[r],[l]),i=(0,t.useFacetMap)((e=>e.isBetaBuild?r(".message.beta"):r(".message.preview")),[r],[l]),c=(0,t.useFacetMap)((e=>e.isBetaBuild?r(".cancel.beta"):r(".cancel.preview")),[r],[l]);return e.createElement(sd,{defaultFocusAlias:kx},e.createElement(sd.Header,{onClose:n},o),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:i},i)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,inputLegend:r(".select"),variant:"primary",onClick:a},o),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:kx,inputLegend:r(".select"),variant:"secondary",onClick:n},c)))})),Tx=pi((({title:t,onClose:a})=>{const{t:n}=oi("ProgressSpinnerModal"),r=null!=t?t:n(".title"),l=Ia(),o="progress-spinner-modal-content",i="progress-spinner-modal-close";return e.createElement(sd,{defaultFocusAlias:l?o:i},e.createElement(sd.Header,{titlebarGamepadAlias:i,onClose:a},r),e.createElement(sd.Content,{gamepadAlias:o},e.createElement(sd.Spinner,null)))}));function xx(t){const{narrateText:a}=Xc();(0,e.useEffect)((()=>{const e=setInterval((()=>{a(t)}),1e4);return()=>clearInterval(e)}),[t,a])}function Ix({onClickClose:t}){const{t:a}=oi("Realms.LoadingModals");return xx(a(".fetchingSubscriptionInformation")),e.createElement(Tx.Component,{title:a(".fetchingSubscriptionInformation"),onClose:t})}function Px({onClickClose:t}){const{t:a}=oi("Realms.LoadingModals");return xx(a(".fetchingRealmInformation")),e.createElement(Tx.Component,{title:a(".fetchingRealmInformation"),onClose:t})}function Ox({onClickClose:t}){const{t:a}=oi("Realms.LoadingModals");return xx(a(".creatingRealm")),e.createElement(Tx.Component,{title:a(".creatingRealm"),onClose:t})}function Nx({onClickClose:t}){const{t:a}=oi("Realms.LoadingModals");return xx(a(".activatingSlot")),e.createElement(Tx.Component,{title:a(".activatingSlot"),onClose:t})}function Ax({onClickClose:t}){const{t:a}=oi("Realms.LoadingModals");return xx(a(".contactingRealms")),e.createElement(Tx.Component,{title:a(".contactingRealms"),onClose:t})}const Lx=pi((({onClickClose:t})=>{const a="realm-error-cannot-contact-realms-close",{t:n}=oi("Realms.ErrorModals"),r=mi(),l=(0,e.useCallback)((()=>{r(),t&&t()}),[r,t]);return e.createElement(sd,{defaultFocusAlias:a},e.createElement(sd.Header,{onClose:l},n(".CannotContactRealms.title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".CannotContactRealms.message"),center:!0},n(".CannotContactRealms.message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:a,gamepadIndex:0,inputLegend:n(".select"),variant:"secondary",onClick:l},n(".close"))))})),Rx=pi((({onClickClose:t})=>{const a="realm-error-something-went-wrong-close",{t:n}=oi("Realms.ErrorModals"),r=mi(),l=(0,e.useCallback)((()=>{r(),t&&t()}),[r,t]);return e.createElement(sd,{defaultFocusAlias:a},e.createElement(sd.Header,{onClose:l},n(".somethingWentWrong.title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".somethingWentWrong.message"),center:!0},n(".somethingWentWrong.message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:a,inputLegend:n(".select"),variant:"secondary",onClick:l},n(".close"))))})),Dx=pi((({onClickClose:t})=>{const a="realm-error-posting-comment-failed",{t:n}=oi("Realms.ErrorModals");return e.createElement(sd,{defaultFocusAlias:a},e.createElement(sd.Header,{onClose:t},n(".postingCommentFailed.title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".postingCommentFailed.message"),center:!0},n(".postingCommentFailed.message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:a,inputLegend:n(".select"),variant:"secondary",onClick:t},n(".close"))))})),_x=pi((({onClickClose:t})=>{const a="realm-rate-limit-error",{t:n}=oi("Realms.ErrorModals");return e.createElement(sd,{defaultFocusAlias:a},e.createElement(sd.Header,{onClose:t},n(".rateLimitError.title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".rateLimitError.message"),center:!0},n(".rateLimitError.message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:a,inputLegend:n(".select"),variant:"secondary",onClick:t},n(".close"))))})),Bx="realm-preview-subscription-needed-close",Wx=pi((({onClose:a})=>{const{t:n}=oi("RealmsPreviews.SubscriptionNeeded"),r=(0,t.useSharedFacet)(um),l=n(".title"),o=(0,t.useFacetMap)((e=>e.isBetaBuild?n(".message.beta"):n(".message.preview")),[n],[r]);return e.createElement(sd,{defaultFocusAlias:Bx},e.createElement(sd.Header,{onClose:a},l),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:o},o)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:Bx,inputLegend:n(".select"),variant:"secondary",onClick:a},n(".close"))))}));function Ux(){let e=null;return function(t){if(!e)return e=t,!1;if(t.length!==e.length)return e=t,!1;for(const a of t)if(!e.includes(a))return e=t,!1;return!0}}function zx({generalData:e,advancedData:a,cheatsData:n,multiplayerData:r,betaFeaturesEnabled:l,behaviorPacksEnabled:o}){const{t:i}=oi("CreateNewWorld.achievementsDisabledMessages");return(0,t.useFacetMemo)(((e,t,a,n,r,l)=>{const o=[];return e.gameMode===tg.CREATIVE&&o.push(i(".creativeMode")),t.useFlatWorld&&o.push(i(".flatWorld")),a.cheatsEnabled&&o.push(i(".cheatsEnabled")),n.playerPermissions===Cm.OPERATOR&&o.push(i(".operator")),r&&o.push(i(".experiments")),l&&o.push(i(".behaviorPacks")),o}),[i],[e,a,n,r,l,o],Ux)}let jx;!function(e){e[e.IDLE=0]="IDLE",e[e.START=1]="START",e[e.VERIFYING_ACCOUNT=2]="VERIFYING_ACCOUNT",e[e.LOADING_REALMS_LIST=3]="LOADING_REALMS_LIST",e[e.SUBSCRIPTION_NEEDED=4]="SUBSCRIPTION_NEEDED",e[e.AWAITING_CONFIRMATION=5]="AWAITING_CONFIRMATION",e[e.CONFIRMED=6]="CONFIRMED",e[e.AWAITING_WORLD_CREATION=7]="AWAITING_WORLD_CREATION"}(jx||(jx={}));const Hx=()=>{const a=hr(),n=(0,t.useSharedFacet)(Mm),r=(0,t.useSharedFacet)(Rf),l=(0,t.useSharedFacet)(Fp),o=(0,t.useSharedFacet)(ma),i=(0,t.useSharedFacet)(Xf),c=(0,t.useSharedFacet)(bp),s=(0,t.useFacetMap)((e=>e.worldCreationData),[],[n]),p=(0,t.useFacetMap)((e=>e.advanced),[],[s]),g=(0,t.useFacetMap)((e=>e.cheats),[],[s]),E=(0,t.useFacetMap)((e=>e.betaFeatures),[],[s]),h=(0,t.useFacetMap)((e=>e.general),[],[s]),b=(0,t.useFacetMap)((e=>e.multiplayer),[],[s]),v=(0,t.useFacetMap)((e=>e.resourcePacks),[],[s]),F=(0,t.useFacetMap)((e=>e.isUsingTemplate),[],[n]),S=(0,t.useFacetMap)((e=>e.isLockedTemplate),[],[n]),y=(0,t.useFacetMap)((e=>e.isAchievementsDisabled),[],[n]),C=(0,t.useFacetMap)((e=>e.isEditorWorld),[],[n]),{t:M}=sp("EditWorld"),{t:k}=sp("CreateNewWorld"),w=zx({generalData:h,advancedData:p,cheatsData:g,multiplayerData:b,betaFeaturesEnabled:(0,t.useFacetMap)((e=>e.worldCreationData.betaFeatures.some((e=>e.isEnabled))),[],[n]),behaviorPacksEnabled:(0,t.useFacetMap)((e=>e.activeBehaviorPacks.length>0),[],[r])}),T=(0,t.useFacetMap)((e=>null!=e.resourcePackToDownload&&(e.status===Lf.DownloadingResourcePacks||e.status===Lf.StartDownload)),[],[r]),x=(0,t.useFacetMap)((e=>e.resourcePackToDownload.title),[],[r]),I=(0,t.useFacetMap)((e=>.5*(e.downloadProgress+e.importProgress)),[],[r]),P=(0,t.useFacetMap)((e=>e.downloadProgress>=1&&e.importProgress<1),[],[r]),O=(0,t.useFacetCallback)((e=>(t,a)=>{if(a){var n,r,l,o,i;const a=null!==(n=null===(r=e.availableTexturePacks.find((e=>t==e.id)))||void 0===r?void 0:r.name)&&void 0!==n?n:"",c=null!==(l=null===(o=e.availableBehaviorPacks.find((e=>t==e.id)))||void 0===o?void 0:o.name)&&void 0!==l?l:"";return null!==(i=a||c)&&void 0!==i?i:"Pack"}{var c,s,u,d,m;const a=null!==(c=null===(s=e.activeTexturePacks.find((e=>t==e.id)))||void 0===s?void 0:s.name)&&void 0!==c?c:"",n=null!==(u=null===(d=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===d?void 0:d.name)&&void 0!==u?u:"";return null!==(m=a||n)&&void 0!==m?m:"Pack"}}),[],[r]);(0,t.useFacetEffect)(((e,a)=>{if(e.lastActivatedPackId){const n=O(e.lastActivatedPackId,!0);a.queueSnackbar(M(".notificationToasts.addonPackActivated",[n===t.NO_VALUE?"Pack":n])),e.clearLastActivatedPackId()}}),[O,M],[r,c]);const N=(0,t.useFacetCallback)((e=>t=>{e.activate(t,!1)}),[],[r,c]),A=(0,t.useFacetCallback)((e=>t=>{e.activate(t,!0)}),[],[r,c]),L=(0,t.useFacetCallback)(((e,a)=>n=>{e.deactivate(n);const r=O(n,!1);a.queueSnackbar(M(".notificationToasts.addonPackDeactivated",[r===t.NO_VALUE?"Pack":r]))}),[O,M],[r,c]),R=(0,t.useFacetCallback)((e=>(t,a,n,r)=>{e.changePackPriority(t,n,r)}),[],[r]),D=(0,t.useFacetCallback)((e=>t=>e.showSettings(t)),[],[r]),_=(0,t.useFacetCallback)((e=>()=>{e.cancelDownload()}),[],[r]),B=(0,t.useFacetCallback)((e=>()=>{e.unlockTemplateSettings()}),[],[n]),W=(0,t.useFacetMap)((e=>null!=e.createWorldError),[],[n]),U=(0,t.useFacetMap)((e=>null!=e.worldPreviewImagePath&&e.worldPreviewImagePath.length>0?e.worldPreviewImagePath:Mx),[],[n]),z=Pv.useShowModal(),j=(0,t.useFacetCallback)((e=>()=>{e.checkIfUserHasChangedSettings()?z({onLeave:()=>{a.goBack()}}):a.goBack()}),[a,z],[n]),H=(0,t.useFacetCallback)(((e,t,n,r)=>()=>{e.showTouchControlSelectionScreen&&t.currentInputType==ze.TOUCH?(n.inWorldCreation=!0,a.push("/touch-control-selection")):(r.fireEventButtonPressed("Create_World_Button_OreUI",{}),n.createWorld())}),[a],[l,o,n,i]),V=(0,t.useSharedFacet)(um),G=(0,t.useSharedFacet)(Tm),$=d(),K=function(){const[e,a]=(0,t.useFacetState)(jx.IDLE),n=d(),r=hr(),l=(0,t.useSharedFacet)(Ff),o=(0,t.useSharedFacet)(pg),i=(0,t.useSharedFacet)(Tm),c=(0,t.useSharedFacet)(Mm),s=(0,t.useSharedFacet)(Xf),u=(0,t.useSharedFacet)(Eg),m=(0,t.useSharedFacet)(Sf),p=(0,t.useSharedFacet)(fg),f=(0,t.useFacetCallback)(((e,t)=>()=>{a(jx.VERIFYING_ACCOUNT),t.inWorldCreation=!0,e.fireEventButtonPressed("Create_On_Realms_OreUI",{}),t.createOnRealms()}),[a],[s,c]);(0,t.useFacetEffect)(((e,t)=>{e&&t===jx.START&&f()}),[f],[n,e]),(0,t.useFacetEffect)(((e,t,n)=>{e&&t===jx.VERIFYING_ACCOUNT&&n.isLoggedInWithMicrosoftAccount&&!n.isBanned&&a(jx.LOADING_REALMS_LIST)}),[a],[n,e,u]);const g=(0,t.useFacetCallback)(((e,t,n)=>()=>{0===t.length?1===n.length?(a(jx.AWAITING_CONFIRMATION),e.createPreviewRealmFromSubscriptionId(`${n[0].id}`)):(a(jx.IDLE),r.push("/realms-choose-realm/realm-subscriptions")):(a(jx.IDLE),r.push("/realms-choose-realm/preview-realms"))}),[r,a],[i,m,p]);(0,t.useFacetEffect)(((e,t,n,r,l,o)=>{e&&t===jx.LOADING_REALMS_LIST&&n.state!==vf.Loading&&r.state!==vf.Loading&&(0===l.length&&0===o.length?a(jx.SUBSCRIPTION_NEEDED):g())}),[a,g],[n,e,l,o,m,p]);const E=(0,t.useFacetCallback)(((e,t)=>()=>{e.inWorldCreation&&e.createWorldOnPreviewRealm(t.getCreatedPreviewRealmId())}),[],[c,i]);(0,t.useFacetEffect)(((e,t,n)=>{e&&t===jx.CONFIRMED&&n.createPreviewRealmFromSubscriptionTaskState===vv.DONE&&(a(jx.AWAITING_WORLD_CREATION),n.reset(),E())}),[a,E],[n,e,i]);const h=(0,t.useFacetCallback)((e=>()=>{a(jx.IDLE),e.reset()}),[a],[i]);return(0,t.useFacetEffect)(((e,t)=>{e||t!==jx.AWAITING_WORLD_CREATION||h()}),[h],[n,e]),{state:e,create:()=>a(jx.START),confirm:()=>a(jx.CONFIRMED),reset:()=>h()}}(),X=(0,t.useFacetMap)((e=>e===jx.CONFIRMED||e===jx.AWAITING_WORLD_CREATION),[],[K.state]),Y=(0,t.useFacetCallback)(((e,t,a)=>()=>{a.isPreviewBuild?K.create():(e.inWorldCreation=!0,t.fireEventButtonPressed("Create_On_Realms_OreUI",{}),e.createOnRealms())}),[K],[n,i,V]),q=(0,t.useFacetMap)(((e,t)=>e.createPreviewRealmFromSubscriptionTaskState===vv.FAILED&&t),[],[G,$]),Q=(0,t.useFacetMap)((e=>e.isCreatingWorld),[],[n]),J=(0,t.useFacetMap)((e=>!e.consumeResetFlag),[],[n]),Z=(0,t.useFacetMap)((e=>null!=e.createOnRealmsError),[],[n]),ee=(0,t.useFacetCallback)((e=>t=>{null!=e.worldPreviewImagePath&&e.worldCreationData.advanced.worldSeed!=t&&(e.worldPreviewImagePath=""),e.worldCreationData.advanced.worldSeed=t}),[],[n]),te=(0,t.useFacetMap)((e=>e.isRandomSeedAllowed),[],[n]),ae=(0,t.useSharedFacet)(hg),ne=(0,t.useFacetMap)(((e,t,a)=>e||t&&!a),[],[ae,F,te]),re=(()=>{const e=u(),a=(0,t.useSharedFacet)(Mm),n=m(),r=(0,t.useFacetMap)((e=>e.worldTemplateId),[],[n]),l=(0,t.useFacetMap)((e=>e.isUsingTemplate),[],[a]),o=(0,t.useFacetMap)((e=>e.applyTemplateTaskState),[],[a]),i=(0,t.useFacetMap)((e=>e===vv.RUNNING),[],[o]),c=Sv((t=>function*(a){t.applyTemplate(a),yield o,e.replace("/create-new-world/general")}),[o,e],[a,l,r]);return(0,t.useFacetEffect)(((e,t)=>{!e&&(e=>null!=e&&!["available","active"].includes(e))(t)&&c(t)}),[c],[l,r]),i})(),le=f(),oe=(0,t.useFacetMap)((e=>e.get("packid")),[],[le]);return(0,t.useFacetEffect)((e=>{null!=e&&A(e)}),[A],[oe]),e.createElement(rv.Provider,{value:"create"},e.createElement(sy.Provider,{value:re},e.createElement(Cx,{isPageLoading:re,advancedData:p,cheatsData:g,experimentsData:E,generalData:h,multiplayerData:b,resourcePacksData:v,worldPacks:r,worldPreviewImage:U,isUsingTemplate:F,isLockedTemplate:S,isAchievementsDisabled:y,achievementsDisabledMessages:w,renderPage:J,onActivatePack:N,onDeactivatePack:L,onChangePackPriority:R,onClickPackSettings:D,onUnlockTemplateSettings:B,backButtonCallback:j,mainActionCallback:H,realmsActionCallback:Y,backButtonDisabled:(0,t.useFacetWrap)(!1),isEditorWorld:C,onSeedValueChange:ee,isSeedChangeLocked:ne}),e.createElement(t.Mount,{when:T},e.createElement(Vv.Component,{title:x,percentage:I,isImportingPack:P,onCancel:_})),e.createElement(t.Mount,{when:W},e.createElement(Ev.Component,null)),e.createElement(t.Mount,{when:Z},e.createElement(fv.Component,null)),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e===jx.SUBSCRIPTION_NEEDED),[],[K.state])},e.createElement(Wx.Component,{onClose:K.reset})),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e===jx.AWAITING_CONFIRMATION),[],[K.state])},e.createElement(wx.Component,{onConfirm:(0,t.useFacetCallback)(((e,t)=>()=>{e.activateNewPreviewRealm(t.inWorldCreation),K.confirm()}),[K],[G,n]),onClose:K.reset})),e.createElement(t.Mount,{when:Q},e.createElement(Tx.Component,{title:k(".creatingNewWorldModal.title")})),e.createElement(t.Mount,{when:X},e.createElement(Ox,{onClickClose:K.reset})),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e===jx.LOADING_REALMS_LIST),[],[K.state])},e.createElement(Px,{onClickClose:K.reset})),e.createElement(t.Mount,{when:q},e.createElement(Lx.Component,{onClickClose:K.reset}))))},Vx=()=>{const a=hr(),n=(0,t.useSharedFacet)(Fp),r=(0,t.useSharedFacet)(Xf),l=(0,t.useFacetCallback)((e=>t=>{e.fireEventButtonPressed("MobileDataBlockedModal_".concat(t),{})}),[],[r]),o=(0,t.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0}),[],[n]),i="backButton",{t:c}=oi("MobileDataBlockedModalRoute");return e.createElement(rs,{text:`${c(".title")}. ${c(".onlyWifi")}. ${c(".costWarning")}`},e.createElement(sd,{defaultFocusAlias:i},e.createElement(sd.Header,{onClose:()=>{l("Close_Button_Or_Unfocus"),a.goBack()}},c(".title")),e.createElement(sd.Content,null,e.createElement(sd.Paragraphs,{narrationText:`${c(".onlyWifi")}. ${c(".costWarning")}`,spaceBetweenParagraphs:5,gamepadIndex:0},e.createElement(gs,{type:"captionLong"},c(".onlyWifi")),e.createElement(gs,{type:"captionLong",fontWeight:gs.FontWeight.Bold},c(".costWarning"))),e.createElement(rs,{text:`${c(".changeSettings")}`},e.createElement("div",{className:"Hrjsd"},e.createElement(QF,{gamepadIndex:1,onClick:()=>{l("Settings_Page_Link"),a.replace("/mobile-data-blocked-modal/links/settings-page")},withUnderlinePolyfill:!0},c(".changeSettings"))))),e.createElement(sd.Buttons,null,e.createElement(ru,{delayedClick:!0,onClick:()=>{l("Go_Back_Button"),a.goBack()},autofocus:!0,gamepadAlias:i,inputLegend:c(".goBack"),variant:"primary"},c(".goBack")),e.createElement(Sc,{size:1}),e.createElement(ru,{delayedClick:!0,onClick:()=>{l("Use_Data_Once_Button"),o(),a.goBack()},inputLegend:c(".playOnceWithData"),variant:"secondary"},c(".playOnceWithData")))))};var Gx=a(59241),$x=a.n(Gx);const Kx=Symbol("filler"),Xx=({horizontalIndex:a,verticalIndex:n,index:r,itemSeparatorHorizontal:l,renderItem:o,item:i,listLengthFacet:c})=>e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,a>0&&l,e.createElement("div",{className:"aTnV0"},e.createElement(t.With,{data:(0,t.useFacetMemo)((e=>e!==Kx?e:void 0),[],[i])},(e=>o({itemFacet:e,index:r,rowIndex:n,columnIndex:a,listLengthFacet:c})))))),Yx=({children:t})=>e.createElement(e.Fragment,null,t);function qx({loading:a,emptyMessage:n,renderItem:r,listWrapper:l=Yx,data:o,focusGridIndex:i,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:s,itemSeparatorHorizontal:u,itemSeparatorVertical:d,firstRowSeparatorVertical:m,header:p,footer:f,renderTracker:g,columns:E,gamepadAlias:h,innerRef:b}){const v=(0,t.useIsPaused)(),F=(0,t.useFacetWrap)(o),S=(0,t.useFacetMap)((e=>e.length),[],[F]),y=(0,t.useFacetUnwrap)(S),C=(0,t.useFacetMemo)((e=>{if(e.length>0){const t=$x()(E,e),a=t[t.length-1];return jE()((()=>a.push(Kx)),E-a.length),t}return[]}),[E],[F]);return e.createElement(t.DeferredMountProvider,null,e.createElement(Qx,{loading:(0,t.useFacetWrap)(null!=a&&a),focusGridIndex:i,scrollIntoViewAlign:c,scrollIntoViewSpeedFactor:s,renderTracker:g,gamepadAlias:h,innerRef:b},p,e.createElement(l,null,!v&&e.createElement(t.Map,{array:C},((a,n)=>e.createElement(e.Fragment,null,0===n&&m,n>0&&d,e.createElement("div",{className:"jc_nV"},e.createElement(t.Map,{array:a},((t,a)=>e.createElement(Xx,{horizontalIndex:a,verticalIndex:n,index:n*E+a,itemSeparatorHorizontal:u,renderItem:r,item:t,listLengthFacet:S})))))))),null!=y&&0===y&&e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,n)),f))}function Qx({loading:a,focusGridIndex:n,children:r,scrollIntoViewAlign:l,scrollIntoViewSpeedFactor:o,renderTracker:i,horizontal:c,gamepadAlias:s,innerRef:u}){const d=(0,t.useIsPaused)(),m=(0,t.useFacetMap)(((e,t)=>e||d||t),[d],[(0,t.useIsDeferring)(),a]);return e.createElement(Yc,{innerRef:u,loading:m,focusGridIndex:n,scrollIntoViewAlign:l,scrollIntoViewSpeedFactor:o,renderTracker:i,horizontal:c,gamepadAlias:s,delegateFocusFromMemory:!0},r)}function Jx(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zx(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Jx(Object(a),!0).forEach((function(t){eI(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Jx(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function eI(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const tI=a.p+"assets/missing_image_asset-c4690.png",aI=(0,e.createContext)({getId:()=>0,set:()=>{}}),nI=a=>{const n=(0,e.useContext)(aI),[r,l]=(0,t.useFacetState)(t.NO_VALUE);(0,e.useEffect)((()=>{r.get()==t.NO_VALUE&&l(n.getId())}),[r,l,n]),(0,t.useFacetEffect)(((e,t)=>{n.set(e,t)}),[n],[r,(0,t.useFacetWrap)(a)])};function rI({children:a,setNarrationTextState:n}){const r=(0,e.useRef)(0);return e.createElement(aI.Provider,{value:(0,e.useMemo)((()=>({getId:()=>r.current++,set:(e,a)=>n((n=>n===t.NO_VALUE?[]:(n[e]=!1===a?"":a,n)))})),[n])},a)}function lI({autofocus:a,gamepadIndex:n,children:r,onClick:l,inputLegend:o,gamepadAlias:i,onFocusChanged:c,onHoverChanged:s,narrationSuffix:u,narrationTextOverride:d,role:m="neutral",narrateCardRole:p=!0,hideBottomPadding:f=!1}){const g=$n("neutral"),[E,h]=(0,t.useFacetState)([]),b=(0,t.useFacetWrap)(f),v=Vn(m),F=(0,t.useFacetWrap)(null!=d?d:""),{t:S}=oi("Card"),y=(0,t.useFacetMap)(((e,t,a)=>t||[...e,p?S(".narrationComponentTypeButton"):null,a].filter(Boolean).join(" . ")),[S,p],[E,F,(0,t.useFacetWrap)(null!=u?u:"")]);return e.createElement(hn,{role:m},e.createElement("div",{className:"MLe4y"},e.createElement(Ks,{autofocus:a,gamepadAlias:i,className:lr()("Dsmzk",v.border.interactive,v.text.base),classNameHovered:"IseJx",classNamePressed:"JAVQA",gamepadIndex:n,inputLegend:o,narrationText:y,onClick:l,onFocusChanged:c,onHoverChanged:s,soundEffectPressed:g.press},e.createElement(bi,null),e.createElement(rI,{setNarrationTextState:h},r),e.createElement(t.Mount,{when:b,condition:!1},e.createElement("div",{className:lr()("Ikw_7",v.shadow.base)}))),e.createElement("div",{className:lr()("xeqcX",v.dropShadow.base)})))}lI.Information=function({children:t,innerRef:a,narrationText:n}){const r=Vn("inherit");return nI(n),e.createElement("div",{className:lr()("XiGeZ",r.border.base,r.background.base,r.background.hover),ref:a},e.createElement(Sc,{size:2}),t,e.createElement(Sc,{size:2}))};const oI=e=>null!=e.image&&""!=e.image;function iI({template:a,onSelect:n,gamepadIndex:r,inputLegend:l,autofocus:o}){const i=(0,t.useFacetCallback)((e=>()=>{n(e.seedValue,e.image)}),[n],[a]),c=(0,t.useFacetMap)((e=>e.title),[],[a]),s=(0,t.useFacetMap)((e=>oI(e)),[],[a]),u=(0,t.useFacetMap)((e=>oI(e)?e.image:tI),[],[a]),{t:d}=oi("SeedTemplateCard"),{background:m}=Vn("neutral80");return e.createElement(e.Fragment,null,e.createElement(lI,{gamepadIndex:r,inputLegend:l,narrationSuffix:d(".narrationSuffix"),onClick:i,autofocus:o},e.createElement(t.Mount,{when:s},e.createElement(oc,{src:u,aspectRatio:oc.AspectRatio["16:9"]})),e.createElement(t.Mount,{when:s,condition:!1},e.createElement(oc,{src:u,aspectRatio:oc.AspectRatio["16:9"],className:lr()("CPwL0",m.base),imageRendering:"pixelated"})),e.createElement(lI.Information,{narrationText:c},e.createElement(gs,{type:"body",verticalAlign:"center"},c))))}const cI=a.p+"assets/creeper-cropped-9e281.png",sI=(0,t.createFacet)({initialValue:{templates:[]}}),uI=e=>null!=e.image&&e.image.length>0;function dI(){const{t:a}=oi("SeedTemplatesRoute"),n=(0,t.useIsPaused)(),r=hr(),l=To(),o=zd({wide:8,narrow:6,width:260}),i=(0,t.useFacetMap)((e=>e?"UzH8W":"wdc99"),[],[o]),c=(0,t.useSharedFacet)(Hf),s=n?sI:c,u=(0,t.useFacetMap)((e=>{if(!e.templates.length)return!1;if(e.templates.length>=9){for(let t=0;t<e.templates.length;t++){const a=e.templates[t];if(null==a.image||!a.image.length)return!1}return!0}return zM(e.templates,(e=>null!=e.image&&e.image.length>0))}),[],[s]),[d,m]=(0,t.useFacetState)(!1);(0,e.useEffect)((()=>{const e=setTimeout((()=>m(!0)),1250);return()=>clearTimeout(e)}),[m]);const p=(0,t.useFacetMap)((e=>e.failedToFetch),[],[c]),f=(0,t.useFacetMap)(((e,t,a,n)=>{if(n)return[];const r=[];if(a||t)for(let t=0;t<e.templates.length;t++){const a=e.templates[t];r.find((e=>e.seedValue===a.seedValue))||r.push(a)}return r}),[],[s,d,u,p],(()=>()=>!1)),g=function(a,n){const r=(0,t.useFacetWrap)(a),l=(0,e.useRef)({}),[o,i]=(0,t.useFacetState)(!0),c=(0,e.useRef)(null);return(0,t.useFacetLayoutEffect)((e=>{if(c.current&&document.body.removeChild(c.current),c.current=null,l.current=e.reduce(((e,t)=>Zx(Zx({},e),{},{[t]:!1})),{}),e.filter((e=>e.length>0)).length){const t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",c.current=t,e.forEach((a=>{const n=new Image;n.src=a,n.addEventListener("load",(t=>()=>{l.current[t]=!0;const a=Object.values(l.current);a.length===e.length&&a.every((e=>e))&&i(!1)})(a)),t.appendChild(n)})),document.body.appendChild(t)}return()=>{c.current&&document.body.removeChild(c.current),c.current=null}}),[i],[r]),(0,e.useEffect)((()=>{let e;return null!=n&&(e=setTimeout((()=>i(!1)),n)),()=>{null!=e&&clearTimeout(e)}}),[n,i]),o}((0,t.useFacetMap)((e=>{const t=e.filter(uI).map((e=>e.image));return e.length&&t.push(tI),t}),[],[f]),8e3),E=(0,t.useFacetMap)(((e,t,a)=>!!a||!e&&t.templates.length>0&&!a),[],[g,s,p]),h=Ad(E,1e4),b=(0,t.useFacetMap)(((e,t)=>e||t),[],[p,h]),v=Ad(E,1500),F=(0,t.useFacetMap)(((e,t)=>e&&t),[],[v,g]),S=(0,t.useFacetCallback)((e=>(t,a)=>{e.worldCreationData.advanced.worldSeed=t,e.worldPreviewImagePath=a,r.goBack()}),[r],[(0,t.useSharedFacet)(Mm)]);return e.createElement(e.Fragment,null,e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(t.Mount,{when:F},e.createElement(ab,{text:a(".narration.loadingMessage")})),e.createElement(qg,null,e.createElement(fE,{onBackButton:r.goBack,center:e.createElement(gs,{type:"header5A"},a(".title")),gamepadAlias:"seed-layout-content",delegateByAlias:"seed-templates-grid",delegateFocusFromMemory:!0},e.createElement(hE,null,e.createElement(hE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(t.Mount,{when:b},e.createElement(e.Fragment,null,e.createElement(hE.Column,{wideSize:2,narrowSize:0}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},e.createElement(Sc,{size:6}),e.createElement(yE,{autofocus:!0,imgSrc:cI,imgClass:i,gamepadIndex:0,title:a(".errorMessageTitle"),text:a(".errorMessageBody"),buttons:[{text:a(".errorBackButtonText"),inputLegend:a(".errorBackButtonInputLegend"),gamepadAlias:"seed-temp-empty-state",onClick:()=>r.goBack()}]}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0})))),e.createElement(t.Mount,{when:b,condition:!1},e.createElement(hE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(qx,{gamepadAlias:"seed-templates-grid",autofocus:!0,loading:(0,t.useFacetMap)((e=>!e),[],[E]),gamepadIndex:0,data:f,columns:"narrow"===l?2:3,firstRowSeparatorVertical:e.createElement(Sc,{size:4}),itemSeparatorHorizontal:e.createElement(Sc,{size:"narrow"===l?1:3}),itemSeparatorVertical:e.createElement(Sc,{size:"narrow"===l?2:4}),footer:e.createElement(e.Fragment,null,e.createElement(Zu.Space,null),e.createElement(Sc,{size:4})),renderItem:({itemFacet:t,columnIndex:n,rowIndex:r})=>e.createElement(iI,{autofocus:0===n&&0===r,template:t,gamepadIndex:n,inputLegend:a(".selectTemplateInputLegend"),onSelect:S}),renderTracker:t=>e.createElement(Ld,{type:"meaningful",renderingCompleted:t})}))))))))}function mI(e){switch(e){case tg.UNKNOWN:return".unknown";case tg.ADVENTURE:return".adventure";case tg.SURVIVAL:return".survival";case tg.CREATIVE:return".creative"}}function pI(e){const{t:a}=oi("WorldTag");return(0,t.useFacetMap)((e=>{const t=[];return t.push({label:a(mI(e.gameMode)),role:"neutral100"}),t.push({label:a(".lan"),role:"informativeTint"}),t}),[a],[e])}function fI(e,a=!1,n=!0){const{t:r}=oi("WorldTag");return(0,t.useFacetMap)((e=>{const t=[],l=e.isHardcore&&a;return e.isExperimental&&l&&!n||t.push({label:r(mI(e.gameMode)),role:"neutral100"}),e.isExperimental&&t.push({label:r(".experimental"),role:"noticeTint"}),l&&t.push({label:r(".hardcore"),role:"destructiveTint"}),t}),[r,a,n],[e])}const gI=a.p+"assets/edit-icon-56235.png",EI=a.p+"assets/world-preview-default-d0210.jpg",hI=a.p+"assets/cloud-sync-default-c5ac6.png",bI=a.p+"assets/icon-cloud-sync-0d0d6.png";function vI(){return vI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},vI.apply(this,arguments)}const FI=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("ISFuU",a);return e.createElement(oc,vI({},n,{className:r,src:bI,imageRendering:"pixelated"}))};function SI(){const t=Vn();return e.createElement("div",{className:lr()("OiOCl",t.neutral80.background.base,t.neutral80.border.base)},e.createElement(FI,null))}const yI=a.p+"assets/player-online-icon-b63b8.png",CI=a.p+"assets/player-online-icon-dimmer-86fcb.png";function MI(){return MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},MI.apply(this,arguments)}const kI=t=>{let{className:a,variant:n}=t,r=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className","variant"]);const l=sc("PxkgX",a),o="dimmer"===n?CI:yI;return e.createElement(oc,MI({},r,{className:l,src:o,imageRendering:"pixelated"}))};function wI({full:a,amountOfPlayersOnline:n}){const{t:r}=oi("PlayersOnlineInWorld");return e.createElement("div",{className:"AIPtF"},e.createElement(kI,{className:"SaF4k"}),e.createElement(gs,{type:"captionShort"},n),e.createElement(t.Mount,{when:(0,t.useFacetWrap)(null!=a&&a)},e.createElement(jM,{role:"destructiveTint",align:"center"},r(".full"))))}wI.Panel=function({children:t,className:a}){const n=Vn("neutral80");return e.createElement("div",{className:lr()("OnpR1",n.background.base,n.border.base,a)},t)};const TI=pi((({onClose:t})=>{const{t:a}=oi("PlayScreen.multiplayerBlocked");return e.createElement(sd,null,e.createElement(sd.Header,{onClose:t},a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:a(".body"),center:!0},a(".body"))),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"secondary",inputLegend:a(".close"),onClick:t},a(".close"))))}));function xI({className:a,useGreyBorder:n}){const r=(0,t.useFacetMap)((e=>lr()("s_m91",{Z6fc0:e},a)),[a],[(0,t.useFacetWrap)(null!=n&&n)]);return e.createElement("fast-div",{className:r})}function II({id:a,title:n,subtitle:r,imageSrc:l,requiresCloudSync:o,tags:i,autofocus:c,onWorldClick:s,narrationIndex:u,onEdit:d,containerListLength:m,isMultiplayerWorld:p,amountOfPlayersOnline:f,worldFull:g,isHardcore:E,playerHasDied:h,disable:b,metadataList:v}){const{t:F}=oi("WorldListItem"),{t:S}=oi("WorldListItem.narration"),y=Vn("neutral"),C=null!=d,M=(0,t.useFacetWrap)(null!=f?f:0),k=(0,t.useFacetWrap)(null!=g&&g),w=(0,t.useFacetMap)((e=>e>0),[],[M]),T=(0,t.useFacetWrap)(null!=v?v:[]),x=(0,t.useFacetMap)((e=>e.length>0),[],[T]),I=(0,t.useFacetMap)((e=>e.map((e=>e.displayText))),[],[T]),P=(0,t.useFacetWrap)(null!=o&&o),O=(0,t.useFacetWrap)(null!=E&&E),N=(0,t.useFacetWrap)(null!=h&&h),[A,L]=(0,t.useFacetState)(!1),R=(0,t.useFacetUnwrap)(a),D=(0,t.useFacetMap)(((e,t)=>t?hI:null!=e&&e.length?e:EI),[],[(0,t.useFacetWrap)(l),P]),_=(0,t.useFacetMap)(((e,t,a,n)=>[e,S(".componentRole"),t>0?S(".listLengthContext",[`${n}`,`${t}`]):void 0,a.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[S],[n,m,i,(0,t.useFacetWrap)(u)]),B=(0,t.useFacetMap)((e=>[S(".play"),C?S(".buttonSiblings",["1","2"]):S(".button"),...e.map((e=>e.narrationText))].filter(Boolean).join(" . ")),[S,C],[T]),W=(0,t.useFacetCallback)((e=>()=>d&&d(e)),[d],[a]),U=(0,t.useFacetMap)((e=>null!=e?e:""),[],[(0,t.useFacetWrap)(null!=r?r:"")]),z=(0,t.useFacetMap)((e=>e.length>0),[],[U]),j=TI.useModal(),H=lv(),V=(0,t.useFacetMap)(((e,t)=>t&&e),[],[p,H]),G=(0,t.useFacetCallback)((e=>()=>{e?j.show():s()}),[s,j],[V]);return R==t.NO_VALUE?null:e.createElement(rs,{text:_,key:R},e.createElement(Gh,{tall:!0,disableDeferredMount:!0},e.createElement(Gh.Action,{autofocus:c,className:"koZyA",inputLegend:F(".play"),narrationText:B,onClick:G,onFocusChanged:L,onHoverChanged:L,disabled:b},e.createElement("div",{className:"o_yQY"},e.createElement(t.Mount,{when:P},e.createElement(SI,null)),e.createElement(oc,{src:D,className:lr()(y.border.base,"_XcCm"),aspectRatio:oc.AspectRatio["16:9"],isGrayscale:V}),e.createElement(t.Mount,{when:O},e.createElement(sv,{className:"wY_aU",animate:A,startFrame:8,dead:N})),e.createElement(t.Mount,{when:V},e.createElement("div",{className:"J98Zg"},e.createElement(jM,{role:"destructiveTint"},F(".multiplayerDisabled")))),e.createElement(t.Mount,{when:O},e.createElement(xI,{useGreyBorder:N}))),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body",overflowEllipsis:!0},n),e.createElement(t.Mount,{when:z},e.createElement(gs,{type:"body",variant:"dimmer",overflowEllipsis:!0},U)),e.createElement("div",{className:"krJgC"},e.createElement(t.Map,{array:i},(t=>e.createElement(PI,{tag:t}))))),e.createElement(t.Mount,{when:x},e.createElement("div",{className:"LGrjM"},e.createElement(t.Map,{array:I},((t,a)=>e.createElement(gs,{type:"captionShort",variant:"dimmest",key:a,overflowEllipsis:!0},t))))),e.createElement(t.Mount,{when:w},e.createElement(Gh.Cell,null,e.createElement("div",{className:"za_Vq"},e.createElement(wI,{amountOfPlayersOnline:M,full:k}))))),e.createElement(Gh.AdditionalAction,{narrationText:[S(".edit"),S(".buttonSiblings",["2","2"])].join(" . "),inputLegend:F(".edit"),onClick:W,hidden:!C},e.createElement(oc,{src:gI,className:"Fcaz7"}),e.createElement(gs,{type:"captionShort",overflowEllipsis:!0},F(".edit"))),e.createElement(t.Mount,{when:j.isVisible},e.createElement(TI.Component,{onClose:j.hide}))))}function PI({tag:a}){const n=(0,t.useFacetMap)((e=>e.role),[],[a]),r=(0,t.useFacetMap)((e=>e.label),[],[a]);return e.createElement(jM,{role:n},r)}function OI(e){const a=hr(),n=(0,t.useSharedFacet)(Sg),r=(0,t.useFacetMap)((e=>e.syncWorldTaskState),[],[n]);return Sv(((e,t)=>function*(){const n=t.id;t.requiresCloudSync&&(e.syncWorld(n),yield r,e.clearSyncWorldTaskState()),a.push(`/edit-world/${encodeURIComponent(n)}`)}),[r,a],[n,e])}const NI=pi((()=>{const{t}=oi("PlayScreen.outOfStorageModal"),a="pop-up-modal-outOfStorageModal",n=mi();return e.createElement(sd,{onOverlayClick:n,defaultFocusAlias:a},e.createElement(sd.Header,{onClose:n},t(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:t(".body"),gamepadIndex:0},t(".body"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:a,inputLegend:t(".closeInputLegend"),variant:"secondary",onClick:n},t(".close"))))})),AI=pi((()=>{const{t}=oi("PlayScreen.copyingWorldModal"),a=t(".body"),n=t(".title");return e.createElement(sd,null,e.createElement(sd.Header,null,n),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:a,center:!0},a),e.createElement(sd.Spinner,null)))})),LI=pi((({onCopyWorldAndContinue:a,onContinue:n})=>{const{t:r}=oi("PlayScreen.updateWorldModal"),l=mi(),o="pop-up-modal-updateWorld",[i,c]=(0,t.useFacetState)(!0),s=(0,t.useFacetCallback)((e=>()=>{e?a():n(),l()}),[a,n,l],[i]);return e.createElement(sd,{defaultFocusAlias:o},e.createElement(sd.Header,{onClose:l},r(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:r(".body"),gamepadIndex:0},r(".body"))),e.createElement(sd.Buttons,{header:e.createElement(sd.Checkbox,{value:i,onChange:c,title:r(".checkboxTitle")})},e.createElement(ru,{gamepadAlias:o,gamepadIndex:1,inputLegend:r(".action"),variant:"primary",onClick:s},r(".action"))))})),RI=pi((({onHandleStorage:a})=>{const{t:n}=oi("PlayScreen.insufficientDiskSpaceModal"),r="pop-up-modal-insufficientDiskSpaceModal",l=(0,t.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[(0,t.useSharedFacet)(zg)]);return e.createElement(sd,{defaultFocusAlias:r},e.createElement(sd.Header,{onClose:l},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".body"),gamepadIndex:0},n(".body"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:r,inputLegend:n(".action"),variant:"primary",onClick:l},n(".action")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:n(".secondaryAction"),variant:"secondary",onClick:()=>{a(),l()}},n(".secondaryAction"))))})),DI=pi((()=>{const a="pop-up-modal-unknown-error",{t:n}=oi("PlayScreen.unknownErrorModal"),r=(0,t.useSharedFacet)(zg),l=(0,t.useFacetMap)((e=>{var t;const a=(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===Ug.IncorrectWorldId?Ug.IncorrectWorldId:Ug.UnknownError;return n(".errorCode",[`${a}`])}),[n],[r]),o=(0,t.useFacetCallback)((e=>()=>{e.backupThenStartLocalWorld.clear()}),[],[r]),i=n(".body");return e.createElement(sd,{defaultFocusAlias:a},e.createElement(sd.Header,{onClose:o},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Paragraphs,{center:!0,narrationText:(0,t.useFacetMap)((e=>[i,e].join(" . ")),[i],[l]),spaceBetweenParagraphs:2,gamepadIndex:0},e.createElement(gs,{type:"captionLong"},i),e.createElement(gs,{type:"captionLong"},l))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:a,inputLegend:n(".action"),variant:"secondary",onClick:o},n(".action"))))}));function _I(){return(0,t.useFacetMap)(((e,t,a)=>{const n=e.currentInputType===ze.TOUCH,r=t.showTouchControlSelectionScreen,l=a.platform===He.NX_HANDHELD;return n&&r&&!l}),[],[(0,t.useSharedFacet)(ma),(0,t.useSharedFacet)(Fp),(0,t.useSharedFacet)(Ir)])}const BI=pi((({onContinue:t,onChangeSkin:a})=>{const{t:n}=oi("PlayScreen.nonMultiplayerSkinModal"),r="pop-up-modal-nonMultiplayerSkinModal",l=mi();return e.createElement(sd,{defaultFocusAlias:r},e.createElement(sd.Header,{onClose:l},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".body"),gamepadIndex:0,center:!0},n(".body"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:r,gamepadIndex:0,inputLegend:n(".continueAction"),variant:"primary",onClick:()=>{l(),t()}},n(".continueAction")),e.createElement(ru,{gamepadIndex:1,inputLegend:n(".changeAction"),variant:"secondary",onClick:()=>{l(),a()}},n(".changeAction"))))})),WI=pi((({onLoadWorld:t})=>{const{t:a}=oi("PlayScreen.experimentalWorldLoadingModal"),n=mi(),r="pop-up-modal-experimentalWorldLoadingModal";return e.createElement(sd,{defaultFocusAlias:r},e.createElement(sd.Header,{onClose:n},a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Paragraphs,{narrationText:`${a(".bodyFirstParagraph")}. ${a(".bodySecondParagraph")}`,gamepadIndex:0},e.createElement(gs,{type:"captionLong"},a(".bodyFirstParagraph")),e.createElement(gs,{type:"captionLong"},a(".bodySecondParagraph")))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:r,inputLegend:a(".back"),variant:"primary",onClick:n},a(".goBackButtonText")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:a(".action"),gamepadIndex:1,variant:"secondary",onClick:()=>{n(),t()}},a(".loadWorld"))))})),UI=[".bytes",".kilobytes",".megabytes",".gigabytes",".terabytes",".petabytes"];function zI(){const{t}=oi("StorageIndicator");return(0,e.useCallback)((e=>function(e,t){if(e<=0)return t(UI[0],["0"]);const a=Math.floor(Math.log(e)/Math.log(1024)),n=parseFloat((e/Math.pow(1024,a)).toFixed(2)).toString(),r=Math.max(0,Math.min(a,UI.length-1));return t(UI[r],[n])}(e,t)),[t])}const jI={major:1,minor:18,patch:0,revision:0,isBeta:!1};function HI(e){const a=hr(),n=(0,t.useSharedFacet)(zg),r=(0,t.useSharedFacet)(um),l=(0,t.useSharedFacet)(Eg),o=(0,t.useSharedFacet)(Ir),i=(0,t.useSharedFacet)(Sg),c=BI.useShowModal(),s=LI.useShowModal(),u=NI.useShowModal(),d=WI.useShowModal(),m=function(){const e=(0,t.useSharedFacet)(zg),a=(0,t.useSharedFacet)(hp),n=(0,t.useSharedFacet)(Ir),r=(0,t.useSharedFacet)(Bg),l=zv.useShowModal(),o=zI(),i=(0,t.useFacetMap)((({storageUsed:e,storageSize:t})=>o(Math.max(0,t-e))),[o],[n]),c=(0,t.useFacetMap)((e=>e.packDownloadTaskState),[],[r]),s=Sv(((e,t)=>function*(a,n){if(null!=a)switch(e.downloadPacks(a,n),yield c,e.packDownloadTaskState){case vv.DONE:e.cancelPackDownload(),t.startLocalWorld(a);break;case vv.CANCELLED:e.cancelPackDownload()}}),[c],[r,e]),u=(0,t.useFacetMap)((e=>e.lastConsultedPackSizesTaskState),[],[r]),d=Sv((e=>function*(t,a,n){if(null!=t){e.getPackSizes(a,t),yield u;let r="";null==e.lastConsultedPackSizesError&&(r=e.lastConsultedPackSizes,e.getPackSizesReset()),l({worldId:t,packIds:a,packNames:n,packSizes:r,availableSize:i,onAccept:s})}}),[u,l,i,s],[r]);return(0,t.useFacetCallback)(((e,t)=>a=>{if(t.doNotShowOldWorldsWarning=!0,e.startLocalWorld(a),e.startLocalWorldResult==Wg.MissingDlcDependencies){e.clearStartLocalWorldResult();const t=e.missingPacksToStart.map((e=>e.id)),n=e.missingPacksToStart.map((e=>e.name));d(a,t,n)}}),[d],[e,a])}(),p=_I(),f=(0,t.useFacetMap)(((e,t)=>{if(null==e)return!1;const a=e.isTemplateCompatibleWithAnyVersion||gm(e.templateVersion,jI)>=0,n=gm(e.gameVersion,jI)<0&&gm(t.currentGameVersion,jI)>=0;return a&&n}),[],[e,r]),g=(0,t.useFacetMap)(((e,t)=>{if(null==e)return!1;const a=gm(e.gameVersion,t.currentGameVersion)<0;return e.isExperimental&&a}),[],[e,r]),E=(0,t.useFacetCallback)(((e,t)=>()=>{null!=t&&e.backupThenStartLocalWorld.run(t.id)}),[],[n,e]),h=(0,t.useFacetMap)((e=>e.syncWorldTaskState),[],[i]),b=Sv(((e,t)=>function*(){if(null==t)return;const a=t.id;e.syncWorld(a),yield h,e.clearSyncWorldTaskState(),m(a)}),[m,h],[i,e]);return(0,t.useFacetCallback)(((e,t,n,r,l,o)=>()=>{if(null==e)return;const i=e.id,p=()=>m(i);r?a.push(`/play/touch-control-selection/${encodeURIComponent(i)}`):n.isStorageLow?u():t.hasValidCrossPlatformSkin?l?d({onLoadWorld:p}):o?s({onContinue:p,onCopyWorldAndContinue:E}):e.requiresCloudSync?b():p():c({onContinue:p,onChangeSkin:()=>{a.push("/persona")}})}),[a,m,E,u,c,d,s,b],[e,l,o,p,g,f])}function VI(e){const a=(0,t.useSharedFacet)(Ep),n=(0,t.useFacetMap)((e=>e.joinLANServerTaskState),[],[a]),r=Sv((e=>function*(t){e.joinLanServer(t),yield n,e.clearJoinLANServerTaskState()}),[n],[a]);return(0,t.useFacetCallback)((e=>()=>{r(e)}),[r],[e])}function GI({worldsPerPage:e,localWorlds:a,lanWorlds:n,totalAmountOfPages:r}){const l=u(),o=f(),i=(0,t.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[o]),c=(0,t.useFacetMemo)(((t,a,n)=>{const r=(n-1)*e,l=function({rangeStart:e,rangeEnd:t,lanWorlds:a,localWorlds:n}){const r=[];a.forEach((e=>r.push(e))),n.forEach((e=>r.push(e)));const l=r.slice(e,t);return{lanWorlds:l.filter((e=>Object.hasOwn(e,"port"))),localWorlds:l.filter((e=>!Object.hasOwn(e,"port")))}}({rangeStart:r,rangeEnd:r+e,lanWorlds:t,localWorlds:a});return l}),[e],[n,a,i]),s=(0,t.useFacetMap)((e=>e.lanWorlds),[],[c]),d=(0,t.useFacetMap)((e=>e.localWorlds),[],[c]),m=(0,t.useFacetMap)((e=>e.length),[],[s]);return(0,t.useFacetEffect)(((e,t)=>{e<t&&setTimeout((()=>{l.replace("/play/all")}),1)}),[l],[r,i]),{numberOfLanWorldsIndexOffset:m,currentLanWorldData:s,currentLocalWorldData:d,changeWorldGridPage:(0,t.useFacetCallback)((e=>t=>{e!=t&&l.replace(`/play/all/?page=${t}`)}),[l],[i])}}function $I({world:a,index:n,indexOffset:r,totalNrOfWorlds:l}){const o=Rd(Rm),i=(0,t.useFacetMap)((e=>e.id),[],[a]),c=(0,t.useFacetMap)((e=>e.name),[],[a]),s=(0,t.useFacetMap)((e=>e.isMultiplayerEnabled),[],[a]),u=fI(a,o),d=(0,t.useFacetMap)((e=>e.previewImgPath),[],[a]),m=(0,t.useFacetMap)((e=>e.requiresCloudSync),[],[a]),p=(0,t.useFacetMap)((e=>e+n+1),[n],[r]),f=(0,t.useFacetMap)((e=>o&&e.isHardcore),[o],[a]),g=(0,t.useFacetMap)((e=>e.playerHasDied),[],[a]),E=function(e){const a=(0,t.useFacetMap)((e=>e.fileSize),[],[e]),n=(0,t.useFacetMap)((e=>e.lastSaved),[],[e]),r=function(e){const{t:a}=oi("WorldListItem.narration");return(0,t.useFacetMap)((e=>null==e?[]:[{displayText:e,narrationText:a(".worldSize",[e])}]),[a],[e])}(a),l=function(e){const{f:a}=oi("WorldListItem"),{t:n}=oi("WorldListItem.narration");return(0,t.useFacetMap)((e=>{if(null==e||e<1)return[];const t=a.formatDate(e);return[{displayText:t,narrationText:n(".lastSaved",[t])}]}),[a,n],[e])}(n);return(0,t.useFacetMap)(((e,t)=>[...e,...t]),[],[r,l])}(a);return e.createElement(II,{id:i,title:c,tags:u,imageSrc:d,requiresCloudSync:m,containerListLength:l,narrationIndex:p,onEdit:OI(a),onWorldClick:HI(a),isMultiplayerWorld:s,isHardcore:f,playerHasDied:g,metadataList:E})}function KI({lanWorld:a,index:n,numberOfWorlds:r}){const{t:l}=oi("WorldList"),o=(0,t.useFacetMap)((e=>e.id),[],[a]),i=(0,t.useFacetMap)((e=>e.name),[],[a]),c=(0,t.useFacetMap)((e=>e.ownerName?l(".lanWorldOwner",[e.ownerName]):void 0),[l],[a]),s=pI(a),u=(0,t.useFacetMap)((e=>e.playerCount),[],[a]),d=(0,t.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[a]),m=VI((0,t.useFacetWrap)(null!=o?o:""));return e.createElement(II,{id:o,title:i,subtitle:c,tags:s,containerListLength:r,narrationIndex:n+1,onWorldClick:m,amountOfPlayersOnline:u,worldFull:d,isMultiplayerWorld:(0,t.useFacetWrap)(!0)})}function XI({localWorlds:a,lanWorlds:n,onPagination:r}){const l=(0,t.useFacetMap)((e=>e.length),[],[n]),o=(0,t.useFacetMap)(((e,t)=>e.length+t),[],[a,l]),i=(0,t.useFacetMap)((e=>Math.ceil(e/12)),[],[o]),{delegationEventFacet:c,delegateFocus:s}=Xi(),u=(0,e.useRef)(null),d=(0,e.useRef)(null),m=f(),p=(0,t.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[m]),{numberOfLanWorldsIndexOffset:g,currentLanWorldData:E,currentLocalWorldData:h,changeWorldGridPage:b}=GI({worldsPerPage:12,lanWorlds:n,localWorlds:a,totalAmountOfPages:i});return(0,t.useFacetEffect)((()=>{r(),s.first()}),[s,r],[m]),e.createElement(e.Fragment,null,e.createElement(qi,{delegationEvent:c},e.createElement(ac,{containerRef:u,delegateFocusFromMemory:!0},e.createElement("div",{ref:u},e.createElement(t.Map,{array:E},((t,a)=>e.createElement(e.Fragment,null,a>0&&e.createElement(Sc,{size:2}),e.createElement(KI,{lanWorld:t,index:a,numberOfWorlds:o})))),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e>0),[],[g])},e.createElement(Sc,{size:2})),e.createElement(t.Map,{array:h},((t,a)=>e.createElement(e.Fragment,null,a>0&&e.createElement(Sc,{size:2}),e.createElement($I,{world:t,indexOffset:g,index:a,totalNrOfWorlds:o})))),e.createElement(Sc,{size:3})))),e.createElement(ac,{containerRef:d},e.createElement("div",{ref:d},e.createElement(Dw,{totalPages:i,currentPage:p,onChange:b}))))}const YI="Jc8Rm";function qI({children:t,role:a="neutral",className:n}){const r=Vn(a),l=lr()(r.text.base,r.border.base,n);return e.createElement(hn,{role:a},e.createElement("div",{className:l},t))}qI.Information=function({children:t,innerRef:a,narrationText:n,role:r="inherit",spacingSize:l=3,className:o}){nI(n);const i=Vn(r),c=lr()("nDjUk",i.text.base,i.border.base,o);return e.createElement("div",{className:c,ref:a},e.createElement(Sc,{size:l}),t)},qI.AdditionalAction=function({children:a,onClick:n,onMouseDown:r,inputLegend:l,narrationText:o,gamepadAlias:i,hidden:c=!1,focusGridIndex:s,innerRef:u,touchDetectionDelay:d,soundEffectPressed:m,disabled:p}){return e.createElement(t.Mount,{when:(0,t.useFacetWrap)(c),condition:!1},e.createElement(Ys,{innerRef:u,variant:"neutral",isElevated:!0,reflectionConfig:{top:!0,bottom:!1,left:!1,right:!1},classNameElevated:"wESDB",classNameElevatedAndPressed:"pTz3U",focusGridIndex:s,gamepadAlias:i,inputLegend:l,onClick:n,onMouseDown:r,narrationText:o,touchDetectionDelay:d,soundEffectPressed:m,disabled:p},e.createElement("div",{className:YI},a)))},qI.Action=function({children:a,onClick:n,inputLegend:r,onFocusChanged:l,onHoverChanged:o,narrationText:i,gamepadAlias:c,disabled:s=!1,testId:u,className:d}){const m=Vn("neutral"),p=$n("neutral"),f=(0,t.useFacetMap)((e=>!0===e),[],[(0,t.useFacetWrap)(s)]),g=(0,t.useFacetWrap)(!1===r?"":r),E=(0,t.useFacetMap)(((e,t)=>!t&&e),[],[g,f]),h=(0,t.useFacetMap)((e=>lr()("S4smQ",e?"oBgkQ":m.background.base,m.background.hover,m.background.press,m.border.base)),[m],[f]),b=(0,t.useFacetMap)((e=>lr()(YI,e)),[],[(0,t.useFacetWrap)(null!=d?d:void 0)]),v=(0,t.useFacetMap)((e=>!0===e?void 0:p.press),[p],[f]),F=(0,t.useFacetCallback)((e=>()=>{e||n()}),[n],[f]);return e.createElement(Li,{className:h,gamepadAlias:c,inputLegend:E,narrationText:i,onClick:F,onFocusChanged:l,onHoverChanged:o,soundEffectPressed:v,classNameDisabled:bn.pressed,classNameFocused:vi,"data-testid":u},e.createElement(bi,null),e.createElement(t.Mount,{when:(0,t.useFacetWrap)(s),condition:!1},e.createElement("div",{className:lr()("luBv_",m.shadow.interactive)})),e.createElement("fast-div",{className:b},a))};function QI({tags:a,className:n}){return e.createElement("div",{className:lr()("JsUBN",n)},e.createElement(t.Map,{array:a},(t=>e.createElement(JI,{tag:t}))))}function JI({tag:a}){const n=(0,t.useFacetMap)((e=>e.role),[],[a]),r=(0,t.useFacetMap)((e=>e.label),[],[a]);return e.createElement(jM,{role:n},r)}function ZI({id:a,title:n,subtitle:r,imageSrc:l,requiresCloudSync:o,tags:i,onWorldClick:c,narrationIndex:s,onEdit:u,containerListLength:d,amountOfPlayersOnline:m,worldFull:p,isMultiplayerWorld:f,isHardcore:g,playerHasDied:E,className:h}){const{t:b}=oi("WorldCard"),{t:v}=oi("WorldCard.narration"),F=(0,t.useFacetWrap)(null!=o&&o),S=(0,t.useFacetWrap)(null!=m?m:0),y=(0,t.useFacetWrap)(null!=p&&p),C=(0,t.useFacetMap)((e=>e>0),[],[S]),M=(0,t.useFacetWrap)(null!=g&&g),k=(0,t.useFacetWrap)(null!=E&&E),w=(0,t.useFacetMap)((e=>null!=e?e:""),[],[(0,t.useFacetWrap)(null!=r?r:"")]),[T,x]=(0,t.useFacetState)(!1),I=null!=u,P=Je(),O=(0,t.useFacetMap)((e=>I&&!e),[I],[P]),N=(0,t.useFacetMap)((e=>I&&e),[I],[P]),A=(0,t.useFacetMap)((e=>lr()({MltQY:!I&&!e,S3i1t:I&&e})),[I],[P]),L=(0,t.useFacetMap)(((e,t,a,n)=>[e,v(".componentRole"),t>0?v(".gridAmountContext",[`${n}`,`${t}`]):void 0,,a.map((e=>e.label)).join(", ")].filter(Boolean).join(" . ")),[v],[n,d,i,(0,t.useFacetWrap)(s)]),R=(0,t.useFacetMap)(((e,t)=>t?hI:null!=e&&e.length>0?e:EI),[],[(0,t.useFacetWrap)(l),F]),D=(0,t.useFacetCallback)((e=>()=>u&&u(e)),[u],[a]),_=(0,t.useFacetMap)((e=>e?[v(".play"),v(".buttonSiblings",["1","2"])].join(" . "):[v(".play"),b(".button")].join(" . ")),[b,v],[O]),B=(0,t.useFacetMap)((e=>e.length>0),[],[w]),U=TI.useModal(),z=lv(),j=(0,t.useFacetMap)(((e,t)=>t&&e),[],[f,z]),H=(0,t.useFacetCallback)((e=>()=>{e?U.show():c()}),[c,U],[j]);return e.createElement(pr,null,e.createElement(rs,{text:L},e.createElement(qI,{className:h},e.createElement(qI.Action,{inputLegend:b(".play"),narrationText:_,onClick:H,testId:"world-card-primary-action",onFocusChanged:x,onHoverChanged:x,className:A},e.createElement("div",{className:"q5c9z"},e.createElement(oc,{src:R,aspectRatio:oc.AspectRatio["16:9"]}),e.createElement(t.Mount,{when:j},e.createElement("div",{className:"II2lT"},e.createElement(jM,{role:"destructiveTint"},b(".multiplayerDisabled")))),e.createElement(t.Mount,{when:F},e.createElement(SI,null)),e.createElement(t.Mount,{when:M},e.createElement(sv,{className:"eQDHb",animate:T,startFrame:8,dead:k})),e.createElement(t.Mount,{when:M},e.createElement(xI,{className:"Je5Dc",useGreyBorder:k})),e.createElement(t.Mount,{when:C},e.createElement(wI.Panel,{className:"Mj7So"},e.createElement(wI,{amountOfPlayersOnline:S,full:y})))),e.createElement(qI.Information,{narrationText:n},e.createElement(gs,{type:"body",overflowEllipsis:!0},n),e.createElement(t.Mount,{when:B},e.createElement(gs,{type:"body",variant:"dimmer",overflowEllipsis:!0},w)),e.createElement(QI,{tags:i,className:"quia1"}))),e.createElement(t.Mount,{when:O},e.createElement(qI.AdditionalAction,{narrationText:[v(".edit"),v(".buttonSiblings",["2","2"])].join(" . "),inputLegend:b(".edit"),onClick:D},e.createElement("div",{className:"UzBDX"},e.createElement(oc,{src:gI,className:"lE4AL",imageRendering:"pixelated"}),e.createElement(gs,{type:"body",role:"inherit",verticalAlign:"center"},b(".edit"))))),e.createElement(t.Mount,{when:N},e.createElement(ts,{options:{button:W.X,inputLegend:b(".edit")},onClick:D})),e.createElement(t.Mount,{when:U.isVisible},e.createElement(TI.Component,{onClose:U.hide})))))}const eP="clff8";function tP({localWorld:a,index:n,indexOffset:r,totalNrOfWorlds:l}){const o=(0,t.useFacetMap)((e=>e.isMultiplayerEnabled),[],[a]),i=Rd(Rm),c=(0,t.useFacetMap)((e=>e.id),[],[a]),s=(0,t.useFacetMap)((e=>e.name),[],[a]),u=fI(a,i,!1),d=(0,t.useFacetMap)((e=>e.previewImgPath),[],[a]),m=(0,t.useFacetMap)((e=>e.requiresCloudSync),[],[a]),p=(0,t.useFacetMap)((e=>e+n+1),[n],[r]),f=(0,t.useFacetMap)((e=>i&&e.isHardcore),[i],[a]),g=(0,t.useFacetMap)((e=>e.playerHasDied),[],[a]);return e.createElement(ZI,{id:c,className:eP,title:s,imageSrc:d,requiresCloudSync:m,tags:u,containerListLength:l,narrationIndex:p,isHardcore:f,playerHasDied:g,onEdit:OI(a),onWorldClick:HI(a),isMultiplayerWorld:o})}function aP({lanWorld:a,index:n,totalNrOfWorlds:r}){const{t:l}=oi("WorldGrid"),o=(0,t.useFacetMap)((e=>e.id),[],[a]),i=(0,t.useFacetMap)((e=>e.name),[],[a]),c=(0,t.useFacetMap)((e=>e.ownerName?l(".lanWorldOwner",[e.ownerName]):void 0),[l],[a]),s=pI(a),u=(0,t.useFacetMap)((e=>e.playerCount),[],[a]),d=(0,t.useFacetMap)((e=>e.capacity>0&&e.capacity===e.playerCount),[],[a]),m=VI((0,t.useFacetWrap)(null!=o?o:""));return e.createElement(ZI,{id:o,className:eP,title:i,subtitle:c,tags:s,amountOfPlayersOnline:u,worldFull:d,containerListLength:r,narrationIndex:n+1,onWorldClick:m,isMultiplayerWorld:(0,t.useFacetWrap)(!0)})}function nP({localWorlds:a,lanWorlds:n,onPagination:r}){const l=(0,t.useFacetMap)((e=>e.length),[],[n]),o=(0,t.useFacetMap)(((e,t)=>e.length+t),[],[a,l]),i=(0,t.useFacetMap)((e=>Math.ceil(e/12)),[],[o]),{delegationEventFacet:c,delegateFocus:s}=Xi(),u=(0,e.useRef)(null),d=(0,e.useRef)(null),m=f(),p=(0,t.useFacetMap)((e=>{var t;return Number(null!==(t=e.get("page"))&&void 0!==t?t:"1")}),[],[m]),{numberOfLanWorldsIndexOffset:g,currentLanWorldData:E,currentLocalWorldData:h,changeWorldGridPage:b}=GI({worldsPerPage:12,lanWorlds:n,localWorlds:a,totalAmountOfPages:i});return(0,t.useFacetEffect)((()=>{r(),s.first()}),[s,r],[m]),e.createElement(e.Fragment,null,e.createElement(qi,{delegationEvent:c},e.createElement(ac,{containerRef:u,delegateFocusFromMemory:!0},e.createElement("div",{className:"wbcmd",ref:u},e.createElement(t.Map,{array:E},((t,a)=>e.createElement(aP,{lanWorld:t,index:a,totalNrOfWorlds:o}))),e.createElement(t.Map,{array:h},((t,a)=>e.createElement(tP,{localWorld:t,index:a,indexOffset:g,totalNrOfWorlds:o})))),e.createElement(Sc,{size:3}))),e.createElement(ac,{containerRef:d},e.createElement("div",{ref:d},e.createElement(Dw,{totalPages:i,currentPage:p,onChange:b}))))}const rP=a.p+"assets/no-worlds-yet-art-446b1.png";function lP({gamepadIndex:t,navigationButtons:a}){const{t:n}=oi("PlayScreen.allWorlds"),r=Ud({wide:8,narrow:6,width:224});return e.createElement(yE,{gamepadIndex:t,title:n(".emptyStateTitle"),text:n(".emptyStateText"),imgSrc:rP,imgClass:r?"zvmmk":"kcpRz",buttons:a})}const oP=pi((()=>{const{t:a}=oi("PlayScreen.unexpectedLaunchErrorModal"),n="pop-up-modal-unexpectedLaunchErrorModal",r=(0,t.useSharedFacet)(zg),l=(0,t.useFacetCallback)((e=>()=>{e.clearStartLocalWorldResult()}),[],[r]),o=(0,t.useFacetMap)((e=>{var t;const n=`${null!==(t=e.startLocalWorldResult)&&void 0!==t?t:"n/a"}`;return a(".body2",[n])}),[a],[r]);return e.createElement(sd,{defaultFocusAlias:n},e.createElement(sd.Header,{onClose:l},a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Paragraphs,{narrationText:(0,t.useFacetMap)((e=>`${a(".body")} . ${e}`),[a],[o]),gamepadIndex:0},e.createElement(gs,{type:"captionLong",align:"center"},a(".body")),e.createElement(gs,{type:"captionLong",align:"center"},o))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:n,inputLegend:a(".close"),variant:"secondary",onClick:l},a(".close"))))})),iP=pi((()=>{const{t:a}=oi("PlayScreen.worldMissingEntitlementModal"),n="pop-up-modal-worldMissingEntitlementModal",r=(0,t.useSharedFacet)(up),l=mi(),[o,i]=(0,t.useFacetState)(!1),c=(0,t.useFacetMap)((e=>e.localWorlds.filter((e=>!e.allContentOwned))),[],[r]),s=(0,t.useFacetMap)((e=>e.length),[],[c]),u=(0,t.useFacetMemo)((e=>e.map((({name:e})=>e))),[],[c]),d=(0,t.useFacetMap)((e=>a(".body",[`${e}`])),[a],[s]),m=(0,t.useFacetCallback)(((e,t)=>()=>{e.doNotShowEntitlementsWarning=t,l()}),[l],[(0,t.useSharedFacet)(hp),o]);return e.createElement(sd,{onOverlayClick:l,defaultFocusAlias:n},e.createElement(sd.Header,{onClose:l},(0,t.useFacetMap)((e=>a(".title",[`${e}`])),[a],[s])),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:d},d),e.createElement(sd.List,{items:u,gamepadIndex:1}),e.createElement(Sc,{size:4})),e.createElement(sd.Buttons,{header:e.createElement(sd.Checkbox,{value:o,onChange:e=>i(!!e),title:a(".doNotShowAgain")})},e.createElement(ru,{gamepadAlias:n,inputLegend:a(".close"),variant:"secondary",onClick:m},a(".close"))))})),cP=pi((()=>{const a="pop-up-modal-cloudSyncWorldConnectionError",{t:n}=oi("PlayScreen.cloudSyncWorldConnectionError"),r=(0,t.useSharedFacet)(Sg),l=mi(),o=(0,t.useFacetCallback)((e=>()=>{e.clearSyncWorldTaskState(),l()}),[l],[r]),i=n(".text");return e.createElement(sd,{onOverlayClick:o,defaultFocusAlias:a},e.createElement(sd.Header,{onClose:o},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:a,inputLegend:n(".close"),variant:"secondary",onClick:o},n(".close"))))})),sP=pi((()=>{const{t}=oi("PlayScreen.cloudSyncWorldProgressModal");return e.createElement(sd,null,e.createElement(sd.Header,null,t(".title")),e.createElement(sd.Content,null,e.createElement(sd.Spinner,null)))}));function uP(e){switch(e){case fp.BlockedByVersionError:return".blockedByVersion";case fp.InvalidUserError:case fp.UserNeedsToBeSignedInError:case fp.BlockedByPlatformError:case fp.BlockedByXBLError:case fp.ThirdPartyBadIPError:case fp.ThirdPartyNoServerOrServerLockedError:case fp.UnknownError:default:return".UnknownError"}}const dP=pi((()=>{const a=(0,t.useSharedFacet)(Ep),{t:n}=oi("FriendsDrawer.joinFriendServerErrorModal"),r=(0,t.useFacetMap)((e=>e.joinFriendServerResult),[],[a]),l=(0,t.useFacetCallback)((e=>()=>{e.clearJoinFriendServerTaskState()}),[],[a]),o=(0,t.useFacetMap)((e=>n(`${uP(null!=e?e:void 0)}.title`)),[n],[r]),i=(0,t.useFacetMap)((e=>n(`${uP(null!=e?e:void 0)}.message`)),[n],[r]);return e.createElement(sd,null,e.createElement(sd.Header,null,o),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:1,inputLegend:n(".cancel"),variant:"secondary",onClick:l},n(".cancel"))))})),mP=pi((({onClose:t})=>{const{t:a}=oi("PlayScreen.templateScreenNotAvailableInPreview"),n="backButton";return e.createElement(sd,{defaultFocusAlias:n},e.createElement(sd.Header,{onClose:t},a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{center:!0,gamepadIndex:0,narrationText:a(".text")},a(".text"))),e.createElement(sd.Buttons,null,e.createElement(ru,{delayedClick:!0,onClick:t,autofocus:!0,gamepadAlias:n,inputLegend:a(".close"),variant:"primary"},a(".close")),e.createElement(Sc,{size:1})))}));function pP(){const{t:a}=sp("PlayScreen"),n=u(),r=(0,t.useSharedFacet)(zg),l=(0,t.useSharedFacet)(Sg),o=(0,t.useSharedFacet)(up),i=(0,t.useSharedFacet)(hp),c=(0,t.useFacetMap)(((e,{doNotShowEntitlementsWarning:t})=>{const a=e.localWorlds.filter((e=>!e.allContentOwned)).length>0;return!t&&a}),[],[o,i]),s=(0,t.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t===Wg.WorldNotInLevelList}),[],[r]),d=(0,t.useFacetMap)((e=>e.syncWorldTaskState===vv.RUNNING),[],[l]),m=(0,t.useFacetMap)((e=>e.syncWorldTaskState===vv.FAILED),[],[l]),p=(0,t.useFacetMap)((e=>e.backupThenStartLocalWorld.state===rg.InProgress),[],[r]),f=(0,t.useFacetMap)((e=>{var t,a;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===Ug.IncorrectWorldId||(null===(a=e.backupThenStartLocalWorld.result)||void 0===a?void 0:a.backupResult)===Ug.UnknownError}),[],[r]),g=(0,t.useFacetMap)((e=>{var t;return(null===(t=e.backupThenStartLocalWorld.result)||void 0===t?void 0:t.backupResult)===Ug.InsufficientDiskSpace}),[],[r]),E=(0,t.useFacetMap)((e=>null!=e.joinFriendServerResult&&e.joinFriendServerResult!==fp.OK&&e.joinFriendServerResult!==fp.UserBannedError&&e.joinFriendServerResult!==fp.NoInternetError),[],[(0,t.useSharedFacet)(Ep)]),h=(0,t.useFacetMap)((e=>e.startLocalWorldTaskState===vv.RUNNING),[],[r]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:s},e.createElement(oP.Component,null)),e.createElement(t.Mount,{when:c},e.createElement(iP.Component,null)),e.createElement(t.Mount,{when:d},e.createElement(sP.Component,null)),e.createElement(t.Mount,{when:m},e.createElement(cP.Component,null)),e.createElement(t.Mount,{when:p},e.createElement(AI.Component,null)),e.createElement(t.Mount,{when:g},e.createElement(RI.Component,{onHandleStorage:()=>n.push("/settings/storage")})),e.createElement(t.Mount,{when:f},e.createElement(DI.Component,null)),e.createElement(t.Mount,{when:E},e.createElement(dP.Component,null)),e.createElement(t.Mount,{when:h},e.createElement(Tx.Component,{title:a(".startLocalWorldModal.title")})))}function fP(){const e=(0,t.useSharedFacet)(up),a=(0,t.useFacetMemo)((({localWorlds:e})=>e.filter((e=>e.allContentOwned))),[],[e]);return{data:a,isEmpty:(0,t.useFacetMap)((e=>e.length<1),[],[a]),alternativeStorageHasWorlds:(0,t.useFacetMap)((e=>e.otherStorageTypeHasWorlds),[],[e])}}function gP(t="Play"){const a=u(),n=yv();return(0,e.useCallback)((()=>{n({button:"CreateNewWorld",screen:t}),a.push("/create-new-world")}),[n,t,a])}const EP=a.p+"assets/import-world-icon-4e8aa.png";let hP,bP;!function(e){e.Featured="Featured Creators",e.MarketplacePass="Marketplace Pass",e.OwnedByMe="Owned by me"}(hP||(hP={})),function(e){e.Featured="featured-creators",e.MarketplacePass="marketplace-pass",e.OwnedByMe="owned-by-me"}(bP||(bP={}));const vP=a.p+"assets/icon-grid-white-14f3a.png",FP=()=>e.createElement(oc,{className:"QcjcM",src:vP,imageRendering:"pixelated"}),SP=a.p+"assets/icon-list-white-0c94e.png",yP=()=>e.createElement(oc,{className:"tQa5u",src:SP,imageRendering:"pixelated"}),CP="LR9V4",MP="UG8cv";function kP({isListLayout:a,onClick:n}){const{t:r}=oi("PlayScreen.layoutButton"),l=`${r(".toggleGrid")} . ${r(".componentRole")} . ${r(".toggleGridHint")}`,o=`${r(".toggleList")} . ${r(".componentRole")} . ${r(".toggleListHint")}`,i=`${r(".toggledLayout")} . ${r(".worldsInGrid")} . ${r(".pressToList")}`,c=`${r(".toggledLayout")} . ${r(".worldsInList")} . ${r(".pressToGrid")}`,{narrateText:s}=Xc();return e.createElement(Ys,{gamepadIndex:0,inputLegend:(0,t.useFacetMap)((e=>r(e?".toggleGrid":".toggleList")),[r],[a]),narrationText:(0,t.useFacetMap)((e=>e?l:o),[l,o],[a]),onClick:(0,t.useFacetCallback)((e=>()=>{n(),s(e?i:c)}),[n,s,i,c],[a]),height:4.4,variant:"neutral60",reflection:"bevel"},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()(CP,{[MP]:!e})),[],[a])},e.createElement(FP,null)),e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>lr()(CP,{[MP]:e})),[],[a])},e.createElement(yP,null)))}function wP(){const a=(0,e.useRef)(null);return(0,t.useFacetLayoutEffect)((e=>{!e&&a.current&&(a.current.scrollTop=0)}),[],[d()]),a}function TP(){}function xP({item:a,index:n,numberOfButtons:r,t:l,breakpoint:o}){const i=(0,t.useFacetMap)((({narrationSuffix:e},t)=>[l(".buttonSiblings",[`${n+1}`,`${t}`]),e].join(" . ")),[l,n],[a,r]),c=(0,t.useFacetMap)((({text:e})=>e),[],[a]),s=(0,t.useFacetMap)((({imgSrc:e})=>e),[],[a]),u=(0,t.useFacetMap)((({gamepadAlias:e})=>e),[],[a]),d=(0,t.useFacetMap)((({inputLegend:e,text:t})=>null!=e?e:t),[],[a]),m=(0,t.useFacetMap)((e=>n<e-1),[n],[r]),p=(0,t.useFacetCallback)((({onClick:e})=>null!=e?e:TP),[],[a]),f=(0,t.useFacetUnwrap)((0,t.useFacetMap)((({variant:e})=>e),[],[a]));return e.createElement(e.Fragment,null,e.createElement("div",{className:"mVSiw"},e.createElement(ru,{inputLegend:d,gamepadIndex:n,narrationSuffix:i,variant:f==t.NO_VALUE?"secondary":f,onClick:p,imgSrc:s,gamepadAlias:u},c)),e.createElement(t.Mount,{when:m},e.createElement(Sc,{size:"narrow"===o?2:4})))}function IP({navigationButtons:a,layoutButton:n}){const{t:r}=oi("PlayScreen.ButtonHeader.narration"),l=To(),o=(0,t.useFacetMap)((e=>e.length),[],[a]),i="narrow"===To(102),c=(0,t.useFacetMap)((e=>e.length>2),[],[a]),s=e.createElement(Sc.Facet,{size:(0,t.useFacetMap)((e=>"narrow"===l&&e?7:0),[l],[c])});return e.createElement(PP,{layoutButton:i?null:n},e.createElement("fast-div",{className:(0,t.useFacetMap)((e=>e?"IAVEv":"UjHH5"),[],[c])},s,e.createElement(t.Map,{array:a},((t,a)=>e.createElement(xP,{t:r,breakpoint:l,item:t,index:a,numberOfButtons:o}))),s))}function PP({layoutButton:t,children:a}){return null!=t?e.createElement("div",{className:"gQDkG"},e.createElement("div",{className:"JVadm"},t),e.createElement("div",{className:"igNIE"},a)):e.createElement(e.Fragment,null,a)}function OP({text:t,link:a,onClose:n=(()=>{}),onCloseTestId:r}){const l=u();return e.createElement(lS,{"close-button-test-id":r,role:"neutral100",onClose:n},e.createElement(lS.Text,null,t),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{onClick:()=>l.push("/settings/storage")},a))}const NP=a.p+"assets/settings-icon-af819.png";function AP({gamepadIndex:a,role:n="inherit"}){const{t:r}=oi("StorageIndicator"),l=(0,t.useSharedFacet)(Ir),o=hr(),i=(0,t.useFacetMap)((({storageUsed:e,storageSize:t})=>t<=0?1:e/t),[],[l]),c=zI(),s=(0,t.useFacetMap)((({storageSize:e,storageUsed:t})=>r(".storageSpace",[c(Math.max(0,t)),c(Math.max(0,e))])),[r,c],[l]),u=(0,t.useFacetMap)((({isStorageFull:e,storageSize:t,storageUsed:a})=>e||t<=0||a>=t),[],[l]),d=Vn(n),m=Gn("success"),p=Gn("notice"),f=Gn("destructive"),g=(0,t.useFacetMap)((({isStorageLow:e},t)=>{var a,n,r;return t?null!==(a=f.background.default)&&void 0!==a?a:"var(--red50)":e?null!==(n=p.background.default)&&void 0!==n?n:"var(--orange20)":null!==(r=m.background.default)&&void 0!==r?r:"var(--green50)"}),[m,p,f],[l,u]);return e.createElement(hn,{role:n},e.createElement("div",{className:lr()("LtuVe",d.border.base,d.background.base)},e.createElement("div",{className:"M6QIX"},e.createElement("div",{className:"Mm3Zd"},e.createElement(gs,{type:"secondaryButton"},e.createElement("fast-text",{text:s}),e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:u},e.createElement(jM,{role:"destructiveTint"},r(".fullStorageTag")))),e.createElement(Sc,{size:3}),e.createElement(Eu,{percentage:i,fillColor:g})),e.createElement(Di,{className:"XUQjt",gamepadIndex:a,inputLegend:r(".settings"),narrationText:r(".settings"),onClick:()=>{o.push("/settings/storage")},role:n},e.createElement(oc,{src:NP,className:"jf7d7",imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionTiny"},r(".settings"))))))}function LP({onClose:t,variant:a,onCloseTestId:n}){const r=u(),{t:l}=oi(`PlayScreen.outdatedOrRetailWorldsBanner.${a}`),{t:o}=oi("PlayScreen.outdatedOrRetailWorldsBanner");return e.createElement(lS,{role:"informative",onClose:t,"close-button-test-id":n},e.createElement(lS.Text,null,l(".text")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{onClick:()=>r.push("/settings/storage")},o(".link")))}function RP(){const a=(0,t.useSharedFacet)(Ir),n=(0,t.useSharedFacet)(hp),{t:r}=oi("PlayScreen.storageBanner"),l=(0,t.useFacetMap)((({platform:e,isStorageFull:t,isStorageLow:a})=>Jv(e)&&(t||a)),[],[a]),o=function(){const e=fP(),a=(0,t.useSharedFacet)(Ir),n=(0,t.useFacetMap)((e=>e.storageType),[],[a]),r=(0,t.useFacetMap)(((e,t,a)=>!a&&!t.doNotShowOldWorldsWarning&&Jv(e.platform)),[],[a,(0,t.useSharedFacet)(hp),(0,t.useSharedFacet)(pm)]),l=(0,t.useFacetMap)(((e,t,a)=>a&&!t.doNotShowOldWorldsWarning&&Jv(e.platform)&&e.platform!==He.PS5),[],[a,(0,t.useSharedFacet)(hp),(0,t.useSharedFacet)(pm)]),o=(0,t.useFacetMap)(((e,t,a)=>a&&!t.doNotShowOldWorldsWarning&&e.platform===He.PS5),[],[a,(0,t.useSharedFacet)(hp),(0,t.useSharedFacet)(pm)]),i=(0,t.useFacetMap)(((e,t,a)=>!t&&e&&!a.doNotShowHiddenAlternativeStorageWorldsWarning),[],[e.alternativeStorageHasWorlds,e.isEmpty,(0,t.useSharedFacet)(hp)]),c=(0,t.useFacetMap)(((e,t,a)=>e===xr.EXTERNAL&&!t&&!a.doNotShowUsingExternalStorageWarning),[],[n,e.alternativeStorageHasWorlds,(0,t.useSharedFacet)(hp)]),s=(0,t.useFacetMap)(((e,t,a)=>e===xr.EXTERNAL&&t&&!a.doNotShowHiddenLocalWorldsWarning),[],[n,i,(0,t.useSharedFacet)(hp)]),u=(0,t.useFacetMap)(((e,t)=>e===xr.APPDATA&&t),[],[n,i]),d=(0,t.useFacetMap)(((e,t,a)=>e&&a&&!t.doNotShowAlternativeStorageHasWorlds),[],[e.isEmpty,(0,t.useSharedFacet)(hp),e.alternativeStorageHasWorlds]);return{possiblyOldWorldsAvailableRetail:r,possiblyRetailWorldsAvailablePreview:l,possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5:o,worldsOnAlternativeStorageAndCurrentStorage:i,alternativeStorageHasWorlds:e.alternativeStorageHasWorlds,worldsOnlyOnAlternativeStorageWhenOnRegular:d,worldsUsingAlternativeStorage:c,worldsOnBothStoragesUsingAlternativeStorage:s,worldsOnBothStoragesUsingRegularStorage:u}}(),i=(0,t.useFacetCallback)((e=>()=>{e.doNotShowOldWorldsWarning=!0}),[],[n]),c=(0,t.useFacetCallback)((e=>()=>{e.doNotShowHiddenLocalWorldsWarning=!0}),[],[n]),s=(0,t.useFacetCallback)((e=>()=>{e.doNotShowHiddenAlternativeStorageWorldsWarning=!0}),[],[n]),u=(0,t.useFacetCallback)((e=>()=>{e.doNotShowUsingExternalStorageWarning=!0}),[],[n]),d=(0,t.useFacetCallback)((e=>()=>{e.doNotShowAlternativeStorageHasWorlds=!0}),[],[(0,t.useSharedFacet)(hp)]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:l},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(AP,{gamepadIndex:0}))),e.createElement(t.Mount,{when:o.worldsUsingAlternativeStorage},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(OP,{onCloseTestId:"worlds-using-alternative-storage",onClose:u,text:r(".externalStorageWarningText"),link:r(".manageStorageLink")}))),e.createElement(t.Mount,{when:o.worldsOnlyOnAlternativeStorageWhenOnRegular},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(OP,{onCloseTestId:"worlds-only-on-alternative-storage-when-on-regular",text:r(".changeStorageText"),link:r(".changeStorageLink"),onClose:d}))),e.createElement(t.Mount,{when:o.worldsOnBothStoragesUsingRegularStorage},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(OP,{onCloseTestId:"worlds-on-both-storages-using-regular-storage",text:r(".alternativeStorageWorldsHiddenText"),link:r(".changeStorageLink"),onClose:s}))),e.createElement(t.Mount,{when:o.worldsOnBothStoragesUsingAlternativeStorage},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(OP,{onCloseTestId:"worlds-on-both-storages-using-alternative-storage",text:r(".localWorldsHiddenText"),link:r(".changeStorageLink"),onClose:c}))),e.createElement(t.Mount,{when:o.possiblyOldWorldsAvailableRetail},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(LP,{onCloseTestId:"possibly-old-worlds-available-retail",onClose:i,variant:"retail"}))),e.createElement(t.Mount,{when:o.possiblyRetailWorldsAvailablePreview},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(LP,{onCloseTestId:"possibly-retail-worlds-available-preview",onClose:i,variant:"preview"}))),e.createElement(t.Mount,{when:o.possiblyOldWorldsAndRetailWorldsAvailablePreviewOnPS5},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(LP,{onCloseTestId:"possibly-retail-and-old-worlds-available-preview",onClose:i,variant:"previewPS5"}))))}function DP(){const e=(0,t.useSharedFacet)(cp);return(0,t.useFacetMap)((e=>null!=e.lanServerWorlds?e.lanServerWorlds:[]),[],[e])}function _P(){const a=fP(),n=DP(),r=mP.useModal(),l=function(e){const{t:a}=oi("PlayScreen.AllWorldsTab.ButtonHeader"),n=yv(),r=(0,t.useSharedFacet)(Ir),l=(0,t.useSharedFacet)(Hg),o=Rd("vanilla.ab.newPlayScreenB"),i=Rd(Am),c=o||i,s=gP(),d=function({templatesNotAvailableInPreview:e}){const a=u(),n=(0,t.useSharedFacet)(Ir),r=yv();return(0,t.useFacetCallback)((t=>()=>{if(r({button:"CreateFromTemplate",screen:"Play"}),!t.isMarketplaceAvailable)return void e();const n=`/start-from-template/${t.isOnline?bP.MarketplacePass:bP.OwnedByMe}`;a.push(n)}),[r,a,e],[n])}(e),m=(0,t.useFacetCallback)((({importWorld:e})=>()=>{n({button:"ImportWorld",screen:"Play"}),e.run()}),[n],[l]),p=(0,t.useFacetMap)((e=>eF(e.platform,e.arvrPlatform)),[],[r]);return(0,t.useFacetMemo)((e=>{const t=c?[{variant:"primary",text:a(".createNewWorld"),narrationSuffix:a(".createNewWorldNarration"),onClick:d,gamepadAlias:"play-cnw-button"}]:[{variant:"primary",text:a(".createNewWorld"),narrationSuffix:a(".createNewWorldNarration"),onClick:s,gamepadAlias:"play-cnw-button"},{variant:"secondary",text:a(".createFromTemplate"),narrationSuffix:a(".createFromTemplateNarration"),onClick:d}];if(e){const e={text:a(".importWorld"),variant:"secondary",narrationSuffix:a(".importWorldNarration"),onClick:m,imgSrc:EP};t.push(e)}return t}),[c,a,s,d,m],[p])}({templatesNotAvailableInPreview:r.show}),o=(0,t.useSharedFacet)(_f),i=(0,t.useSharedFacet)(zg);!function(){const e=(0,t.useSharedFacet)(Hg),a=(0,t.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[e]),n=(0,t.useFacetMap)((e=>e.importWorld.result),[],[e]);(0,t.useFacetEffect)((e=>{(e===jg.Success||jg.InterruptedByUser)&&a()}),[a],[n])}();const c="narrow"===To(102),s=(0,e.useRef)(!0),d=(0,t.useFacetMap)((e=>s.current&&e.playScreenWorldLayoutMode===Df.Default?c:e.playScreenWorldLayoutMode===Df.List),[c],[o]),m=(0,t.useFacetCallback)(((e,t)=>()=>{s.current=!1,e.playScreenWorldLayoutMode=t?Df.Grid:Df.List}),[],[o,d]),p=(0,t.useFacetMap)((e=>e.startLocalWorldResult==Wg.DlcMissingContentKey),[],[i]),f=(0,t.useFacetMap)(((e,t)=>e&&t.length<1),[],[a.isEmpty,n]),g=wP(),E=(0,e.useCallback)((()=>{g.current&&(g.current.scrollTop=0)}),[g]);return e.createElement(e.Fragment,null,e.createElement(Yr,{data:f},(t=>t?e.createElement(WP,{navigationButtons:l}):e.createElement(BP,{innerRef:g,allwaysVisibleChildren:e.createElement(e.Fragment,null,e.createElement(RP,null),e.createElement(Sc,{size:2}),e.createElement(IP,{layoutButton:e.createElement(kP,{isListLayout:d,onClick:m}),navigationButtons:l}),e.createElement(Sc,{size:2}))},e.createElement(Yr,{data:d},(t=>t?e.createElement(XI,{onPagination:E,localWorlds:a.data,lanWorlds:n}):e.createElement(nP,{onPagination:E,localWorlds:a.data,lanWorlds:n})))))),e.createElement(t.Mount,{when:r.isVisible},e.createElement(mP.Component,{onClose:r.hide})),e.createElement(t.Mount,{when:p},e.createElement(Ny.Component,null)),e.createElement(pP,null),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}))}function BP({children:a,allwaysVisibleChildren:n,innerRef:r}){const l=(0,t.useIsPaused)();return e.createElement(Yc,{alwaysVisibleChildren:n,loading:l,gamepadIndex:0,innerRef:r,gamepadAlias:"content-wrapper",delegateFocusByAlias:"play-cnw-button",defaultFocusedChildBehavior:"remember",renderTracker:t=>e.createElement(Ld,{renderingCompleted:t,type:"meaningful"})},a,e.createElement(Sc,{size:2}),e.createElement(fT,{tab:"all"}),e.createElement(Sc,{size:1}))}function WP({navigationButtons:t}){return e.createElement(Yc,{floating:!0,renderTracker:t=>e.createElement(dr,{renderingCompleted:t,type:"meaningful"})},e.createElement(RP,null),e.createElement(Sc,{size:2}),e.createElement(lP,{navigationButtons:t,gamepadIndex:0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}),e.createElement(Sc,{size:3}),e.createElement(fT,{tab:"all"}))}const UP=a.p+"assets/under-construction-art-realms-cropped-ab8a9.png";function zP(){return e.createElement(GP,{tab:"servers",imgSrc:Xy,imgClassNarrow:"DvNo3",imgClassWide:"DlMUa"})}function jP(){const a=(0,t.useSharedFacet)(um),n=Rd("core.hasRealmsEnabled"),r=(0,t.useFacetMap)((e=>e.isPreviewBuild&&n),[n],[a]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:r},e.createElement(HP,null)),e.createElement(t.Mount,{when:r,condition:!1},e.createElement(VP,null)))}function HP(){const{t:a}=oi("PlayScreen"),n=(0,t.useSharedFacet)(Ff),r=(0,t.useSharedFacet)(pg),l=(0,t.useFacetMap)(((e,t)=>e.state===vf.Loading||t.state===vf.Loading),[],[n,r]),o=(0,t.useFacetMap)(((e,t,n)=>{var r,l;return n?"":0==(null===(r=e.realms)||void 0===r?void 0:r.length)&&(null===(l=t.realms)||void 0===l?void 0:l.length)>0?a(".underConstructionMessageRealmsAvailable"):a(".underConstructionMessageRealmsUnavailable")}),[a],[n,r,l]);return e.createElement(GP,{isLoading:l,tab:"all",imgSrc:UP,imgClassNarrow:Yy,imgClassWide:qy,text:o})}function VP(){const{t}=oi("PlayScreen");return e.createElement(GP,{tab:"all",imgSrc:UP,imgClassNarrow:Yy,imgClassWide:qy,text:t(".underConstructionMessageRealmsUnavailable")})}function GP({imgSrc:t,imgClassNarrow:a,imgClassWide:n,tab:r,text:l,isLoading:o}){const{t:i}=oi("PlayScreen"),c=gT(r),s=hT(r),u=Ud({wide:8,narrow:6,width:260});return e.createElement(e.Fragment,null,e.createElement(Yc,{gamepadIndex:0,floating:!0,loading:o},e.createElement(Sc,{size:2}),e.createElement(yE,{gamepadIndex:0,title:i(".underConstructionTitle"),text:null!=l?l:i(".underConstructionMessage"),imgSrc:t,imgClass:u?a:n,buttons:[{imgSrc:hy,text:i(".feedbackButton"),onClick:c},{text:i(".optOutButton"),onClick:s}]}),e.createElement(Sc,{size:3})),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$P.apply(this,arguments)}function KP({title:a,isOpen:n,items:r,onClose:l,onItemSelect:o,itemTypeNarration:i,closeButtonNarrationSuffix:c}){const{t:s}=oi("ModalMenu"),u=(0,t.useFacetWrap)(n),d=(0,t.useFacetWrap)(r),m=Vn("neutral50"),p=(0,e.useRef)(null),f=(0,t.useFacetWrap)(!1),g=(0,t.useFacetMap)((e=>({index:1,disabled:e,bounded:!0})),[],[f]),[E,h]=function(e){const[a,n]=(0,t.useFacetState)(""),r=wo(4.8);return[a,(0,t.useFacetCallback)((t=>()=>{var a;const r=null==e?void 0:e.current,l=null==e||null===(a=e.current)||void 0===a?void 0:a.parentElement;if(!r||!l)return;const o=r.getBoundingClientRect().height,i=l.getBoundingClientRect().height;if(i<o){const e=Math.floor(i/t)*t-t/2;n(`${e}px`)}}),[e,n],[r])]}(p);return Eo(p,h),e.createElement(t.Mount,{when:u},e.createElement(sd,{defaultFocusAlias:"modal-menu",onOverlayClick:l,modalTypeNarrationHint:s(".modalTypeHint")},e.createElement(sd.Header,{onClose:l,closeButtonNarrationSuffix:c},a),e.createElement(sd.Content,{role:"neutral100",scrollbarBackgroundRole:"neutral80",scrollbarClassName:"c0ycF",className:"iXek1"},e.createElement(ns,{options:g,scrollRef:p},e.createElement("fast-div",{ref:p,className:"wZqdF",style:{maxHeight:E}},e.createElement(hn,{role:"neutral60"},e.createElement(t.Map,{array:d},((t,a)=>e.createElement(XP,{key:a,item:t,gamepadIndex:a,onChange:o,itemTypeNarration:null!=i?i:s(".elementType")}))),e.createElement("div",{className:lr()("NrdmD",m.background.base)})))))))}const XP=a=>{let{item:n}=a,r=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["item"]);const l=$n("neutral"),o=(0,t.useFacetWrap)(n),i=(0,t.useFacetMap)((({disabled:e})=>!!e),[],[o]);return e.createElement(t.DeferredMount,null,e.createElement(DS,$P({},r,{item:o,currentValue:-1,isSelectable:(0,t.useFacetMap)((e=>!0===e.isSelectable),[],[o]),soundEffectPressed:l.press,soundEffectHovered:l.hover,disabled:i,testId:(0,t.useFacetMap)((e=>e.testId),[],[o])})))},YP=a.p+"assets/enter-icon-31b5a.png";function qP(){return qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},qP.apply(this,arguments)}const QP=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("rQmyU",a);return e.createElement(oc,qP({},n,{className:r,src:YP,imageRendering:"pixelated"}))},JP=a.p+"assets/icon-info-5845d.png";function ZP(){return ZP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ZP.apply(this,arguments)}const eO=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("lYTCL",a);return e.createElement(oc,ZP({},n,{className:r,src:JP,imageRendering:"pixelated"}))},tO=a.p+"assets/icon-plus-48f3d.png";function aO(){return aO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},aO.apply(this,arguments)}const nO=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("myonc",a);return e.createElement(oc,aO({},n,{className:r,src:tO,imageRendering:"pixelated"}))};var rO;!function(e){e[e.ADD=0]="ADD",e[e.JOIN=1]="JOIN",e[e.LEARN=2]="LEARN"}(rO||(rO={}));const lO=pi((({onClose:a,onAddRealmSubscription:n,onJoinExistingRealm:r})=>{const{t:l}=oi("PlayScreen.realmsTab.realmsOptionsModalMenu"),o=u(),i=e.useCallback((e=>{e===rO.ADD&&(n(),a()),e===rO.JOIN&&(r(),a()),e===rO.LEARN&&(o.push("/realms-pdp"),a())}),[n,r,a,o]),c=(0,t.useFacetMap)((e=>e.isPreviewBuild?[{enumeration:l(".optionsEnumeration",["1","1"]),gamepadAlias:"join",label:l(".joinRealm"),value:rO.JOIN,Icon:QP,testId:"realm-join-existing-button"},{enumeration:l(".optionsEnumeration",["2","2"]),gamepadAlias:"learn",label:l(".learnMore"),value:rO.LEARN,Icon:eO,testId:"realm-learn-more-button"}]:[{enumeration:l(".optionsEnumeration",["1","3"]),gamepadAlias:"sub",label:l(".addRealm"),value:rO.ADD,Icon:nO,testId:"realm-add-subscription-button"},{enumeration:l(".optionsEnumeration",["2","3"]),gamepadAlias:"join",label:l(".joinRealm"),value:rO.JOIN,Icon:QP,testId:"realm-join-existing-button"},{enumeration:l(".optionsEnumeration",["3","3"]),gamepadAlias:"learn",label:l(".learnMore"),value:rO.LEARN,Icon:eO,testId:"realm-learn-more-button"}]),[l],[(0,t.useSharedFacet)(um)]);return e.createElement(KP,{onClose:a,onItemSelect:i,isOpen:!0,title:l(".title"),items:c})}));function oO({expired:e,closed:a,full:n}){return(0,t.useFacetMap)(((e,t,a)=>e?"expired":t?"closed":a?"full":"no-warning"),[],[e,a,n])}function iO(e){return{label:e.world.realmName,value:`${e.world.id}`,expired:e.world.expired,closed:e.world.closed,full:e.world.full,amountOfPlayersOnline:null==e.world.onlinePlayers?0:e.world.onlinePlayers.filter((e=>e.isOnline)).length,playersOnline:null!=e.world.onlinePlayers&&e.world.onlinePlayers.filter((e=>e.isOnline)).length>0,ownsRealm:e.isOwner,ownerXuid:e.world.ownerXuid,areStoriesNotificationsEnabled:e.areStoriesNotificationsEnabled,storiesUnreadCount:e.unreadStoryCount}}function cO(e){if(null==e.realms)return{ownedRealms:{realms:[]},joinedRealms:{realms:[]}};const t=(a=e.realms.map(iO),[...a].sort(sO));var a;const[n,r]=t.reduce((([e,t],a)=>(a.ownsRealm?e.push(a):t.push(a),[e,t])),[[],[]]);return{ownedRealms:{realms:n},joinedRealms:{realms:r}}}function sO(e,t){return e.expired&&!t.expired?1:!e.expired&&t.expired?-1:e.closed&&!t.closed?1:!e.closed&&t.closed?-1:!e.ownsRealm&&t.ownsRealm?1:e.ownsRealm&&!t.ownsRealm?-1:!e.playersOnline&&t.playersOnline?1:e.playersOnline&&!t.playersOnline?-1:0}const uO=()=>(0,t.useFacetMemo)((e=>function(e){const t=cO(e);return null!=t.ownedRealms.realms&&0!==t.ownedRealms.realms.length?t.ownedRealms.realms[0].value:0===t.ownedRealms.realms.length&&null!=t.joinedRealms.realms&&0!==t.joinedRealms.realms.length?t.joinedRealms.realms[0].value:""}(e)),[],[(0,t.useSharedFacet)(Ff)]);function dO(){const e=(0,t.useFacetMap)((e=>Yv(e.platform)||Qv(e.platform)),[],[(0,t.useSharedFacet)(Ir)]);return(0,t.useFacetMap)(((e,t)=>t&&e.isLoggedInWithMicrosoftAccount&&!e.hasPremiumNetworkAccess),[],[(0,t.useSharedFacet)(Eg),e])}const mO="RealmsTabList",pO="RealmsTabListOptions";function fO({item:a}){const n=yv(),r=(0,t.useFacetMap)((e=>e.value),[],[a]),l=(0,t.useFacetMap)((e=>e.label),[],[a]),o=(0,t.useFacetMap)((e=>e.expired),[],[a]),i=(0,t.useFacetMap)((e=>e.closed),[],[a]),c=(0,t.useFacetMap)((e=>e.ownerXuid),[],[a]),s=(0,t.useFacetMap)((e=>!e.ownsRealm&&e.full),[],[a]),d=(0,t.useFacetMap)((e=>e.ownsRealm),[],[a]),p=(0,t.useFacetMap)((e=>e.playersOnline),[],[a]),f=(0,t.useFacetMap)((e=>e.amountOfPlayersOnline),[],[a]),g=(0,t.useFacetMap)((e=>e.areStoriesNotificationsEnabled&&e.storiesUnreadCount>0),[],[a]),E=m(),h=u(),{t:b}=oi("PlayScreen.realmsTab.sideMenu"),{t:v}=oi("PlayScreen.realmsTab.sideMenu.narration"),F=oO({expired:o,closed:i,full:s}),S=(0,t.useFacetMap)(((e,t,a,n,r)=>{const l=[];return e&&!t?b(".closed"):e&&t||t?b(".expired"):a?1===n?v(".onePlayerOnline",["1"]):v(".playersOnlineAmount",[`${n}`]):(r&&l.push(v(".hasNotification")),l.join(" . "))}),[b,v],[i,o,p,f,g]),y=(0,t.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[(0,t.useSharedFacet)(_p)]);(0,t.useFacetEffect)((e=>{y(e)}),[y],[c]);const C=(0,t.useFacetMap)(((e,t)=>`${t.id}`===e.value),[],[a,E]),M=bT((0,t.useFacetMap)((e=>({pfid:"",xuid:e,platformId:""})),[],[c])),k=(0,t.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblProfilePic)return e.data.xblProfilePic;if(""!==e.data.platformProfilePic)return e.data.platformProfilePic}return""}),[],[M]),w=(0,t.useFacetMap)((e=>{if(null!=e){if(""!==e.data.xblName)return e.data.xblName;if(""!==e.data.platformName)return e.data.platformName}return""}),[],[M]),T=(0,t.useFacetMap)((e=>e?"online":"offline"),[],[p]),x=(0,t.useFacetCallback)(((e,t)=>()=>{e.value!==t.id&&(n({button:"SelectRealm",screen:mO,details:{realmId:e.value}}),h.replace(`/play/realms/${e.value}`))}),[h,n],[a,E]);return e.createElement(t.DeferredMount,null,e.createElement(Bb.ListItem,{narrationText:l,narrationSuffix:S,selected:C,value:r,onSelect:x,inputLegend:b(".inputLegend"),hasSubtitle:!0,testId:(0,t.useFacetMap)((e=>e?"realm-list-item-your-realm":"realm-list-item-joined-realm"),[],[d])},e.createElement(Bb.ItemCell,null,e.createElement(jw,{variant:"large",src:k,status:T})),e.createElement(Bb.ItemMain,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,l)),e.createElement(gs,{type:"captionShort",variant:"dimmer",role:"neutral"},e.createElement(Ns,null,w))),e.createElement(Bb.ItemCell,null,e.createElement(Yr,{data:F},(t=>{switch(t){case"closed":return e.createElement(jM,{role:"destructiveTint"},b(".closed"));case"expired":return e.createElement(jM,{role:"destructiveTint"},b(".expired"));case"full":return e.createElement(jM,{role:"noticeTint"},b(".full"));default:return null}}))),e.createElement(t.Mount,{when:g},e.createElement(Bb.ItemCell,null,e.createElement(wE,null)))))}const gO=(0,t.createStaticFacet)(!1);function EO({loading:a=gO}){return e.createElement(t.DeferredMountProvider,null,e.createElement(hO,{loading:a}))}function hO({loading:a}){const n=(0,t.useSharedFacet)(Ff),r=yv(),l=To(),o="neutralAlpha60",{t:i}=oi("PlayScreen.realmsTab.sideMenu"),{t:c}=oi("PlayScreen.realmsTab.sideMenu.narration"),s=u(),d=dO(),m=(0,t.useSharedFacet)(ap),p=(0,t.useFacetMap)((e=>ep(e.categoryData,Jm.INVITES)),[],[m]),f=(0,t.useFacetMap)((e=>i(".invitations",[`${e}`])),[i],[p]),g=(0,t.useFacetMap)((e=>c(".buttonSiblings",["1","2"])+" . "+c(".invitationsAmount",[`${e}`])),[c],[p]),E=(0,t.useFacetMap)((e=>e>0),[],[p]),h=e.createElement(Sc,{size:"narrow"===l?1:2}),b=lO.useModal(),v=(0,t.useFacetMap)((e=>e?c(".buttonSiblings",["2","2"]):""),[c],[E]),F=(0,t.useFacetMap)((e=>e.isPreviewBuild?i(".joinRealm"):i(".addOrJoinRealm")),[i],[(0,t.useSharedFacet)(um)]),S=e.useCallback((()=>{r({screen:mO,button:"AddJoinRealmServer"}),b.show()}),[r,b]),y=e.useCallback((()=>{r({screen:mO,button:"InvitationsPending"}),s.push("/inbox/"+Jm.INVITES)}),[r,s]),C=e.useCallback((()=>{r({screen:pO,button:"JoinExistingRealm"}),s.push("/join-realms-server")}),[r,s]),M=e.useCallback((()=>{r({screen:pO,button:"AddRealmSubscription"}),s.push("/realms-plan-picker")}),[r,s]),k=(0,t.useFacetMap)((e=>cO(e)),[],[n]),w=(0,t.useFacetMap)((e=>null!=e.ownedRealms.realms&&e.ownedRealms.realms.length>0),[],[k]),T=(0,t.useFacetMap)((e=>null!=e.joinedRealms.realms&&e.joinedRealms.realms.length>0),[],[k]),x=(0,t.useFacetMap)((e=>i(".ownedRealms",[`${e.ownedRealms.realms.length}`])),[i],[k]),I=(0,t.useFacetMap)((e=>i(".joinedRealms",[`${e.joinedRealms.realms.length}`])),[i],[k]),P=(0,t.useFacetMap)((e=>e.joinedRealms.realms),[],[k]);return e.createElement(hn,{role:o},e.createElement(rs,{text:c(".context")},e.createElement(Bb,{loading:(0,t.useFacetMap)(((e,t)=>e||t),[],[a,(0,t.useIsDeferring)()]),spacingAroundSideMenu:h,autofocus:!0,delegateFocusByAlias:"remember",role:o},e.createElement(t.Mount,{when:E},e.createElement(e.Fragment,null,e.createElement(Bb.Item,null,e.createElement(ru,{inputLegend:f,narrationPrefix:c(".invitations"),narrationSuffix:g,variant:"secondary",onClick:y,"data-testid":"realm-invitations-button"},f)))),e.createElement(t.Mount,{when:w},e.createElement(e.Fragment,null,e.createElement(Bb.Divider,{label:e.createElement("fast-text",{text:x})}),e.createElement(rs,{text:x},e.createElement(Bb.ItemList,{items:(0,t.useFacetMap)((e=>e.ownedRealms.realms),[],[k]),renderItem:fO})))),e.createElement(t.Mount,{when:T},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(Bb.Divider,{label:e.createElement("fast-text",{text:I})}),e.createElement(rs,{text:I},e.createElement(Bb.ItemList,{items:P,renderItem:fO})))),e.createElement(Sc,{size:2}),e.createElement(Bb.Item,null,e.createElement(ru,{inputLegend:F,narrationSuffix:v,variant:"secondary",onClick:S,"data-testid":"realm-add-join-button",disabled:d},F)),e.createElement(t.Mount,{when:b.isVisible},e.createElement(lO.Component,{onClose:b.hide,onJoinExistingRealm:C,onAddRealmSubscription:M})))))}const bO=a.p+"assets/Realms_Default_Thumbnail_3840-998f3.jpg",vO="_xrZ0",FO="TvFNm",SO="Twwes",yO="_NSWj",CO="XwAx9";function MO(e){switch(e){case tg.ADVENTURE:return".adventure";case tg.SURVIVAL:return".survival";case tg.CREATIVE:return".creative";default:return".unknown"}}let kO;!function(e){e.REALMS_INFORMATION="realms-information-focus-alias",e.REALMS_PLAY_BUTTON="realms-play-button-focus-alias"}(kO||(kO={}));const wO="realmsLeaveRealmModalCancel",TO=pi((({realmName:a,onClose:n,onLeaveRealm:r})=>{const{t:l}=oi("PlayScreen.realmsTab.realmsLeaveRealmModal"),o=(0,t.useFacetMap)((e=>l(".description",[e])),[l],[(0,t.useFacetWrap)(null!=a?a:"")]),i=(0,e.useCallback)((()=>{n(),r()}),[n,r]);return e.createElement(sd,{defaultFocusAlias:wO},e.createElement(sd.Header,null,l(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:o},o)),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadAlias:wO,inputLegend:l(".cancelAction"),horizontal:!0,onClick:n},l(".cancelAction")),e.createElement(Sc,{size:4}),e.createElement(ru,{onClick:i,inputLegend:l(".leaveRealmAction"),variant:"destructive",horizontal:!0,"data-testid":"confirm-leave-realm-button"},l(".leaveRealmAction"))))})),xO="realmsLeaveRealErrormModalClose",IO=pi((({onClose:t})=>{const{t:a}=oi("PlayScreen.realmsTab.realmsLeaveRealmErrorModal");return e.createElement(sd,{defaultFocusAlias:xO},e.createElement(sd.Header,{onClose:t},a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:a(".description"),center:!0},a(".description"))),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"secondary",inputLegend:a(".closeAction"),onClick:t,gamepadAlias:xO},a(".closeAction"))))})),PO="renewRealmsInPreviewModalCancel",OO=pi((({onClose:t})=>{const{t:a}=oi("PlayScreen.realmsTab.renewRealmsInPreviewModal");return e.createElement(sd,{defaultFocusAlias:PO},e.createElement(sd.Header,null,a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:a(".description")},a(".description"))),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{"data-testid":"close",gamepadAlias:PO,inputLegend:a(".closeAction"),horizontal:!0,onClick:t},a(".closeAction"))))})),NO=a.p+"assets/icon-edit-56235.png";function AO(){return AO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},AO.apply(this,arguments)}const LO=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("sTE9z",a);return e.createElement(oc,AO({},n,{className:r,src:NO,imageRendering:"pixelated"}))},RO=a.p+"assets/icon-settings-37025.png";function DO(){return DO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},DO.apply(this,arguments)}const _O=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("NWBcu",a);return e.createElement(oc,DO({},n,{className:r,src:RO,imageRendering:"pixelated"}))};var BO;!function(e){e[e.EDIT=0]="EDIT",e[e.REALM_SETTINGS=1]="REALM_SETTINGS"}(BO||(BO={}));const WO=pi((({onClose:a,realmId:n})=>{const{t:r}=oi("PlayScreen.realmsTab.realmSettingsModalMenu"),l=u(),o=(0,t.useFacetCallback)((e=>t=>{l.push(`/${t}/${e}`),a()}),[l,a],[n]);return e.createElement(KP,{onClose:a,onItemSelect:e=>{e===BO.EDIT&&o("edit-realm-world"),e===BO.REALM_SETTINGS&&o("realm-settings")},isOpen:!0,title:r(".title"),items:[{enumeration:r(".optionsEnumeration",["1","2"]),gamepadAlias:"sub",label:r(".edit"),value:BO.EDIT,Icon:LO,testId:"edit"},{enumeration:r(".optionsEnumeration",["2","2"]),gamepadAlias:"join",label:r(".realmSettings"),value:BO.REALM_SETTINGS,Icon:_O,testId:"realmSettings"}]})})),UO=a.p+"assets/generic-error-art-8fa35.png";function zO({context:t}){const{t:a}=oi(`PlayScreen.genericError.${t}`),n=a(".title"),r=a(".description"),l=Ud({wide:8,narrow:6,width:256});return e.createElement(e.Fragment,null,e.createElement(yE,{title:n,text:r,imgSrc:UO,imgClass:l?"oP9Hk":"cOYNE"}),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}const jO="join-realms-error-modal-back",HO="join-realms-error-primary-action",VO=pi((({worldId:a})=>{const{t:n}=oi("JoinRealmsServerError"),r=u(),l=(0,t.useSharedFacet)(Ep),o=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.joinRealmResult)&&void 0!==t?t:gp.UnknownError}),[],[l]),i=(0,t.useFacetCallback)((e=>()=>e.clearJoinRealmTaskState()),[],[l]),c=(0,t.useFacetMap)((e=>e===gp.UnassignedDevVersion),[],[o]),s=(0,t.useFacetCallback)(((e,t)=>()=>{r.push(`/realms-slot-settings/${t}/dev-options`),e.clearJoinRealmTaskState()}),[r],[l,(0,t.useFacetWrap)(a)]),d=(0,t.useFacetMap)((e=>{switch(e){case gp.UnassignedDevVersion:return{title:"Realm version is unassigned",firstParagraph:"A non-retail Realm world must be manually assigned a game version to use.",secondParagraph:"To assign a version, go to the developer options tab in the Realm world settings.",primaryActionText:"Go to settings"};case gp.MemberOfTooManyRealms:return{title:n(".memberOfTooManyRealms.title"),firstParagraph:n(".memberOfTooManyRealms.message"),secondParagraph:""};case gp.CannotConnectToRealm:return{title:n(".cannotConnectToRealm.title"),firstParagraph:n(".cannotConnectToRealm.message"),secondParagraph:""};case gp.JoinRealmAlreadyInProgress:case gp.RealmIDConversionFailed:case gp.RealmsNotInitialized:case gp.RealmsApiNotAvailable:case gp.MobileDataBlockedAndNoWifi:case gp.UnknownError:default:return{title:n(".unknown.title"),firstParagraph:n(".unknown.message"),secondParagraph:n(".unknown.errorCode",[`${e}`])}}}),[n],[o]),m=(0,t.useFacetMap)((e=>e.title),[],[d]),p=(0,t.useFacetMap)((e=>e.firstParagraph),[],[d]),f=(0,t.useFacetMap)((e=>e.secondParagraph),[],[d]),g=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.primaryActionText)&&void 0!==t?t:""}),[],[d]),E=(0,t.useFacetMap)((e=>""!=e.secondParagraph),[],[d]),h=(0,t.useFacetMap)((e=>e?HO:jO),[],[c]);return e.createElement(sd,{onOverlayClick:i,defaultFocusAlias:h},e.createElement(sd.Header,{onClose:i},m),e.createElement(sd.Content,null,e.createElement(t.Mount,{when:E,condition:!1},e.createElement(sd.Text,{narrationText:p,center:!0},p)),e.createElement(t.Mount,{when:E,condition:!0},e.createElement(sd.Paragraphs,{narrationText:`${p}. ${f}`,spaceBetweenParagraphs:5},e.createElement(gs,{type:"captionLong",align:"center"},p),e.createElement(gs,{type:"captionLong",align:"center"},f)))),e.createElement(sd.Buttons,null,e.createElement(t.Mount,{when:c},e.createElement(e.Fragment,null,e.createElement(ru,{gamepadAlias:HO,inputLegend:g,variant:"primary",onClick:s},g),e.createElement(Sc,{size:1}))),e.createElement(ru,{gamepadAlias:jO,inputLegend:n(".closeButton"),variant:"secondary",onClick:i},n(".closeButton"))))}));function GO(e){switch(e){case ag.External:return"external";case ag.ThirdParty:return"third-party";case ag.Realm:return"realm"}}let $O;function KO(){const t=u(),{t:a}=oi("PlayScreen.realmsTab.claimPreviewRealm");return e.createElement(Nn,{collection:Zb},e.createElement(lS,{role:"informative"},e.createElement(lS.Text,null,a(".text")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{"data-testId":"realms-tab-claim-preview-realm-banner-link",onClick:()=>t.push("/realms-choose-realm/realm-subscriptions")},a(".link"))))}!function(e){e.SERVER_SIDE_MENU="server-side-menu-focus-alias",e.SERVER_DESCRIPTION="server-description-focus-alias"}($O||($O={}));function XO(){return XO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},XO.apply(this,arguments)}function YO(a){let{children:n,imgSrc:r,Icon:l,linebreak:o=!1,disabledTextOverride:i,disabled:c,variant:s="secondary",narrationPrefix:u,showBadge:d=!0,badgeRole:m,badgeCount:p,badgeOverflowCount:f}=a,g=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["children","imgSrc","Icon","linebreak","disabledTextOverride","disabled","variant","narrationPrefix","showBadge","badgeRole","badgeCount","badgeOverflowCount"]);const E=(0,t.useFacetWrap)(c),h=(0,t.useFacetMap)((e=>"hero"===s&&!e),[s],[E]),b="hero"===s?"primary":s,v=(0,t.useFacetWrap)(d);return e.createElement(au,XO({disabled:c,variant:s,narrationPrefix:null!=u?u:n},g),e.createElement(e.Fragment,null,e.createElement(nu,{buttonVariant:s,imgSrc:r,Icon:l,linebreak:o,disabledTextOverride:i,role:b,hasShadow:h},n),e.createElement(t.Mount,{when:v},e.createElement("div",{className:"qZsib"},e.createElement(wE,{role:m,overflowCount:f},p)))))}const qO={wrapper:"wjq_6",right:"EIsfR",additionalPlayers:"t3B_O",transitionLoadingOpacity:"ydLu4",animateOpacity:"UlVBz",retriggeredAnimateOpacity:"gDaOM",hiddenContent:"eILwi",content:"OqLfI"},QO=(0,e.createContext)(null);function JO({full:a,amountOfPlayersOnline:n,visibleAvatarsOverride:r,playerAvatars:l,hideOnCollapse:o=!1,loading:i=(0,t.createFacet)({initialValue:!1}),worldId:c,alignment:s="left"}){const{t:u}=oi("PlayerAvatarsOnlineInWorld"),d=(0,t.useFacetWrap)(null!=l?l:[]),m=(0,e.useRef)(null),p=(0,e.useRef)(null),f=(0,t.useFacetMap)((({width:e})=>e),[],[ho(m)]),g=(0,t.useFacetMap)((({width:e})=>e),[],[ho(p)]),E=wo(jw.VARIANT_SIZES.medium),h=(0,e.useContext)(QO),b=(0,t.useFacetMemo)(((e,t,a)=>{const n=Math.ceil(e),r=(null!=h?h:Math.ceil(t))-(2*n+a);return Math.max(Math.floor(r/e),0)}),[h],[E,f,g]),v=(0,t.useFacetMap)(((e,t)=>null!=r?e.slice(0,r):e.slice(0,t)),[r],[d,b]),F=(0,t.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a}){if(null!=a){if(e>0&&e>a&&0!=a)return"+"+(e-a);if(e===a)return""}else if(e>0&&e>t&&0!=t)return"+"+(e-t);return e===t||0===e?"":`${e}`}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:r})),[r],[n,b]),S=(0,t.useFacetMap)(((e,t)=>null!=t&&null!=e&&0!=e.length),[],[v,F]),y=(0,t.useFacetMap)(((e,t)=>function({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:a,hideOnCollapse:n=!1}){return(!n||0!==t)&&e!==a&&e!==t&&(!n&&0!=e&&0===t||(null!=a?0!==a&&e>a:null==a&&0!==t&&e>t))}({amountOfPlayersOnline:e,visibleAvatars:t,visibleAvatarsOverride:r,hideOnCollapse:o})),[r,o],[n,b]),C=(0,t.useFacetMap)(((e,t)=>{if(null==r)return e&&0!=t}),[r],[i,b]);return e.createElement("div",{className:lr()(qO.wrapper,{[qO.right]:"right"===s}),ref:m},e.createElement("fast-div",{key:c,className:(0,t.useFacetMap)(((e,t)=>lr()(qO.content,qO.animateOpacity,{[qO.hiddenContent]:e,[qO.transitionLoadingOpacity]:t})),[],[i,wl()])},e.createElement(t.Mount,{when:S},e.createElement(Yr,{data:v},(t=>e.createElement(e.Fragment,null,t.map(((a,n)=>e.createElement(e.Fragment,{key:`${a.id}`},e.createElement(jw,{variant:"medium",src:a.img,status:"online"}),n<t.length-1&&e.createElement(Sc,{size:1})))))))),e.createElement(t.Mount,{when:y},e.createElement("div",{className:qO.additionalPlayers},e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionShort"},F))),e.createElement("div",{className:qO.tagWrapper,ref:p},e.createElement(t.Mount,{when:(0,t.useFacetWrap)(null!=a&&a)},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(jM,{role:"destructiveTint"},u(".full")))))),e.createElement(t.Mount,{when:C},e.createElement(Kc,null)))}const ZO="uDCOj",eN="UzDgx";function tN({amountOfPlayersOnline:a,maxPlayers:n,realmId:r,realmOwner:l,realmOwnerName:o,playersOnlineIds:i}){const{t:c}=oi("PlayScreen.realmsTab"),{border:s}=Vn("neutral"),u=(0,t.useFacetMap)(((e,t)=>!e&&t.length>0?c(".playersOnline.realmOwner",[t]):c(".playersOnline")),[c],[(0,t.useFacetWrap)(null==l||l),(0,t.useFacetWrap)(null!=o?o:"")]),d=(0,t.useFacetMap)(((e,t)=>`${e}/${t}`),[],[a,n]),m=(0,t.useSharedFacet)(_p),p=(0,e.useRef)(null),f=(0,e.useRef)(null),g=(0,t.useFacetCallback)((e=>t=>{e.subscribeToProfile(t,"")}),[],[m]);(0,t.useFacetEffect)((e=>{e.map((e=>{g(e.xuid)}))}),[g],[i]);const E=(h=i,(0,t.useFacetMap)(((e,t)=>t.map((t=>{const{xuid:a,platformId:n}=t;return""===a&&""===n?e.playerProfiles.find((e=>""===e.data.platformId&&""===e.data.xuid))||null:""!==n?e.playerProfiles.find((e=>e.data.platformId===n))||null:e.playerProfiles.find((e=>e.data.xuid===a))||null}))),[],[(0,t.useSharedFacet)(_p),h]));var h;const b=(0,t.useFacetMap)((e=>null==e||0===e.length?[]:e.map((e=>{if(null!=e){if(""!==e.data.xblProfilePic)return{img:e.data.xblProfilePic,id:e.data.xuid};if(""!==e.data.platformProfilePic)return{img:e.data.platformProfilePic,id:e.data.platformId}}return{img:"",id:"placeholder"}})).filter((e=>null!=e))),[],[E]),v=(0,t.useFacetMap)((e=>null!=e&&0!==e.length&&e.map((e=>null!=e&&null!=e.data.xuid&&e.state.xblState===Rp.Loading)).some((e=>e))),[],[E]),F=(0,t.useFacetMap)((e=>!e),[],[v]),S=Ad(F,1e4),y=(0,t.useFacetMap)(((e,t,a)=>e&&null!=a&&a.length>0?"avatars":0===a.length||t?"no-avatars":"loading"),[],[F,S,b]),C=(0,t.useFacetMap)((e=>"loading"===e),[],[y]);return e.createElement("div",{ref:p,className:lr()(s.base,"mIETu")},e.createElement("div",{className:"wZ8gp",ref:f},e.createElement(gs,{type:"body"},u),e.createElement(Sc,{size:4}),e.createElement(Yr,{data:a},(t=>e.createElement(e.Fragment,null,e.createElement("div",{className:lr()(ZO,{[eN]:t})},e.createElement(kI,{variant:"dimmer"})),e.createElement("div",{className:lr()(ZO,{[eN]:!t})},e.createElement(DF.Player,{role:"neutral",variant:"dimmer",width:24,height:24}))))),e.createElement(Sc,{size:3}),e.createElement(gs,{type:"body",variant:"dimmer"},d),e.createElement(Sc,{size:3})),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>"no-avatars"!=e),[],[y])},e.createElement(Yr,{data:r},(t=>e.createElement("div",{className:"PIbYc"},e.createElement(JO,{alignment:"right",worldId:t,hideOnCollapse:!0,loading:C,amountOfPlayersOnline:a,playerAvatars:b}))))))}const aN=e.createContext({});function nN({loading:a}){const{t:n,f:r}=oi("PlayScreen.realmsTab"),l=yv(),o=Vn("neutral80"),i=u(),c=m(),s=(0,t.useSharedFacet)(bp),d=(0,t.useSharedFacet)(Ff),p=(0,t.useSharedFacet)(yf),f=(0,t.useFacetMap)(((e,t)=>{var a;return null===(a=e.realms)||void 0===a?void 0:a.find((e=>`${e.world.id}`===t.id))}),[],[d,c]),g=(0,t.useFacetMap)((e=>e),[],[(0,t.useFacetWrap)(null!=a&&a)]),E=(0,t.useFacetMap)((e=>null!=e?"defined":"undefined"),[],[f]),h=(0,t.useFacetMap)((e=>null!=e?e.world.id.toString():""),[],[f]),b=(0,t.useFacetMap)((e=>null!=e?e.world.realmName:""),[],[f]),v=(0,t.useFacetMap)((e=>null!=e?e.world.slotName:""),[],[f]),F=(0,t.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.expired),[],[f]),S=(0,t.useFacetMap)((e=>null!=e&&null!=e.world&&e.world.closed),[],[f]),y=(0,t.useFacetMap)((e=>null!=e&&e.isOwner),[],[f]),C=(0,t.useFacetMap)(((e,t)=>{if(null!=e){if(t)return!1;if(null!=e.world)return e.world.full}return!1}),[],[f,y]),M=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.world.description)&&void 0!==t?t:"-"}),[],[f]),k=(0,t.useFacetMap)((e=>{var t;return null!=e&&""!=(null===(t=e.world)||void 0===t?void 0:t.description)}),[],[f]),w=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.areStoriesNotificationsEnabled)&&void 0!==t&&t}),[],[f]),T=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.unreadStoryCount)&&void 0!==t?t:0}),[],[f]),x=(0,t.useFacetMap)((e=>null!=e&&null!=e.world.ownerName?e.world.ownerName:""),[],[f]),I=(0,t.useFacetMap)((e=>null!=e&&null!=e.world.maxPlayers?e.world.maxPlayers:0),[],[f]),P=(0,t.useFacetMap)((e=>function(e,t){const a=[];for(let e=0;e<t.length;e++)a.push(t[e]);return a}(0,null!=e&&null!=e.world.onlinePlayers?e.world.onlinePlayers:[])),[],[f]),O=(0,t.useFacetMap)(((e,t)=>{{const a=null==t||null==t.world.ownerXuid?"":t.world.ownerXuid;return e.filter((e=>e.xuid!==a)).length}}),[],[P,f]),N=(0,t.useFacetMap)(((e,t)=>!t&&!e),[],[F,S]),A=(0,t.useFacetMap)((e=>0===e.length?[]:e.map((e=>({xuid:e.xuid,platformId:""})))),[],[P]),L=WO.useModal(),R=TO.useModal(),D=IO.useModal(),_=(0,t.useSharedFacet)(Ep),B=(0,t.useFacetMap)((e=>null!=e.joinRealmResult&&e.joinRealmResult!==gp.Ok),[],[_]),W=(0,t.useSharedFacet)(ff),U=(0,t.useFacetMap)((e=>e.leaveRealmProgress),[],[W]),z=(0,t.useFacetMap)((e=>e==vv.RUNNING),[],[U]),j=u(),H=Sv(((e,t,a,r,o)=>function*(){if(""===r)return;l({screen:"RealmsTabContent",button:"LeaveRealm",details:{realmId:r}});const i=function(e,t){const a=1===e.realms.length,n=e.realms[0].world.id===Number(t);return a?"":n?e.realms[1].world.id.toString():e.realms[0].world.id.toString()}(e,r);t.clearLeaveRealm(),t.leaveRealm(Number(r)),yield U,t.leaveRealmResult===pf.Success?(a.queueSnackbar(n(".leaveRealmNotification",[o])),j.replace(`/play/realms/${i}`)):t.leaveRealmResult!==pf.Unknown&&D.show()}),[U,j,D,l,n],[d,W,s,h,b]),V=(0,t.useSharedFacet)(pm),G=function(e,a){const{t:n}=oi("RealmTag");return(0,t.useFacetMap)(((e,t)=>{const a=[];return null==e?[]:(e.isOwner?a.push({label:n(t?".previewRealmOwner":".realmOwner"),role:"primaryTint"}):a.push({label:n(t?".invitedToPreviewRealm":".invitedToRealm"),role:"primaryTint"}),a.push({label:n(MO(e.world.gameMode)),role:"neutral100"}),a)}),[n],[e,a])}(f,V),$=oO({expired:F,closed:S,full:C}),K=(0,t.useIsPaused)(),X=(0,t.useFacetMap)((e=>K||e),[K],[g]),Y=(0,t.useFacetUnwrap)(wl()),q=To(),Q=(0,e.useMemo)((()=>({realmOwner:y,expired:F,closed:S,full:C,realmId:h,realmName:b,realmOwnerName:x,areStoriesNotificationsEnabled:w,storiesUnreadCount:T})),[y,F,S,C,h,b,x,w,T]),J=(0,t.useFacetMap)((e=>null!=e&&null!=e.world.lastSaved?r.formatDate(e.world.lastSaved):"-"),[r],[(0,t.useFacetWrap)(null!=f?f:void 0)]),Z=(0,t.useFacetCallback)(((e,t)=>()=>{l({button:"Stories",screen:"RealmsTabContent",details:{realmId:e}}),t.clearRealmUnreadCount(e),i.push(`/realms-story-entry-route/feed/${e}`)}),[i,l],[h,p]),ee=(0,t.useFacetMap)(((e,t)=>lr()({f5yw7:e||t})),[],[S,F]),te=(0,t.useFacetMap)(((e,t)=>e&&null!=t.realms&&0!=t.realms.length),[],[V,(0,t.useSharedFacet)(pg)]),ae=(0,t.useFacetMap)((e=>[n(".realmsDescription"),e].join(" . ")),[n],[M]);return e.createElement(aN.Provider,{value:Q},e.createElement(Yc,{alwaysVisibleChildren:e.createElement(Sc,{size:"narrow"===q?1:2}),floating:"desktop"!==q,loading:X,defaultFocusedChildBehavior:"remember",spinnerBackgroundColor:!0===Y?void 0:"#48494A"},e.createElement(t.Mount,{when:te},e.createElement(e.Fragment,null,e.createElement(KO,null),e.createElement(Sc,{size:2}))),e.createElement(Yr,{data:E},(a=>"defined"===a?e.createElement("div",{className:lr()("qssbx",o.background.base,o.border.base)},e.createElement(Nn,{collection:ev},e.createElement(Yr,{data:$},(t=>{switch(t){case"closed":return e.createElement("div",{className:vO},e.createElement(lS,{role:"destructiveTint"},e.createElement(lS.Text,null,n(".bannerClosed"))));case"expired":return e.createElement("div",{className:vO},e.createElement(lS,{role:"destructiveTint"},e.createElement(lS.Text,null,n(".bannerExpired"))));case"full":return e.createElement("div",{className:vO},e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,n(".bannerFull"))));default:return null}})),e.createElement("div",{className:"_pK5F"},e.createElement(oc,{aspectRatio:oc.AspectRatio["10:3"],src:bO,className:ee}),e.createElement(t.Mount,{when:N},e.createElement("div",{className:"tL28i"},e.createElement(tN,{realmId:h,realmOwner:y,realmOwnerName:x,amountOfPlayersOnline:O,playersOnlineIds:A,maxPlayers:I})))),e.createElement(rN,{realmName:b,slotName:v,tags:G}),e.createElement(oN,{lastPlayedString:J},e.createElement(iN,{onLeaveRealm:R.show,navigateToRealmsStories:Z,showSettingsModal:L.show})),e.createElement(t.Mount,{when:B},e.createElement(VO.Component,{worldId:h})),e.createElement(t.Mount,{when:k},e.createElement(Ws,{focusable:!0,role:"neutral80",narrationText:ae},e.createElement(zs,null,n(".realmsDescription")),e.createElement(Sc,{size:2}),e.createElement(js,null,M))),e.createElement(t.Mount,{when:L.isVisible},e.createElement(WO.Component,{onClose:L.hide,realmId:h})))):e.createElement(zO,{context:"realmDetails"}))),e.createElement(Sc,{size:"narrow"===q?1:2}),e.createElement(fT,{tab:"realms"}),e.createElement(Sc,{size:"narrow"===q?1:2})),e.createElement(t.Mount,{when:z},e.createElement(Tx.Component,{title:n(".leaveRealmProgressMessage")})),e.createElement(t.Mount,{when:R.isVisible},e.createElement(TO.Component,{onClose:R.hide,onLeaveRealm:H,realmName:b})),e.createElement(t.Mount,{when:D.isVisible},e.createElement(IO.Component,{onClose:D.hide})))}function rN({realmName:a,slotName:n,tags:r}){const{realmOwner:l,expired:o,closed:i,full:c}=(0,e.useContext)(aN),s=(0,t.useFacetMap)(((e,t,a,n)=>(t||a||n)&&!e),[],[(0,t.useFacetWrap)(null!=l&&l),(0,t.useFacetWrap)(null!=o&&o),(0,t.useFacetWrap)(null!=i&&i),(0,t.useFacetWrap)(null!=c&&c)]),{t:u}=oi("PlayScreen.realmsTab.narration"),d=(0,t.useFacetMap)((e=>e.map(((t,a)=>e.length>a+1?t.label+" . ":t.label))),[],[r]),m=(0,t.useFacetMap)(((e,t,a)=>[u(".realmInformation"),e,t,a.join(" . ")].join(" . ")),[u],[a,n,d]);return e.createElement(Ws,{focusable:s,role:"neutral80",narrationText:m},e.createElement("div",{className:FO},e.createElement("div",{className:SO},e.createElement(zs,null,a),e.createElement(Sc,{size:2}),e.createElement(js,null,n),e.createElement(Sc,{size:2}),e.createElement(QI,{tags:r})),e.createElement(Sc,{size:3}),e.createElement("div",{className:lr()(SO,"WmmWc")},e.createElement(lN,null))))}function lN(){const{t:a}=oi("PlayScreen.realmsTab"),{t:n}=oi("PlayScreen.realmsTab.narration"),{realmOwner:r,expired:l,closed:o,full:i,realmId:c}=(0,e.useContext)(aN),s=(0,t.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[(0,t.useSharedFacet)(hp)]),d=(0,t.useFacetMap)(((e,t,a,n)=>t||a||n?t&&e?"renew":a&&e?"re-open":"disabled-play":"play"),[],[(0,t.useFacetWrap)(null!=r&&r),(0,t.useFacetWrap)(null!=l&&l),(0,t.useFacetWrap)(null!=o&&o),(0,t.useFacetWrap)(null!=i&&i)]),m=(0,t.useFacetWrap)(null!=c?c:""),p=Cv(m,"RealmsTabContent","PlayRealm"),f=u(),g=dO(),E=eT.useModal(),h=(0,t.useFacetCallback)(((e,t,a)=>()=>{a.onlyCellularAvailable&&a.showCellularDataFee?E.show():e?p():f.push(`/online-play-warning/${GO(ag.Realm)}/${t}`)}),[p,f,E],[s,m,(0,t.useSharedFacet)(Ir)]),b=(0,t.useFacetCallback)((e=>()=>{e.useMobileDataOnce=!0,p()}),[p],[(0,t.useSharedFacet)(Fp)]),v=OO.useModal(),F=u(),S=(0,t.useFacetCallback)((e=>()=>{e.isPreviewBuild?v.show():F.push("/settings/view_subscriptions")}),[v,F],[(0,t.useSharedFacet)(um)]),y=(0,t.useFacetCallback)(((e,t)=>()=>{e.openRealm(parseInt(t))}),[],[(0,t.useSharedFacet)(Qp),m]);return e.createElement("div",{className:yO},e.createElement(Yr,{data:d},(t=>{switch(t){case"play":return e.createElement(ru,{gamepadAlias:kO.REALMS_PLAY_BUTTON,inputLegend:a(".play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:h,narrationSuffix:n(".buttonSiblings",["1","3"]),"data-testid":"play-realm-button",disabled:g},a(".play"));case"renew":return e.createElement(ru,{"data-testid":"renew-realm-button",inputLegend:a(".renew"),variant:"primary",delayedClick:!0,horizontal:!0,onClick:S,narrationSuffix:n(".buttonSiblings",["1","3"]),disabled:g},a(".renew"));case"re-open":return e.createElement(ru,{"data-testid":"reopen-realm-button",inputLegend:a(".reOpen"),variant:"primary",delayedClick:!0,horizontal:!0,onClick:y,narrationSuffix:n(".buttonSiblings",["1","3"]),disabled:g},a(".reOpen"));case"disabled-play":return e.createElement(ru,{inputLegend:a(".play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:()=>{},narrationSuffix:n(".buttonSiblings",["1","3"]),disabled:!0},a(".play"))}})),e.createElement(t.Mount,{when:v.isVisible},e.createElement(OO.Component,{onClose:v.hide})),e.createElement(t.Mount,{when:E.isVisible},e.createElement(eT.Component,{onClose:E.hide,joinServer:b})))}function oN({lastPlayedString:a,children:n}){const{t:r}=oi("PlayScreen.realmsTab");return e.createElement(Ws,{role:"neutral80",narrationText:(0,t.useFacetMap)((e=>[r(".lastPlayed"),e].join(" . ")),[r],[a])},e.createElement("div",{className:FO},e.createElement("div",{className:"SDIhK"},e.createElement("div",{className:CO},e.createElement(gs,{type:"body"},r(".lastPlayed"))),e.createElement(Sc,{size:1}),e.createElement("div",{className:CO},e.createElement(gs,{type:"captionShort",variant:"dimmer"},a))),e.createElement(Sc,{size:3}),e.createElement("div",{className:yO},e.createElement("div",{className:"XFiAt"},n))))}function iN({onLeaveRealm:a,navigateToRealmsStories:n,showSettingsModal:r}){const{t:l}=oi("PlayScreen.realmsTab"),{t:o}=oi("PlayScreen.realmsTab.narration"),{realmOwner:i,areStoriesNotificationsEnabled:c,storiesUnreadCount:s}=(0,e.useContext)(aN),u=To(),d=dO(),m=(0,t.useFacetMap)((e=>e?"options":"leave-realm"),[],[(0,t.useFacetWrap)(null!=i&&i)]),p=(0,t.useFacetWrap)(null!=s?s:0),f=(0,t.useFacetWrap)(null!=c&&c),g=(0,t.useFacetMap)((e=>e>0),[],[p]),E=(0,t.useFacetMap)(((e,t)=>e&&t),[],[f,g]),h=(0,t.useFacetMap)(((e,t)=>{const a=[o(".buttonSiblings",["2","3"])];if(e){const e=1===t?o(".realmInformation.storiesUnreadBadgeCount.single"):o(".realmInformation.storiesUnreadBadgeCount.multiple",[`${t}`]);a.push(e)}return a.join(" . ")}),[o],[E,p]);return e.createElement(e.Fragment,null,e.createElement("div",{className:yO},e.createElement(YO,{Icon:()=>e.createElement(Yr,{data:E},(t=>e.createElement(e.Fragment,null,t?e.createElement(DF.RealmsStoriesUnread,{role:"inherit",width:24,height:24}):e.createElement(DF.RealmsStories,{role:"inherit",width:24,height:24}),e.createElement(Sc,{size:1})))),inputLegend:l(".realmsStories"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:n,narrationSuffix:h,"data-testid":"realm-stories-button",disabled:d,showBadge:E,badgeRole:"neutral",badgeCount:p},l(".realmsStories"))),e.createElement(Sc,{size:2}),e.createElement(Yr,{data:m},(t=>{switch(t){case"options":return e.createElement("div",{className:yO},e.createElement(ru,{inputLegend:l(".options"),variant:"secondary",delayedClick:!0,horizontal:!0,onClick:r,narrationSuffix:o(".buttonSiblings",["3","3"]),disabled:d},l(".options")));case"leave-realm":return e.createElement("div",{className:yO},e.createElement(ru,{inputLegend:l(".leaveRealm"),variant:"destructive",delayedClick:!0,horizontal:!0,onClick:a,narrationSuffix:[o(".buttonSiblings",["3","3"]),l(".options")].join(" . "),Icon:"narrow"!==u?QP:void 0,"data-testid":"leave-realm-button",disabled:d},l(".leaveRealm")));default:return null}})))}const cN=a.p+"assets/parental-online-safety-8fad2.png",sN=a.p+"assets/online-safety-dc71d.png",uN=a.p+"assets/external-link-b22bb.png";function dN({variant:a}){const{t:n}=oi("PlayScreen.xboxPermissionMessage"),r=zd({wide:8,narrow:6,width:256}),l=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.ParentPermissionHelpPage)}),[],[(0,t.useSharedFacet)(vg)]);return e.createElement(Yc,{floating:!0,gamepadIndex:1,flexShrinkWrapper:!0},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(yE,{title:n(".title"),text:n("parental"===a?".parentalText":".text"),imgSrc:"parental"===a?cN:sN,imgClass:(0,t.useFacetMap)((e=>e?"Sr6mB":"tcql5"),[],[r]),buttons:[{text:n(".helpButton"),imgSrc:uN,inputLegend:n(".helpButton"),onClick:l,buttonTestId:"help-button"}]})))}const mN={container:"alnnk"};function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},pN.apply(this,arguments)}function fN(a){let{minWidth:n,minHeight:r,minBorderWidth:l=0,className:o,style:i}=a,c=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["minWidth","minHeight","minBorderWidth","className","style"]);const s=(0,e.useRef)(null),[u,d]=(0,t.useFacetState)(1),m=(0,t.useFacetMap)((e=>[mN.container,e].filter(Boolean).join(" ")),[],[(0,t.useFacetWrap)(o)]);Eo(s,(({width:e})=>{const t=Math.max(1,Math.floor(e/(n+2*l)));"number"==typeof t&&t>0&&d(t)}));const p=(0,t.useFacetMap)((e=>(n+2*l)*e+"px"),[n,l],[u]),f=(0,t.useFacetMap)((e=>(r+2*l)*e+"px"),[r,l],[u]),g=(0,t.useFacetMap)((e=>l*e+"px solid transparent"),[l],[u]);return e.createElement("fast-div",{ref:s,className:m,style:i},0===l?e.createElement("fast-img",pN({},c,{style:{imageRendering:"pixelated",width:p,height:f}})):e.createElement("fast-img",pN({},c,{style:{imageRendering:"pixelated",width:p,height:f,border:g}})))}function gN({minWidth:a,minHeight:n,minBorderWidth:r,containerClassName:l,frameClassName:o}){const i=(0,e.useRef)(null),[c,s]=(0,t.useFacetState)(1),u=(0,t.useFacetWrap)(o),d=(0,t.useFacetWrap)(l);Eo(i,(({width:e})=>{const t=Math.max(1,Math.floor(e/(a+2*r)));"number"==typeof t&&s(t)}));const m=(0,t.useFacetMap)((e=>(a+2*r)*e+"px"),[a,r],[c]),p=(0,t.useFacetMap)((e=>(n+2*r)*e+"px"),[n,r],[c]),f=(0,t.useFacetMap)((e=>r*e+"px"),[r],[c]);return e.createElement("fast-div",{ref:i,className:d},e.createElement("fast-div",{className:u,style:{width:m,height:p,borderWidth:f}}))}function EN({title:a,text:n,image:r,index:l,maxIndex:o}){const i=(0,t.useFacetWrap)(a),c=(0,t.useFacetWrap)(n),s=(0,t.useFacetWrap)(r),u=(0,t.useFacetWrap)(null!=l?l:-1),d=(0,t.useFacetWrap)(null!=o?o:-1),m=Vn("neutral"),{t:p}=oi("PromoListItem"),f=(0,t.useFacetMap)(((e,t,a,n)=>{const r=[e,p(".role")];return-1!==a&&-1!==n&&r.push(p(".enumeration",[(a+1).toString(),n.toString()])),r.push(t),r.join(" . ")}),[p],[i,c,u,d]);return e.createElement(Li,{inputLegend:!1,narrationText:f,classNameFocused:vi,className:lr()("Zm7Sl",m.border.base)},e.createElement(bi,null),e.createElement("div",{className:lr()("jE15U","rPJhf",m.background.base)},e.createElement(Vi,{effect:"specular"}),e.createElement("div",{className:"WigYd"},e.createElement(fN,{src:s,minWidth:128,minHeight:72,className:"Wlb5R"})),e.createElement(Sc,{size:2}),e.createElement("div",{className:"Vd5Ax"},e.createElement(gs,{type:"header5B"},i),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionLong",variant:"dimmer"},c))))}const hN=a.p+"assets/RealmsSplashImage-b1b92.jpg",bN=a.p+"assets/RealmsTitleImage-517ec.png";function vN({title:a,text:n,showRealmsTitleImage:r=!1,buttonProps:l}){const o=(0,t.useFacetWrap)(null!=l?l:{text:"",onClick:()=>{},tokenCollection:"realms",gamepadAlias:""}),i=xo(70),c=Vn("neutral"),s=Vn("informative"),{t:u}=oi("Splash"),d=(0,t.useFacetMap)((e=>[e.text,u(".enumeration",["1","1"])].join(" . ")),[u],[o]),m=[a,u(".role"),n].join(" . ");return e.createElement("div",{className:lr()("kMLDV",s.background.base,c.border.base)},e.createElement("div",{className:lr()("aCOtA",{FQ8u9:!r,Kx1FU:!i,imZ4D:!i,JY0nO:i})},r&&e.createElement("div",{className:"yM3Ag"},e.createElement(oc,{src:bN})),e.createElement(Nn,{collection:ev},e.createElement(gs,{type:"header4A",role:"PDPPlus",variant:"stronger"},a)),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionLong"},n),l&&e.createElement("div",{className:"Jl3IV"},e.createElement(Sc,{size:4}),e.createElement(Yr,{data:o},(t=>e.createElement(Nn,{collection:"realms"===t.tokenCollection?ev:Zb},e.createElement(ru,{inputLegend:u(".select"),narrationPrefix:d,narrationSuffix:m,onClick:t.onClick,variant:"primary",gamepadAlias:t.gamepadAlias,"data-testid":t["data-testid"]},t.text)))))),!i&&e.createElement("div",{className:"rUfVf"},e.createElement(oc,{src:hN,aspectRatio:oc.AspectRatio["16:9"]})))}function FN({header:a,title:n,text:r,image:l}){const o=(0,t.useFacetWrap)(null!=a?a:""),i=(0,t.useFacetMap)((e=>""!==e),[],[o]),c=(0,t.useFacetWrap)(n),s=(0,t.useFacetWrap)(r),u=(0,t.useFacetWrap)(null!=l?l:""),d=(0,t.useFacetMap)((e=>""!==e),[],[u]),m=Vn("neutral"),p=Vn("neutral80"),{t:f}=oi("HeroItem"),g=(0,t.useFacetMap)(((e,t,a)=>[e,f(".role"),t,a].join(" . ")),[f],[o,c,s]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(ah,{role:"primary",label:o})),e.createElement(Li,{inputLegend:!1,narrationText:g,classNameFocused:vi,className:lr()("rxLsf",m.border.base)},e.createElement(bi,null),e.createElement("div",{className:lr()("_UW1E",m.background.base)},e.createElement(gs,{type:"header4A"},c),e.createElement(Sc,{size:4}),e.createElement(gs,{type:"captionLong",variant:"dimmer"},s)),e.createElement(t.Mount,{when:d},e.createElement("div",{className:lr()("ThJlB",p.shadow.base)},e.createElement(oc,{src:u,aspectRatio:oc.AspectRatio["16:9"]})))))}const SN=a.p+"assets/PersistentMultiplayerWorlds-880a4.png",yN=a.p+"assets/MembersPlayFree-265a9.png",CN=a.p+"assets/EasyAndSafe-18a17.png",MN=a.p+"assets/AdditionalContentWithRealmsPlus-2567d.jpg",kN=a.p+"assets/AdditionalPerksIncludedWithRealms-1153c.jpg",wN="realms-pdp-scrollview",TN="realms-pdp-splash-button";function xN({data:a,index:n,length:r,screenAnalyticsId:l}){const{t:o}=oi("RealmsPDPFAQAccordion"),i=yv(),c=(0,t.useFacetMap)((e=>[o(".enumeration",[`${n+1}`,`${e}`]),o(".clickToExpand")].join(" . ")),[n,o],[r]),s=(0,t.useFacetMap)((e=>[o(".textBlock"),...e.text].join(" . ")),[o],[a]),u=(0,t.useFacetMap)((e=>e.title),[],[a]),d=(0,t.useFacetMap)((e=>e.text),[],[a]),m=(0,t.useFacetMap)((e=>n<e-1),[n],[r]),p=Vn("neutral"),f=e.useCallback((e=>{e&&i({button:"FAQItem",screen:l,details:{index:n.toString()}})}),[i,l,n]);return e.createElement(e.Fragment,null,e.createElement(Pk,{label:u,narrationHint:c,onExpandNarrationHint:"",onChange:f},e.createElement(Li,{inputLegend:!1,narrationText:s,classNameFocused:vi,className:lr()("I25h3",p.border.base,p.background.base)},e.createElement(bi,null),e.createElement(t.Map,{array:d},(t=>e.createElement(gs,{type:"captionLong",variant:"dimmer"},t))))),e.createElement(t.Mount,{when:m},e.createElement(Sc,{size:2})))}function IN({header:a,footer:n,hideUpsellButton:r=!1,loading:l,screenAnalyticsId:o="RealmsPDP",shouldShowDesignPreview:i=!1}){const{t:c}=oi("RealmsPDPScreen"),s=yv(),d=(0,t.useFacetMap)((e=>e),[],[(0,t.useFacetWrap)(null!=l&&l)]),m=xo(70),p=u(),f=(0,t.useSharedFacet)(gf),g=(0,t.useFacetMap)(((e,t)=>e.isRealmsTrialAvailable?c(".splash.tryFree"):Qv(t.platform)?c(".splash.subscribeNow"):c(".splash.buyNow")),[c],[f,(0,t.useSharedFacet)(Ir)]),E=(0,t.useFacetMap)((e=>({text:e,onClick:()=>{s({button:"Upsell",screen:o}),p.push("/realms-plan-picker")},tokenCollection:"realms",gamepadAlias:TN,"data-testid":TN})),[p,s,o],[g]),h=function(){const[a,n]=(0,e.useState)(!0);(0,e.useEffect)((()=>{const e=setTimeout((()=>n(!1)),15e3);return()=>{clearTimeout(e)}}));const r=(0,t.useSharedFacet)(gf);return(0,t.useFacetMap)((e=>(""===e.coreSubscriptionPrice||""===e.plusSubscriptionPrice)&&a),[a],[r])}(),b=(0,t.useFacetMap)((e=>{const t=[],a=e.coreSubscriptionPrice,n=e.plusSubscriptionPrice;return t.push({title:c(".FAQ.Realms.title"),text:[c(".FAQ.Realms.description")]}),t.push({title:c(".FAQ.PersonalServer.title"),text:[c(".FAQ.PersonalServer.description")]}),""!=a&&""!=n&&t.push({title:c(".FAQ.Cost.title"),text:[c(".FAQ.Cost.description1"),c(".FAQ.Cost.description2",[a]),c(".FAQ.Cost.description3",[n])]}),t.push({title:c(".FAQ.Friends.title"),text:[c(".FAQ.Friends.description")]}),t.push({title:c(".FAQ.Expiry.title"),text:[c(".FAQ.Expiry.description")]}),t.push({title:c(".FAQ.HowMany.title"),text:[c(".FAQ.HowMany.description")]}),t}),[c],[f]),v=(0,t.useFacetMap)((e=>e.length),[],[b]),F=Vn("neutral"),S=Vn("neutral80");return e.createElement(Nn,{collection:ev},e.createElement(Yc,{loading:d,gamepadAlias:wN,delegateFocusByAlias:TN},a,e.createElement(vN,{title:c(".splash.title"),text:c(".splash.text"),buttonProps:r?void 0:E}),e.createElement(Sc,{size:2}),e.createElement(ah,{role:"primary",label:c(".promos.header")}),e.createElement(rs,{text:c(".promos.header")},e.createElement(EN,{image:SN,title:c(".promos.persistent.title"),text:c(".promos.persistent.description"),index:0,maxIndex:3}),e.createElement(Sc,{size:2}),e.createElement(EN,{image:yN,title:c(".promos.free.title"),text:c(".promos.free.description"),index:1,maxIndex:3}),e.createElement(Sc,{size:2}),e.createElement(EN,{image:CN,title:c(".promos.easy.title"),text:c(".promos.easy.description"),index:2,maxIndex:3})),e.createElement(Sc,{size:2}),e.createElement(FN,{image:m?void 0:MN,header:c(".hero.content.header"),title:c(".hero.content.title"),text:c(".hero.content.text")}),e.createElement(Sc,{size:2}),e.createElement(FN,{image:m?void 0:kN,header:c(".hero.perks.header"),title:c(".hero.perks.title"),text:c(".hero.perks.text")}),e.createElement(Sc,{size:2}),e.createElement(Yr,{data:h},(a=>a?e.createElement(e.Fragment,null,e.createElement("div",{className:lr()("h_OHE",F.border.base,S.overlay.base)},e.createElement(Kc,null)),e.createElement(Sc,{size:2})):e.createElement(e.Fragment,null,e.createElement(ah,{role:"primary",label:c(".FAQ.header")}),e.createElement(rs,{text:c(".FAQ.header")},e.createElement(t.Map,{array:b},((t,a)=>e.createElement(xN,{data:t,index:a,length:v,screenAnalyticsId:o}))))))),n,i&&e.createElement(fT,{tab:"realms"})))}const PN="eb379";function ON(){return(0,t.useFacetMap)(((e,t)=>e.isDevBuild&&t.platform===He.WIN32),[],[(0,t.useSharedFacet)(um),(0,t.useSharedFacet)(Ir)])}function NN(e){return(0,t.useFacetMap)(((t,a,n,r,l,o)=>r.isOnline?t?"trial-mode":!a.isSignedInPlatformNetwork&&Qv(r.platform)?"platform-guest-nintendo":!a.isSignedInPlatformNetwork&&Yv(r.platform)?"platform-guest-playstation":!a.isLoggedInWithMicrosoftAccount&&Qv(r.platform)?"msa-guest-nintendo":!a.isLoggedInWithMicrosoftAccount&&Yv(r.platform)?"msa-guest-playstation":!a.hasPremiumNetworkAccess&&Yv(r.platform)?"no-online-subscription-playstation":!a.hasPremiumNetworkAccess&&Qv(r.platform)?"no-online-subscription-nintendo":!a.hasPremiumNetworkAccess&&qv(r.platform)?"no-online-subscription-xbox":n?"not-signed-in":a.isBanned?"banned":a.userPermissions.multiplayer.denyReasons.includes(gg.XboxLive_Parental)?"parental-online-safety":a.userPermissions.multiplayer.denyReasons.includes(gg.XboxLive)?"online-safety":e!==Cw.SERVERS||l.fetchThirdPartyWorldsTaskState!==vv.DONE||null!=l.thirdPartyWorlds&&0!==l.thirdPartyWorlds.length||o?"content":"no-content":"offline"),[e],[(0,t.useSharedFacet)(hg),(0,t.useSharedFacet)(Eg),Mw(e),(0,t.useSharedFacet)(Ir),(0,t.useSharedFacet)(Yf),ON()])}const AN=a.p+"assets/Realms-Missing-84884.png",LN=a.p+"assets/Realms-Empty-714f9.png",RN=a.p+"assets/preproduction-access-art-realms-7007a.png";function DN({realmsListError:a,realmsCompatibility:n=hf.Compatible,realmsFetchRetry:r}){const l=(0,t.useSharedFacet)(Cf),o=(0,t.useFacetWrap)(a),i=(0,t.useFacetWrap)(n),c=(0,t.useFacetMap)(((e,t)=>e===hf.UserNotAllowed&&t.isRealmsPreproductionEnvironment),[],[i,l]);return e.createElement(Yc,{floating:!0,flexShrinkWrapper:!0},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(Yr,{data:o},(a=>{switch(a){case bf.ServiceError:return e.createElement(WN,{realmsFetchRetry:r});case bf.RateLimit:return e.createElement(BN,null);case bf.Compatibility:return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:c},e.createElement(UN,null)),e.createElement(t.Mount,{when:c,condition:!1},e.createElement(zO,{context:"realms"})));case bf.RealmsBan:case bf.NetworkError:case bf.Unknown:default:return e.createElement(zO,{context:"realms"})}}))))}function _N({title:a,text:n,imgSrc:r,borderless:l=!1,buttons:o}){const i=zd({wide:8,narrow:6,width:256}),c=(0,t.useFacetMap)((e=>e?"ww0Eb":"Mo38I"),[],[i]);return e.createElement(e.Fragment,null,e.createElement(yE,{borderless:l,title:a,text:n,imgSrc:r,imgClass:c,buttons:o}),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}function BN(){const{t}=sp("PlayScreen.realmsTab.realmsTabErrorStates.realmsRateLimitError");return e.createElement(_N,{title:t(".title"),text:t(".text"),imgSrc:AN})}function WN({realmsFetchRetry:t}){const{t:a}=sp("PlayScreen.realmsTab.realmsTabErrorStates.realmsServiceError");return e.createElement(_N,{title:a(".title"),text:a(null!=t?".text.tryAgain":".text.wait"),imgSrc:LN,buttons:t?[{text:a(".button.text"),inputLegend:a(".button.inputLegend"),onClick:t}]:void 0})}function UN(){const{t:a}=sp("PlayScreen.realmsTab.realmsTabErrorStates.realmsPreprodError"),n=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.PreproductionRealmsGuide)}),[],[(0,t.useSharedFacet)(vg)]);return e.createElement(_N,{title:a(".title"),text:a(".text"),imgSrc:RN,buttons:[{text:a(".button.text"),imgSrc:hy,inputLegend:a(".button.inputLegend"),onClick:n}]})}let zN,jN,HN,VN;function GN({accountAndPlatform:t=0,hasPremiumSubscription:a,location:n}){const{t:r}=oi("PlayScreen.guestAccountMessage"),l=yv();let o="",i="";switch(t){case zN.MsaPlaystation:o=a?n===HN.ServersTab?r(".serversNoMicrosoftAccount"):r(".realmsNoMicrosoftAccount"):n===HN.ServersTab?r(".serversPlaystationGuest"):r(".realmsPlaystationGuest"),i=r(".bannerLogInMicrosoft");break;case zN.MsaNintendo:o=a?n===HN.ServersTab?r(".serversNoMicrosoftAccount"):r(".realmsNoMicrosoftAccount"):n===HN.ServersTab?r(".serversNintendoGuest"):r(".realmsNintendoGuest"),i=r(".bannerLogInMicrosoft");break;case zN.PlatformPlaystation:o=n===HN.ServersTab?r(".serversNoPlatformAccountPlaystation"):r(".realmsNoPlatformAccountPlaystation");break;case zN.PlatformNintendo:o=n===HN.ServersTab?r(".serversNoPlatformAccountNintendo",["Servers"]):r(".realmsNoPlatformAccountNintendo",["Realms"])}const c=u();return e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,o),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{"data-testId":`log-in-link-${n}`,gamepadIndex:1,onClick:()=>{l({screen:`${$N(n)}`,button:"SignIn"}),c.replace("/sign-in?signInSource=PlayScreen_NotLoggedInWarning_OreUI")}},i))}function $N(e){return e===HN.ServersTab?"ServersTab":"RealmsTab"}function KN({platform:t,location:a}){const{t:n}=oi("PlayScreen.noPremiumSubscriptionMessage");let r="";switch(t){case jN.Playstation:r=a===HN.ServersTab?n(".serversPlaystation"):n(".realmsPlaystation");break;case jN.Nintendo:r=a===HN.ServersTab?n(".serversNintendo"):n(".realmsNintendo");break;case jN.Xbox:r=a===HN.ServersTab?n(".serversXbox"):n(".realmsXbox")}return""===r?null:e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,r))}function XN({location:t}){const{t:a}=oi("notLoggedInWarning"),n=hr(),r=yv();return e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,function(e){const{t}=oi("notLoggedInWarning.playScreen.message"),{t:a}=oi("notLoggedInWarning.startFromTemplateScreen.message");switch(e){case VN.PlayScreen_Realms:return t(".realms");case VN.PlayScreen_Servers:return t(".servers");case VN.TemplatesScreen_MarketplacePass:return a(".marketplacePass");case VN.TemplatesScreen_Featured:return a(".featured")}}(t)),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{"data-testId":`log-in-link-${t}`,onClick:()=>{r({screen:`${YN(t)}`,button:"SignIn"}),n.replace(`/sign-in?signInSource=${function(e){switch(e){case VN.PlayScreen_Realms:case VN.PlayScreen_Servers:return"PlayScreen";case VN.TemplatesScreen_MarketplacePass:case VN.TemplatesScreen_Featured:return"TemplatesScreen"}}(t)}_NotLoggedInWarning_OreUI`)}},a(".loginLink")))}function YN(e){switch(e){case VN.PlayScreen_Realms:return"RealmsTab";case VN.PlayScreen_Servers:return"ServersTab";case VN.TemplatesScreen_MarketplacePass:case VN.TemplatesScreen_Featured:return"TemplatesScreen"}}function qN({tab:a}){const n=(0,t.useFacetMap)(((e,t)=>{const{isSignedInPlatformNetwork:a,isLoggedInWithMicrosoftAccount:n,hasPremiumNetworkAccess:r}=e,l=Qv(t.platform),o=Yv(t.platform),i=qv(t.platform);return!a&&l?"platform-guest-nintendo":!a&&o?"platform-guest-playstation":!n&&r&&o?"msa-guest-with-premium-playstation":!n&&r&&l?"msa-guest-with-premium-nintendo":!n&&l?"msa-guest-nintendo":!n&&o?"msa-guest-playstation":n&&!r&&l?"no-premium-subscription-nintendo":n&&!r&&o?"no-premium-subscription-playstation":n&&!r&&i?"no-premium-subscription-xbox":"not-signed-in"}),[],[(0,t.useSharedFacet)(Eg),(0,t.useSharedFacet)(Ir)]),r=a===HN.ServersTab?VN.PlayScreen_Servers:VN.PlayScreen_Realms;return e.createElement("div",null,e.createElement(Yr,{data:n},(t=>{switch(t){case"msa-guest-nintendo":return e.createElement(GN,{accountAndPlatform:zN.MsaNintendo,location:a});case"msa-guest-playstation":return e.createElement(GN,{accountAndPlatform:zN.MsaPlaystation,location:a});case"platform-guest-nintendo":return e.createElement(GN,{accountAndPlatform:zN.PlatformNintendo,location:a});case"platform-guest-playstation":return e.createElement(GN,{accountAndPlatform:zN.PlatformPlaystation,location:a});case"msa-guest-with-premium-nintendo":return e.createElement(GN,{accountAndPlatform:zN.MsaNintendo,hasPremiumSubscription:!0,location:a});case"msa-guest-with-premium-playstation":return e.createElement(GN,{accountAndPlatform:zN.MsaPlaystation,hasPremiumSubscription:!0,location:a});case"no-premium-subscription-nintendo":return e.createElement(KN,{platform:jN.Nintendo,location:a});case"no-premium-subscription-playstation":return e.createElement(KN,{platform:jN.Playstation,location:a});case"no-premium-subscription-xbox":return e.createElement(KN,{platform:jN.Xbox,location:a});case"not-signed-in":return e.createElement(XN,{location:r});default:return null}})))}function QN({disableHeaderButtons:a=!1}){const n=(0,t.useSharedFacet)(Ff),r=(0,t.useFacetMap)((e=>e.state===vf.Loading||e.state===vf.Unknown),[],[n]),l=(0,t.useFacetMap)((e=>e.state===vf.Error),[],[n]),o=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.error)&&void 0!==t?t:bf.None}),[],[n]),i=(0,t.useFacetMap)((e=>e.compatibility),[],[n]),c=(0,t.useFacetMap)((e=>null==e.realms||0==e.realms.length),[],[n]),s=(0,t.useFacetMap)((({id:e})=>e),[],[m()]),u=(0,t.useFacetMap)(((e,t,a,n)=>a?"realms-fetch-failed":n||!t&&e?!t&&e?"no-realms":"content":"no-id"),[],[c,r,l,s]),d=(0,e.useRef)(null),p=(0,e.useRef)(null),f=(0,t.useFacetMap)(((e,t)=>e&&null!=t.realms&&0!=t.realms.length),[],[(0,t.useSharedFacet)(pm),(0,t.useSharedFacet)(pg)]);return e.createElement(Nn,{collection:ev},e.createElement(Yr,{data:u},(n=>{switch(n){case"realms-fetch-failed":return e.createElement(DN,{realmsListError:o,realmsCompatibility:i});case"no-id":return e.createElement(tA,null);case"content":return e.createElement(ac,{containerRef:d,delegateFocusByAlias:kO.REALMS_INFORMATION,delegateFocusFromMemory:!0},e.createElement(hE.Row,{innerRef:d},e.createElement(hE.Column,{wideSize:4,narrowSize:3},e.createElement(EO,{loading:r})),e.createElement(ac,{containerRef:p,delegateFocusByAlias:kO.REALMS_PLAY_BUTTON,alias:kO.REALMS_INFORMATION},e.createElement(hE.Column,{innerRef:p,wideSize:8,narrowSize:5},e.createElement(nN,{loading:r})))));default:return e.createElement(IN,{loading:r,hideUpsellButton:!0,header:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:f},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(KO,null))),e.createElement(Sc,{size:2}),e.createElement(ZN,{disabled:a}),e.createElement(Sc,{size:2})),footer:e.createElement(Sc,{size:2}),screenAnalyticsId:"RealmsTabPDP",shouldShowDesignPreview:!0})}})))}function JN(){const a=(0,t.useSharedFacet)(Eg),n=(0,t.useFacetMap)((e=>e.banExpiration),[],[a]),r=(0,t.useFacetMap)((e=>e.banReason),[],[a]),l=NN(Cw.REALMS),{t:o}=sp("PlayScreen.realmsTab");return e.createElement(Yr,{data:l},(t=>{switch(t){case"banned":return e.createElement(GT.InTab,{reason:r,expiration:n});case"offline":return e.createElement(eA,null,e.createElement(KT,{text:o(".noInternetMessage")}));case"parental-online-safety":return e.createElement(dN,{variant:"parental"});case"online-safety":return e.createElement(dN,{variant:"online"});case"trial-mode":return e.createElement(RT,{context:"realms"});case"no-online-subscription-nintendo":case"no-online-subscription-playstation":return e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(qN,{tab:HN.RealmsTab}),e.createElement(QN,{disableHeaderButtons:!0}));case"msa-guest-playstation":case"msa-guest-nintendo":case"no-online-subscription-xbox":case"not-signed-in":return e.createElement(IN,{hideUpsellButton:!0,header:e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(qN,{tab:HN.RealmsTab}),e.createElement(Sc,{size:2}),e.createElement(ZN,{disabled:!0}),e.createElement(Sc,{size:2})),footer:e.createElement(Sc,{size:2}),screenAnalyticsId:"RealmsTabPDP",shouldShowDesignPreview:!0});case"platform-guest-playstation":case"platform-guest-nintendo":default:return e.createElement(jP,null);case"content":return e.createElement(QN,null)}}))}function ZN({disabled:a=!1}){const n=u(),r=(0,t.useSharedFacet)(ap),{t:l}=sp("PlayScreen.realmsTab.buttonHeader"),{t:o}=sp("PlayScreen.realmsTab.buttonHeader.narration"),i=(0,t.useSharedFacet)(pm),c=(0,t.useFacetMap)((e=>e?2:3),[],[i]),s=(0,t.useFacetMap)((e=>ep(e.categoryData,Jm.INVITES)),[],[r]),d=(0,t.useFacetMap)((e=>l(".invitations",[`${e}`])),[l],[s]),m=(0,t.useFacetMap)((e=>Qv(e.platform)?l(".subscribeNowUpsell"):l(".buyNowUpsell")),[l],[(0,t.useSharedFacet)(Ir)]),p=(0,t.useFacetMap)((()=>o(".buttonSiblings",["1","3"])),[o],[]),f=(0,t.useFacetMap)(((e,t,a)=>o(".buttonSiblings",[a?"1":"2",`${t}`])+" . "+o(".invitationsAmount",[`${e}`])),[o],[s,c,i]),g=(0,t.useFacetMap)(((e,t)=>o(".buttonSiblings",[t?"2":"3",`${e}`])),[o],[c,i]),E=(0,t.useFacetMap)(((e,t,a,n)=>e?"no-upsell":a.isRealmsTrialAvailable?"free-trial":t||!a.isRealmsTrialAvailable?Qv(n.platform)?"subscribe-now":"buy-now":"no-upsell"),[],[i,(0,t.useSharedFacet)(hg),(0,t.useSharedFacet)(gf),(0,t.useSharedFacet)(Ir)]),h=(0,t.useFacetMap)((e=>!e.isLoggedInWithMicrosoftAccount),[],[(0,t.useSharedFacet)(Eg)]);return e.createElement("div",{className:"Ci4ry"},e.createElement(Yr,{data:E},(t=>{switch(t){case"free-trial":return e.createElement("div",{className:PN},e.createElement(ru,{inputLegend:l(".freeTrialUpsell"),narrationSuffix:p,variant:"primary",onClick:()=>n.push("/realms-plan-picker"),disabled:a},l(".freeTrialUpsell")));case"buy-now":return e.createElement("div",{className:PN},e.createElement(ru,{inputLegend:m,narrationSuffix:p,variant:"primary",onClick:()=>n.push("/realms-plan-picker"),disabled:a},m));case"subscribe-now":return e.createElement("div",{className:PN},e.createElement(ru,{inputLegend:l(".subscribeNowUpsell"),narrationSuffix:p,variant:"primary",onClick:()=>n.push("/realms-plan-picker"),disabled:a},l(".subscribeNowUpsell")));default:return e.createElement(e.Fragment,null)}})),e.createElement(Sc,{size:2}),e.createElement("div",{className:PN},e.createElement(ru,{inputLegend:d,narrationSuffix:f,variant:"secondary",onClick:()=>n.push("/inbox/invites"),disabled:h},d)),e.createElement(Sc,{size:2}),e.createElement("div",{className:PN},e.createElement(ru,{inputLegend:l(".joinRealm"),narrationSuffix:g,variant:"secondary",onClick:()=>n.push("/join-realms-server"),disabled:a,"data-testid":"pdp-header-join-realm-button"},l(".joinRealm"))))}function eA({children:t}){return e.createElement(Yc,{floating:!0},e.createElement(Sc,{size:2}),t)}!function(e){e[e.MsaPlaystation=0]="MsaPlaystation",e[e.MsaNintendo=1]="MsaNintendo",e[e.PlatformPlaystation=2]="PlatformPlaystation",e[e.PlatformNintendo=3]="PlatformNintendo"}(zN||(zN={})),function(e){e[e.Playstation=0]="Playstation",e[e.Nintendo=1]="Nintendo",e[e.Xbox=2]="Xbox"}(jN||(jN={})),function(e){e.ServersTab="servers",e.RealmsTab="realms"}(HN||(HN={})),function(e){e.PlayScreen_Realms="play-realms",e.PlayScreen_Servers="play-servers",e.TemplatesScreen_MarketplacePass="templates-marketplace-pass",e.TemplatesScreen_Featured="templates-featured"}(VN||(VN={}));const tA=()=>{const a=u();return(0,t.useFacetEffect)((e=>{a.replace(`/play/realms/${e}`)}),[a],[uO()]),e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(Yc,{loading:!0},e.createElement(e.Fragment,null)),e.createElement(Sc,{size:2}))};function aA({activity:a,narration:n}){const r=(0,t.useFacetMap)((e=>e.title),[],[a]),l=(0,t.useFacetMap)((e=>e.subtitle),[],[a]),o=(0,t.useFacetMap)((e=>e.description),[],[a]),i=(0,t.useFacetMap)((e=>e.imagePath),[],[a]),c=Vn("neutral");return e.createElement(Ws,{compact:!0,narrationText:n,className:"F5nsF",focusable:!0},e.createElement(t.Mount,{when:(0,t.useFacetMap)(Boolean,[],[i])},e.createElement(e.Fragment,null,e.createElement("div",{className:"PRLig"},e.createElement(Sc,{size:3}),e.createElement(oc,{className:lr()(c.border.base,"KFDUD"),aspectRatio:oc.AspectRatio["1:1"],src:i}),e.createElement(Sc,{size:3})),e.createElement(Sc,{size:3}))),e.createElement("div",{className:"DsnFG"},e.createElement(Sc,{size:3}),e.createElement(zs,null,r),e.createElement(gs,{type:"captionLong",variant:"dimmer"},l),e.createElement(Sc,{size:2}),e.createElement(js,null,o),e.createElement(Sc,{size:3})))}function nA(){const{t:a}=oi("PlayScreen.serverTab.ServerNotifications"),n=(0,t.useFacetMap)((e=>e.networkDetails.pingStatus===ng.High),[],[(0,t.useSharedFacet)(pp)]),r=(0,t.useFacetMap)(((e,t)=>t?"win32-build":e?"high-ping":void 0),[],[n,ON()]);return e.createElement(e.Fragment,null,e.createElement(Yr,{data:r},(t=>{switch(t){case"high-ping":return e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,a(".highPingWarning")));case"win32-build":return e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,"Third party servers are not available in Win32 builds, to access this type of servers use an UWP build"));default:return e.createElement(e.Fragment,null)}})))}function rA({playerCount:a,maximumCapacity:n}){const r=(0,t.useFacetMap)(((e,t)=>0!==e&&e===t),[],[a,n]),{t:l}=oi("PlayScreen.serverCapacity");return e.createElement("div",{className:"mSFBx"},e.createElement(kI,null),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"body",variant:"dimmer"},a),e.createElement(t.Mount,{when:r},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(jM,{role:"destructiveTint"},l(".fullLabel")))))}function lA({loading:a,emptyMessage:n,header:r,renderItem:l,data:o,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,itemSeparator:s,footer:u,renderTracker:d,horizontal:m=!1,padSpinnerVertically:p,scrollViewRef:f,gamepadAlias:g,delegateFocusByAlias:E,delegateFocusFromMemory:h,defaultFocusedChildBehavior:b}){const v=(0,t.useIsPaused)(),F=(0,t.useFacetWrap)(o),S=(0,t.useFacetMap)((e=>e.length),[],[F]),y=(0,t.useFacetUnwrap)(S),C=(0,t.useFacetUnwrap)(a),M=C!==t.NO_VALUE&&C;return e.createElement(t.DeferredMountProvider,null,e.createElement(oA,{padSpinnerVertically:p,loading:M,scrollIntoViewAlign:i,scrollIntoViewSpeedFactor:c,renderTracker:d,horizontal:m,scrollViewRef:f,gamepadAlias:g,delegateFocusFromMemory:h,delegateFocusByAlias:E,defaultFocusedChildBehavior:b},null!=r&&e.createElement(e.Fragment,null,r,s),!1===v&&e.createElement(t.Map,{array:F},((t,a)=>e.createElement(e.Fragment,null,a>0&&s,l({itemFacet:t,index:a,listLengthFacet:S})))),null!=y&&0===y&&e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,n)),null!=u&&e.createElement(e.Fragment,null,s,u)))}function oA({loading:a,children:n,scrollIntoViewAlign:r,scrollIntoViewSpeedFactor:l,renderTracker:o,horizontal:i,padSpinnerVertically:c,scrollViewRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m,defaultFocusedChildBehavior:p}){const f=(0,t.useIsDeferring)(),g=(0,t.useIsPaused)(),E=(0,t.useFacetMap)((e=>a||e||g),[a,g],[f]);return e.createElement(Yc,{padSpinnerVertically:c,loading:E,scrollIntoViewAlign:r,scrollIntoViewSpeedFactor:l,renderTracker:o,horizontal:i,innerRef:s,gamepadAlias:u,delegateFocusByAlias:d,delegateFocusFromMemory:m,defaultFocusedChildBehavior:p},n)}function iA(){const e=(0,t.useFacetMap)((e=>Yv(e.platform)||Qv(e.platform)||qv(e.platform)),[],[(0,t.useSharedFacet)(Ir)]);return(0,t.useFacetMap)(((e,t,a)=>!a&&(!e.isLoggedInWithMicrosoftAccount||t&&!e.hasPremiumNetworkAccess)),[],[(0,t.useSharedFacet)(Eg),e,ON()])}function cA(){const a=(0,t.useSharedFacet)(pp),n=(0,t.useFacetMap)((e=>e.networkDetails),[],[a]),r=u(),l=(0,t.useFacetMap)((e=>[{fieldData:e.name,fieldName:"name"},{fieldData:e.address,fieldName:"address"},{fieldData:e.port.toString(),fieldName:"port"}]),[],[n]),o=(0,t.useFacetMap)((e=>e.id),[],[n]),i=(0,t.useFacetCallback)((e=>()=>{r.push(`/play/servers/${e}/${GO(ag.External)}/edit`)}),[r],[o]),c="narrow"===To(),s=iA();return e.createElement(e.Fragment,null,e.createElement(lA,{data:l,renderItem:sA,footer:!c&&e.createElement(uA,{handleOnClick:i,disabled:s})}),c&&e.createElement(uA,{handleOnClick:i,disabled:s}))}function sA({itemFacet:a}){const n=Ia(),{t:r}=oi("PlayScreen.serverTab.externalServerDetails"),l=(0,t.useFacetMap)((e=>e.fieldData),[],[a]),o=(0,t.useFacetMap)((e=>r(`.${e.fieldName.toLowerCase()}`)),[r],[a]),i=(0,t.useFacetMap)((e=>r(`.${e.fieldName.toLowerCase()}`)+" . "+e.fieldData),[r],[a]);return e.createElement(t.DeferredMount,null,e.createElement(Ws,{role:"neutral80",focusable:n,narrationText:i},e.createElement(zs,null,l),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort",variant:"dimmer"},o)))}function uA({handleOnClick:t,disabled:a}){const n=Vn("neutral"),{t:r}=oi("PlayScreen.serverTab.externalServerDetails");return e.createElement("div",{className:lr()("BLVBU","icxbw",n.background.base,n.border.base)},e.createElement(Vi,{effect:"bevel",left:!1,right:!1}),e.createElement(ru,{inputLegend:r(".editButton"),onClick:t,narrationSuffix:r(".editBtnHint"),disabled:a,"data-testid":"edit-server-button"},r(".editButton")))}function dA(){const{t:a}=oi("PlayScreen.serverTab"),n=(0,t.useSharedFacet)(pp),r=(0,t.useFacetMap)((e=>e.networkDetails.newsTitle),[],[n]),l=(0,t.useFacetMap)((e=>e.networkDetails.newsDescription),[],[n]),o=(0,t.useFacetMap)(((e,t)=>`${a(".newsTitle")} . ${e} . ${t}`),[a],[r,l]);return e.createElement(Ws,{role:"neutral80",focusable:!0,narrationText:o},e.createElement(Sc,{size:3}),e.createElement(zs,null,a(".newsTitle")),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort",variant:"dimmer"},r),e.createElement(Sc,{size:3}),e.createElement(js,null,l),e.createElement(Sc,{size:6}))}function mA(){const a=(0,t.useSharedFacet)(pp),n=(0,t.useFacetMap)((e=>e.networkDetails.activities.length>0),[],[a]),r=(0,t.useFacetMap)((e=>null!=e.networkDetails.newsTitle||""!=e.networkDetails.newsTitle),[],[a]),l=Vn("neutral80");return e.createElement("div",{className:lr()("DB6Vm",l.border.base)},e.createElement(pA,null),e.createElement(t.Mount,{when:n},e.createElement(fA,null)),e.createElement(t.Mount,{when:r},e.createElement(dA,null)))}function pA(){const{t:a}=oi("PlayScreen.serverTab"),n=(0,t.useSharedFacet)(pp),r=Vn("neutral80"),l=(0,t.useFacetMap)((e=>e.networkDetails.name),[],[n]),o=(0,t.useFacetMap)((e=>e.networkDetails.imagePath),[],[n]),i=(0,t.useFacetMap)((e=>e.networkDetails.description),[],[n]),c=(0,t.useFacetMap)(((e,t)=>[e,a(".narrationRoleTextBlock"),t].join(" . ")),[a],[l,i]);return e.createElement("div",{className:r.background.base},e.createElement(oc,{aspectRatio:oc.AspectRatio["10:3"],src:o,className:lr()(r.border.base,"nsb24")}),e.createElement(Ws,{role:"neutral80",focusable:!0,narrationText:c},e.createElement(Sc,{size:3}),e.createElement(zs,null,l),e.createElement(Sc,{size:1}),e.createElement(js,null,i),e.createElement(Sc,{size:3})))}function fA(){const{t:a}=oi("PlayScreen.serverTab"),{background:n}=Vn("neutral80"),r=(0,t.useSharedFacet)(pp),l=(0,t.useFacetMap)((e=>e.networkDetails.activities),[],[r]),o=(0,t.useFacetMap)((e=>e.length),[],[l]),i=[a(".narrationTitleActivities"),a(".narrationRoleGroup")].join(" . ");return e.createElement(rs,{text:i},e.createElement(Ws,{role:"neutral80",className:lr()("Mmwj7",n.base)},e.createElement(Sc,{size:3}),e.createElement(zs,{className:"yr8qL"},a(".Activities")),e.createElement(Sc,{size:3}),e.createElement(t.Map,{array:l},((t,a)=>e.createElement(gA,{activity:t,index:a,activitiesCount:o})))))}const gA=({index:a,activitiesCount:n,activity:r})=>{const{t:l}=oi("PlayScreen.serverTab"),o=(0,t.useFacetMap)(((e,t)=>{const{title:n,subtitle:r,description:o}=e;return[n,r,o,l(".sectionEnumeration",[String(a+1),String(t)])].join(" . ")}),[l,a],[r,n]);return e.createElement(aA,{activity:r,narration:o})};function EA(e){switch(e){case fp.NoInternetError:return".NoInternetError";case fp.ThirdPartyBadIPError:return".ThirdPartyBadIPError";case fp.InvalidUserError:case fp.UserNeedsToBeSignedInError:case fp.BlockedByPlatformError:case fp.BlockedByVersionError:case fp.BlockedByXBLError:case fp.UserBannedError:case fp.ThirdPartyNoServerOrServerLockedError:case fp.UnknownError:default:return".UnknownError"}}const hA=pi((({onClose:a})=>{const n=(0,t.useSharedFacet)(Ep),[r,l]=(0,t.useFacetState)(null),{t:o}=oi("PlayScreen.serverTab.joinServerErrorModal"),i=(0,t.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[n]),c=(0,t.useFacetMap)((e=>e.joinExternalServerResult),[],[n]);(0,t.useFacetEffect)(((e,t)=>{const a=null!=e&&e!==fp.OK,n=null!=t&&t!==fp.OK;(a||n)&&l(a?e:t)}),[l],[i,c]);const s=(0,t.useFacetMap)((e=>o(`${EA(e)}.title`)),[o],[r]),u=(0,t.useFacetMap)((e=>o(`${EA(e)}.message`)),[o],[r]);return e.createElement(sd,null,e.createElement(sd.Header,null,s),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:u,center:!0},u)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:1,inputLegend:o(".cancel"),variant:"secondary",onClick:a},o(".cancel"))))}));let bA;!function(e){e.ServerTab="ServerTab"}(bA||(bA={}));const vA=a.p+"assets/pingAnimation-4d7a0.png",FA=()=>e.createElement("div",{className:"JEokF"},e.createElement(Vb,{src:vA,frames:6,duration:700,width:11.2,height:2,repeat:"infinite",imageRendering:"pixelated"})),SA=t=>{switch(t){case ng.Low:return e.createElement(_h,null);case ng.High:return e.createElement(Uh,null);case ng.Medium:return e.createElement(Hh,null);default:return e.createElement(FA,null)}};function yA({pingStatus:t}){const a=CA(t);return e.createElement("div",{className:"J_ke4"},e.createElement(Yr,{data:t,children:SA}),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"body",variant:"dimmer"},a))}const CA=e=>{const{t:a}=oi("PlayScreen.ServerPing");return(0,t.useFacetMap)((e=>{switch(e){case ng.Low:return a(".lowPing");case ng.Medium:return a(".mediumPing");case ng.High:return a(".highPing");default:return a(".loadingPing")}}),[a],[e])};function MA(){return(0,t.useFacetCallback)((e=>({modal:t,screen:a,details:n={}})=>e.fireEventModalShown(function({modal:e,screen:t}){return`${t}Screen_${e}Modal_OreUI`}({modal:t,screen:a}),n)),[],[(0,t.useSharedFacet)(Xf)])}yA.useLabel=CA;const kA=()=>{const e=yv(),a=(0,t.useSharedFacet)(Ep),n=(0,t.useSharedFacet)(pp),r=(0,t.useFacetMap)((e=>e.joinThirdPartyServerTaskState),[],[a]),l=(0,t.useFacetMap)((e=>e.joinExternalServerTaskState),[],[a]),o=Sv(((t,a)=>function*(){const n={joinedServerName:a.networkDetails.name};e({button:"PlayThirdPartyServer",screen:bA.ServerTab,details:n}),t.joinThirdPartyServer(a.networkDetails.id),yield r,t.clearJoinThirdPartyServerTaskState()}),[e,r],[a,n]),i=Sv(((t,a)=>function*(n){e({button:"PlayExternalServer",screen:bA.ServerTab}),t.joinExternalServer(null!=n?n:a.networkDetails.id),yield l,t.clearJoinExternalServerTaskState()}),[e,l],[a,n]);return{thirdParty:o,external:i}};function wA({loading:a}){const n=(0,t.useSharedFacet)(pp),r=(0,t.useSharedFacet)(hp),l=(0,t.useSharedFacet)(Ep),o=hA.useModal(),i=u(),c=MA(),s=kA(),d=Vn("neutral100"),{t:m}=oi("PlayScreen.serverTab"),p="narrow"===To(),f=(0,t.useFacetMap)((e=>e.networkDetails.playerCount),[],[n]),g=(0,t.useFacetMap)((e=>e.networkDetails.capacity),[],[n]),E=(0,t.useFacetMap)((e=>e.doNotShowMultiplayerOnlineSafetyWarning),[],[r]),h=(0,t.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[r]),b=(0,t.useFacetMap)((e=>e.joinThirdPartyServerResult),[],[l]),v=(0,t.useFacetMap)((e=>e.joinExternalServerResult),[],[l]),F=(0,t.useFacetMap)((e=>e.networkDetails.type),[],[n]);(0,t.useFacetEffect)(((e,t)=>{const a=null!=e&&e!==fp.OK,n=null!=t&&t!==fp.OK;if(a||n){let r;o.show(),null!=e&&a?r={modalReason:fp[e]}:null!=t&&n&&(r={modalReason:fp[t]}),c({modal:a?"JoinThirdPartyError":"JoinExternalError",screen:bA.ServerTab,details:r})}}),[o,c],[b,v]);const S=(0,t.useFacetCallback)((e=>()=>{e.clearJoinThirdPartyServerTaskState(),e.clearJoinExternalServerTaskState(),o.hide()}),[o],[l]),y=(0,t.useFacetCallback)((e=>()=>{e.networkDetails.type===ag.ThirdParty&&s.thirdParty(),e.networkDetails.type===ag.External&&s.external()}),[s],[n]),C=(0,t.useFacetCallback)(((e,t,a)=>()=>{const n=a===ag.ThirdParty;n&&e||!n&&t?y():i.push(`/online-play-warning/${GO(a)}`)}),[y,i],[E,h,F]),M=(0,t.useFacetMap)((e=>e.networkDetails.pingStatus),[],[n]),k=(0,t.useFacetMap)(((e,t)=>e.networkDetails.type===ag.External?function(e,t,a){const n=a(1===t?".PlaySuffixExtServerOnePlayer":".PlaySuffixExtServerManyPlayers",[String(t)]);return`${function(){switch(e){case ng.Low:return a(".PlaySuffixExtServerLowPing");case ng.Medium:return a(".PlaySuffixExtServerMediumPing");case ng.High:return a(".PlaySuffixExtServerHighPing");default:return a(".PlaySuffixExtServerUnavailablePing")}}()} ${n}`}(t,e.networkDetails.playerCount,m):m(".PlaySuffix")),[m],[n,M]),w=(0,e.useRef)(null),T=iA(),x=(0,t.useFacetMap)(((e,t)=>e||t),[],[a,T]);return e.createElement(ac,{containerRef:w},e.createElement("div",{className:lr()("ZpESj",d.background.base),ref:w},e.createElement("div",{className:p?"_4N24":"XmeST"},e.createElement(yA,{pingStatus:M}),e.createElement(Sc,{size:p?1:6}),e.createElement(rA,{playerCount:f,maximumCapacity:g})),e.createElement(Sc,{size:4}),e.createElement("div",{className:"ccXBo"},e.createElement(ru,{inputLegend:m(".Play"),variant:"hero",delayedClick:!0,horizontal:!0,onClick:C,narrationSuffix:k,gamepadAlias:$O.SERVER_DESCRIPTION,disabled:x,"data-testid":"server-play-button"},m(".Play"))),e.createElement(t.Mount,{when:o.isVisible},e.createElement(hA.Component,{onClose:S}))))}function TA({loading:a,scrollViewRef:n}){const{t:r}=oi("PlayScreen.serverTab"),l=(0,t.useSharedFacet)(pp),o=(0,t.useFacetMap)((e=>e.networkDetails.type===ag.External),[],[l]),i=(0,t.useFacetMap)((e=>Boolean(e.networkDetails.id)),[],[l]),c=(0,t.useFacetMap)((e=>e.networkDetails.name),[],[l]),s=(0,t.useFacetMap)((e=>e.networkDetails.pingStatus),[],[l]),u=(0,t.useFacetMap)((e=>e.networkDetails.playerCount),[],[l]),d=To(),m=e.createElement(e.Fragment,null,"narrow"===d&&e.createElement(Sc,{size:1}),("desktop"===d||"tablet"===d)&&e.createElement(Sc,{size:2})),p=(0,t.useFacetMap)(((e,t,a)=>[r(".narrationScreen",[String(e)]),r(`.ServerDescription.${xA(t)}`),r(".ServerDescription."+(1===a?"personPlaying":"peoplePlaying"),[String(a)])].join(" . ")),[r],[c,s,u]);return e.createElement(e.Fragment,null,m,e.createElement(rs,{text:p},e.createElement(nA,null),e.createElement(t.Mount,{when:i},e.createElement(e.Fragment,null,e.createElement(wA,{loading:a}),e.createElement(Yc,{loading:a,innerRef:n,floating:!0},e.createElement(t.Mount,{when:o,condition:!1},e.createElement(e.Fragment,null,e.createElement(mA,null),e.createElement(Sc,{size:"narrow"===d?1:2}),e.createElement(fT,{tab:"servers"}),e.createElement(Sc,{size:"narrow"===d?1:2}))),e.createElement(t.Mount,{when:o,condition:!0},e.createElement(cA,null)))))))}function xA(e){switch(e){case ng.Low:return"lowPing";case ng.Medium:return"mediumPing";case ng.High:return"highPing";default:return"unavailablePing"}}function IA({label:a,value:n,image:r,subtitle:l,inputLegend:o,selected:i,onSelect:c}){const s=(0,t.useFacetWrap)(null!=l?l:""),u=(0,t.useFacetWrap)(null!=r?r:""),d=(0,t.useFacetMap)((e=>Boolean(e)),[],[u]),m=(0,t.useFacetMap)((e=>Boolean(e)),[],[s]),p=(0,t.useFacetMap)(((e,t)=>[e,t].filter((e=>null!=e&&""!==e)).join(" . ")),[],[a,s]);return e.createElement(Bb.ListItem,{narrationText:p,selected:i,value:n,onSelect:c,inputLegend:o,hasSubtitle:!0},e.createElement(t.Mount,{when:d},e.createElement(t.DeferredMount,null,e.createElement(Bb.ItemCell,null,e.createElement(nv,{variant:"large",border:!0,iconSrc:u,selected:i})))),e.createElement(Bb.ItemMain,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,a)),e.createElement(t.Mount,{when:m},e.createElement(gs,{type:"captionShort",variant:"dimmer",role:"neutral"},e.createElement(Ns,null,s)))))}const PA=a.p+"assets/plus-icon-432ff.png";function OA({item:a}){const n=u(),r=(0,t.useSharedFacet)(pp),{t:l}=oi("PlayScreen.serverTab"),o=(0,t.useFacetMap)((e=>e.label),[],[a]),i=(0,t.useFacetMap)((e=>e.value),[],[a]),c=(0,t.useFacetMap)((e=>null!=e.message?e.message:""),[],[a]),s=(0,t.useFacetMap)((e=>null!=e.image?e.image:t.NO_VALUE),[],[a]),d=(0,t.useFacetMap)(((e,t)=>e===t.networkDetails.id),[],[i,r]),m=(0,t.useFacetMap)((e=>e.type===ag.ThirdParty),[],[a]),p=yv(),f=(0,t.useFacetCallback)((e=>()=>{switch(e.type){case ag.ThirdParty:p({button:"SelectThirdPartyServer",screen:bA.ServerTab});break;case ag.External:p({button:"SelectExternalServer",screen:bA.ServerTab})}n.replace(`/play/servers/${e.value}/${GO(e.type)}`)}),[n,p],[a]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:m},e.createElement(IA,{label:o,value:i,image:s,subtitle:c,inputLegend:l(".sideMenuInputLegend"),selected:d,onSelect:f})),e.createElement(t.Mount,{when:m,condition:!1},e.createElement(Bb.ListItem,{value:i,onSelect:f,selected:d,narrationText:o,inputLegend:l(".sideMenuInputLegend")},e.createElement(Bb.ItemMain,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,o))))))}function NA({loading:a}){const{t:n}=oi("PlayScreen.serverTab"),{t:r}=oi("PlayScreen.serverTab.narration"),l=(0,t.useSharedFacet)(Yf),o=(0,t.useSharedFacet)(Om),i=(0,t.useSharedFacet)(Ir),c=n(".addServer"),s=u(),d=yv(),m="neutralAlpha60",p=To(),f=iA(),g=(0,e.useCallback)((()=>{d({button:"AddServer",screen:bA.ServerTab}),s.push("/play/servers/add")}),[s,d]),E=(0,t.useFacetMap)((e=>e.thirdPartyWorlds.map((e=>({message:e.msgOfTheDay,image:e.image,label:e.name,type:ag.ThirdParty,value:e.id})))),[],[l]),h=(0,t.useFacetMap)((e=>n(".featuredServer",[e.thirdPartyWorlds.length.toString()])),[n],[l]),b=(0,t.useFacetMap)((e=>e.externalServerWorlds.map((e=>({label:e.name,value:e.id,type:ag.External})))),[],[o]),v=(0,t.useFacetMap)((e=>n(".externalServer",[e.externalServerWorlds.length.toString()])),[n],[o]),F=(0,t.useFacetMap)((e=>e.externalServerWorlds.length>0),[],[o]),S=(0,t.useFacetMap)((e=>e.supportsManualAddedServers),[],[i]),y=e.createElement(Sc,{size:"narrow"===p?1:2});return e.createElement(hn,{role:m},e.createElement(rs,{text:r(".context")},e.createElement(Bb,{spacingAroundSideMenu:y,loading:a,gamepadAlias:$O.SERVER_SIDE_MENU,delegateFocusByAlias:"remember",role:m},e.createElement(t.Mount,{when:S},e.createElement(Bb.Item,null,e.createElement(ru,{onClick:g,imgSrc:PA,inputLegend:c,variant:"secondary",disabled:f},c))),e.createElement(rs,{text:h},e.createElement(Bb.Divider,{label:e.createElement("fast-text",{text:h})}),e.createElement(Bb.ItemList,{items:E,renderItem:OA})),e.createElement(t.Mount,{when:F},e.createElement(rs,{text:v},e.createElement(Bb.Divider,{label:e.createElement("fast-text",{text:v})}),e.createElement(Bb.ItemList,{items:b,renderItem:OA}))),e.createElement(Sc,{size:4}))))}function AA(){const a=(0,t.useSharedFacet)(pp),n=(0,t.useSharedFacet)(um),r=(0,t.useSharedFacet)(Om),l=(0,t.useSharedFacet)(Yf),o=(0,e.useRef)(null),i=(0,e.useRef)(null),c=(0,t.useFacetMap)((e=>e.fetchThirdPartyWorldsTaskState===vv.DONE),[],[l]),s=(0,t.useFacetMap)((e=>e.isDevBuild),[],[n]),u=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[c,s]),d=(0,t.useFacetMap)(((e,t)=>!e.hasLoadedDetails||t),[],[a,u]),p=(0,e.useRef)(null),f=m(),g=(0,t.useFacetMap)((e=>null==e?void 0:e.id),[],[f]),E=(0,t.useFacetMap)((e=>(null==e?void 0:e.type)===GO(ag.External)?ag.External:ag.ThirdParty),[],[f]),h=(0,t.useFacetCallback)((e=>(t,a)=>{e.loadNetworkWorldDetails(t,a),p.current&&(p.current.scrollTop=0)}),[],[a]),b=(0,t.useFacetMap)((e=>e.externalServerWorlds),[],[r]),v=(0,t.useFacetMap)((e=>e.thirdPartyWorlds.length>0?e.thirdPartyWorlds[0].id:""),[],[l]);return(0,t.useFacetEffect)(((e,t,a,n)=>{null==t||null==a||a===ag.External&&!n.some((e=>e.id===t))?h(e,ag.ThirdParty):h(t,a)}),[h],[v,g,E,b]),e.createElement(ac,{containerRef:o,delegateFocusByAlias:$O.SERVER_SIDE_MENU,delegateFocusFromMemory:!0},e.createElement(hE.Row,{innerRef:o},e.createElement(hE.Column,{wideSize:4,narrowSize:3},e.createElement(NA,{loading:u})),e.createElement(ac,{containerRef:i,delegateFocusByAlias:$O.SERVER_DESCRIPTION},e.createElement(hE.Column,{wideSize:8,narrowSize:5,innerRef:i},e.createElement(TA,{loading:d,scrollViewRef:p})))))}function LA(){const{t:a}=oi("PlayScreen.serverTab"),n=(0,t.useSharedFacet)(Eg),r=(0,t.useFacetMap)((e=>e.banExpiration),[],[n]),l=(0,t.useFacetMap)((e=>e.banReason),[],[n]),o=NN(Cw.SERVERS);return e.createElement(e.Fragment,null,e.createElement(Yr,{data:o},(t=>{switch(t){case"banned":return e.createElement(GT.InTab,{expiration:r,reason:l});case"offline":return e.createElement(RA,null,e.createElement(KT,{text:a(".noInternetMessage")}));case"no-content":return e.createElement(RA,null,e.createElement(zO,{context:"servers"}));case"parental-online-safety":return e.createElement(dN,{variant:"parental"});case"online-safety":return e.createElement(dN,{variant:"online"});case"no-online-subscription-playstation":case"no-online-subscription-nintendo":case"no-online-subscription-xbox":case"msa-guest-playstation":case"msa-guest-nintendo":case"not-signed-in":return e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(qN,{tab:HN.ServersTab}),e.createElement(AA,null));case"content":return e.createElement(AA,null);case"trial-mode":return e.createElement(RT,{context:"servers"});default:return e.createElement(zP,null)}})))}function RA({children:t}){return e.createElement(Yc,{floating:!0},e.createElement(Sc,{size:2}),t)}const DA=a.p+"assets/UI_Menu_ServerTab-e7c3c.png",_A=a.p+"assets/UI_Menu_RealmsTab-c7419.png",BA=a.p+"assets/UI_Menu_WorldsTab-dfd40.png",WA=a.p+"assets/UI_Menu_WorldsTab_Alt01-1d8f1.png",UA=a.p+"assets/UI_Menu_WorldsTab_Alt02-cc2f9.png",zA=pi((()=>{const{t:a}=oi("PlayScreen.importWorldProgressModal"),n=(0,t.useSharedFacet)(Hg),r=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.importWorld.progress)&&void 0!==t?t:0}),[],[n]),l=a(".body");return e.createElement(sd,null,e.createElement(sd.Header,null,a(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:l,center:!0},l),e.createElement(sd.Progress,{percentage:r})))})),jA=pi((()=>{const{t:a}=oi("PlayScreen.importWorldErrorModal"),n=(0,t.useSharedFacet)(Hg),r="import-world-error-button-focus",l=(0,t.useFacetCallback)((e=>()=>{e.importWorld.clear()}),[],[n]),o=a(".close"),i=a(".unknownError.body");return e.createElement(sd,{defaultFocusAlias:r},e.createElement(sd.Header,{onClose:l},a(".unknownError.title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"secondary",inputLegend:o,onClick:l,gamepadAlias:r},o)))}));function HA(){const a=(0,t.useSharedFacet)(Hg),n=(0,t.useSharedFacet)(Bg),r=(0,t.useFacetMap)((e=>{var t;return e.importWorld.state===rg.InProgress&&(null!==(t=e.importWorld.progress)&&void 0!==t?t:0)>0}),[],[a]),l=(0,t.useFacetMap)((e=>null!=e.importWorld.result&&e.importWorld.result!==jg.Success&&e.importWorld.result!==jg.InterruptedByUser),[],[a]),o=(0,t.useFacetMap)((e=>e.packDownloadTaskState!=vv.IDLE),[],[n]),i=(0,t.useFacetMap)((e=>e.packDownloadName),[],[n]),c=(0,t.useFacetMap)((e=>e.packDownloadProgress),[],[n]),s=(0,t.useFacetMap)((e=>e.packDownloadStatus===Rg.Importing),[],[n]),u=(0,t.useFacetCallback)((e=>()=>{e.cancelPackDownload()}),[],[n]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(Vv.Component,{title:i,percentage:c,isImportingPack:s,onCancel:u})),e.createElement(t.Mount,{when:r},e.createElement(zA.Component,null)),e.createElement(t.Mount,{when:l},e.createElement(jA.Component,null)))}function VA({Component:t,route:a,wideSize:n,narrowSize:r}){const l=(0,e.useRef)(null),o=(12-n)/2,i=(8-r)/2,c=(0,e.useCallback)((()=>e.createElement(hE.Row,{innerRef:l,fullHeight:!0,className:"VHen0"},e.createElement(hE.Column,{wideSize:o,narrowSize:i}),e.createElement(hE.Column,{wideSize:n,narrowSize:r},e.createElement(t,null)),e.createElement(hE.Column,{wideSize:o,narrowSize:i}))),[t,i,r,o,n]);return e.createElement(nb,{tab:a,component:c})}const GA="Play";var $A;!function(e){e.All="all",e.Realms="realms",e.Servers="servers"}($A||($A={}));const KA={[$A.All]:"AllWorldsTab",[$A.Servers]:"ServersTab",[$A.Realms]:"RealmsTab"},XA=()=>{const{t}=oi("PlayScreen");return e.createElement(vx,{debugDrawer:["create-test-world"],friendsDrawer:!0,gamepadAlias:"play-layout-content",screenAnalyticsId:GA,title:t(".title")},(({isAnyDrawerOpen:t})=>e.createElement(e.Fragment,null,e.createElement(hE,null,e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(Sc,{size:2}),e.createElement(QA,{disableShortcuts:t}))),e.createElement(VA,{route:"all",Component:_P,wideSize:12,narrowSize:8}),e.createElement(VA,{route:"realms",Component:JN,wideSize:12,narrowSize:8}),e.createElement(VA,{route:"servers",Component:LA,wideSize:12,narrowSize:8}),e.createElement(Zu.Space,null)),e.createElement(HA,null))))},YA=Math.ceil(100*Math.random()),qA=9600===Math.ceil(9600*Math.random())?UA:10===YA?WA:BA,QA=({disableShortcuts:a})=>{const n=be(),r="play-screen",{t:l}=oi("PlayScreen"),o=hr(),i=vr(),c=yv(),s=(0,t.useFacetMap)((e=>!e),[],[a]),u=(0,t.useFacetCallback)((e=>t=>{c({button:KA[t],screen:GA}),"realms"===t&&null!=e?o.replace(`/play/realms/${e}`):o.replace(`/play/${t}`),n(_E.getFocusAlias(r,t))}),[o,n,c],[uO()]),d=fP(),m=DP(),p=(0,t.useFacetMap)(((e,t)=>Zv(e.platform)&&!t?[l(".narration.title"),l(".friendsDrawerShortcut",["Y"])].join(" . "):-1!==e.inputMethods.indexOf(ze.TOUCH)?[l(".narration.title"),l(".mobileFriendsDrawerNarration")].join(" . "):""),[l],[(0,t.useSharedFacet)(Ir),Je()]),f=function(e,a){return(0,t.useFacetMap)(((e,t)=>e.length+t.length),[],[e,a])}(d.data,m),g=(0,t.useFacetMap)((e=>l(".allWorlds",[`${e}`])),[l],[f]),E=(0,t.useFacetMap)((t=>[{label:t,value:$A.All,icons:{selected:e.createElement(nv,{iconSrc:qA,selected:!0}),unselected:e.createElement(nv,{iconSrc:qA,selected:!1})},"data-testid":"play-screen-tab-bar-all"},{label:l(".realms"),value:$A.Realms,icons:{selected:e.createElement(nv,{iconSrc:_A,selected:!0}),unselected:e.createElement(nv,{iconSrc:_A,selected:!1})},"data-testid":"play-screen-tab-bar-realms"},{label:l(".servers"),value:$A.Servers,icons:{selected:e.createElement(nv,{iconSrc:DA,selected:!0}),unselected:e.createElement(nv,{iconSrc:DA,selected:!1})},"data-testid":"play-screen-tab-bar-servers"}]),[l],[g]);return e.createElement(_E,{gamepadAliasNamespace:r,gamepadIndex:0,value:i.tab?i.tab:$A.All,onChange:u,tabs:E,enableGamepadShortcuts:s,narrationTitle:p})};let JA;!function(e){e.Feed="feed",e.Members="members",e.Timeline="timeline"}(JA||(JA={}));const ZA="gzWC5",eL=(e,a,n)=>(0,t.useFacetMemo)(((e,t)=>{if(t.length<=n)return t;const a=jm(t);let r=0;const l=a.findIndex((t=>t.xuid===e.ownerXuid));if(l>=0&&tL(a,l,r++),e.userXuid!==e.ownerXuid){const t=a.findIndex((t=>t.xuid===e.userXuid));t>=0&&tL(a,t,r++)}const o=jm(a,r).sort(((e,t)=>Number(t.hasOptedIn)-Number(e.hasOptedIn)));return a.splice(r,a.length,...o),jm(a,0,n)}),[n],[e,a]),tL=(e,t,a)=>[e[t],e[a]]=[e[a],e[t]];function aL(){const e=To(70,100);return lr()({CTk4I:"narrow"==e,zZ1HH:"tablet"===e,mp4eP:"desktop"===e})}const nL=a.p+"assets/gamer-icon-villager-7de8b.png";function rL({realmPlayer:a,index:n,role:r="neutral",isSimpleLayout:l=!1,totalPlayers:o}){const{t:i}=oi("RealmsStories"),c=(0,t.useFacetMap)((e=>e.gamerTag),[],[a]),s=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.gamerIcon)&&void 0!==t?t:nL}),[],[a]),d=u(),m=(0,t.useFacetCallback)((e=>()=>d.push(tT(e.xuid))),[d],[a]),p=(0,t.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[a]),f=(0,t.useFacetMap)((e=>{switch(e.role){case Jp.OWNER:return"";case Jp.OPERATOR:return i(".members.operator");case Jp.MEMBER:return i(".members.member");case Jp.VISITOR:default:return i(".members.visitor")}}),[i],[a]),g=(0,t.useFacetMap)((e=>!1===e.hasOptedIn?i(".members.notMemberRealmsStories"):e.isOnline?i(".feed.online"):i(".feed.offline")),[i],[a]),E=(0,t.useFacetMap)(((e,t,a,r)=>[e,i(".RealmPlayerListItem.role"),t,l?void 0:a,null!=r?i(".narrationPlayerXOfY",[n.toString(),r.toString()]):void 0,i(".RealmPlayerListItem.hint")].filter((e=>e)).join(" . ")),[i,n,l],[c,g,f,(0,t.useFacetWrap)(o)]),h=(0,t.useFacetMap)((e=>e.role!==Jp.OWNER&&!1===l),[l],[a]),b=(0,t.useFacetMap)((e=>e.role===Jp.VISITOR?"neutral100":"primaryTint"),[],[a]),v=e.createElement(jM,{role:b},f),F=(0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.role===Jp.OPERATOR),[],[a])),S=F!=t.NO_VALUE&&F?Zb:ev,y=(0,t.useFacetMap)((e=>!e.hasOptedIn),[],[a]);return e.createElement(Gh,null,e.createElement(Gh.Action,{narrationText:E,inputLegend:i(".RealmPlayerListItem.viewProfile"),onClick:m,role:r},e.createElement(Gh.Cell,null,e.createElement(jw,{src:s,variant:"large",status:p,grayscaleAvatar:y})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},c),!l&&e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(gs,{type:"body",variant:"dimmer"},e.createElement(Ns,null,g)))),e.createElement(t.Mount,{when:h},e.createElement(Gh.Cell,null,e.createElement(Nn,{collection:S},v)))))}const lL=a.p+"assets/no-internet-art-53f29.png";function oL(){const{t}=oi("RealmsStories");return e.createElement(yE,{title:t(".messages.title"),text:t(".messages.noInternetBody"),imgSrc:lL,imgClass:aL()})}const iL=a.p+"assets/GenericError-d5224.png";function cL({onClick:a,pageName:n}){const{t:r}=oi("RealmsStories"),l=(0,t.useFacetWrap)(null!=n?n:""),o=(0,t.useFacetMap)((e=>""!==e?r(".messages.titleWithArg",[e]):r(".messages.title")),[r],[l]);return e.createElement(yE,{title:o,text:r(".messages.unknownErrorBody"),imgSrc:iL,imgClass:aL(),buttons:[{text:r(".messages.button"),onClick:a,inputLegend:r(".messages.button")}]})}function sL(){const{t}=oi("RealmsStories");return e.createElement(lS,{role:"noticeTint"},e.createElement("div",{className:"KP8Xp"},e.createElement(DF.Warning,{color:"#1e1e1f"})),e.createElement(lS.Text,null,t(".members.warning")))}const uL=a.p+"assets/members-empty-32029.png";function dL({title:a,options:n,value:r,onItemSelect:l,placeholderText:o,buttonRole:i="secondary",dropdownOptionRoleHint:c,dropdownEnumeration:s,dropdownNarrationSuffix:u,itemTypeNarration:d,hideDownArrow:m=!1,buttonTestId:p,closeButtonNarrationSuffix:f,matchButtonHeight:g=!1}){const{t:E}=oi("ModalMenuDropdown"),h=(0,t.useFacetWrap)(n),b=(0,t.useFacetWrap)(r),v=(0,t.useFacetWrap)(null!=o?o:E(".dropdown.placeholder")),F=(0,t.useFacetWrap)(c),S=(0,t.useFacetWrap)(s),y=(0,t.useFacetWrap)(u),C=(0,t.useFacetMap)(((e,t,a)=>{const n=IS()(TS()("value",t))(e);return null!=n?n.label:a}),[],[h,b,v]),M=(0,t.useFacetMap)(((e,t)=>[e,E(".dropdown.role"),t,E(".dropdown.collapsed")].filter(Boolean).join(" . ")),[E],[F,S]),k=(0,t.useFacetMap)(((e,t)=>[e,E(".dropdown.label.role"),E(".dropdown.label.selected"),t].filter(Boolean).join(" . ")),[E],[C,y]),w=mL.useModal();return e.createElement(e.Fragment,null,e.createElement(rs,{text:M},e.createElement(Ys,{reflection:"specular",variant:i,narrationText:k,onClick:w.show,inputLegend:E(".dropdown.inputLegend"),height:g?4:4.2,isElevated:!0,"data-testid":p},e.createElement(VS.ToggleInnerWrapper,{hideDownArrow:m},C))),e.createElement(t.Mount,{when:w.isVisible},e.createElement(mL.Component,{title:a,items:h,isOpen:w.isVisible,onClose:w.hide,onItemSelect:e=>{l(e),w.hide()},itemTypeNarration:d,closeButtonNarrationSuffix:f})))}const mL=pi((function({title:t,items:a,isOpen:n,onClose:r,onItemSelect:l,itemTypeNarration:o,closeButtonNarrationSuffix:i}){return e.createElement(KP,{title:t,items:a,isOpen:n,onClose:r,onItemSelect:l,itemTypeNarration:o,closeButtonNarrationSuffix:i})}));function pL(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fL(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pL(Object(a),!0).forEach((function(t){gL(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pL(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function gL(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function EL({isStoriesRouteActive:a,maximumDisplayedMembers:n}){const r=null!=n?n:300,l=(0,t.useSharedFacet)(qp),o=(0,t.useSharedFacet)(Zp),i=(0,t.useSharedFacet)(Kp),c=(0,t.useSharedFacet)(Ir),s=(0,t.useSharedFacet)($p),d=To(),{t:p}=oi("RealmsStories"),{t:f}=oi("RealmsStories.members"),{t:g}=oi("Realms.LoadingModals"),{t:E}=oi("TextField"),h=(0,t.useFacetMap)((e=>e.userXuid),[],[i]),b=(0,t.useFacetMap)((e=>e.ownerXuid),[],[i]),v=(0,t.useFacetMap)(((e,t)=>e===t),[],[h,b]),F=(0,t.useFacetMap)((e=>e.currentMemberFilterOption),[],[l]),S=(0,t.useFacetMap)((e=>e.currentMemberSearchText),[],[l]),y=(0,t.useFacetMap)((e=>e.currentMemberSortOption),[],[l]),[C,M]=(0,t.useFacetState)(!1),k=(0,t.useFacetMemo)((e=>{const t=[];return t.push({label:f(".allMembers"),value:Xp.All},{label:f(".onlineMembers"),value:Xp.Online},{label:f(".realmStoriesMembers"),value:Xp.OptedIn},{label:f(".optedOutMembers"),value:Xp.OptedOut}),t.map(((t,a,n)=>fL(fL({},t),{},{enumeration:f(".enumeration",[`${a+1}`,`${n.length}`]),gamepadAlias:`gamepad-alias-filter-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[f],[F]),w=(0,t.useFacetMemo)(((e,t)=>{const a=[];return t!==Xp.Online&&t!==Xp.OptedOut&&a.push({label:f(".recentlyPlayed"),value:Yp.MostRecent},{label:f(".leastRecentlyPlayed"),value:Yp.LeastRecent}),a.push({label:f(".fromAtoZ"),value:Yp.AlphabeticalAscending},{label:f(".fromZtoA"),value:Yp.AlphabeticalDescending}),a.map(((t,a,n)=>fL(fL({},t),{},{enumeration:f(".enumeration",[`${a+1}`,`${n.length}`]),gamepadAlias:`gamepad-alias-sort-${t.label}`,isSelectable:!0,isSelected:t.value===e})))}),[f],[y,F]),T=(0,t.useFacetCallback)((e=>()=>{e.currentMemberSortOption=Yp.AlphabeticalAscending}),[],[l]),x=(0,t.useFacetMap)(((e,t)=>Ov(e.players,(e=>e.xuid!=t&&e.role!==Jp.NONMEMBER))),[],[o,b]),I=(0,t.useFacetMap)(((e,t)=>0===t.length?e:Ov(e,(e=>e.gamerTag.toLowerCase().includes(t.toLowerCase())))),[],[x,S]),P=eL(i,I,r-1),O=eL(i,P,r-1),N=(A=P,(0,t.useFacetMemo)((e=>{const t=[],a=[],n=[],r=[];return e.forEach((e=>{e.isOnline&&a.push(e),e.hasOptedIn?n.push(e):r.push(e),t.push(e)})),{allMembers:t,onlinePlayers:a,optedInPlayers:n,optedOutPlayers:r}}),[],[A]));var A;const L=(0,t.useFacetMemo)(((e,t,a)=>{let n=e.allMembers;if(null==n)return n;switch(t){case Xp.Online:n=e.onlinePlayers;break;case Xp.OptedIn:n=e.optedInPlayers;break;case Xp.OptedOut:n=e.optedOutPlayers}let r=[];switch(a){case Yp.AlphabeticalAscending:r=n.sort(ef);break;case Yp.AlphabeticalDescending:r=n.sort(tf);break;case Yp.LeastRecent:r=function(e){return e.sort(rf)}(n);break;case Yp.MostRecent:default:r=af(n)}return r}),[],[N,F,y,P]);(0,t.useFacetEffect)(((e,t)=>{!e&&t&&M(!1)}),[M],[a,C]),(0,t.useFacetEffect)(((e,t)=>{e!==Xp.OptedOut&&e!==Xp.Online||t!==Yp.LeastRecent&&t!==Yp.MostRecent||T()}),[T],[F,y]);const R=(0,t.useFacetMap)((e=>e.length),[],[L]),D=(0,t.useFacetMap)((e=>e.length>0),[],[L]),_=(0,t.useFacetMap)((e=>null!=jd(e,(e=>e.fetchProfileStatus===ig.InProgress))),[],[L]),B=(0,t.useFacetMap)(((e,t)=>e.fetchMembersStatus===ig.InProgress||e.fetchOnlineMembersStatus===ig.InProgress||t),[],[o,_]),W=(0,t.useFacetMap)(((e,t)=>jd(e.players,(e=>e.xuid===t))),[],[o,b]),U=(0,t.useFacetMap)(((e,t,a)=>null!=e&&!(t===Xp.Online&&!e.isOnline||t===Xp.OptedIn&&!e.hasOptedIn||t===Xp.OptedOut&&e.hasOptedIn)&&(0===a.length||e.gamerTag.toLowerCase().includes(a.toLowerCase()))),[],[W,F,S]),z=(0,t.useFacetMap)(((e,t)=>e||t),[],[D,U]),{narrateText:j}=Xc({interruptible:!1}),[H,V]=(0,t.useFacetState)(!1),G=(0,t.useFacetCallback)(((e,t,a,n,l)=>()=>{if(!e)return;V(!1);let o=n.length,i=l.length;a&&(o+=1,i+=1);const c=[f(".searchResult.name"),f(".searchResult.role")];""===t.currentMemberSearchText?c.push(f(".searchResult.hint.cleared")):0===i?c.push(f(".searchResult.hint.noResult")):1===i?c.push(f(".searchResult.hint.oneResult")):i<r?c.push(f(".searchResult.hint.multiResult",[`${o}`])):(c.push(f(".warning")),c.push(f(".searchResult.hint.multiResultTooManyPlayers",[`${i}`,`${o}`]))),j(c.join(" . "))}),[V,j,f,r],[H,l,U,I,L,O]);(0,t.useFacetEffect)((()=>{G()}),[G],[O]);const $=(0,t.useFacetMap)((e=>{const t=[f(".search"),E(".narrationComponentType"),f(".enumeration",["1","3"])];return e.currentMemberSearchText&&t.push(e.currentMemberSearchText),t.join(" . ")}),[f,E],[l]),[K,X]=(0,t.useFacetState)(!1),Y=(0,t.useFacetCallback)(((e,t,a)=>n=>{V(!0),e.currentMemberSearchText=n,t&&j(a)}),[j,V],[l,K,$]),q=(0,t.useFacetMap)((e=>[f(".realmOwner"),f(".section"),f(".enumeration",["1",e?"2":"1"])].join(" . ")),[f],[D]),Q=(0,t.useFacetMap)((e=>[f(".realmMembers"),f(".section"),f(".enumeration",e?["2","2"]:["1","1"])].join(" . ")),[f],[U]),J=(0,t.useIsDeferring)(),Z=(0,t.useIsPaused)(),ee=(0,t.useFacetMap)(((e,t)=>t||e||Z),[Z],[J,B]),te=(0,t.useFacetMap)((e=>!e.isOnline),[],[c]),ae=(0,t.useFacetMap)(((e,t)=>(e.fetchMembersStatus===ig.InternalError||e.fetchMembersStatus===ig.FetchFailed||e.fetchMembersStatus===ig.RateLimit)&&!t),[],[o,te]),ne=(0,t.useFacetMap)(((e,t)=>e||t),[],[te,ae]),re=(0,t.useFacetCallback)((e=>()=>{e.fetchMembers()}),[],[s]),le=m(),oe=u(),ie=(0,t.useSharedFacet)(ip),ce=(0,t.useFacetCallback)(((e,t)=>()=>{oe.push(`/${t.isInGame?"game-settings":"settings"}/members/${e.realmId}`),M(!0)}),[oe,M],[le,ie]),se=(0,t.useFacetMap)((e=>e.players.length>r),[r],[o]);return e.createElement(t.DeferredMountProvider,null,e.createElement(hE,{noGutters:!0},e.createElement(t.Mount,{when:ne},e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{wideSize:10,narrowSize:8},e.createElement(t.Mount,{when:te},e.createElement(oL,null)),e.createElement(t.Mount,{when:ae},e.createElement(cL,{onClick:re,pageName:p(".members")}))),e.createElement(hE.Column,{wideSize:1,narrowSize:0}))),e.createElement(t.Mount,{when:ne,condition:!1},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:se},e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement(sL,null)),e.createElement(Sc,{size:4}))),e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:4,narrowSize:8},e.createElement(Ds,{"data-testid":"member-search-field-id",placeholder:f(".search"),narrationText:$,onSelectedChange:X,placeholderIcon:Rs.MagnifyingGlass,value:S,onBlur:Y,maxLength:20,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})),e.createElement(hE.Column,{wideSize:4,narrowSize:4},e.createElement("div",{className:ZA},e.createElement(Sc,{size:"narrow"===d?2:0}),e.createElement(dL,{title:f(".filter.title"),options:k,value:F,onItemSelect:(0,t.useFacetCallback)((e=>t=>{e.currentMemberFilterOption=t}),[],[l]),buttonTestId:"realms-members-filter-dropdown-button",dropdownOptionRoleHint:f(".filter.title"),dropdownEnumeration:f(".enumeration",["2","3"])}))),e.createElement(hE.Column,{wideSize:4,narrowSize:4},e.createElement("div",{className:ZA},e.createElement(Sc,{size:"narrow"===d?2:0}),e.createElement(dL,{title:f(".sort.title"),options:w,value:y,onItemSelect:(0,t.useFacetCallback)((e=>t=>{e.currentMemberSortOption=t}),[],[l]),buttonTestId:"realms-members-sort-dropdown-button",dropdownOptionRoleHint:f(".sort.title"),dropdownEnumeration:f(".enumeration",["3","3"])})))),e.createElement(Sc,{size:3}),e.createElement(t.Mount,{when:v,condition:!1},e.createElement("div",{className:"po8FX"},e.createElement(Db,{role:"neutral80",reversed:!1}))),e.createElement(hL,{isOwner:v,onManageMembers:ce},e.createElement(t.Mount,{when:v},e.createElement(Db,{role:"neutral80",reversed:!1})),e.createElement(Yc,{loading:ee,delegateFocusFromMemory:!0},e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:z},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:U},e.createElement(e.Fragment,null,e.createElement(rs,{text:q},e.createElement(ah,{role:"primary",label:f(".realmOwner")}),e.createElement(t.With,{data:W},(t=>e.createElement(rL,{realmPlayer:t,index:0})))),e.createElement(Sc,{size:2}))),e.createElement(t.Mount,{when:D},e.createElement(e.Fragment,null,e.createElement(rs,{text:Q},e.createElement(ah,{role:"primary",label:f(".realmMembers")}),!1===Z&&e.createElement(t.Map,{array:L},((t,a)=>e.createElement(rL,{realmPlayer:t,index:a+1,totalPlayers:R})))))))),e.createElement(t.Mount,{when:z,condition:!1},e.createElement(t.DeferredMount,null,e.createElement(yE,{title:f(".noMembersFound"),imgSrc:uL,imgClass:aL()}))),e.createElement(Sc,{size:1}))))),e.createElement(t.Mount,{when:C},e.createElement(Tx.Component,{title:g(".loading")}))))}function hL({children:a,isOwner:n,onManageMembers:r}){const{t:l}=oi("RealmsStories.members");return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:n},e.createElement(hE.Row,{fullHeight:!0},e.createElement(hE.Column,{wideSize:4,narrowSize:3},e.createElement(ru,{inputLegend:l(".manage"),variant:"secondary",gamepadAlias:"manage-members-button",onClick:r},l(".manage"))),e.createElement(hE.Column,{wideSize:8,narrowSize:5},a))),e.createElement(t.Mount,{when:n,condition:!1},e.createElement(hE.Row,{fullHeight:!0},e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{wideSize:10,narrowSize:8},a),e.createElement(hE.Column,{wideSize:1,narrowSize:0}))))}const bL={"250HostileMobs":a.p+"assets/250HostileMobs-141ad.png",AllMobNameEasterEggs:a.p+"assets/AllMobNameEasterEggs-4b8ed.png",CookEverything:a.p+"assets/CookEverything-fc277.png",DefeatEnderdragon:a.p+"assets/DefeatEnderdragon-cc8e0.png",DefeatWither:a.p+"assets/DefeatWither-0783a.png",DiamondEverything:a.p+"assets/DiamondEverything-c4925.png",FirstAbandonedMineshaftFound:a.p+"assets/FirstAbandonedMineshaftFound-f9296.png",FirstAncientCityFound:a.p+"assets/FirstAncientCityFound-8d6da.png",FirstBadlandsFound:a.p+"assets/FirstBadlandsFound-0495e.png",FirstConduit:a.p+"assets/FirstConduit-4ce50.png",FirstDiamondFound:a.p+"assets/FirstDiamondFound-86296.png",FirstEnchantment:a.p+"assets/FirstEnchantment-6f488.png",FirstEnderDragonDefeated:a.p+"assets/FirstEnderDragonDefeated-7b89d.png",FirstEndPortal:a.p+"assets/FirstEndPortal-720f3.png",FirstFullyExploredMap:a.p+"assets/FirstFullyExploredMap-2e992.png",FirstMushroomFieldFound:a.p+"assets/FirstMushroomFieldFound-c9d4e.png",FirstNetherFortressFound:a.p+"assets/FirstNetherFortressFound-5990a.png",FirstCraftedNetherite:a.p+"assets/FirstCraftedNetherite-26887.png",FirstNetherPortalLit:a.p+"assets/FirstNetherPortalLit-9b93d.png",FirstPeakMountainFound:a.p+"assets/FirstPeakMountainFound-77bba.png",FirstPillagerOutpostFound:a.p+"assets/FirstPillagerOutpostFound-87eef.png",FirstPoweredBeacon:a.p+"assets/FirstPoweredBeacon-886be.png",FirstWitherDefeated:a.p+"assets/FirstWitherDefeated-a95d8.png",FirstWoodlandMansionFound:a.p+"assets/FirstWoodlandMansionFound-a6812.png",NamedMob:a.p+"assets/NamedMob-5a8fd.png",NamedMobDies:a.p+"assets/NamedMobDies-b5ee3.png",NewMember:a.p+"assets/NewMember-6422c.png",PillagerCaptainDefeated:a.p+"assets/PillagerCaptainDefeated-3a8ed.png",RealmCreated:a.p+"assets/RealmCreated-10a26.png",SlotSwitch:a.p+"assets/SlotSwitch-f6f21.png"},vL={xuid:"0UnknownPlayer",gamerTag:"unknownPlayer",gamerIcon:nL,role:Jp.VISITOR,fetchProfileStatus:ig.Success,lastSeenTime:0,isOnline:!1,hasOptedIn:!1};function FL(e){return bL[e]}var SL;!function(e){e[e.List=0]="List",e[e.NoGamertag=1]="NoGamertag"}(SL||(SL={}));const yL={full:11,narrow:5},CL={full:5,narrow:2};function ML(e,t,a){if(0===t.length)return console.log("Error in newMemberGroupedText: playerData is empty"),e(".invalid");if(2===t.length)return e(".eventText.list.twoMembers",[t[0].gamerTag,t[1].gamerTag]);const n=Math.min(t.length,a);let r=t[0].gamerTag;for(let a=1;a<n-1;a++)r=e(".eventText.list",[r,t[a].gamerTag]);if(t.length<=a)return e(".eventText.list.end",[r,t[t.length-1].gamerTag]);{r=e(".eventText.list",[r,t[n-1].gamerTag]);const l=t.length-a;return 1===l?e(".eventText.list.overflow.single",[r]):e(".eventText.list.overflow.multi",[r,`${l}`])}}const kL=new Map([["FirstEnderDragonDefeated",{treatmentSize:"large"}],["FirstWitherDefeated",{treatmentSize:"large"}],["250HostileMobs",{treatmentSize:"medium",groupType:SL.List}],["AllMobNameEasterEggs",{treatmentSize:"medium",groupType:SL.List}],["CookEverything",{treatmentSize:"medium"}],["DefeatEnderdragon",{treatmentSize:"medium",groupType:SL.NoGamertag}],["DefeatWither",{treatmentSize:"medium",groupType:SL.NoGamertag}],["DiamondEverything",{treatmentSize:"medium",groupType:SL.List}],["FirstAbandonedMineshaftFound",{treatmentSize:"medium"}],["FirstAncientCityFound",{treatmentSize:"medium"}],["FirstBadlandsFound",{treatmentSize:"medium"}],["FirstConduit",{treatmentSize:"medium"}],["FirstDiamondFound",{treatmentSize:"medium"}],["FirstEnchantment",{treatmentSize:"medium",groupType:SL.List}],["FirstEndPortal",{treatmentSize:"medium"}],["FirstFullyExploredMap",{treatmentSize:"medium"}],["FirstMushroomFieldFound",{treatmentSize:"medium"}],["FirstNetherFortressFound",{treatmentSize:"medium"}],["FirstCraftedNetherite",{treatmentSize:"medium",groupType:SL.List}],["FirstNetherPortalLit",{treatmentSize:"medium"}],["FirstPeakMountainFound",{treatmentSize:"medium"}],["FirstPillagerOutpostFound",{treatmentSize:"medium"}],["FirstPoweredBeacon",{treatmentSize:"medium"}],["FirstWoodlandMansionFound",{treatmentSize:"medium"}],["NamedMob",{treatmentSize:"medium"}],["NamedMobDies",{treatmentSize:"medium"}],["NewMember",{treatmentSize:"medium",groupType:SL.List}],["PillagerCaptainDefeated",{treatmentSize:"medium"}],["RealmCreated",{treatmentSize:"medium"}],["SlotSwitch",{treatmentSize:"medium"}]]);function wL(e){const t=kL.get(e);return t||console.log(`Error in getRealmEventInfo: ${e} not found`),t}function TL(e){const t=kL.get(e);if(t)return t.treatmentSize;console.log(`Error in getRealmEventTreatmentSize: ${e} not found`)}const xL=({t:e,eventId:t,playerData:a,maxDisplayedPlayers:n})=>{const r=wL(t);return r?a.length>1&&null!=r.groupType?r.groupType===SL.List?e(`.${r.treatmentSize}.${t}.grouped`,[ML(e,a.slice().reverse(),n)]):e(`.${r.treatmentSize}.${t}.grouped`):"medium"===r.treatmentSize&&a.length>=1?e(`.${r.treatmentSize}.${t}`,[a[0].gamerTag]):e(`.${r.treatmentSize}.${t}`):e(".invalid")},IL="OMEzJ",PL="_KSgM",OL="dS6f5",NL=a.p+"assets/comments_light-88de7.png",AL=a.p+"assets/heart_sprite-03fc4.png",LL=a.p+"assets/heart_outline-84139.png",RL=a.p+"assets/options-9456a.png";function DL({index:a,content:n,totalComments:r="",totalLikes:l,hasLiked:o,hideLikes:i,openCommentsCallback:c=(()=>{}),toggleLikeCallback:s,openOptionsCallback:u}){const{t:d}=oi("RealmsStories.feedPost"),m=To(),p=Ia(),f=""===r,g=f?"comment-entry-":"story-entry-",E=(0,t.useFacetWrap)(r),h=(0,t.useFacetMap)(((e,t)=>{let a=3;return e||a++,""!=t&&(a++,"narrow"!=m&&a++),a}),[m],[i,E]),b=(0,t.useFacetMap)(((e,t)=>{let a=3;return t||a++,"narrow"!=m&&a++,[d(".comments"),d(".role.button"),d(".enumeration",[`${a}`,`${e}`]),d(".commentsHint")].join(" . ")}),[d,m],[h,i]),v=(0,t.useFacetMap)(((e,t,a)=>[d(".commentsNarration"),d(".role.button"),d(".enumeration",[t?"2":"3",`${e}`]),a,d(".commentsHint")].join(" . ")),[d],[h,i,E]),F=(0,t.useFacetMap)(((e,t,a,n)=>{let r,l=2;return t||l++,""!=a&&"narrow"!=m&&l++,r=d(""!=a?n?".unlikeHint":".likeHint":n?".unlikeCommentHint":".likeCommentHint"),[d(".like"),d(".role.button"),d(".enumeration",[`${l}`,`${e}`]),r].join(" . ")}),[d,m],[h,i,E,o]),S=(0,t.useFacetMap)(((e,t)=>[d(".likesNarration"),d(".role.textBlock"),d(".enumeration",["2",`${e}`]),t].join(" . ")),[d],[h,l]),y=(0,t.useFacetMap)((e=>[d(".options"),d(".role.button"),d(".collapsed"),d(".enumeration",[`${e}`,`${e}`]),d(".optionsHint")].join(" . ")),[d],[h]),C=(0,t.useFacetMap)((e=>d(e?".liked":".like")),[d],[o]),M=(0,t.useFacetMap)((e=>e?AL:LL),[],[o]),k=(0,t.useFacetUnwrap)(o),w=k!==t.NO_VALUE&&k,T=w?"primary":"neutral",x=Vn("neutral");return e.createElement(e.Fragment,null,e.createElement(pr,null,n),e.createElement(pr,null,e.createElement(Gh,null,e.createElement("div",{className:lr()(IL,"fvA94",x.background.base,x.bevel.base)},e.createElement(Gh.Main,null,e.createElement(t.Mount,{when:i,condition:!1},e.createElement(Li.Maybe,{isInteractive:p,narrationText:S,classNameFocused:vi},e.createElement(bi,null),e.createElement("div",{className:"sfaY_"},e.createElement(oc,{src:AL,className:PL,imageRendering:"pixelated"}),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"body",align:"left",role:"neutral"},e.createElement(Ns,null,l)))))),"narrow"!==m&&!f&&e.createElement(Gh.Cell,null,e.createElement(Li,{narrationText:v,inputLegend:d(".viewComments"),classNameFocused:vi,className:lr()("E004f",x.border.disable),onClick:c},e.createElement(bi,null),e.createElement(gs,{type:"body",align:"right",role:"neutral"},r)))),e.createElement(rs,{text:[d(".postActions"),d(".postActionsRole")].join(" . ")},e.createElement(Gh.AdditionalAction,{gamepadAlias:g+"like-"+a,narrationText:F,inputLegend:d(".like"),onClick:s,role:T,isSelected:w,extraWide:!0},e.createElement(oc,{src:M,className:PL,imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionTiny",role:T},C)),!f&&e.createElement(Gh.AdditionalAction,{narrationText:b,inputLegend:d(".viewComments"),onClick:c,extraWide:!0},e.createElement(oc,{src:NL,className:PL,imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionTiny"},d(".comments"))),e.createElement(Gh.AdditionalAction,{narrationText:y,inputLegend:d(".options"),onClick:u,extraWide:!0},e.createElement(oc,{src:RL,className:PL,imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionTiny"},d(".options")))))))}function _L({body:a,timePosted:n,timePostedNarration:r,storyFeedElementCount:l,hasViewed:o,image:i=(0,t.createStaticFacet)(""),author:c,commentPostType:s=!1,onContentClicked:u}){const{t:d}=oi("RealmsStories.feedPost"),m=To(),p=(0,t.useFacetMap)((e=>e.gamerTag),[],[c]),f=(0,t.useFacetMap)((e=>e.gamerIcon),[],[c]),g=(0,t.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[c]),E=(0,t.useFacetMap)((e=>!e.hasOptedIn),[],[c]),h=(0,t.useFacetMap)((e=>""!==e),[],[i]),b=(0,t.useFacetMap)(((e,t,a,n,r,l)=>{const o=[];return s?o.push(d(".storyComment")):o.push(d(".storyPost")),o.push(d(".role.textBlock")),n&&o.push(d(".unread")),o.push(d(".enumeration",["1",`${l}`])),s?o.push(d(".storyCommentDetails",[t,a])):o.push(d(".storyPostDetails",[t,a])),o.push(e),r&&o.push(d(".hasImage")),o.join(" . ")}),[d,s],[a,p,r,o,h,l]),v=Vn("neutral"),F=Vn("neutral80"),S=(0,t.useFacetCallback)((e=>()=>{u&&""!=e&&u({image:e})}),[u],[i]),y=(0,t.useFacetMap)((e=>!!e&&d(".viewScreenshot")),[d],[h]);return e.createElement(Li,{inputLegend:y,narrationText:b,className:lr()("yj3gN",v.border.base,F.background.base),classNameFocused:vi,onClick:S},e.createElement(bi,null),e.createElement(Sc,{size:4}),e.createElement("div",{className:"Ut00y"},e.createElement("div",null,e.createElement(jw,{src:f,status:g,grayscaleAvatar:E,variant:"large"})),e.createElement(Sc,{size:4}),e.createElement("div",{className:"AiExz"},e.createElement("div",{className:"nfvoC"},e.createElement("div",{className:lr()({sGhk5:"narrow"!==m,uAyem:"narrow"===m})},e.createElement(gs,{type:"body",align:"left",role:"neutral80"},e.createElement(Ns,null,p))),e.createElement("div",{className:lr()("tyngs",{i5oiR:"narrow"===m})},e.createElement(gs,{type:"captionShort",align:"narrow"===m?"left":"right",role:"neutral80",variant:"dimmer"},n))),e.createElement(t.Mount,{when:h},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement("div",{className:OL},e.createElement("div",{className:lr()(IL,v.border.base)},e.createElement(oc,{src:i,aspectRatio:oc.AspectRatio["16:9"]}))))),e.createElement(Sc,{size:2}),e.createElement("div",{className:OL},e.createElement(gs,{type:"paragraphs",role:"neutral80",overflowWrap:"break-word",whiteSpace:"preWrap"},a)))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement("div",{className:"PknE8"},e.createElement(wE,{role:"secondary"}))))}function BL({playerData:a,iconSize:n}){const r=(0,t.useFacetMap)((e=>e.gamerIcon),[],[a]),l=(0,t.useFacetMap)((e=>!e.hasOptedIn),[],[a]);return e.createElement(jw,{src:r,status:"offline",variant:n,grayscaleAvatar:l})}function WL({players:a,normalIconCount:n=5,narrowIconCount:r=1,iconSize:l="medium"}){const o="narrow"===To()?r:n,i=(0,t.useFacetMap)((e=>e.length>o),[o],[a]),c=(0,t.useFacetMap)(((e,t)=>t?e.slice(e.length-o,e.length).reverse():e.slice().reverse()),[o],[a,i]),s=(0,t.useFacetMap)((e=>"+"+(e.length-o)),[o],[a]);return e.createElement("div",{className:"hAhlq"},e.createElement(t.Map,{array:c},((t,a)=>e.createElement(e.Fragment,null,e.createElement(BL,{playerData:t,iconSize:l}),a<o-1&&e.createElement(Sc,{size:1})))),e.createElement(t.Mount,{when:i},e.createElement("div",{className:"QI6i_"},e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionShort",variant:"dimmer"},s))))}const UL=a.p+"assets/realms_milestone_blank_medium-595d0.png",zL=a.p+"assets/realms_no_player_icon-215e2.png";function jL({eventId:a,timePosted:n,timePostedNarration:r,storyFeedElementCount:l,hasViewed:o,image:i,involvedPlayers:c,coordinates:s}){const u=Io(70),{t:d}=oi("RealmsStories.feedEvent"),m=(0,t.useSharedFacet)(xf),p=(0,t.useFacetMap)((e=>0==e.length?[{gamerTag:"",gamerIcon:zL,hasOptedIn:!0}]:e),[],[c]),f=(0,t.useFacetWrap)(null!=i?i:UL),g=(0,t.useFacetMap)(((e,t)=>!!t.realmCoordinatesStatus&&e.length>0),[],[s,m]),E=(0,t.useFacetMap)(((e,t)=>e?d(".coordinatePrefix")+" "+t.join(", ").toString():""),[d],[g,s]),h=d(".title"),b=(0,t.useFacetMap)(((e,t,a)=>xL({t:d,eventId:e,playerData:t,maxDisplayedPlayers:a?CL.narrow:CL.full})),[d],[a,p,u]),v=(0,t.useFacetMap)(((e,t,a,n)=>[h,d(".narration.textblock"),d(".enumeration",["1",`${n}`]),e,t,a].join(" . ")),[d,h],[r,b,E,l]),F=Vn("neutral"),S=Vn("neutral80"),y=Vn("informative");return e.createElement(Li,{inputLegend:!1,narrationText:v,className:lr()(F.border.base,y.background.base),classNameFocused:vi},e.createElement("div",{className:lr()("fQjeY",F.border.base)},e.createElement(Sc,{size:2}),e.createElement("div",{className:"qjmCL"},e.createElement("div",null,e.createElement(WL,{players:p,normalIconCount:CL.full,narrowIconCount:CL.narrow,iconSize:"small"})),e.createElement(Sc,{size:3}),e.createElement("div",{className:"hGxlk"},e.createElement("div",{className:"I6squ"},e.createElement(gs,{verticalAlign:"center",type:"body",align:"left",role:"neutral80"},e.createElement(Ns,null,h))),e.createElement("div",{className:"sT_ZL"},e.createElement(gs,{verticalAlign:"center",type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},n)))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement("div",{className:"YFFzb"},e.createElement(wE,{role:"secondary"})))),e.createElement("div",{className:lr()("oMEKj",F.border.base,S.background.base)},e.createElement(Sc,{size:2}),e.createElement("div",{className:"j4Tsq"},e.createElement(t.Mount,{when:u,condition:!1},e.createElement(e.Fragment,null,e.createElement("div",{className:"DUQsW"},e.createElement("div",{className:"SjM9I"}),e.createElement(oc,{className:"szNOn",src:f,imageRendering:"pixelated"})),e.createElement(Sc,{size:4}))),e.createElement("div",{className:"jcPqX"},e.createElement(gs,{verticalAlign:"center",type:"body",role:"neutral80"},b),e.createElement(t.Mount,{when:g},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(jM,{role:"neutral100"},E)))))),e.createElement(bi,null))}function HL({eventId:a,timePosted:n,timePostedNarration:r,storyFeedElementCount:l,hasViewed:o,image:i,involvedPlayers:c}){const{t:s}=oi("RealmsStories.feedEvent"),u=s(".title"),d=Io(70),m=Vn("neutral"),p=Vn("informative"),f=Vn("neutral80"),[g,E]=(0,t.useFacetState)("0px"),h=(0,e.useRef)(null);Eo(h,(({width:e})=>{E(e/1.778+"px")}));const b=(0,t.useFacetWrap)(i),v=(0,t.useFacetMap)(((e,t,a)=>xL({t:s,eventId:e,playerData:t,maxDisplayedPlayers:a?yL.narrow:yL.full})),[s],[a,c,d]),F=(0,t.useFacetMap)(((e,t,a,n)=>{const r=a.map((e=>e.gamerTag));return[u,s(".narration.textblock"),s(".enumeration",["1",`${n}`]),e,t,s(".playersInvolved"),r].join(" . ")}),[s,u],[r,v,c,l]);return e.createElement(Li,{inputLegend:!1,narrationText:F,className:lr()(m.border.base,p.background.base),classNameFocused:vi},e.createElement("div",{className:lr()("SiIZ7",m.border.base,p.background.base)},e.createElement("div",{className:"TPnZd"},e.createElement(gs,{type:"body",align:"left",role:"neutral80"},e.createElement(Ns,null,u))),e.createElement("div",{className:"F62qB"},e.createElement(gs,{type:"captionShort",align:"right",role:"neutral80",variant:"dimmer"},n)),e.createElement(t.Mount,{when:o,condition:!1},e.createElement("div",{className:"eMxqg"},e.createElement(wE,{role:"secondary"})))),e.createElement("fast-div",{ref:h,className:lr()("MW5xI",f.background.base),style:{height:g}},e.createElement("div",{className:"xs3XP"},e.createElement(oc,{aspectRatio:oc.AspectRatio["16:9"],src:b})),e.createElement("div",{className:"ZOpN_"},e.createElement(Sc,{size:4}),e.createElement(gs,{type:"header5B",align:"center",role:"neutral80"},v),e.createElement(Sc,{size:2}),e.createElement(WL,{players:c,normalIconCount:yL.full,narrowIconCount:yL.narrow,iconSize:"medium"}),e.createElement(Sc,{size:4}))),e.createElement(bi,null))}var VL;!function(e){e[e.DELETE=0]="DELETE",e[e.NOTIFY=1]="NOTIFY",e[e.REPORT=2]="REPORT"}(VL||(VL={}));const GL=pi((({isAuthor:a,isRealmOwner:n,isCommentOptions:r=!1,isEvent:l=!1,onClose:o,onDelete:i,onNotify:c,onReport:s})=>{const{t:u}=oi("RealmsStories.feedPost"),d=u(r?".options.comment.delete":".options.delete"),m=(0,t.useFacetMap)(((e,t,a)=>{const n=[{isVisible:t||e&&!a,gamepadAlias:"OPTION-DELETE",label:d,value:VL.DELETE},{isVisible:!t,gamepadAlias:"OPTION-NOTIFY",label:u(".options.notify"),value:VL.NOTIFY},{isVisible:!e&&!a,gamepadAlias:"OPTION-REPORT",label:u(".options.report"),value:VL.REPORT}].filter((e=>e.isVisible)),r=n.length;return n.map(((e,t)=>({enumeration:u(".options.enumeration",[`${t+1}`,`${r}`]),gamepadAlias:e.gamepadAlias,label:e.label,value:e.value})))}),[u,d],[(0,t.useFacetWrap)(a),(0,t.useFacetWrap)(n),(0,t.useFacetWrap)(l)]),p=(0,e.useCallback)((e=>{switch(e){case VL.DELETE:i();break;case VL.NOTIFY:c();break;case VL.REPORT:s()}}),[i,c,s]);return e.createElement(KP,{onClose:o,onItemSelect:p,isOpen:!0,title:u(".options"),items:m})})),$L="confirm-delete-story-modal",KL=pi((({onConfirm:t,onCancel:a,isCommentOptions:n})=>{const{t:r}=oi(n?"RealmsStories.feedPost.options.comment":"RealmsStories.feedPost.options");return e.createElement(sd,{defaultFocusAlias:$L},e.createElement(sd.Header,{onClose:a},r(".delete.title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:r(".delete.message.narration"),gamepadIndex:0},r(".delete.message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:$L,inputLegend:r(".delete"),variant:"destructive",onClick:t},r(".delete")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:r(".delete.cancel"),variant:"secondary",onClick:a,narrationSuffix:r(".delete.cancel.description")},r(".delete.cancel"))))})),XL="confirm-notify-story-modal",YL=pi((({onConfirm:t,onCancel:a,isCommentOptions:n})=>{const{t:r}=oi("RealmsStories.feedPost.options.notify"),l=r(n?".message.comment":".message"),o=r(n?".message.comment.narration":".message.narration");return e.createElement(sd,{defaultFocusAlias:XL},e.createElement(sd.Header,{onClose:a},r(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:o,gamepadIndex:0},l)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:XL,inputLegend:r(".confirm"),variant:"destructive",onClick:t},r(".confirm")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:r(".cancel"),variant:"secondary",onClick:a,narrationSuffix:r(".cancel.description")},r(".cancel"))))})),qL="delete-failed-modal",QL=pi((({onClose:t,isCommentOptions:a})=>{const{t:n}=oi(a?"RealmsStories.feedPost.options.failed.comment":"RealmsStories.feedPost.options.failed");return e.createElement(sd,{defaultFocusAlias:qL},e.createElement(sd.Header,{onClose:t},n(".deleteTitle")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".deleteMessage"),gamepadIndex:0},n(".deleteMessage"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:qL,inputLegend:n(".close"),variant:"secondary",onClick:t},n(".close"))))})),JL="notify-failed-modal",ZL=pi((({onClose:t})=>{const{t:a}=oi("RealmsStories.feedPost.options.failed");return e.createElement(sd,{defaultFocusAlias:JL},e.createElement(sd.Header,{onClose:t},a(".notifyTitle")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:a(".notifyMessage"),gamepadIndex:0},a(".notifyMessage"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:JL,inputLegend:a(".close"),variant:"secondary",onClick:t},a(".close"))))})),eR="report-failed-modal",tR=(pi((({onClose:t})=>{const{t:a}=oi("RealmsStories.feedPost.options.failed");return e.createElement(sd,{defaultFocusAlias:eR},e.createElement(sd.Header,{onClose:t},a(".reportTitle")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:a(".reportMessage"),gamepadIndex:0},a(".reportMessage"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:eR,inputLegend:a(".close"),variant:"secondary",onClick:t},a(".close"))))})),"timeline-information-learn-more"),aR=pi((({closeModal:t,learnMore:a})=>{const{t:n}=oi("RealmsStories.Timeline.Information"),r=(0,e.useCallback)((()=>{t(),a()}),[a,t]);return e.createElement(sd,{onOverlayClick:t,defaultFocusAlias:tR},e.createElement(sd.Header,{onClose:t},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".message")},n(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:tR,variant:"primary",inputLegend:n(".select"),onClick:r},n(".learnMore")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:n(".select"),onClick:t},n(".close"))))})),nR="confirm-delete-story-modal",rR=pi((({reportStatus:a,onClose:n})=>{const{t:r}=oi("RealmsStories.ReportResultModal"),l=(0,t.useFacetMap)((e=>e===cg.Success),[],[a]),o=(0,t.useFacetMap)((e=>r(e?".title.success":".title.fail")),[r],[l]),i=(0,t.useFacetMap)((e=>r(e?".text.success":".text.fail")),[r],[l]),c=(0,t.useFacetMap)((e=>[r(".text.role"),e].join(" . ")),[r],[i]);return e.createElement(sd,{defaultFocusAlias:nR},e.createElement(sd.Header,{onClose:n},o),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:c},i)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:nR,inputLegend:r(".button.inputLegend"),onClick:n},r(".button.close"))))}));let lR;function oR({sender:a,timestamp:n,image:r,content:l,containerType:o}){const i=Vn("neutral"),c=(0,t.useFacetWrap)(null!=r?r:""),s=(0,t.useFacetMap)((e=>""!==e),[],[c]),{t:u}=oi("SideStoryPostContainer"),d=(0,t.useFacetMap)(((e,t,a)=>[u(".hint",[e]),t,a].join(" . ")),[u],[a,n,l]);return e.createElement(Bb,{gamepadIndex:0,narrationPrefix:u(".name"),narrationRole:u(".role"),narrationSuffix:d,spacingAroundSideMenu:e.createElement(Sc,{size:2})},e.createElement(t.Mount,{when:s},e.createElement(e.Fragment,null,e.createElement(Bb.Item,null,e.createElement("div",{className:"cp2HY"},e.createElement(Yr,{data:o},(t=>{switch(t){case lR.LARGE_EVENT:return e.createElement(oc,{src:c,aspectRatio:oc.AspectRatio["16:9"]});case lR.MEDIUM_EVENT:return e.createElement(e.Fragment,null,e.createElement(gN,{minWidth:64,minHeight:36,minBorderWidth:3,containerClassName:"XJPHZ",frameClassName:"BAWlI"}),e.createElement(fN,{src:c,minWidth:64,minHeight:36,minBorderWidth:3,className:"qMd49"}));case lR.STORY:return e.createElement(oc,{src:c,aspectRatio:oc.AspectRatio["16:9"],className:lr()("LDTnm",i.border.base)});default:return null}})))),e.createElement(Sc,{size:2}))),e.createElement(Bb.Item,null,e.createElement(gs,{type:"captionShort"},a),e.createElement(gs,{type:"captionShort",variant:"dimmer"},n),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionLong",overflowWrap:"break-word",whiteSpace:"preWrap"},l)))}!function(e){e[e.STORY=0]="STORY",e[e.MEDIUM_EVENT=1]="MEDIUM_EVENT",e[e.LARGE_EVENT=2]="LARGE_EVENT"}(lR||(lR={}));function iR(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function cR(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?iR(Object(a),!0).forEach((function(t){sR(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):iR(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function sR(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let uR;!function(e){e.Post="story",e.Comment="comment"}(uR||(uR={}));var dR,mR,pR;!function(e){e[e.FeedItem=0]="FeedItem",e[e.Comment=1]="Comment",e[e.Gamertag=2]="Gamertag"}(dR||(dR={})),function(e){e[e.SexuallyInappropriate=0]="SexuallyInappropriate",e[e.Violence=1]="Violence",e[e.Harassment=2]="Harassment",e[e.Spam=3]="Spam",e[e.TerroristContent=4]="TerroristContent",e[e.SomethingElse=5]="SomethingElse"}(mR||(mR={})),function(e){e[e.ImminentHarm=0]="ImminentHarm",e[e.HateSpeech=1]="HateSpeech",e[e.Fraud=2]="Fraud",e[e.Cheating=3]="Cheating",e[e.ChildAbuse=4]="ChildAbuse",e[e.DrugsOrAlcohol=5]="DrugsOrAlcohol",e[e.Profanity=6]="Profanity",e[e.SelfHarm=7]="SelfHarm",e[e.Other=8]="Other"}(pR||(pR={}));const fR={[dR.FeedItem]:"feedItem",[dR.Comment]:"comment",[dR.Gamertag]:"gamertag"},gR={[mR.SexuallyInappropriate]:"sexuallyinappropriate",[mR.Violence]:"violenceorgore",[mR.Harassment]:"harassment",[mR.Spam]:"spamoradvertising",[mR.TerroristContent]:"terroristorviolentextremist",[mR.SomethingElse]:"somethingElse"},ER={[pR.ImminentHarm]:"imminentharmpersonsorproperty",[pR.HateSpeech]:"hatespeech",[pR.Fraud]:"fraud",[pR.Cheating]:"cheating",[pR.ChildAbuse]:"csam",[pR.DrugsOrAlcohol]:"drugsoralcohol",[pR.Profanity]:"profanity",[pR.SelfHarm]:"selfharmorsuicide",[pR.Other]:"other"};function hR(){const a=(0,t.useSharedFacet)(kf),n=(0,t.useSharedFacet)(If),r=(0,t.useSharedFacet)(Zp),l=(0,t.useSharedFacet)($p),{t:o}=oi("RealmsStories.ReportFeedItem"),i=Vn("inherit"),c=u(),s=m(),d=f(),p=c.goBack,g=(0,t.useFacetMap)((e=>{if(null!=e.postType){if(e.postType==uR.Post)return uR.Post;if(e.postType==uR.Comment)return uR.Comment}}),[],[s]),E=(0,t.useFacetMap)((e=>e.get("postId")),[],[d]),h=(0,t.useFacetMap)(((e,t,a,n)=>{if(null!=t&&null!=e)return t===uR.Post?a.stories.find((t=>t.id===e)):n.comments.find((t=>t.id===e))}),[],[E,g,a,n]),b=(0,t.useFacetMap)(((e,t)=>{if(e){const a=t.players.find((t=>t.xuid===e.authorXuid));return a?a.gamerTag:void 0}}),[],[h,r]),v=(0,t.useFacetMap)(((e,t,a)=>null!=e&&null!=t&&null!=a?{postId:t.id,parentPostId:e===uR.Comment?t.parentId:"",authorGamertag:a,timePosted:t.timePosted,timePostedNarration:t.timePostedNarration,image:e===uR.Post?t.image:"",body:t.body}:{postId:"",parentPostId:"",authorGamertag:"",timePosted:"",timePostedNarration:"",image:"",body:""}),[],[g,h,b]),F=(0,t.useFacetMap)(((e,t,a,n)=>null!=e&&null!=t&&null!=a&&null!=n),[],[g,E,h,b]),S=(0,t.useFacetMap)(((e,t,a)=>e?t===uR.Post?o(".screenTitle.feedItem",[a.authorGamertag]):o(".screenTitle.comment",[a.authorGamertag]):o(".error.title")),[o],[F,g,v]),y=o(".hideContent"),[C,M]=(0,t.useFacetState)(!1),k=(0,t.useFacetMap)((e=>e.authorGamertag),[],[v]),w=(0,t.useFacetMap)((e=>e.timePosted),[],[v]),T=(0,t.useFacetMap)((e=>e.body),[],[v]),x=(0,t.useFacetMap)((e=>e.image),[],[v]),I=(0,t.useFacetWrap)(lR.STORY),P=(0,t.useFacetMap)((e=>o(".targetPanel.title",[e])),[o],[k]),O=o(".targetPanel.description"),N=(0,t.useFacetMap)((e=>[e,O].join(" . ")),[O],[P]),[A,L]=(0,t.useFacetState)(dR.FeedItem);(0,t.useFacetEffect)((e=>e===uR.Post?L(dR.FeedItem):L(dR.Comment)),[L],[g]);const R=(0,t.useFacetMemo)(((e,t)=>{const a=[];return a.push(e===uR.Post?{value:dR.FeedItem,label:o(`.targetOption.${fR[dR.FeedItem]}`),gamepadAlias:fR[dR.FeedItem]}:{value:dR.Comment,label:o(`.targetOption.${fR[dR.Comment]}`),gamepadAlias:fR[dR.Comment]}),a.push({value:dR.Gamertag,label:o(`.targetOption.${fR[dR.Gamertag]}`),gamepadAlias:fR[dR.Gamertag]}),a.map(((e,a,n)=>{const r=e.value===t;return cR(cR({},e),{},{enumeration:o(".enumeration",[`${a+1}`,`${n.length+1}`]),isSelected:r,isSelectable:r})}))}),[o],[g,A]),D=(0,t.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[R]),_=(0,t.useFacetMap)((e=>o(`.targetPanel.description.${fR[e]}`)),[o],[A]),[B,W]=(0,t.useFacetState)(void 0),U=(0,t.useFacetMemo)((e=>[{value:mR.SexuallyInappropriate,label:o(`.reasonOption.${gR[mR.SexuallyInappropriate]}`),gamepadAlias:gR[mR.SexuallyInappropriate]},{value:mR.Violence,label:o(`.reasonOption.${gR[mR.Violence]}`),gamepadAlias:gR[mR.Violence]},{value:mR.Harassment,label:o(`.reasonOption.${gR[mR.Harassment]}`),gamepadAlias:gR[mR.Harassment]},{value:mR.Spam,label:o(`.reasonOption.${gR[mR.Spam]}`),gamepadAlias:gR[mR.Spam]},{value:mR.TerroristContent,label:o(`.reasonOption.${gR[mR.TerroristContent]}`),gamepadAlias:gR[mR.TerroristContent]},{value:mR.SomethingElse,label:o(`.reasonOption.${gR[mR.SomethingElse]}`),gamepadAlias:gR[mR.SomethingElse]}].map(((t,a,n)=>{const r=t.value===e;return cR(cR({},t),{},{enumeration:o(".enumeration",[`${a+1}`,`${n.length+1}`]),isSelected:r,isSelectable:r})}))),[o],[B]),z=(0,t.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[U]),j=(0,t.useFacetMap)((e=>e===mR.SomethingElse),[],[B]),[H,V]=(0,t.useFacetState)(void 0),G=(0,t.useFacetMemo)((e=>[{value:pR.ImminentHarm,label:o(`.somethingElseOption.${ER[pR.ImminentHarm]}`),gamepadAlias:ER[pR.ImminentHarm]},{value:pR.HateSpeech,label:o(`.somethingElseOption.${ER[pR.HateSpeech]}`),gamepadAlias:ER[pR.HateSpeech]},{value:pR.Fraud,label:o(`.somethingElseOption.${ER[pR.Fraud]}`),gamepadAlias:ER[pR.Fraud]},{value:pR.Cheating,label:o(`.somethingElseOption.${ER[pR.Cheating]}`),gamepadAlias:ER[pR.Cheating]},{value:pR.ChildAbuse,label:o(`.somethingElseOption.${ER[pR.ChildAbuse]}`),gamepadAlias:ER[pR.ChildAbuse]},{value:pR.DrugsOrAlcohol,label:o(`.somethingElseOption.${ER[pR.DrugsOrAlcohol]}`),gamepadAlias:ER[pR.DrugsOrAlcohol]},{value:pR.Profanity,label:o(`.somethingElseOption.${ER[pR.Profanity]}`),gamepadAlias:ER[pR.Profanity]},{value:pR.SelfHarm,label:o(`.somethingElseOption.${ER[pR.SelfHarm]}`),gamepadAlias:ER[pR.SelfHarm]},{value:pR.Other,label:o(`.somethingElseOption.${ER[pR.Other]}`),gamepadAlias:ER[pR.Other]}].map(((t,a,n)=>{const r=t.value===e;return cR(cR({},t),{},{enumeration:o(".enumeration",[`${a+1}`,`${n.length+1}`]),isSelected:r,isSelectable:r})}))),[o],[H]),$=(0,t.useFacetMap)((e=>o(".enumeration",[`${e.length+1}`,`${e.length+1}`])),[o],[G]),[K,X]=(0,t.useFacetState)(""),Y=(0,t.useFacetMap)((e=>[o(`.commentPanel.description.${fR[e]}`),o(".commentPanel.description.addComment")].join(" ")),[o],[A]),q=(0,t.useFacetMap)(((e,t)=>null==e||e===mR.SomethingElse&&null==t),[],[B,H]),Q=(0,t.useFacetMap)((e=>{const t=o(".enumeration",["1","2"]);return e?[t,o(".reportPanel.report.disabledHint")].join(" . "):t}),[o],[q]),J=(0,t.useFacetCallback)(((e,t,a,n,r,l,o)=>()=>{let i="";r&&null!=l?i=ER[l]:null==n||r||(i=gR[n]),e===dR.Gamertag?t.reportGamertagToXbox(a.authorGamertag,a.postId,a.parentPostId,i,o):t.reportFeedItemToXbox(a.postId,a.parentPostId,i,o),c.goBack()}),[c],[A,l,v,B,j,H,K]);return e.createElement(vx,{onBack:p,title:S,screenAnalyticsId:"RealmsStoriesReportFeedItem",gamepadAlias:"realms-stories-report-feed-item"},(()=>e.createElement(hE,null,e.createElement(Sc,{size:4}),e.createElement(hE.Row,null,e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:F,condition:!1},e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement(yE,{title:o(".error.title"),text:o(".error.text"),buttons:[{text:o(".error.buttonText"),onClick:p,inputLegend:o(".buttonLegend")}]}))),e.createElement(t.Mount,{when:F},e.createElement(e.Fragment,null,e.createElement(hE.Column,{wideSize:4,narrowSize:0},e.createElement("div",{className:lr()("uHQQt",i.border.base)},e.createElement(vS,{title:y,value:C,onChange:M})),e.createElement(t.Mount,{when:C,condition:!1},e.createElement(oR,{sender:k,timestamp:w,content:T,image:x,containerType:I}))),e.createElement(hE.Column,{wideSize:8,narrowSize:8},e.createElement(Yc,{floating:!0,delegateFocusFromMemory:!0},e.createElement("div",{className:lr()("gSWtr",i.border.base)},e.createElement(Ws,{narrationText:N},e.createElement(zs,null,P),e.createElement(js,null,O),e.createElement(Sc,{size:2}),e.createElement(dL,{title:o(".targetOptions.title"),options:R,value:A,onItemSelect:L,buttonTestId:"target-dropdown-button",closeButtonNarrationSuffix:D,dropdownNarrationSuffix:_}),e.createElement(Sc,{size:4}),e.createElement(js,null,_)),e.createElement(Ws,{narrationText:[o(".reasonPanel.title"),o(".reasonPanel.description")].join(" . ")},e.createElement(zs,null,o(".reasonPanel.title")),e.createElement(js,null,o(".reasonPanel.description")),e.createElement(Sc,{size:2}),e.createElement(dL,{title:o(".reasonOptions.title"),options:U,value:B,onItemSelect:W,placeholderText:o(".reasonOptions.placeholder"),buttonTestId:"reason-dropdown-button",closeButtonNarrationSuffix:z}),e.createElement(t.Mount,{when:j},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(dL,{title:o(".reasonOptions.title"),options:G,value:H,onItemSelect:V,placeholderText:o(".reasonOptions.placeholder"),buttonTestId:"something-else-dropdown-button",closeButtonNarrationSuffix:$})))),e.createElement(fu,{label:o(".commentPanel.title"),description:Y,placeholder:o(".commentPanel.placeholder"),value:K,maxLength:350,rows:6,onChange:X}),e.createElement(iS,{title:o(".reportPanel.title"),description:o(".reportPanel.description"),stackedButtons:!0,buttons:e.createElement(e.Fragment,null,e.createElement(ru,{variant:"destructive",inputLegend:o(".buttonLegend"),onClick:J,narrationSuffix:Q,disabled:q},o(".reportPanel.report")),e.createElement(iS.ButtonSpacing,null),e.createElement(ru,{variant:"secondary",inputLegend:o(".buttonLegend"),onClick:p,narrationSuffix:o(".enumeration",["2","2"])},o(".reportPanel.cancel")))})))))))),e.createElement(Sc,{size:4}),e.createElement(Zu.Space,null))))}const bR=e=>{const a=To(),n=(0,t.useFacetMap)((e=>0===e.totalLikes),[],[e]);return(0,t.useFacetMap)((e=>{let t=4;return e||t++,"narrow"!=a&&t++,t}),[a],[n])};function vR({realmStory:a,onContentClicked:n}){const r=(0,t.useSharedFacet)(Zp),l=(0,t.useSharedFacet)(Kp),o=(0,t.useFacetMap)((e=>e.body),[],[a]),i=(0,t.useFacetMap)((e=>e.timePosted),[],[a]),c=(0,t.useFacetMap)((e=>e.timePostedNarration),[],[a]),s=(0,t.useFacetMap)((e=>e.image),[],[a]),u=(0,t.useFacetMap)((e=>e.authorXuid),[],[a]),d=(0,t.useFacetMap)((e=>e.players),[],[r]),m=(0,t.useFacetMap)(((e,t)=>{const a=jd(t,(t=>t.xuid===e));return null!=a?a:vL}),[],[u,d]),p=(0,t.useFacetMap)((e=>e.hasViewed),[],[a]),f=(0,t.useFacetMap)(((e,t,a)=>e||t===a.userXuid),[],[p,u,l]),g=bR(a);return e.createElement(_L,{body:o,timePosted:i,timePostedNarration:c,storyFeedElementCount:g,hasViewed:f,image:s,author:m,onContentClicked:n})}function FR({realmStory:a}){const n=(0,t.useSharedFacet)(Zp),r=(0,t.useFacetMap)((e=>e.players),[],[n]),l=(0,t.useFacetMap)((e=>e.body),[],[a]),o=(0,t.useFacetMap)((e=>e.timePosted),[],[a]),i=(0,t.useFacetMap)((e=>e.timePostedNarration),[],[a]),c=(0,t.useFacetMap)((e=>e.hasViewed),[],[a]),s=(0,t.useFacetMap)((e=>kL.has(e.body)?FL(e.body):""),[],[a]),u=(0,t.useFacetMap)((e=>{const t=[];if(e.isEvent&&e.isEventLoaded)for(let a=0;a<e.eventPlayerXuids.length;a++)t.push(e.eventPlayerXuids[a]);return t}),[],[a]),d=(0,t.useFacetMap)(((e,t)=>t.filter((t=>e.includes(t.xuid))).map((e=>null!=e?e:vL))),[],[u,r]),m=(0,t.useFacetMap)((e=>e.isEventLoaded&&e.isEvent&&e.eventHasCoordinates?[e.eventXCoordinate,e.eventYCoordinate,e.eventZCoordinate]:[]),[],[a]),p=(0,t.useFacetMap)((e=>{var t;return null!==(t=TL(e.body))&&void 0!==t?t:"medium"}),[],[a]),f=bR(a);return e.createElement(Yr,{data:p},(t=>{switch(t){case"medium":return e.createElement(jL,{eventId:l,timePosted:o,timePostedNarration:i,storyFeedElementCount:f,hasViewed:c,image:s,involvedPlayers:d,coordinates:m});case"large":return e.createElement(HL,{eventId:l,timePosted:o,timePostedNarration:i,storyFeedElementCount:f,hasViewed:c,image:s,involvedPlayers:d});default:return null}}))}function SR({realmStory:a,index:n,numberOfStories:r,deleteStory:l,onContentClicked:o}){const i=(0,t.useSharedFacet)($p),c=(0,t.useSharedFacet)(qp),s=(0,t.useSharedFacet)(Kp),{t:d}=oi("RealmsStories.feedPost"),p=u(),f=m();!function(e){const a=(0,t.useSharedFacet)($p),n=(0,t.useFacetMap)((e=>e.id),[],[e]),r=(0,t.useFacetMap)((e=>e.toggleLikeStatus),[],[e]);(0,t.useFacetEffect)(((e,t,a)=>{e===cg.Success&&t.clearToggleLikeStatus(a)}),[],[r,a,n])}(a),function(e){const a=(0,t.useSharedFacet)($p),n=(0,t.useFacetMap)((e=>e.id),[],[e]),r=(0,t.useFacetMap)((e=>e.imageStatus),[],[e]);(0,t.useFacetEffect)(((e,t,a)=>{e===ig.Idle&&t.fetchStoryImage(a)}),[],[r,a,n])}(a),function(e){const a=(0,t.useSharedFacet)($p),n=(0,t.useFacetCallback)((e=>t=>{e.setViewed(t,"")}),[],[a]);(0,t.useFacetEffect)((e=>{e.setViewedStatus===cg.Idle&&n(e.id)}),[n],[e])}(a);const g=(0,t.useFacetMap)((e=>1===e.totalComments?d(".totalComment",[e.totalComments.toString()]):d(".totalComments",[e.totalComments.toString()])),[d],[a]),E=(0,t.useFacetMap)((e=>1===e.totalLikes?d(".totalLike",[e.totalLikes.toString()]):d(".totalLikes",[e.totalLikes.toString()])),[d],[a]),h=(0,t.useFacetMap)((e=>e.hasLiked),[],[a]),b=(0,t.useFacetMap)((e=>0===e.totalLikes),[],[a]),v=(0,t.useSharedFacet)(kf),F=m(),S=(0,t.useFacetMap)((e=>e.realmId),[],[F]),y=(0,t.useFacetCallback)(((e,t,a,n)=>()=>{t.currentStoryId=e.id,wf(a.stories),p.push(`/realms-story-comments/${encodeURIComponent(e.id)}/${n}`)}),[p],[a,c,v,S]),C=(0,t.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus===cg.Idle&&t.toggleLike(e.id,"")}),[],[a,i]),M=GL.useModal(),k=(0,t.useFacetMap)((e=>e.authorXuid),[],[a]),w=(0,t.useFacetMap)(((e,t)=>e===t.userXuid),[],[k,s]),T=(0,t.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[s]),x=(0,t.useFacetMap)((e=>e.isEventLoaded&&e.isEvent),[],[a]),I=(0,t.useFacetMap)((e=>!e.isEvent||e.isEventLoaded),[],[a]),P=KL.useModal(),O=(0,e.useCallback)((()=>{P.hide(),M.hide()}),[P,M]),N=(0,t.useFacetCallback)((e=>()=>{l(e.id),O()}),[l,O],[a,i]),A=YL.useModal(),L=(0,e.useCallback)((()=>{A.hide(),M.hide()}),[A,M]),R=(0,t.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,""),L()}),[L],[a,i]),D=(0,t.useFacetMap)((e=>e.reportToClubOwnerStatus==cg.InputInvalid||e.reportToClubOwnerStatus==cg.InternalError||e.reportToClubOwnerStatus==cg.UploadFailed||e.reportToClubOwnerStatus==cg.PostingFailed),[],[a]),_=(0,t.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[a,i]),B=(0,t.useFacetCallback)(((e,t)=>()=>{M.hide(),p.push(`/realms-stories-report-feed-item/${uR.Post}/${e.realmId}?postId=${t.id}`)}),[p,M],[f,a]),W=(0,t.useFacetMap)((e=>e.reportToXboxStatus),[],[a]),U=(0,t.useFacetMap)((e=>e!==cg.Idle&&e!==cg.InProgress&&e!==cg.RateLimit),[],[W]),z=(0,t.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[i,a]),j=(0,t.useSharedFacet)(bp);(0,t.useFacetEffect)(((e,t,a)=>{e.reportToClubOwnerStatus===cg.Success&&(t.queueSnackbar(d(".options.notify.toast")),a.clearReportToClubOwnerStatus(e.id))}),[d],[a,j,i]);const H=(0,t.useFacetMap)((e=>e.reportToClubOwnerStatus==cg.RateLimit||e.reportToXboxStatus==cg.RateLimit),[],[a]),V=(0,t.useFacetCallback)((e=>()=>{e.reportToClubOwnerStatus==cg.RateLimit&&_(),e.reportToXboxStatus==cg.RateLimit&&z()}),[_,z],[a]),G=(0,t.useFacetMap)((e=>[d(".storyPostGroup"),d(".postGroupRole"),d(".postGroupEnumeration",[`${n+1}`,`${e}`])].join(" . ")),[n,d],[r]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:I},e.createElement(rs,{text:G},e.createElement(DL,{content:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:x},e.createElement(FR,{realmStory:a})),e.createElement(t.Mount,{when:x,condition:!1},e.createElement(vR,{realmStory:a,onContentClicked:o}))),index:n,totalComments:g,totalLikes:E,hasLiked:h,hideLikes:b,openCommentsCallback:y,toggleLikeCallback:C,openOptionsCallback:M.show}))),e.createElement(t.Mount,{when:M.isVisible},e.createElement(GL.Component,{isAuthor:w,isRealmOwner:T,isEvent:x,onClose:M.hide,onDelete:P.show,onNotify:A.show,onReport:B})),e.createElement(t.Mount,{when:P.isVisible},e.createElement(KL.Component,{onConfirm:N,onCancel:O,isCommentOptions:!1})),e.createElement(t.Mount,{when:A.isVisible},e.createElement(YL.Component,{onConfirm:R,onCancel:L,isCommentOptions:!1})),e.createElement(t.Mount,{when:D},e.createElement(ZL.Component,{onClose:_})),e.createElement(t.Mount,{when:H},e.createElement(_x.Component,{onClickClose:V})),e.createElement(t.Mount,{when:U},e.createElement(rR.Component,{reportStatus:W,onClose:z})))}let yR;!function(e){e[e.IDLE=0]="IDLE",e[e.DELETING_POST=1]="DELETING_POST",e[e.SWAPING_PAGE=2]="SWAPING_PAGE",e[e.ERROR=3]="ERROR"}(yR||(yR={}));const CR=pi((({src:t,onClose:a,narrationText:n,closeNarration:r,closeInputLegend:l})=>{const o=(0,e.useRef)(null);return e.createElement("div",{className:"WlzXz"},e.createElement("div",{className:"HbJ0B"},e.createElement(rs,{text:n},e.createElement("div",{ref:o,className:"mLVo_"},e.createElement(ac,{containerRef:o,shouldBindFocus:!0,delegateFocusFromMemory:!0},e.createElement(oc,{src:t,className:"qKD_a",cover:!0}),e.createElement(ts,{onClick:a,options:{button:W.B,inputLegend:l}}),e.createElement("div",{className:"MksnB"},e.createElement(ru,{inputLegend:l,narrationPrefix:r,Icon:tE,onClick:a,"data-testid":"fullImageModalCloseButtonTestId"})))))),e.createElement(Zu.Space,null))}));function MR(){const a=Io(102.3),n=(0,t.useSharedFacet)(kf),r=(0,t.useSharedFacet)(Zp),l=(0,t.useSharedFacet)($p),o=(0,t.useSharedFacet)(Ef),i=(0,t.useSharedFacet)(Ir),c=(0,t.useSharedFacet)(qp),{t:s}=oi("RealmsStories"),{t:d}=oi("RealmsStories.feed"),p="story-entry-like-0",f=u(),g=be(),E=To(70,100);let h=1,b=4,v=6,F=10;"narrow"===E?(h=0,b=3,v=5,F=8):"tablet"===E&&(h=0,v=8,F=12);const S=(0,e.useRef)(!0);(0,t.useFacetEffect)(((e,t)=>{S.current&&(e.loadStoriesSlice(0,t.pageLength),S.current=!1)}),[],[l,n]);const y=(0,t.useFacetMap)((e=>e?2:7),[],[a]),C=(0,t.useFacetMap)((e=>!e.storiesFirstPageReady),[],[n]),M=(0,t.useFacetMap)((e=>e.stories),[],[n],(()=>()=>!1)),k=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.stories.length)&&void 0!==t?t:0}),[],[n]),[w,T]=(0,t.useFacetState)(1),x=(0,e.useRef)(null),I=(0,t.useFacetMap)((e=>Math.ceil(e.totalStories/e.pageLength)),[],[n]),P=(0,t.useFacetCallback)(((e,t)=>a=>{wf(t.stories),T(a);const n=(a-1)*t.pageLength,r=n+t.pageLength;e.loadStoriesSlice(n,r),x.current&&(x.current.scrollTop=0),g(p)}),[T,g],[l,n]),O=function(e,a){const[n,r]=(0,t.useFacetState)(yR.IDLE),[l,o]=(0,t.useFacetState)(""),[i,c]=(0,t.useFacetState)(0),[s,u]=(0,t.useFacetState)(cg.Idle),d=(0,t.useSharedFacet)(kf),m=(0,t.useSharedFacet)($p),p=(0,t.useFacetCallback)(((e,t)=>a=>{e===yR.IDLE&&(o(a),r(yR.DELETING_POST),t.delete(a,""))}),[r,o],[n,m]),f=(0,t.useFacetCallback)(((e,t,a)=>()=>{e!==yR.IDLE&&(e===yR.ERROR&&(t.clearDeleteStatus(a),u(cg.Idle)),o(""),c(0),r(yR.IDLE))}),[o,c,r,u],[n,m,l]);return(0,t.useFacetEffect)(((e,t,n,l)=>{if(e!==yR.DELETING_POST)return;const o=n.stories.find((e=>e.id===t));o?o.deleteStatus!==cg.InputInvalid&&o.deleteStatus!==cg.InternalError&&o.deleteStatus!==cg.UploadFailed&&o.deleteStatus!==cg.PostingFailed&&o.deleteStatus!==cg.RateLimit||(u(o.deleteStatus),r(yR.ERROR)):n.totalStories>0&&0===n.stories.length&&l>1?(c(l),r(yR.SWAPING_PAGE),a(l-1)):f()}),[u,r,f,c,a],[n,l,d,e]),(0,t.useFacetEffect)(((e,t,a,n)=>{e===yR.SWAPING_PAGE&&t!==a&&0!==n.stories.length&&f()}),[a,e,f],[n,e,i,d]),{state:n,error:s,delete:e=>p(e),reset:f}}(w,P),N=(0,t.useFacetMap)((e=>e===cg.InputInvalid||e===cg.InternalError||e===cg.UploadFailed||e===cg.PostingFailed),[],[O.error]),A=(0,t.useFacetMap)((e=>e===cg.RateLimit),[],[O.error]),L=(0,t.useFacetMap)(((e,t)=>0===e.length&&t===yR.IDLE),[],[M,O.state]),R=(0,t.useFacetMap)(((e,t)=>{const a=af(Ov(e.players,(e=>0!==e.lastSeenTime)));return jm(a,0,Math.min(t,a.length))}),[],[r,y]),D=(0,t.useFacetMap)((e=>e.length),[],[R]),_=(0,t.useFacetMap)((e=>e.fetchMembersStatus!==ig.Success),[],[r]),B=(0,t.useFacetMap)(((e,t,a)=>e||t.fetchSessionStatus!==ig.Success||!a.every((e=>e.fetchProfileStatus===ig.Success))),[],[_,o,R]),W=(0,t.useFacetMap)((e=>e.length>0),[],[R]),U=m(),z=(0,t.useFacetMap)((e=>e.realmId),[],[U]),j=(0,t.useFacetCallback)(((e,t)=>()=>{wf(e.stories),f.push(`/realms-new-story/${t}`)}),[f],[n,z]),H=(0,t.useFacetMap)((e=>!e.isOnline),[],[i]),V=(0,t.useFacetMap)(((e,t)=>(e.storiesStatus===ig.InternalError||e.storiesStatus===ig.FetchFailed||e.storiesStatus===ig.RateLimit)&&!t),[],[n,H]),G=(0,t.useFacetMap)(((e,t)=>e||t),[],[H,V]),$=(0,t.useFacetMap)(((e,t)=>t.storiesFirstPageReady&&e),[],[L,n]),K=(0,t.useFacetCallback)((e=>()=>{e.clearStoryFeedStatus(),e.fetchStories()}),[],[l]);(0,t.useFacetEffect)((e=>{e.newPostAvailable&&(e.newPostAvailable=!1,P(1))}),[P],[c]);const X=(0,e.useRef)(null),[Y,q]=(0,t.useFacetState)(""),Q=CR.useModal(),J=(0,e.useCallback)((e=>{q(e.image),Q.show()}),[Q,q]),Z=(0,t.useFacetMap)((e=>[d(".fullImage",[e.name]),d(".fullImageRole")].join(" . ")),[d],[(0,t.useSharedFacet)(Kp)]);return e.createElement(t.DeferredMountProvider,null,e.createElement(hE,{noGutters:!0},e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:G},e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{wideSize:h,narrowSize:h}),e.createElement(hE.Column,{wideSize:F,narrowSize:8},e.createElement(t.Mount,{when:H},e.createElement(oL,null)),e.createElement(t.Mount,{when:V},e.createElement(cL,{onClick:K,pageName:s(".storyFeed")}))),e.createElement(hE.Column,{wideSize:1,narrowSize:0}))),e.createElement(t.Mount,{when:Q.isVisible},e.createElement(CR.Component,{src:Y,onClose:Q.hide,narrationText:Z,closeNarration:d(".fullImageClose"),closeInputLegend:d(".fullImageClose")})),e.createElement(t.Mount,{when:G,condition:!1},e.createElement(hE.Row,{fullHeight:!0},e.createElement(hE.Column,{wideSize:h,narrowSize:h}),e.createElement(hE.Column,{wideSize:b,narrowSize:b},e.createElement(ac,{containerRef:X,delegateFocusByAlias:"add-story-button"},e.createElement("div",{ref:X,className:"KDWqv"},e.createElement(Sc,{size:2}),e.createElement(ru,{inputLegend:d(".addStory"),variant:"hero",gamepadAlias:"add-story-button",onClick:j},d(".addStory")),e.createElement(t.Mount,{when:W},e.createElement(rs,{text:`${d(".recentlyPlayed")} . ${d(".recentlyPlayedComponentRole")}`},e.createElement(Yc,{loading:B,delegateFocusFromMemory:!0},e.createElement(Sc,{size:2}),e.createElement(ah,{role:"primary",label:d(".recentlyPlayed")}),e.createElement(t.Map,{array:R},((t,a)=>e.createElement(rL,{realmPlayer:t,index:a+1,isSimpleLayout:!0,totalPlayers:D}))))))))),e.createElement(hE.Column,{wideSize:v,narrowSize:v,gamepadIndex:1},e.createElement(t.DeferredMount,null,e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:$},e.createElement(yE,{autofocus:!0,title:d(".emptyStoryFeedTitle"),text:d(".emptyStoryFeedText")})),e.createElement(t.Mount,{when:N},e.createElement(QL.Component,{onClose:O.reset,isCommentOptions:!1})),e.createElement(t.Mount,{when:A},e.createElement(_x.Component,{onClickClose:O.reset})),e.createElement(Yc,{innerRef:x,loading:C,scrollIntoViewAlign:"center",gamepadAlias:"story-feed-posts-wrapper",delegateFocusByAlias:p,delegateFocusFromMemory:!0,renderTracker:t=>e.createElement(Ld,{renderingCompleted:t,type:"meaningful"})},e.createElement(Sc,{size:1}),e.createElement(t.Map,{array:M},((t,a)=>e.createElement(kR,{storyPost:t,totalStories:k,index:a,deleteStory:O.delete,onContentClicked:J}))),e.createElement(Sc,{size:3}),e.createElement(Dw,{totalPages:I,currentPage:w,onChange:P}),e.createElement(Sc,{size:1})))))))))))}function kR({storyPost:a,totalStories:n,index:r,deleteStory:l,onContentClicked:o}){const i=To(),c=(0,t.useFacetMap)((e=>r===e-1),[r],[n]);return e.createElement(e.Fragment,null,0===r&&e.createElement(Sc,{size:1}),r>0&&e.createElement(Sc,{size:"narrow"===i?2:4}),e.createElement(SR,{realmStory:a,index:r,numberOfStories:n,deleteStory:l,onContentClicked:o}),e.createElement(t.Mount,{when:c},e.createElement(Sc,{size:1})))}const wR=a.p+"assets/generic-empty-fd3ea.png",TR="V6V4L";function xR({gamepadIndex:a,gamepadIndexOffset:n=0,headerSegmentData:r=(0,t.createStaticFacet)({text1:"text1",text2:"text2",narrationText:"",darkenLevel:0,size:1})}){const l=Vn("neutral60"),o=Vn("neutral"),i=Vn("neutral80"),c=(0,t.useFacetWrap)(a),s=(0,t.useFacetWrap)(n),u=(0,t.useFacetMap)(((e,t)=>e+t),[],[c,s]),d=(0,t.useFacetMap)((e=>`DvTbb ${o.border.base} ${0===e.darkenLevel?l.background.base:1===e.darkenLevel?o.background.base:i.background.base}`),[l,o,i],[r]),m=(0,t.useFacetMap)((e=>e.narrationText),[],[r]),p=(0,t.useFacetMap)((e=>e.text1),[],[r]),f=(0,t.useFacetMap)((e=>e.text2),[],[r]),g=(0,t.useFacetMap)((e=>""!==e.text2),[],[r]);return e.createElement("fast-div",{className:"bOw5t",style:{width:(0,t.useFacetMap)((e=>100*e.size+"%"),[],[r])}},e.createElement("fast-div",{className:d},e.createElement(gs,{type:"body",align:"center"},p),e.createElement(t.Mount,{when:g},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(gs,{type:"body",align:"center",variant:"dimmer"},f)))),Ia()?e.createElement("div",{className:"r6AFW"},e.createElement(Li,{classNameFocused:lr()("iebbx",o.outline.base),gamepadIndex:u,inputLegend:!1,narrationText:m,onClick:()=>{}},e.createElement("div",{className:"DVHa6"}))):null)}function IR({firstRowData:a,secondRowData:n}){const r=(0,t.useFacetMap)((e=>e.length),[],[a]);return e.createElement(e.Fragment,null,e.createElement("div",{className:TR},e.createElement(t.Map,{array:a},((t,a)=>e.createElement(xR,{gamepadIndex:a,headerSegmentData:t})))),e.createElement("div",{className:TR},e.createElement(t.Map,{array:n},((t,a)=>e.createElement(xR,{gamepadIndex:a,gamepadIndexOffset:r,headerSegmentData:t})))))}function PR({gamerIcon:a,gamerTag:n,onlineStatus:r,grayscaleAvatar:l=!1,onClick:o}){const i=(0,t.useFacetWrap)(r),c=(0,t.useFacetWrap)(a),s=Vn("neutral"),{t:u}=sp("PlayerTag"),d=(0,t.useFacetMap)((e=>[e,u(".role"),u(".hint")].join(" . ")),[u],[(0,t.useFacetWrap)(n)]);return e.createElement(Li,{inputLegend:u(".viewProfile"),narrationText:d,onClick:o,className:lr()("Mn3WO",s.background.base,s.border.base,s.background.interactive),classNameFocused:lr()("kDMn3",s.outline.base)},e.createElement(jw,{src:c,status:i,variant:"medium",grayscaleAvatar:l}),e.createElement("div",{className:"Nyd9S"},e.createElement(gs,{type:"body",align:"left"},e.createElement(Ns,null,n))),e.createElement(Vi,{effect:"bevel"}))}const OR="LnPiE";function NR({laneSegmentData:a}){const n=(0,t.useFacetWrap)(null!=a?a:{darkenLevel:0,narrationText:""}),r=Vn("neutral80"),l=Vn("neutral"),o=(0,t.useFacetMap)((e=>lr()(0===e.darkenLevel?l.background.base:2===e.darkenLevel?r.shadow.base:r.background.base,"om40F",l.border.base)),[l,r],[n]);return e.createElement("div",{className:OR},e.createElement("fast-div",{className:o}))}function AR({gamepadIndex:a,laneSegmentData:n}){const r=(0,t.useFacetWrap)(null!=n?n:{darkenLevel:0,narrationText:""}),l=(0,t.useFacetMap)((e=>e.narrationText),[],[r]),o=Vn("neutral");return e.createElement("div",{className:OR},e.createElement(Li,{classNameFocused:lr()("XDSKv",o.outline.base),gamepadIndex:a,inputLegend:!1,narrationText:l,onClick:()=>{}},e.createElement("div",{className:"Lbfmj"})))}const LR=["dataViz01","dataViz02","dataViz03","dataViz04","dataViz05","dataViz06","dataViz07"];function RR({unitWidth:a,color:n,blockData:r}){const l=Vn(LR[n%LR.length]),o=Vn("neutral");return e.createElement("fast-div",{className:lr()("L6Bqq",l.background.base),style:{left:(0,t.useFacetMap)((e=>e.start*a*100+"%"),[a],[r]),width:(0,t.useFacetMap)((e=>e.size*a*100+"%"),[a],[r])}},e.createElement("div",{className:"yVc05"},e.createElement("div",{className:lr()("pxZ8Y",o.border.base)})))}function DR({isDarker:a=!1,numberOfSegments:n,maximumBlockCount:r,highlightedSegment:l=-1,blackenedSegmentBefore:o=-1,blackenedSegmentAfter:i=-1,gamepadIndex:c,blocks:s,blockColor:u,narrationText:d=(0,t.createStaticFacet)([])}){const m=1/r,p=(0,t.useFacetWrap)(l),f=(0,t.useFacetWrap)(o),g=(0,t.useFacetWrap)(i),E=(0,t.useFacetMap)(((e,t,r,l)=>{const o=[];for(let i=0;i<n;i++)o.push({darkenLevel:i===e?0:i<t&&-1!==t||i>r&&-1!==r||a?2:1,narrationText:i<l.length?l[i]:""});return o}),[n,a],[p,f,g,d]);return e.createElement(e.Fragment,null,e.createElement("div",{className:"mz7FL"},e.createElement(t.Map,{array:E},(t=>e.createElement(NR,{laneSegmentData:t}))),e.createElement(t.Map,{array:s},(t=>e.createElement(RR,{blockData:t,unitWidth:m,color:u}))),Ia()?e.createElement("div",{className:"Afi7L"},e.createElement(t.Map,{array:E},((t,a)=>e.createElement(AR,{laneSegmentData:t,gamepadIndex:c+a})))):null))}const _R="ULZBU",BR="YayMK",WR="UGT5g",UR="bh4Vj",zR="VbtmA",jR="jUU1G",HR="c137S",VR="Ga8Si",GR="rViYP",$R=[".month00",".month01",".month02",".month03",".month04",".month05",".month06",".month07",".month08",".month09",".month10",".month11"],KR=[".monthShort00",".monthShort01",".monthShort02",".monthShort03",".monthShort04",".monthShort05",".monthShort06",".monthShort07",".monthShort08",".monthShort09",".monthShort10",".monthShort11"],XR=[".day0",".day1",".day2",".day3",".day4",".day5",".day6"],YR=[".dayShort0",".dayShort1",".dayShort2",".dayShort3",".dayShort4",".dayShort5",".dayShort6"],qR=1440,QR=864e5,JR=36e5,ZR=a.p+"assets/information-icon-0e3ad.png";function eD({gamepadIndex:a,isDarker:n,numberOfSegments:r,maximumBlockCount:l,highlightedSegment:o,blackenedSegmentBefore:i,blockColor:c,playerData:s}){const d=xo(),m=Vn("neutral"),p=u(),f=(0,t.useFacetCallback)((e=>()=>p.push(tT(e.gamerXuid))),[p],[s]);return e.createElement("div",{className:lr()(_R,BR)},e.createElement("div",{className:lr()({[WR]:d},{[UR]:!d},"Qpo28",m.border.base)},e.createElement(PR,{gamerIcon:(0,t.useFacetMap)((e=>e.gamerIcon),[],[s]),gamerTag:(0,t.useFacetMap)((e=>e.gamerTag),[],[s]),onlineStatus:(0,t.useFacetMap)((e=>!0===e.gamerOnline?"online":"offline"),[],[s]),grayscaleAvatar:(0,t.useFacetMap)((e=>!e.gamerOptedIn),[],[s]),onClick:f})),e.createElement("div",{className:lr()({[zR]:d},{[jR]:!d},HR,m.border.base)},e.createElement(DR,{isDarker:n,blockColor:c,numberOfSegments:r,maximumBlockCount:l,highlightedSegment:o,blackenedSegmentBefore:i,gamepadIndex:a,blocks:(0,t.useFacetMap)((e=>e.blocks),[],[s]),narrationText:(0,t.useFacetMap)((e=>e.narrationText),[],[s])})))}function tD(){const a=Ia(),n=xo(),r=n?5:7,l=r*qR,o=Math.ceil(28/r),i=(0,e.useRef)(null),c=u(),[s,d]=(0,t.useFacetState)(o),m=(0,t.useFacetCallback)((e=>()=>{e>o&&d(o)}),[o,d],[s]);(0,e.useEffect)((()=>{const e=()=>{m()};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}));const p=function(){{const e=new Date;return e.setHours(13),e}}(),{t:f}=sp("Timeline"),{t:g}=sp("Modal"),{t:E}=sp("RealmsStories.Timeline"),h=((e,a,n,r,l)=>(0,t.useFacetMap)((e=>{const t=[];let o=-1;for(let i=0;i<n;i++){const c=n*(a-e)+(n-1-i),s=new Date(r.getTime()+0-c*QR),u=s.getMonth(),d=s.getFullYear().toString();u!==o?t.push({text1:l(KR[u]),text2:d,narrationText:[l(".monthYear",[l($R[u]),d]),l(".date"),l(".monthAndTheYear")].join(" . "),darkenLevel:1,size:1/n}):(t[t.length-1].text1=l($R[u]),t[t.length-1].size=(t[t.length-1].size*n+1)/n),o=u}return t}),[n,a,r,l],[e]))(s,o,r,p,f),b=((e,a,n,r,l)=>(0,t.useFacetMap)((e=>{const t=[];for(let o=0;o<n;o++){const i=n*(a-e)+(n-1-o),c=new Date(r.getTime()+0-i*QR),s=c.getDay(),u=c.getDate();t.push({text1:l(YR[s]),text2:("0"+u).slice(-2),narrationText:[l(".dayAndDate",[l(XR[s]),u.toString()]),l(".date"),l(".dayOfTheWeek"),l(".enumeration",[(o+1).toString(),n.toString()])].join(" . "),darkenLevel:0===i?0:i<28?1:2,size:1/n})}return t}),[n,a,r,l],[e]))(s,o,r,p,f),v=(0,t.useSharedFacet)(Ef),F=(e=>(0,t.useFacetMap)((e=>{const t=[];for(let a=0;a<e.sessions.length;a++)t.push(e.sessions[a]);return t.sort(((e,t)=>e.userXuid===t.userXuid?e.login-t.login:e.userXuid.localeCompare(t.userXuid)))}),[],[e]))(v),S=(0,t.useSharedFacet)(Kp),y=(0,t.useSharedFacet)(Zp),C=(0,t.useFacetMap)((e=>e.players),[],[y]),M=((e,a,n,r)=>(0,t.useFacetMemo)(((e,t,a)=>{const n=new Map;a.sessions.forEach((e=>{n.set(e.userXuid,e)}));const r=t.filter((e=>e.role!==Jp.NONMEMBER)).sort(((t,a)=>{if(t.xuid===a.xuid)return 0;if(t.xuid===e.userXuid)return-1;if(a.xuid===e.userXuid)return 1;const r=n.get(t.xuid),l=n.get(a.xuid);return r&&l?t.lastSeenTime===a.lastSeenTime?t.gamerTag.localeCompare(a.gamerTag):a.lastSeenTime-t.lastSeenTime:r||l?r?-1:1:t.gamerTag.localeCompare(a.gamerTag)})),l=new Map;for(let e=0;e<Math.min(300,r.length);e++)l.set(r[e].gamerTag,e);return l}),[300],[a,n,e]))(v,S,C),k=(0,t.useFacetMap)((e=>e.players.length>300),[],[y]),w=((e,a,n,r,l,o,i,c)=>(0,t.useFacetMemo)(((e,t,a,n)=>{const r=[],s=new Set,u=1*Math.floor(Math.abs(0)/60),d=1*Math.floor(Math.abs(0)%60),m=o*(l-t),p=new Date(i.getTime()-m*QR);p.setHours(0-u,0-d,0,0),p.setTime(p.getTime()+QR-1);const f=o*(l-t+1)-1,g=Math.min(27,f),E=new Date(i.getTime()-g*QR);E.setHours(0-u,0-d,0,0);const h=function(e,t){let a=0,n=-1,r=0;for(let l=0;l<t;l++){const t=new Date(e.getTime()+QR*(l-.5));if(a=new Date(e.getTime()+QR*(l+.5)).getTimezoneOffset()-t.getTimezoneOffset(),0!==a){n=l;for(let t=0;t<24;t++){const a=new Date(e.getTime()+QR*l+JR*t),n=new Date(a.getTime()+JR),o=n.getHours()-a.getHours();if(a.getHours()===n.getHours()||o>1||-23===o&&1===n.getHours()||-22===o&&0===n.getHours()){r=t+1;break}}break}}return{dayLightSavingsOffset:a,dayLightSavingsSegment:n,dayLightSavingsHour:r}}(E,o),b=new Date(i.getTime()-f*QR);b.setHours(0-u,0-d,0,0);const v=new Map;a.forEach((e=>{v.set(e.xuid,e)}));let F="";for(let t=0;t<e.length;t++){const a=e[t].userXuid,l=v.get(a);if(null==l||l.role===Jp.NONMEMBER||!n.has(l.gamerTag))continue;const o=new Date;o.setTime(1e3*e[t].login);const i=new Date;i.setTime(1e3*e[t].logout);const c={start:0,size:0};if(o.getTime()<=p.getTime()&&o.getTime()>=E.getTime()||i.getTime()<=p.getTime()&&i.getTime()>=E.getTime()){const e=new Date(Math.max(o.getTime(),E.getTime())).getTime(),t=new Date(Math.min(i.getTime(),p.getTime())).getTime(),a=h.dayLightSavingsOffset;let n=(e-b.getTime())/1e3/60,r=(t-e)/1e3/60;const l=new Date(E.getTime()+h.dayLightSavingsSegment*QR+h.dayLightSavingsHour*JR);a>0?(e>l.getTime()&&(n=(e-b.getTime()-Math.min(e-b.getTime(),JR))/1e3/60),e<=l.getTime()&&t>l.getTime()&&(r=(t-e-Math.min(t-l.getTime(),JR))/1e3/60)):a<0&&(e>=l.getTime()&&(n=(e-b.getTime()+JR)/1e3/60),e<l.getTime()&&t>=l.getTime()&&(r=t-e+Math.min(p.getTime()-i.getTime(),JR))),c.start=n,c.size=r}if(a!==F){const e=[];0!==c.size&&e.push(c),r.push({gamerXuid:l.xuid,gamerTag:l.gamerTag,gamerIcon:l.gamerIcon,gamerOnline:l.isOnline,gamerOptedIn:l.hasOptedIn,narrationText:[""],blocks:e}),s.add(l.gamerTag)}else 0!==c.size&&r[r.length-1].blocks.push(c);F=a}for(let e=0;e<a.length;e++){if(a[e].role===Jp.NONMEMBER||!n.has(a[e].gamerTag))continue;const t=a[e].gamerTag;s.has(t)||(r.push({gamerXuid:a[e].xuid,gamerTag:t,gamerIcon:a[e].gamerIcon,gamerOnline:a[e].isOnline,gamerOptedIn:a[e].hasOptedIn,narrationText:[""],blocks:[]}),s.add(t))}for(let e=0;e<r.length;e++){const a=[];for(let n=0;n<o;n++){const s=n*qR,u=(n+1)*qR-1,d=[];for(let t=0;t<r[e].blocks.length;t++){const a=r[e].blocks[t].start,n=a+r[e].blocks[t].size;if(a>=s&&a<u||n>s&&n<=u){const e=Math.max(a,s)-s,t=Math.floor(e%60),r=Math.floor(e/60),l=Math.min(n,u)-s,o=Math.floor(l%60),i=Math.floor(l/60);d.push(c(".fromTo",[c(".timeFormat",[r.toString(),t.toString()]),c(".timeFormat",[i.toString(),o.toString()])]))}}const m=o*(l-t)+o-n-1,p=new Date;p.setDate(i.getDate()-m);const f=c(".onDayOfMonthYear",[c(XR[p.getDay()]),p.getDate().toString(),c(".monthYear",[c($R[p.getMonth()]),p.getFullYear().toString()])]);if(0===d.length)a.push(c(".timeline")+" . "+c(".didNotPlay",[r[e].gamerTag,f]));else{let t="";for(let e=0;e<d.length;e++)t=0===e?d[e]:c(".and",[t,d[e]]);a.push([c(".timeline"),1===d.length?c(".timeblock"):c(".timeblocks"),c(".played",[r[e].gamerTag,t,f])].join(" . "))}}r[e].narrationText=a}return r}),[o,l,i,c],[a,e,n,r]))(s,F,C,M,o,r,p,f),T=(x=w,I=M,(0,t.useFacetMap)(((e,t)=>[...e].sort(((e,a)=>{var n,r;return(null!==(n=null==t?void 0:t.get(e.gamerTag))&&void 0!==n?n:0)-(null!==(r=null==t?void 0:t.get(a.gamerTag))&&void 0!==r?r:0)}))),[],[x,I]));var x,I;const P=(0,t.useFacetMap)((e=>o===e?r-1:-1),[o,r],[s]),O=(0,t.useFacetMap)((e=>1===e?r*o-28:-1),[o,r],[s]),N=Vn("neutral"),[A,L]=(0,t.useFacetState)([]);(0,t.useFacetEffect)((e=>{L(e)}),[L],[T]);const R=(0,t.useFacetMap)((e=>e[0]),[],[A]),D=(0,t.useFacetMap)((e=>0!==e.length&&!n),[n],[A]),_=aR.useModal(),B=(0,e.useCallback)((()=>{_.show()}),[_]),W=(0,e.useCallback)((()=>{c.push("/realms-stories-timeline-information")}),[c]);return e.createElement(e.Fragment,null,e.createElement(ac,{containerRef:i,focusControlDisabled:a},e.createElement("div",{ref:i},!n&&e.createElement("div",{className:lr()(_R,"nJCuE","mOhfQ")},e.createElement(t.Mount,{when:k},e.createElement(e.Fragment,null,e.createElement("div",{className:"iIZDl"},e.createElement("div",{className:"i14fq"},e.createElement(sL,null))),e.createElement(Sc,{size:4}))),e.createElement("div",{className:BR},e.createElement("div",{className:GR},e.createElement(ru,{inputLegend:g(".select"),onClick:B,imgSrc:ZR,narrationPrefix:E(".Information.narrationHint")})),e.createElement(Sc,{size:4}),e.createElement(Dw,{totalPages:o,currentPage:s,onChange:d,counterStyle:"hide-counter"}))),n&&e.createElement(t.Mount,{when:k},e.createElement(e.Fragment,null,e.createElement(sL,null),e.createElement(Sc,{size:2}))),e.createElement("div",{className:lr()(_R,BR)},e.createElement("div",{className:lr()({[WR]:n},{[UR]:!n},HR,VR,N.border.base,"C0AEe")},n&&e.createElement("div",{className:lr()(BR,"bu02g")},e.createElement("div",{className:GR},e.createElement(ru,{inputLegend:g(".select"),onClick:B,imgSrc:ZR,narrationPrefix:E(".Information.narrationHint")})),e.createElement(Sc,{size:4}),e.createElement(Dw,{totalPages:o,currentPage:s,onChange:d,counterStyle:"hide-counter"}))),e.createElement("div",{className:lr()({[zR]:n},{[jR]:!n},"dcgPW",HR,N.border.base)},e.createElement(IR,{firstRowData:h,secondRowData:b}))))),e.createElement(t.Mount,{when:_.isVisible},e.createElement(aR.Component,{closeModal:_.hide,learnMore:W})),e.createElement(t.Mount,{when:D},e.createElement("div",null,e.createElement(eD,{gamepadIndex:0,isDarker:!1,numberOfSegments:r,maximumBlockCount:l,highlightedSegment:P,blackenedSegmentBefore:O,blockColor:0,playerData:R}))),e.createElement("div",{className:lr()(_R,"tx_2T",N.border.base)},e.createElement("div",{className:lr()({oH5v_:n},{q0DXQ:!n})},e.createElement(Yc,{floating:!0,gamepadIndex:0},e.createElement("div",{className:lr()("x7BwQ",VR,N.border.base)},e.createElement(t.Map,{array:(0,t.useFacetMap)((e=>e.slice(n?0:1)),[n],[A])},((t,a)=>e.createElement(eD,{gamepadIndex:a,isDarker:a%2==(n?1:0),numberOfSegments:r,maximumBlockCount:l,highlightedSegment:P,blackenedSegmentBefore:O,blockColor:a+(n?0:1),playerData:t}))))))))}function aD(){const{t:a}=sp("RealmsStories"),n=(0,t.useSharedFacet)($p),r=aL(),l=(0,t.useFacetMap)(((e,t,a)=>e.isOnline?t.currentFetchState===ig.InternalError||t.currentFetchState===ig.FetchFailed||t.currentFetchState===ig.RateLimit||a.fetchSessionStatus===ig.InternalError||a.fetchSessionStatus===ig.FetchFailed||a.fetchSessionStatus===ig.RateLimit?"fetch-status-error-message":t.realmTimelineStatus?a.fetchSessionStatus===ig.Success&&0===a.sessions.length?"no-data-message":"no-message":"timeline-off-message":"no-internet-message"),[],[(0,t.useSharedFacet)(Ir),(0,t.useSharedFacet)(xf),(0,t.useSharedFacet)(Ef)]),o=(0,t.useFacetMap)((e=>"no-message"!=e),[],[l]),i=(0,t.useFacetCallback)((e=>()=>{e.fetchSessions()}),[],[n]);return e.createElement(hE,{noGutters:!0},e.createElement(t.Mount,{when:o},e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{wideSize:10,narrowSize:8,gamepadIndex:1},e.createElement(Yr,{data:l},(t=>{switch(t){case"no-internet-message":return e.createElement(oL,null);case"fetch-status-error-message":return e.createElement(cL,{onClick:i,pageName:a(".timeline")});case"timeline-off-message":return e.createElement(yE,{title:a(".messages.timelineOff.title"),text:a(".messages.timelineOff.body"),imgSrc:wR,imgClass:r});default:return e.createElement(yE,{title:a(".messages.timelineEmpty.title"),text:a(".messages.timelineEmpty.body"),imgSrc:wR,imgClass:r})}}))),e.createElement(hE.Column,{wideSize:1,narrowSize:0}))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement(hE.Row,{gamepadIndex:3,fullHeight:!0},e.createElement(hE.Column,{wideSize:12,narrowSize:8,gamepadIndex:0},e.createElement(tD,null)))))}function nD(){const a=(0,t.useSharedFacet)($p),n=(0,t.useSharedFacet)(Kp),r=u(),{t:l}=oi("RealmsStories"),o=vr(),i="realms-stories",c=be(),s=(0,t.useFacetMap)((e=>`${l(".header",[e.name])}`),[l],[n]),m=(0,t.useFacetMap)((e=>`${l(".screen",[e])}`),[l],[s]),p=d(),f=(0,t.useFacetCallback)((e=>()=>{e&&r.goBack()}),[r],[p]),g=(0,t.useSharedFacet)(kf),E=(0,t.useFacetMap)((e=>[{label:l(".storyFeed"),value:JA.Feed,hint:e.unreadStoryCount>0?e.unreadStoryCount>1?l(".unreadStoryHint",[e.unreadStoryCount.toString()]):l(".oneUnreadStoryHint"):"",badge:!e.mostRecentStoriesViewed&&e.unreadStoryCount>0?e.unreadStoryCount:void 0},{label:l(".timeline"),value:JA.Timeline},{label:l(".members"),value:JA.Members}]),[l],[g]),h=(0,t.useSharedFacet)(kf),b=(0,t.useFacetCallback)((e=>t=>{wf(e.stories),r.replace(`/realms-stories/${t}/${o.realmId}`),c(_E.getFocusAlias(i,t))}),[o.realmId,r,c],[h]),v=(0,t.useFacetCallback)((e=>()=>{wf(e.stories),r.push(`/realms-stories-settings/${o.realmId}`)}),[o.realmId,r],[h]),F=(0,t.useSharedFacet)(Ir),S=(0,t.useFacetMap)((e=>!e.isOnline),[],[F]),y=(0,t.useFacetCallback)(((e,t)=>()=>{t.fetchMembersStatus!==ig.InProgress&&t.fetchOnlineMembersStatus!==ig.InProgress&&(e.clearFetchMembersStatus(),e.fetchMembers())}),[],[a,(0,t.useSharedFacet)(Zp)]),C=(0,t.useFacetCallback)(((e,t)=>()=>{t.fetchSessionStatus!==ig.InProgress&&(e.clearFetchSessionsStatus(),e.fetchSessions())}),[],[a,(0,t.useSharedFacet)(Ef)]),M=(0,t.useFacetCallback)(((e,t)=>()=>{t.storiesStatus!==ig.InProgress&&(e.clearStoryFeedStatus(),e.fetchStories()),t.eventsStatus!==ig.InProgress&&(e.clearEventsStatus(),e.fetchEvents())}),[],[a,g]),[k,w]=(0,t.useFacetState)(!1);return(0,t.useFacetEffect)(((e,t)=>{!e&&t.isRealmWorldValid&&(w(!0),y(),M(),C())}),[y,M,C,w],[k,n]),e.createElement(Nn,{collection:ev},e.createElement(qg,{role:"primary"},e.createElement(fE,{onBackButton:f,center:e.createElement(gs,{type:"header5A"},s),narrationText:m,right:e.createElement(fE.MenuButton,{onClick:v,type:"filter",gamepadIndex:1,narrationText:l(".narration.settings")}),gamepadAlias:"realms-stories-route",defaultFocusedChildBehavior:"remember"},e.createElement("div",{className:"lLbmU"},e.createElement(hE,null,e.createElement(t.Mount,{when:S,condition:!1},e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(_E,{gamepadAliasNamespace:i,gamepadIndex:0,tabs:E,value:o.tab?o.tab:JA.Feed,enableGamepadShortcuts:!0,onChange:b,narrationTitle:l(".narration.title"),badgeRole:"secondary"})))),e.createElement(nb,{component:MR,tab:JA.Feed}),e.createElement(nb,{component:aD,tab:JA.Timeline}),e.createElement(nb,{component:(0,e.useCallback)((()=>e.createElement(EL,{isStoriesRouteActive:p})),[p]),tab:JA.Members}),e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})}))))))}function rD(e=[]){const a=(0,t.useFacetWrap)(e),n=(0,t.useFacetMap)(((e,t)=>0===t.length?e.screenshots:t),[],[(0,t.useSharedFacet)(Bf),a]);return(0,t.useFacetMap)((e=>({allScreenshots:e,featuredScreenshots:Ov(e,(e=>e.featured)),showcasedScreenshots:Ov(e,(e=>e.showcased)),unmarkedScreenshots:Ov(e,(e=>!e.showcased&&!e.featured))})),[],[n])}const lD=pi((()=>{const{t}=oi("RealmsNewStoryRoute.modals");return xx(t(".postingStoryTitle")),e.createElement(sd,null,e.createElement(sd.Header,null,t(".postingStoryTitle")),e.createElement(sd.Content,null,e.createElement(sd.Spinner,null)))})),oD=pi((()=>{const{t:a}=oi("RealmsNewStoryRoute.modals"),n="pop-up-modal-postingStoryErrorModal",r=(0,t.useSharedFacet)($p),l=(0,t.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[r]);return e.createElement(sd,{defaultFocusAlias:n},e.createElement(sd.Header,{onClose:l},a(".errorModalTitle")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:a(".errorModalBody"),gamepadIndex:0},a(".errorModalBody"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:n,inputLegend:a(".close"),variant:"secondary",onClick:l},a(".close"))))})),iD=a.p+"assets/add-image-dark-icon-7fb8f.png",cD=a.p+"assets/add-image-grey-icon-9de10.png",sD="juocW",uD="A6Wiz";var dD;function mD(){const a=(0,t.useSharedFacet)($p),n=(0,t.useSharedFacet)(qp),r=(0,t.useSharedFacet)(Zp),l=(0,t.useSharedFacet)(Kp),o=(0,t.useSharedFacet)(kf),i=rD(),c=(0,t.useSharedFacet)(Ir),s=(0,t.useSharedFacet)(Vp),d=To(70,100);let p=3,f=6;"narrow"===d?(p=1,f=7):"tablet"===d&&(p=2,f=8);const g=u(),{t:E}=oi("RealmsNewStoryRoute"),h=(0,t.useFacetMap)((e=>e.players),[],[r]),b=(0,t.useFacetMap)(((e,{userXuid:t})=>{var a;return null!==(a=jd(e,(e=>e.xuid===t)))&&void 0!==a?a:vL}),[],[h,l]),v=(0,t.useFacetMap)((e=>e.gamerIcon),[],[b]),F=(0,t.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[b]),S=(0,t.useFacetMap)((e=>!e.postInProgressBody.length&&!e.storyScreenshotSelectionFilePath.length),[],[n]),y=(0,t.useFacetMap)((e=>e.storyScreenshotSelectionFilePath.length>0),[],[n]),C=(0,t.useFacetMap)((e=>e.postStoryStatus),[],[o]),M=(0,t.useFacetMap)((e=>e===cg.InProgress||e===cg.Uploading||e===cg.Success),[],[C]),k=(0,t.useFacetMap)((e=>e===cg.InputInvalid||e===cg.InternalError||e===cg.PostingFailed||e===cg.UploadFailed),[],[C]),w=(0,t.useFacetMap)((e=>e===cg.RateLimit),[],[C]),T=(0,t.useFacetCallback)((e=>()=>{e.clearPostStoryStatus()}),[],[a]),x=(0,t.useFacetMap)(((e,t)=>{if(!t.storyScreenshotSelectionFilePath.length)return"";let a=null;return a=jd(e.allScreenshots,(e=>e.filePath===t.storyScreenshotSelectionFilePath)),null!=a?a.image:""}),[],[i,n]),I=(0,t.useFacetCallback)((e=>()=>{e.storyScreenshotSelectionFilePath=""}),[],[n]),P=(0,t.useFacetMap)((e=>e.postInProgressBody),[],[n]),O=(0,t.useFacetCallback)((e=>t=>{e.postInProgressBody=t}),[],[n]),N=(0,t.useFacetCallback)((e=>t=>{t.keyCode===ue.ENTER&&e.split("\n").length>=10&&t.preventDefault()}),[],[P]),[A,L]=py(!1),R=(0,t.useFacetCallback)(((e,t,a,n)=>()=>{t===cg.Idle&&(dy(a,n)?L.show():e.postStory())}),[L],[a,C,(0,t.useSharedFacet)(Gp),P]),D=(0,t.useFacetMap)(((e,t)=>{const a=[];return e?(a.push(dD.ChangeScreenshotButton),a.push(dD.RemoveScrenshotButton)):a.push(dD.AddScreenshotButton),a.push(dD.PostTextField),t||a.push(dD.PostStoryButton),a.push(dD.CancelPostButton),a}),[],[y,S]),_=(0,e.useCallback)(((e,t)=>{const a=e.indexOf(t);return-1===a?"":E(".enumeration",[`${a+1}`,`${e.length}`])}),[E]),B=(0,t.useFacetMap)((e=>_(e,dD.AddScreenshotButton)),[_],[D]),W=(0,t.useFacetMap)((e=>_(e,dD.ChangeScreenshotButton)),[_],[D]),U=(0,t.useFacetMap)((e=>_(e,dD.RemoveScrenshotButton)),[_],[D]),z=(0,t.useFacetMap)((e=>_(e,dD.PostTextField)),[_],[D]),j=(0,t.useFacetMap)((e=>_(e,dD.PostStoryButton)),[_],[D]),H=(0,t.useFacetMap)((e=>_(e,dD.CancelPostButton)),[_],[D]),V=(0,t.useFacetMap)(((e,t)=>e?[E(".disabled"),E(".postStoryHint")].join(" . "):t),[E],[S,j]),G=(0,t.useFacetMap)(((e,t)=>[E(".textBoxPlaceholder"),E(".inputField"),t,e.length>0?e:E(".inputFieldHint")].join(" . ")),[E],[P,z]),$=(0,t.useFacetMap)((e=>!e.getAllowCapturesResult),[],[s]),K=(0,t.useFacetMap)((e=>e?cD:iD),[],[$]),X=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.RealmsSafetyPage)}),[],[(0,t.useSharedFacet)(vg)]);!function(){const e=(0,t.useSharedFacet)($p),a=(0,t.useSharedFacet)(qp),n=(0,t.useSharedFacet)(kf),r=u(),l=(0,t.useSharedFacet)(Qn),o=(0,t.useSharedFacet)(Kp),{t:i}=oi("RealmsStories"),c=(0,t.useFacetMap)((e=>e.postStoryStatus),[],[n]),s=(0,t.useFacetCallback)((e=>()=>e.clearPostStoryStatus()),[],[e]),d=(0,t.useFacetCallback)((e=>()=>{e.postInProgressBody="",e.storyScreenshotSelectionFilePath=""}),[],[a]),m=(0,t.useFacetCallback)((e=>()=>e.newPostAvailable=!0),[],[a]),p=(0,t.useFacetCallback)((e=>()=>{let t=0;for(;t<e.history.list.length&&(null===(a=e.history.list[t])||void 0===a||!a.pathname.includes("/post-to-realm-stories"));){var a;++t}t<e.history.list.length?r.go(t-e.history.list.length):r.goBack()}),[r],[l]),f=(0,t.useSharedFacet)(bp),g=(0,t.useFacetCallback)(((e,t,a)=>()=>{let n=0;for(;n<e.history.list.length&&(null===(r=e.history.list[n])||void 0===r||!r.pathname.includes("/post-to-realm-stories"));){var r;++n}n<e.history.list.length&&t.queueSnackbar(i(".postedTo",[a.name]))}),[i],[l,f,o]);(0,t.useFacetEffect)((e=>{e===cg.Success&&(g(),s(),d(),m(),p())}),[s,d,m,p,g],[c])}();const Y=m(),q=(0,t.useFacetMap)((e=>e.realmId),[],[Y]),Q=(0,t.useFacetCallback)((e=>()=>{g.push(`/realms-new-story/screenshot-gallery/${e}`)}),[g],[q]),J=Vn("neutral"),Z=(0,t.useFacetMap)((e=>!e.isOnline),[],[c]);return e.createElement(Nn,{collection:ev},e.createElement(qg,{role:"primary"},e.createElement(fE,{onBackButton:g.goBack,center:e.createElement(gs,{type:"header5A"},E(".addStory")),gamepadAlias:"realms-new-story-route"},e.createElement(t.Mount,{when:M},e.createElement(lD.Component,null)),e.createElement(t.Mount,{when:k},e.createElement(oD.Component,null)),e.createElement(t.Mount,{when:w},e.createElement(_x.Component,{onClickClose:T})),e.createElement(t.Mount,{when:L.isVisible},e.createElement(my.Component,{onClose:L.hide})),e.createElement(hE,null,e.createElement(t.Mount,{when:Z},e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:p,narrowSize:0}),e.createElement(hE.Column,{wideSize:f,narrowSize:8},e.createElement(Sc,{size:4}),e.createElement(oL,null)))),e.createElement(t.Mount,{when:Z,condition:!1},e.createElement(hE.Row,{className:"v1A9Y"},e.createElement(hE.Column,{wideSize:p,narrowSize:p},e.createElement(Sc,{size:4}),e.createElement("div",{className:"QTomy"},e.createElement(jw,{status:F,src:v,variant:"large"}))),e.createElement(hE.Column,{wideSize:f,narrowSize:f},e.createElement(Yc,null,e.createElement(Sc,{size:4}),e.createElement("div",{className:uD},e.createElement(ey,null,e.createElement(t.DeferredMount,null,e.createElement(t.Mount,{when:$},e.createElement(Ws,null,e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,E(".bannerText")),e.createElement(Sc,{size:1}),e.createElement(lS.Link,{onClick:X,gamepadIndex:0},E(".bannerLink")))))),e.createElement(t.DeferredMount,null,e.createElement(Ws,null,e.createElement(gs,{type:"body"},E(".selectScreenshot")),e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:y,condition:!1},e.createElement(VM,{shouldSkipLandmarkInVisual:!0},e.createElement(ru,{onClick:Q,inputLegend:E(".addScreenshot"),imgSrc:K,narrationPrefix:E(".addScreenshot"),narrationSuffix:B,disabled:$},E(".addScreenshot")))),e.createElement(t.Mount,{when:y},e.createElement(e.Fragment,null,e.createElement("div",{className:lr()(uD,J.border.base)},e.createElement(oc,{src:x,aspectRatio:oc.AspectRatio["16:9"]})),e.createElement(Sc,{size:2}),e.createElement(VM,{shouldSkipLandmarkInVisual:!0},e.createElement("div",{className:sD},e.createElement(ru,{inputLegend:E(".changeScreenshotImage"),onClick:Q,narrationPrefix:E(".changeScreenshotImage"),narrationSuffix:W,horizontal:!0},E(".change")),e.createElement(Sc,{size:4}),e.createElement(ru,{inputLegend:E(".removeScreenshotImage"),onClick:I,narrationPrefix:E(".removeScreenshotImage"),narrationSuffix:U,horizontal:!0},E(".remove")))))))),e.createElement(t.DeferredMount,null,e.createElement(VM,{shouldSkipLandmarkInVisual:!0},e.createElement(Ey,{"data-testid":"new-story-field-id",maxLength:350,rows:3,label:"",placeholder:E(".textBoxPlaceholder"),value:P,narrationOverride:G,onChange:O,onKeyDown:N,disabled:M,onBlur:A}))),e.createElement(Ws,null,e.createElement(VM,{shouldSkipLandmarkInVisual:!0},e.createElement("div",{className:sD},e.createElement(ru,{inputLegend:E(".cancel"),onClick:g.goBack,horizontal:!0,narrationPrefix:E(".cancel"),narrationSuffix:H},E(".cancel")),e.createElement(Sc,{size:4}),e.createElement(ru,{inputLegend:E(".postStory"),variant:"primary",onClick:R,disabled:(0,t.useFacetMap)(((e,t)=>t||e),[],[S,M]),horizontal:!0,narrationPrefix:E(".postStory"),narrationSuffix:V},E(".post"))))))),e.createElement(Sc,{size:2})),e.createElement(Zu.Space,null))))))))}!function(e){e[e.AddScreenshotButton=0]="AddScreenshotButton",e[e.ChangeScreenshotButton=1]="ChangeScreenshotButton",e[e.RemoveScrenshotButton=2]="RemoveScrenshotButton",e[e.PostTextField=3]="PostTextField",e[e.PostStoryButton=4]="PostStoryButton",e[e.CancelPostButton=5]="CancelPostButton"}(dD||(dD={}));const pD=a.p+"assets/addImage-e88c8.png",fD=a.p+"assets/image-0f4da.png",gD="FSvA8";function ED({screenshot:a,index:n,length:r,onScreenshotClicked:l,variant:o,isSelected:i=!1,gamepadAlias:c}){const{t:s}=oi("ScreenshotGalleryItem"),{t:u}=oi("ScreenshotGalleryItem.narration"),d=Vn(),m=(0,t.useFacetWrap)(a),p=(0,t.useFacetWrap)(i),f=(0,t.useFacetMap)((e=>e.thumbnail),[],[m]),g=(0,t.useFacetMap)((e=>"manage"===o?s(".replaceScreenshot"):e.captureTimeLabel),[o,s],[m]),E=(0,t.useFacetMap)(((e,t,a,r)=>{if("select"!==o){const r=[a,u(".cardRole")];return e.featured&&r.push(u(".featured")),e.showcased&&r.push(u(".showcased")),r.push(u(".enumeration",[(n+1).toString(),t.toString()])),r.filter((e=>null!=e&&""!==e)).join(" . ")}{const a=[];return r?a.push(u(".checked")):a.push(u(".notChecked")),a.push(u(".checkboxRole")),e.featured&&a.push(u(".featured")),e.showcased&&a.push(u(".showcased")),a.push(u(".enumeration",[(n+1).toString(),t.toString()])),a.filter((e=>null!=e&&""!==e)).join(" . ")}}),[u,n,o],[m,r,g,p]),h=(0,t.useFacetMap)((e=>e.featured),[],[m]),b=(0,t.useFacetMap)((e=>e.showcased),[],[m]),v=Rd(Um),F=(0,t.useFacetCallback)((e=>()=>{l(e)}),[l],[m]),S=(0,t.useFacetMap)((e=>"manage"===o||!Qv(e.platform)),[o],[(0,t.useSharedFacet)(Ir)]);return e.createElement(pr,null,e.createElement(lI,{inputLegend:s(".screenshotInputLegend"),narrationTextOverride:E,onClick:F,hideBottomPadding:!0,gamepadAlias:c},e.createElement("div",null,e.createElement(oc,{src:f,aspectRatio:oc.AspectRatio["16:9"]}),v&&e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:b},e.createElement("div",{className:lr()(d.neutral.background.base,"_WNVA")},e.createElement(DF.Friends,{role:"neutral",width:24,height:24}))),e.createElement(t.Mount,{when:h},e.createElement("div",{className:"xWZPm"},e.createElement(jM,{role:"primaryTint"},s(".featured"))))),"select"===o&&e.createElement("div",{className:"yePX7"},e.createElement(Ms,{value:p,narrationText:!1,gamepad:{index:0},mountFocusBorder:!1}))),e.createElement(t.Mount,{when:S},e.createElement(lI.Information,{narrationText:E},e.createElement(gs,{variant:"dimmer",type:"body"},g)))))}function hD(e){return"desktop"===e?6:"narrow"===e?2:4}function bD({displayData:a,onScreenshotClicked:n,innerRef:r,changePage:l,totalPages:o,currentPage:i,paginationEnabled:c,selectionEnabled:s=!1,selectedScreenshots:u,isLoadingScreenshots:d=!1,listWrapper:m}){const p=(0,t.useFacetMap)((e=>e.length),[],[a]),f=To(),g=(0,t.useFacetWrap)(s),E=(0,t.useFacetMap)(((e,t,a)=>e?a.map((e=>t.includes(e.id))):null),[],[g,u,a]);return e.createElement(e.Fragment,null,e.createElement(Yr,{data:E},(s=>e.createElement(qx,{loading:d,gamepadAlias:"screenshot-gallery-grid",listWrapper:m,data:a,columns:hD(f),firstRowSeparatorVertical:e.createElement(Sc,{size:2}),itemSeparatorHorizontal:e.createElement(Sc,{size:2}),itemSeparatorVertical:e.createElement(Sc,{size:2}),innerRef:r,footer:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:c,condition:!0},e.createElement("div",null,e.createElement(Sc,{size:4}),e.createElement("div",null,e.createElement(Dw,{totalPages:o,currentPage:i,onChange:l})),e.createElement(Sc,{size:4}))),e.createElement(t.Mount,{when:c,condition:!1},e.createElement(Sc,{size:4})),e.createElement(Zu.Space,null)),renderItem:({itemFacet:t,index:a})=>e.createElement(ED,{length:p,screenshot:t,onScreenshotClicked:n,index:a,variant:null!=s?"select":"view",isSelected:null!=s&&s[a]})}))))}let vD,FD;function SD(e,a,n,r=1){const l=(0,t.useFacetWrap)(r);return(0,t.useFacetMap)(((e,t,a,n)=>{let r=[];switch(a){case FD.Showcased:r=jm(e.showcasedScreenshots);break;case FD.Featured:r=jm(e.featuredScreenshots);break;case FD.Unmarked:r=jm(e.unmarkedScreenshots);break;default:r=jm(e.allScreenshots)}r=t===vD.NewestFirst?r.sort(((e,t)=>t.captureTime-e.captureTime)):r.sort(((e,t)=>e.captureTime-t.captureTime));const l=r.slice(48*(n-1),48*n);return{fullData:r,pageData:l}}),[],[e,a,n,l])}ED.Empty=function({index:a,length:n,variant:r,imgSrc:l,onClick:o,gamepadAlias:i}){const{t:c}=oi("ScreenshotGalleryItem"),{t:s}=oi("ScreenshotGalleryItem.narration"),u=Vn("inherit"),d=Vn("neutral80"),m=(0,t.useFacetWrap)(r),p=(0,t.useFacetMap)(((e,t)=>{const n="manage"===t?[c(".pickScreenshot")]:[c(".emptyScreenshotSlot")];return n.push(s(".cardRole"),s(".enumeration",[(a+1).toString(),e.toString()])),n.join(" . ")}),[s,c,a],[n,m]),f=oc.aspectRatioToPercentage(oc.AspectRatio["16:9"]),g=(0,t.useFacetMap)(((e,t)=>"manage"===t?null==e?`url(${pD})`:`url(${pD}), url(${e})`:null==e?`url(${fD})`:`url(${fD}), url(${e})`),[],[(0,t.useFacetWrap)(l),m]);return"manage"===r?e.createElement(pr,null,e.createElement(lI,{inputLegend:c(".screenshotInputLegend"),narrationTextOverride:p,onClick:o,hideBottomPadding:!0,gamepadAlias:i},e.createElement(Yr,{data:g},(t=>e.createElement("div",{style:{paddingTop:f,backgroundImage:t},className:lr()(gD,u.background.base)}))),e.createElement(lI.Information,{narrationText:p},e.createElement(gs,{variant:"dimmer",type:"body"},c(".pickScreenshot"))))):e.createElement("div",{className:"mb1eq"},e.createElement(Li,{inputLegend:!1,narrationText:p,className:lr()("F2PvF",d.border.base,d.background.base),classNameFocused:vi,gamepadAlias:i},e.createElement(bi,null),e.createElement(Yr,{data:g},(t=>e.createElement("div",{style:{paddingTop:f,backgroundImage:t},className:lr()(gD,d.background.base)})))))},function(e){e[e.NewestFirst=0]="NewestFirst",e[e.OldestFirst=1]="OldestFirst"}(vD||(vD={})),function(e){e[e.ShowAll=0]="ShowAll",e[e.Showcased=1]="Showcased",e[e.Unmarked=2]="Unmarked",e[e.Featured=3]="Featured"}(FD||(FD={}));const yD="NzFL8",CD="S2wPa",MD=a.p+"assets/Screenshots-Empty-4b260.png";let kD;function wD({errorType:a}){const n=(0,t.useFacetWrap)(a),{t:r}=oi("ScreenshotGalleryError"),l=Ud({wide:8,narrow:6,width:260});return e.createElement(Yr,{data:n},(t=>t===kD.EmptyGallery?e.createElement(yE,{title:r(".emptyGalleryTitle"),text:r(".emptyGalleryMessage"),imgSrc:MD,imgClass:l?"I7HUE":"O9q7X"}):e.createElement("div",null)))}function TD({headerText:a,showHeaderNumbers:n=!1,onScreenshotClicked:r,screenshotLists:l,scrollViewRef:o,managementRowButtons:i,isLoadingScreenshots:c=!1,onSubmitSelection:s,onCancelSelection:d,maxSelection:m=-1,onGoBack:p,selectionEnabled:f=!1}){const{t:g}=oi("ScreenshotGalleryContainer"),E=u(),h=Rd(Um),b=(0,t.useFacetWrap)(m),[v,F]=(0,t.useFacetState)(FD.ShowAll),S=(0,t.useSharedFacet)(Bf),y=(0,t.useFacetWrap)(c),C=(0,t.useFacetWrap)(f),[M,k]=(0,t.useFacetState)(1),w=(0,e.useCallback)((()=>{p?p():E.goBack()}),[p,E]),[T,x]=(0,t.useFacetState)(!1),I=(0,e.useCallback)((()=>{null!=o&&null!=o.current&&(o.current.scrollTop=0)}),[o]),P=(0,e.useCallback)((e=>{x(e.target.scrollTop>0)}),[x]);(0,e.useEffect)((()=>{const e=null==o?void 0:o.current;return null==e||e.addEventListener("scroll",P),()=>{null==e||e.removeEventListener("scroll",P)}}));const{delegationEventFacet:O,delegateFocus:N}=Xi(),A=(0,e.useRef)(null),L=(0,e.useCallback)((e=>{k(e),I(),N.first()}),[I,k,N]),[R,D]=(0,t.useFacetState)([]);(0,t.useFacetEffect)((e=>{e&&F(FD.ShowAll),L(1),D([])}),[L,F,D],[C]);const _=(0,t.useFacetMap)((e=>0===e.length),[],[R]),B=(0,t.useFacetCallback)((e=>a=>{D((n=>n===t.NO_VALUE?t.NO_VALUE:n.includes(a.id)?n.filter((e=>e!==a.id)):-1===e||n.length<e?[...n,a.id]:n))}),[D],[b]),W=(0,t.useFacetCallback)((e=>()=>{s&&s(e)}),[s],[R]),U=To(),[z,j]=(0,t.useFacetState)(vD.NewestFirst),H=(0,e.useCallback)((e=>{j(e),I(),L(1)}),[L,I,j]),V=(0,e.useCallback)((e=>{F(e),I(),L(1)}),[L,I,F]),G=(0,t.useFacetWrap)([{label:g(".newestFirst"),value:vD.NewestFirst,gamepadAlias:"screenshot-sort-menu-options1",enumeration:g(".optionsEnumeration",["1","2"])},{label:g(".oldestFirst"),value:vD.OldestFirst,gamepadAlias:"screenshot-sort-menu-options3",enumeration:g(".optionsEnumeration",["2","2"])}]),$=(0,t.useFacetMap)((e=>e===vD.NewestFirst?g(".newestFirst"):g(".oldestFirst")),[g],[z]),K=function(e){const{t:a}=oi("ScreenshotGalleryContainer");return(0,t.useFacetMap)((e=>{const t=[{label:a(".showAll",[e.allScreenshots.length.toString()]),value:FD.ShowAll,gamepadAlias:"screenshot-filter-menu-options-1",enumeration:""}];e.showcasedScreenshots.length>0&&t.push({label:a(".showcased",[e.showcasedScreenshots.length.toString()]),value:FD.Showcased,gamepadAlias:`screenshot-filter-menu-options-${t.length+1}`,enumeration:""}),e.featuredScreenshots.length>0&&t.push({label:a(".featured",[e.featuredScreenshots.length.toString()]),value:FD.Featured,gamepadAlias:`screenshot-filter-menu-options-${t.length+1}`,enumeration:""}),e.unmarkedScreenshots.length>0&&t.push({label:a(".unmarked",[e.unmarkedScreenshots.length.toString()]),value:FD.Unmarked,gamepadAlias:`screenshot-filter-menu-options-${t.length+1}`,enumeration:""});for(let e=0;e<t.length;e++)t[e].enumeration=a(".optionsEnumeration",[`${e+1}`,`${t.length}`]);return t}),[a],[e])}(l),X=(0,t.useFacetMap)(((e,t)=>{var a,n;return null!==(a=null===(n=t.find((t=>t.value===e)))||void 0===n?void 0:n.label)&&void 0!==a?a:""}),[],[v,K]),Y=(0,t.useFacetWrap)(a),q=(0,t.useFacetWrap)(n),Q=(0,t.useFacetMap)(((e,t,a,n,r,l,o)=>t&&-1===l||!r?e:g(".headerTextWithNumbers",[e,`${t?a.length:n.allScreenshots.length}`,`${t?l:o.maxScreenshots}`])),[g],[Y,C,R,l,q,b,S]),J=SD(l,z,v,M),Z=(0,t.useFacetMap)((e=>e.pageData),[],[J]),ee=(0,t.useFacetMap)((e=>e.fullData),[],[J]),[te,ae]=(0,t.useFacetState)(!1),[ne,re]=(0,t.useFacetState)(1);(0,t.useFacetEffect)((e=>{ae(e.length>48),re(Math.ceil(e.length/48))}),[ae,re],[ee]);const le=(0,t.useFacetCallback)(((e,t,a)=>n=>{a?B(n):r(n,e,t)}),[r,B],[z,v,C]),oe=(0,t.useFacetMap)(((e,t)=>(null==e||0===e.length)&&!t),[],[ee,y]),ie=(0,t.useFacetMap)(((e,t)=>e&&!t),[],[T,oe]),ce=(0,e.useCallback)((({children:t})=>e.createElement(qi,{delegationEvent:O},e.createElement(ac,{containerRef:A,delegateFocusFromMemory:!0},e.createElement("div",{ref:A},t)))),[A,O]),se=h?"ttXbT":"vnqNC",ue=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[oe,C]);return e.createElement(e.Fragment,null,e.createElement(qg,null,e.createElement(fE,{onBackButton:w,center:e.createElement(gs,{type:"header5A",children:Q}),gamepadAlias:"screenshot-gallery"},e.createElement(hE,null,e.createElement(Sc,{size:3}),e.createElement(t.Mount,{when:ue},e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement("div",{className:"narrow"===U&&h?"nM6wO":"ziqkT"},e.createElement("div",{className:lr()("ewABs","narrow"!==U?se:"")},h&&e.createElement(e.Fragment,null,e.createElement("div",{className:yD},e.createElement(dL,{title:X,options:K,value:v,onItemSelect:V,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0})),e.createElement(Sc,{size:2})),e.createElement("div",{className:yD},e.createElement(dL,{title:$,options:G,value:z,onItemSelect:H,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0}))),e.createElement(Sc,{size:2}),i)))),e.createElement(t.Mount,{when:C},e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement("div",{className:"Lypqj"},e.createElement("div",{className:CD},e.createElement(ru,{inputLegend:g(".cancel"),onClick:d,"data-testid":"cancel-selection"},g(".cancel"))),e.createElement(Sc,{size:2}),e.createElement("div",{className:CD},e.createElement(ru,{inputLegend:g(".confirmButtonText"),onClick:()=>W(),disabled:_,"data-testid":"submit-selection",variant:"primary"},g(".confirmButtonText"))))))),e.createElement(Sc,{size:3}),e.createElement(t.Mount,{when:ie},e.createElement("div",{className:"cybQO","data-testid":"gallery-content-divider"},e.createElement(Db,{role:"neutral80",reversed:!1}))),e.createElement(hE.Row,{fullHeight:!0},e.createElement(t.Mount,{when:oe,condition:!1},e.createElement(hE.Column,{narrowSize:8,wideSize:12},e.createElement(bD,{displayData:Z,onScreenshotClicked:le,changePage:L,currentPage:M,totalPages:ne,paginationEnabled:te,innerRef:o,selectedScreenshots:R,isLoadingScreenshots:y,listWrapper:ce,selectionEnabled:C}))),e.createElement(t.Mount,{when:oe,condition:!0},e.createElement(e.Fragment,null,e.createElement(hE.Column,{narrowSize:0,wideSize:1}),e.createElement(hE.Column,{narrowSize:8,wideSize:10},e.createElement(wD,{errorType:kD.EmptyGallery})),e.createElement(hE.Column,{narrowSize:0,wideSize:1})))),e.createElement(Zu.Space,null)))))}function xD(){const{t:a}=oi("RealmsStoriesScreenshotGalleryRoute"),n=(0,t.useSharedFacet)(qp),r=(0,t.useSharedFacet)(Bf),l=(0,t.useSharedFacet)(Eg),o=u(),i=(0,t.useFacetCallback)((e=>t=>{e.storyScreenshotSelectionFilePath=t.filePath,o.goBack()}),[o],[n]),c=(0,t.useFacetCallback)(((e,t)=>()=>{e.loadScreenshots(t.currentPfid)}),[],[r,l]);(0,e.useEffect)((()=>{c()}),[c]);const s=(0,t.useFacetMap)((e=>e.isLoadingScreenshots),[],[r]),d=rD(),m=(0,e.useRef)(null);return e.createElement(TD,{onScreenshotClicked:i,headerText:a(".header"),screenshotLists:d,scrollViewRef:m,isLoadingScreenshots:s})}!function(e){e[e.NoError=0]="NoError",e[e.EmptyGallery=1]="EmptyGallery"}(kD||(kD={}));const ID=a.p+"assets/default-f0026.png";function PD(e,t){const a=function(e,t){for(let a=0;a<e.images.length;a++){const n=e.images[a];if((null==n?void 0:n.id)===t)return n}return null}(e,t);return a&&(null==a?void 0:a.url.length)>0?null==a?void 0:a.url:a&&a.isLoaded?ID:""}function OD(e,t){for(let a=0;a<e.buttons.length;a++){const n=e.buttons[a];if(null!=n&&n.id==t)return n}return null}function ND(e,t,a=""){const n=OD(e,t);return null!=n&&n.text.length>0?n.text:a}function AD(){const e=u();return(0,t.useFacetCallback)((t=>(a,n)=>{t.reportClick(a,n.id),n.action===wp.EXTERNAL?n.openExternalLink():n.action==wp.INTERNAL&&e.replace(n.link)}),[e],[(0,t.useSharedFacet)(xp)])}function LD({errorMessage:t,messageID:a}){const{t:n}=oi("AnnouncementModalRoute"),r=u();let l=String(n(".errorTitle"));const o=String(t);return null!=a&&(l+=" ID: "+a),e.createElement(rs,{text:l+o},e.createElement(sd,null,e.createElement(sd.Header,null,l),e.createElement(sd.Content,{focusableIfScrollable:!0},e.createElement(sd.Text,{gamepadIndex:0,narrationText:o},e.createElement(gs,{type:"captionLong",align:"left"},o))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:1,inputLegend:n(".confirmInputLegend"),variant:"secondary",onClick:()=>{r.goBack()}},n(".continue")))))}function RD({button:t}){return(null==t?void 0:t.action)==wp.EXTERNAL?e.createElement(e.Fragment,null,e.createElement(DF.ExternalLink,{role:"inherit"}),e.createElement(Sc,{size:2})):null}const DD="U_nrH",_D="CallToAction";function BD({announcement:a}){const{t:n}=oi("AnnouncementModalRoute"),r=hr(),l=(0,t.useFacetUnwrap)(a),o=AD(),i=(0,t.useFacetCallback)((e=>t=>{e(t)}),[],[(0,t.useSharedFacet)(Ip)]);if(l===t.NO_VALUE||null==l)return e.createElement(LD,{errorMessage:n(".errorNoMessage")});const c=l.header,s=l.body;if(null==s||null==c||!function(e){return"ImageThumbnailCTA"===e.template&&e.images.length>=2&&null!=OD(e,_D)}(l))return e.createElement(LD,{errorMessage:n(".errorInvalidTemplate")});const u=ND(l,"Dismiss",n(".continue")),d=OD(l,_D),m=ND(l,_D,n(".unlock")),p=PD(l,"Primary"),f=PD(l,"Secondary"),g=()=>{i(l.id),r.goBack()};return e.createElement(sd,null,e.createElement(sd.Header,{onClose:g},c),e.createElement(sd.Content,{focusableIfScrollable:!0},e.createElement("div",{className:"oSCgi"},e.createElement("div",{className:"j8BMW"},e.createElement("div",{className:"f2sqL"},e.createElement(oc,{src:p,className:DD,aspectRatio:oc.AspectRatio["16:9"]})),e.createElement(Sc,{size:2}),e.createElement("div",{className:"Fhcnq"},e.createElement("div",{className:"iDAT_"},e.createElement(oc,{src:f,className:DD,aspectRatio:oc.AspectRatio["16:9"]})),e.createElement("div",{className:"vfwUy"},e.createElement(ru,{gamepadIndex:1,inputLegend:n(".confirmInputLegend"),variant:"primary",Icon:()=>e.createElement(RD,{button:d}),onClick:()=>{null!=d&&(o(l.id,d),i(l.id))}},m)))),e.createElement(sd.Text,{gamepadIndex:2,narrationText:s},e.createElement("div",{className:"k1gtT"},e.createElement(gs,{type:"captionLong",align:"left",whiteSpace:"preWrap"},s))))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:3,inputLegend:n(".confirmInputLegend"),variant:"secondary",onClick:g},u)))}function WD({announcement:a}){const{t:n}=oi("AnnouncementModalRoute"),r=hr(),l=(0,t.useFacetUnwrap)(a),o=(0,t.useFacetCallback)((e=>t=>{e(t)}),[],[(0,t.useSharedFacet)(Ip)]);if(l===t.NO_VALUE||null==l)return e.createElement(LD,{errorMessage:n(".errorNoMessage")});const i=l.header,c=l.body;if(null==c||null==i||!function(e){return"ImageText"===e.template&&e.images.length>=1}(l))return e.createElement(LD,{errorMessage:n(".errorInvalidTemplate")});const s=PD(l,"Primary"),u=ND(l,"Dismiss",n(".continue")),d=()=>{o(l.id),r.goBack()};return e.createElement(sd,null,e.createElement(sd.Header,{onClose:d},i),e.createElement(sd.Content,{focusableIfScrollable:!0},e.createElement("div",{className:"c2zWX"},e.createElement("div",{className:"NQe8O"},e.createElement(oc,{src:s,className:"f9XJI",aspectRatio:oc.AspectRatio["16:9"]})),e.createElement(sd.Text,{gamepadIndex:0,narrationText:c},e.createElement("div",{className:"L5DW3"},e.createElement(gs,{type:"captionLong",align:"left",whiteSpace:"preWrap"},c))))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:1,inputLegend:n(".confirmInputLegend"),variant:"secondary",onClick:d},u)))}const UD="CallToAction";function zD({announcement:a}){const{t:n}=oi("AnnouncementModalRoute"),r=u(),l=(0,t.useFacetUnwrap)(a),o=AD(),i=(0,t.useFacetCallback)((e=>t=>{e(t)}),[],[(0,t.useSharedFacet)(Ip)]);if(l===t.NO_VALUE||null==l)return e.createElement(LD,{errorMessage:n(".errorNoMessage")});const c=l.header,s=l.body;if(null==s||null==c||!function(e){return"HeroImageCTA"===e.template&&e.images.length>=1}(l))return e.createElement(LD,{errorMessage:n(".errorInvalidTemplate")});const d=ND(l,"Dismiss",n(".continue")),m=OD(l,UD),p=ND(l,UD,n(".unlock")),f=PD(l,"Primary"),g=()=>{i(l.id),r.goBack()},E=()=>e.createElement(RD,{button:m});return e.createElement(sd,null,e.createElement(sd.Header,{onClose:g},c),e.createElement(sd.Content,{focusableIfScrollable:!0},e.createElement("div",{className:"HGHq5"},e.createElement("div",{className:"taCiG"},e.createElement(oc,{src:f,className:"CL2fS",aspectRatio:oc.AspectRatio["16:9"]})),e.createElement(sd.Text,{gamepadIndex:0,narrationText:s},e.createElement("div",{className:"FDtOo"},e.createElement(gs,{type:"captionLong",verticalAlign:"center",align:"left",role:"inherit",whiteSpace:"preWrap"},s))))),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadIndex:1,inputLegend:n(".confirmInputLegend"),variant:"secondary",onClick:g,horizontal:!0},d),null!=m&&e.createElement(Sc,{size:4}),null!=m&&function(t){return e.createElement(ru,{gamepadIndex:2,inputLegend:n(".confirmInputLegend"),variant:"primary",Icon:E,onClick:()=>{null!=m&&(o(t,m),i(t))},horizontal:!0},p)}(l.id)))}function jD({template:a,message:n}){const{t:r}=oi("AnnouncementModalRoute"),l=(0,t.useFacetUnwrap)(a),o=(0,t.useFacetUnwrap)(n);if(l==t.NO_VALUE||o==t.NO_VALUE)return null;switch(l){case"ImageText":return e.createElement(WD,{announcement:o});case"ImageThumbnailCTA":return e.createElement(BD,{announcement:o});case"HeroImageCTA":return e.createElement(zD,{announcement:o});default:return e.createElement(LD,{errorMessage:r(".errorUnsupportedTemplate")})}}function HD(){const{t:a}=oi("AnnouncementModalRoute"),n=vr(),r=(0,t.useSharedFacet)(Op(n.id)),l=(0,t.useFacetMap)((e=>e.message),[],[r]),o=(0,t.useFacetMap)(((e,t)=>e.isLoaded&&null!=t),[],[r,l]),i=(0,t.useFacetMap)(((e,t)=>e.isLoaded&&null==t),[],[r,l]),c=(0,t.useFacetMap)((e=>null==e?void 0:e.template),[],[l]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(jD,{template:c,message:l})),e.createElement(t.Mount,{when:i},e.createElement(LD,{errorMessage:a(".errorNoMessage")})))}const VD=(0,t.sharedFacet)("vanilla.playerBanned"),GD=()=>{var a;const n=hr(),{t:r}=oi("PlayerBannedModalRoute"),l=(0,t.useFacetCallback)((e=>()=>e.openBannedInfoPage()),[],[(0,t.useSharedFacet)(VD)]),o=br(),i=r("."+(null!==(a=o.get("banReason"))&&void 0!==a?a:"unknownReportArea")),c=o.get("timeRemaining"),s="1"==o.get("isHours"),u="1"==o.get("isPermanent"),d=r(u?".permanent":".temporary"),m=r(".body",[d,i]),p=r(".close"),f=r(".body2",[p,d]),g=r(".title",[d]),E=function(e,t,a,n){return t?n(".body.forever"):null==e||"0"==e?"":"1"==e?n(a?".body.hour":".body.day"):n(a?".body.hours":".body.days",[e])}(c,u,s,r);return e.createElement(sd,null,e.createElement(sd.Header,{onClose:()=>n.goBack()},g),e.createElement(sd.Content,null,e.createElement(sd.Paragraphs,{narrationText:`${m}. ${f} . ${E}`,spaceBetweenParagraphs:4,gamepadIndex:0},e.createElement(gs,{type:"captionLong"},m),e.createElement(gs,{type:"captionLong"},f),""!=E&&e.createElement(gs,{type:"captionLong"},E)),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0})),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,autofocus:!0,inputLegend:p,variant:"primary",delayedClick:!0,onClick:l},p)))},$D=pi((({onOptInCompleted:t})=>{const a="Open-Realms-Stories-Button",{t:n}=oi("RealmsStories"),{t:r}=oi("RealmsStories.OptInModal"),l=mi(),o=(0,e.useCallback)((()=>{l(),t()}),[t,l]),i=r(".title"),c=r(".message");return e.createElement(sd,{defaultFocusAlias:a},e.createElement(sd.Header,null,i),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:c},c)),e.createElement(sd.Buttons,null,e.createElement(Nn,{collection:ev},e.createElement(ru,{gamepadAlias:a,gamepadIndex:0,inputLegend:n(".select"),variant:"primary",onClick:o},r(".openStoriesButton")))))})),KD=pi((({isAlreadyOptedIn:a,isOwner:n,onClose:r,onOptOutCompleted:l,onOptOutCancelled:o})=>{const i="Opt-Out-Button",{t:c}=oi("RealmsStories"),{t:s}=oi("RealmsStories.OptOutModal"),{t:u}=oi("RealmsStories.settings.OptOutModal"),d=(0,e.useCallback)((()=>{r(),l()}),[r,l]),m=(0,e.useCallback)((()=>{r(),o()}),[r,o]),p=s(".title"),f=(0,t.useFacetMap)((e=>a?e?[s(".optInLater"),u(".realmOwner.message"),u(".message")]:[s(".optInLater"),u(".realmMember.message"),u(".message")]:e?[s(".optInLater"),s(".realmOwner.message.para.1"),s(".realmOwner.message.para.2")]:[s(".optInLater"),s(".realmMember.message")]),[s,u,a],[n]),g=(0,t.useFacetMap)((e=>e.join(" . ")),[],[f]);return e.createElement(sd,{defaultFocusAlias:i},e.createElement(sd.Header,{onClose:r},p),e.createElement(sd.Content,null,e.createElement(Yr,{data:f},(t=>e.createElement(sd.Paragraphs,{narrationText:g,spaceBetweenParagraphs:5},t.map(((t,a)=>e.createElement(gs,{key:a,type:"captionLong"},t))))))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:i,inputLegend:c(".select"),variant:"primary",onClick:d,narrationSuffix:s(".enumeration",["1","2"])},s(".confirm")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:c(".select"),variant:"secondary",onClick:m,narrationSuffix:s(".enumeration",["2","2"])},s(".cancel"))))})),XD=pi((({onNoticeClosed:t})=>{const a="Got-It-Realms-Stories-Button",{t:n}=oi("RealmsStories"),{t:r}=oi("RealmsStories.OptInNoticeModal"),l=mi(),o=(0,e.useCallback)((()=>{l(),t()}),[l,t]),i=r(".title"),c=r(".message.p1"),s=r(".message.p2");return e.createElement(sd,{defaultFocusAlias:a},e.createElement(sd.Header,null,i),e.createElement(sd.Content,null,e.createElement(sd.Paragraphs,{gamepadIndex:0,narrationText:[c,s].join(" . "),spaceBetweenParagraphs:5},e.createElement(gs,{type:"captionLong"},c),e.createElement(gs,{type:"captionLong"},s))),e.createElement(sd.Buttons,null,e.createElement(ru,{autofocus:!0,gamepadAlias:a,gamepadIndex:0,inputLegend:n(".select"),variant:"secondary",onClick:o},r(".gotItButton"))))}));function YD(){const a=(0,e.useRef)(!1),n=m(),r=(0,t.useFacetMap)((e=>e.realmId),[],[n]);(0,t.useFacetEffect)(((e,t)=>{a.current||(e.clearSettingsStatus(),e.init(t),e.fetchSettings(t),a.current=!0)}),[a],[(0,t.useSharedFacet)($p),r])}const qD=pi((({playNow:t,openStories:a})=>{const n="Play-Realms-Button",{t:r}=oi("RealmsStories"),{t:l}=oi("RealmsStories.ShareLink"),o=l(".title"),i=l(".message");return e.createElement(sd,{defaultFocusAlias:n},e.createElement(sd.Header,null,o),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:i},i)),e.createElement(sd.Buttons,null,e.createElement(Nn,{collection:ev},e.createElement(ru,{gamepadAlias:n,gamepadIndex:0,inputLegend:r(".select"),variant:"primary",onClick:t},l(".playNow")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:r(".select"),gamepadIndex:1,variant:"secondary",onClick:a},l(".openStories")))))}));function QD(){const a=u(),n=m(),r=qD.useModal(!0),l=kv.useModal(!1),o=d(),i=(0,t.useSharedFacet)(Kp),c=(0,t.useSharedFacet)($p),s=(0,t.useSharedFacet)(hp);YD();const p=(0,t.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&t.isFetchingRealmWorld),[],[o,i]),f=(0,e.useCallback)((()=>{a.goBack()}),[a]),g=(0,t.useFacetMap)(((e,t)=>e&&!t.isRealmWorldValid&&!t.isFetchingRealmWorld),[],[o,i]),E=(0,t.useFacetMap)(((e,t,a)=>e&&t.isRealmWorldValid&&!t.isFetchingRealmWorld&&a),[],[o,i,r.isVisible]),h=(0,t.useFacetMap)(((e,t)=>e&&t),[],[o,l.isVisible]),b=(0,t.useFacetCallback)(((e,t,a)=>()=>{t.isHardcore&&!a.doNotShowHardcoreModeWarning?(r.hide(),l.show()):(e.joinRealmFromInvite(),r.hide())}),[r,l],[c,i,s]),v=(0,t.useFacetCallback)((e=>()=>{r.hide(),a.replace(`/realms-story-entry-route/feed/${e.realmId}`)}),[a,r],[n]),F=(0,t.useFacetCallback)((e=>()=>{e.joinRealmFromInvite(),l.hide()}),[l],[c]),S=(0,e.useCallback)((()=>{l.hide(),a.replace("/play/all")}),[a,l]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:p},e.createElement(Ax,{onClickClose:f})),e.createElement(t.Mount,{when:g},e.createElement(Rx.Component,{onClickClose:f})),e.createElement(t.Mount,{when:h},e.createElement(kv.Component,{onSubmit:F,onCancel:S})),e.createElement(t.Mount,{when:E},e.createElement(qD.Component,{playNow:b,openStories:v})))}let JD;function ZD(e){const a=m(),n=(0,t.useSharedFacet)(Xf),r=(0,t.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,t.useSharedFacet)(Kp)]);return(0,t.useFacetCallback)(((t,a,n)=>r=>{n.fireEventRealmsStoriesOptIn(e,r,a.realmId,t)}),[e],[r,a,n])}function e_(){const e=u();return(0,t.useFacetCallback)((t=>()=>{t.clearSettingsStatus(),e.go(-2)}),[e],[(0,t.useSharedFacet)($p)])}!function(e){e.OptIn_Success="OptIn_Success",e.OptIn_WaitingOnOwner="OptIn_WaitingOnOwner",e.OptIn_BadAccountSettings="OptIn_BadAccountSettings",e.OptOut_InfoDialog="OptOut_InfoDialog",e.OptOut_Settings="OptOut_Settings",e.CancelOptOut_InfoDialog="CancelOptOut_InfoDialog",e.CancelOptOut_Settings="CancelOptOut_Settings",e.BackOut_InfoDialog="BackOut_InfoDialog",e.LearnMore="LearnMore"}(JD||(JD={}));function t_(){YD();const{t:a}=oi("RealmsStories.settings"),n=d(),r=u(),l=(0,t.useSharedFacet)(xf),o=(0,t.useSharedFacet)($p),i=(0,t.useSharedFacet)(Kp),c=(0,t.useSharedFacet)(Ir),s=ZD(`${Math.floor(1e9*Math.random())}`),p=(0,t.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[i]),f=(0,t.useFacetMap)((e=>a(".header",[e.name])),[a],[i]),g=(0,t.useFacetMap)((e=>a(e?".optOut.realmOwner.description":".optOut.realmMember.description")),[a],[p]),E=(0,t.useFacetMap)((e=>a(e?".personalSettings.header":".personalSettings.member.header")),[a],[p]),h=(0,t.useFacetMap)((e=>!e.isOnline),[],[c]),b=(0,t.useFacetMap)(((e,t)=>(e.currentFetchState===ig.InternalError||e.currentFetchState===ig.FetchFailed||e.currentFetchState===ig.RateLimit)&&!t),[],[l,h]),v=(0,t.useFacetMap)(((e,t)=>e||t),[],[h,b]),F=(0,t.useFacetMap)(((e,t)=>t&&(e.currentPostState===cg.InternalError||e.currentPostState===cg.InputInvalid||e.currentPostState===cg.UploadFailed||e.currentPostState===cg.PostingFailed)),[],[l,n]),S=(0,t.useFacetMap)(((e,t)=>e&&t.currentPostState===cg.RateLimit),[],[n,l]),y=(0,t.useFacetMap)(((e,t,a,n)=>t&&e.currentPostState===cg.InProgress&&!a&&!n),[],[l,n,F,S]),C=e_(),M=(0,t.useFacetMap)(((e,t)=>e.currentFetchState!==ig.Success&&!t),[],[l,v]),k=(0,t.useFacetMap)(((e,t)=>!e&&!t),[],[M,v]),w=m(),T=(0,t.useFacetCallback)(((e,t,a)=>()=>{t&&e.setRealmsOptInStatus(Tf.OptedOut),e.setPlayerOptInStatus(Tf.OptedOut),s(JD.OptOut_Settings),e.postSettings(a.realmId)}),[s],[o,p,w]),x=KD.useModal(),I=(0,t.useFacetCallback)(((e,t)=>()=>{e.postSettingsOnExit(t.realmId),r.goBack()}),[r],[o,w]);!function(){const e=d(),a=e_();(0,t.useFacetEffect)(((e,t)=>{t&&e.currentPostState===cg.Success&&e.currentFetchState===ig.Success&&a()}),[a],[(0,t.useSharedFacet)(xf),e])}();const P=(0,t.useFacetCallback)(((e,t)=>()=>{e.setRealmNotificationStatus(!t.realmNotificationsStatus)}),[],[o,l]),O=(0,t.useFacetCallback)(((e,t)=>()=>{e.setRealmEventsStatus(!t.realmEventsStatus)}),[],[o,l]),N=(0,t.useFacetCallback)(((e,t)=>()=>{e.setRealmCoordinatesStatus(!t.realmCoordinatesStatus)}),[],[o,l]),A=(0,t.useFacetCallback)(((e,t)=>()=>{e.setRealmTimelineStatus(!t.realmTimelineStatus)}),[],[o,l]),L=(0,t.useFacetCallback)(((e,t)=>()=>{e.fetchSettings(t.realmId)}),[],[o,w]),R=[a(".personalSettings.member.header"),a(".personalSettings.description")].join(" . "),D=[a(".realmWideSettings.member.header"),a(".realmWideSettings.description")].join(" . "),_=(0,t.useFacetMap)((e=>e.realmNotificationsStatus),[],[l]),B=(0,t.useFacetMap)((e=>e.realmEventsStatus),[],[l]),W=(0,t.useFacetMap)((e=>e.realmCoordinatesStatus),[],[l]),U=(0,t.useFacetMap)((e=>e.realmTimelineStatus),[],[l]),z=Vn("inherit");return e.createElement(vx,{onBack:I,title:f,gamepadAlias:"realms-stories-settings",screenAnalyticsId:"RealmsStoriesSettings"},(()=>e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:x.isVisible},e.createElement(KD.Component,{isAlreadyOptedIn:!0,isOwner:p,onClose:x.hide,onOptOutCompleted:T,onOptOutCancelled:()=>s(JD.CancelOptOut_Settings)})),e.createElement(t.Mount,{when:v},e.createElement(hE,null,e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(Sc,{size:4}),e.createElement(t.Mount,{when:h},e.createElement(oL,null)),e.createElement(t.Mount,{when:b},e.createElement(cL,{onClick:L,pageName:f})))))),e.createElement(t.Mount,{when:F},e.createElement(Lx.Component,{onClickClose:I})),e.createElement(t.Mount,{when:S},e.createElement(_x.Component,{onClickClose:I})),e.createElement(t.Mount,{when:y},e.createElement(Ax,{onClickClose:C})),e.createElement(t.Mount,{when:M},e.createElement("div",{className:lr()("mm198",z.overlay.base)},e.createElement(Kc,null))),e.createElement(t.Mount,{when:k},e.createElement(hE,null,e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(Yc,{floating:!0,gamepadIndex:0},e.createElement(Sc,{size:4}),e.createElement("div",{className:lr()("r8kuw",z.border.base)},e.createElement(rs,{text:R},e.createElement(cS,{title:E,description:a(".personalSettings.description")}),e.createElement(vS,{title:a(".personalSettings.badgeNotifSwitch.title"),description:a(".personalSettings.badgeNotifSwitch.description"),value:_,onChange:P,gamepad:{index:1}})),e.createElement(t.Mount,{when:p},e.createElement(rs,{text:D},e.createElement(cS,{title:a(".realmWideSettings.header"),description:a(".realmWideSettings.description")}),e.createElement(vS,{title:a(".realmWideSettings.realmEvents.title"),description:a(".realmWideSettings.realmEvents.description"),value:B,onChange:O,gamepad:{index:2}}),e.createElement(vS,{title:a(".realmWideSettings.storyCoordinates.title"),description:a(".realmWideSettings.storyCoordinates.description"),value:W,onChange:N,gamepad:{index:3}}),e.createElement(vS,{title:a(".realmWideSettings.playerTimeline.title"),description:a(".realmWideSettings.playerTimeline.description"),value:U,onChange:A,gamepad:{index:4}}))),e.createElement(iS,{title:a(".optOut.title"),description:g,buttons:e.createElement(ru,{inputLegend:a(".inputLegend.select"),horizontal:!0,onClick:x.show},a(".optOut.title"))}))),e.createElement(Zu.Space,null))))))))}function a_({reportArea:a,onConfirm:n,onChangeReportArea:r,isSubmitDisabled:l}){const{t:o}=oi("ReportPlayerRoute"),i=(0,t.sharedSelector)((e=>e.reportAreaOptions),[Bp]),c=(0,t.useFacetMap)((e=>e.map((e=>({label:o("."+e.label),value:e.value})))),[o],[(0,t.useSharedFacet)(i)]);return e.createElement(e.Fragment,null,e.createElement(sd.Content,{scrollable:!1},e.createElement(sd.Text,{gamepadIndex:0,narrationText:o(".whereReportDescription")},o(".whereReportDescription")),e.createElement(XS,{label:"",placeholder:o(".whereReport"),description:"",options:c,gamepadIndex:1,onChange:r,value:a})),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,autofocus:!0,inputLegend:o(".next"),variant:"primary",delayedClick:!0,onClick:n,disabled:l},o(".next"))))}function n_({gamertag:a,reportReason:n,onClickSendReport:r,onChangeReportReason:l,onChangeReportMessage:o,isSubmitDisabled:i}){const{t:c}=oi("ReportPlayerRoute"),s=(0,t.sharedSelector)((e=>e.reportReasonOptions),[Bp]),u=(0,t.useFacetMap)((e=>e.map((e=>({label:c("."+e.label),value:e.value})))),[c],[(0,t.useSharedFacet)(s)]),d=(0,t.useFacetMap)((e=>1==e.length),[],[u]),m=(0,t.useFacetMap)(((e,t)=>t.length>1?e:t[0].value),[],[n,u]);(0,t.useFacetEffect)(((e,t)=>{e&&l(t[0].value)}),[l],[d,u]);const[p,f]=(0,t.useFacetState)(!1),g=(0,t.useFacetMap)(((e,t)=>e||!t),[],[i,p]);return e.createElement(e.Fragment,null,e.createElement(sd.Content,{scrollable:!1},e.createElement(XS,{label:"",placeholder:c(".whyReport",[a]),description:"",options:u,gamepadIndex:0,onChange:l,value:m,disabled:d}),e.createElement(Ey,{gamepadIndex:1,rows:4,label:"",description:"",value:"",onChange:o,maxLength:500})),e.createElement(sd.Buttons,{header:e.createElement(sd.Checkbox,{value:p,onChange:f,title:c(".attestation")})},e.createElement(ru,{gamepadIndex:2,autofocus:!0,inputLegend:c(".report"),variant:"primary",delayedClick:!0,onClick:r,disabled:g},c(".report"))))}function r_({index:a,gamepad:n,data:r,onChange:l,checkingDisabled:o}){const[i,c]=(0,t.useFacetState)(!1),s=(0,t.useFacetCallback)((e=>t=>{t&&e||(l(a,t),c(t))}),[l,a,c],[o]);return e.createElement(ws,{title:(0,t.useFacetMap)((e=>e.message),[],[r]),description:(0,t.useFacetMap)((e=>e.author),[],[r]),gamepad:n,value:i,onChange:s,disabled:(0,t.useFacetMap)((e=>!e.isAuthorBeingReported),[],[r])})}function l_({chatMessages:a,selectedMessages:n,onConfirm:r,setSelectedMessagesFacet:l}){const{t:o}=oi("ReportPlayerRoute"),i=(0,t.useFacetWrap)(a),c=(0,t.useFacetWrap)(n),s=((e,a)=>(0,t.useFacetCallback)((e=>(t,n)=>{a((()=>{const a=[...e];if(n)a.length<4&&a.push(t);else{const e=a.findIndex((e=>e==t));e>-1&&a.splice(e,1)}return a}))}),[a],[e]))(c,l),u=(0,t.useFacetMap)((e=>e.length>=4),[],[c]);return e.createElement(e.Fragment,null,e.createElement(sd.Content,null,e.createElement(t.Mount,{when:u},e.createElement(sd.Text,{gamepadIndex:0,narrationText:o(".chatSelectionLimitReached")},o(".chatSelectionLimitReached"))),e.createElement(t.Map,{array:i},((t,a)=>e.createElement(r_,{index:a,gamepad:{index:a},data:t,onChange:s,checkingDisabled:u})))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:2,autofocus:!0,inputLegend:o(".confirmSelection"),variant:"primary",delayedClick:!0,onClick:r},o(".confirmSelection"))))}function o_({onConfirm:t}){const{t:a}=oi("ReportPlayerRoute");return e.createElement(e.Fragment,null,e.createElement(sd.Content,{scrollable:!1},e.createElement(sd.Text,{gamepadIndex:0,narrationText:a(".reportConfirmation")},a(".reportConfirmation"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,autofocus:!0,inputLegend:a(".next"),variant:"primary",delayedClick:!0,onClick:t},a(".next"))))}function i_({onConfirm:t,onCancel:a,gamertag:n}){const{t:r}=oi("ReportPlayerRoute");return e.createElement(e.Fragment,null,e.createElement(sd.Content,{scrollable:!1},e.createElement(sd.Text,{gamepadIndex:0,narrationText:r(".friendWarningText")},r(".friendWarningText",[n]))),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"primary",gamepadIndex:0,autofocus:!0,inputLegend:r(".next"),delayedClick:!0,onClick:t},r(".warningReportAnyway")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:0,inputLegend:r(".next"),delayedClick:!0,onClick:a},r(".cancel"))))}function c_({onConfirm:t,onCancel:a}){const{t:n}=oi("ReportPlayerRoute");return e.createElement(e.Fragment,null,e.createElement(sd.Content,{scrollable:!1},e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".reportLimitWarningText1")},n(".reportLimitWarningText1")),e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".reportLimitWarningText2")},n(".reportLimitWarningText2"))),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"primary",gamepadIndex:0,autofocus:!0,inputLegend:n(".next"),delayedClick:!0,onClick:t},n(".warningReportAnyway")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:0,inputLegend:n(".next"),delayedClick:!0,onClick:a},n(".cancel"))))}var s_;!function(e){e[e.ReportAreaInput=0]="ReportAreaInput",e[e.ChatSelection=1]="ChatSelection",e[e.ReportReasonInputAndSubmission=2]="ReportReasonInputAndSubmission",e[e.WaitingForReportResponse=3]="WaitingForReportResponse",e[e.ReportComplete=4]="ReportComplete",e[e.FriendWarning=5]="FriendWarning",e[e.ReportLimitWarning=6]="ReportLimitWarning",e[e.Null=7]="Null"}(s_||(s_={}));const u_=()=>{var a,n,r;const{t:l}=oi("ReportPlayerRoute"),o=u(),i=br(),c=null!==(a=i.get("gamertag"))&&void 0!==a?a:l(".unknownGamertag"),s=null!==(n=i.get("xuid"))&&void 0!==n?n:"0",d=null!==(r=i.get("uuid"))&&void 0!==r?r:"0",m="true"===i.get("isFriend"),p=(0,t.useSharedFacet)(Bp),[f,g]=(0,t.useFacetState)(s_.Null),E=(0,e.useCallback)((()=>{g(s_.ReportAreaInput)}),[g]),h=(0,t.useFacetCallback)((e=>()=>{e.hasReachedReportLimit?g(s_.ReportLimitWarning):E()}),[g,E],[p]),b=(0,e.useCallback)((()=>{m?g(s_.FriendWarning):h()}),[m,g,h]);(0,e.useEffect)((()=>b()),[b]);const v=(0,t.useFacetCallback)((e=>()=>{e.startReport(s,d)}),[s,d],[p]);(0,t.useFacetEffect)((e=>{e===s_.ReportAreaInput&&v()}),[v],[f]);const[F,S]=(0,t.useFacetState)(-1),[y,C]=(0,t.useFacetState)(-1),[M,k]=(0,t.useFacetState)(""),[w,T]=(0,t.useFacetState)([]),x=(0,t.sharedSelector)((e=>e.reportableChatMessages),[Bp]),I=(0,t.sharedSelector)((e=>e.isChatAvailable()),[Bp]),P=(0,t.useFacetMap)((e=>e===s_.ReportAreaInput),[],[f]),O=(0,t.useFacetMap)((e=>-1==e),[],[F]),N=(0,t.useFacetMap)((e=>e===s_.ReportReasonInputAndSubmission),[],[f]),A=(0,t.useFacetMap)((e=>-1==e),[],[y]),L=(0,t.useFacetMap)((e=>e===s_.ChatSelection),[],[f]),R=(0,t.useFacetMap)((e=>e===s_.ReportComplete),[],[f]),D=(0,t.useFacetMap)((e=>e===s_.FriendWarning),[],[f]),_=(0,t.useFacetMap)((e=>e===s_.ReportLimitWarning),[],[f]),B=(0,t.useFacetCallback)(((e,t,a,n)=>()=>{e.reportReason=t,e.reportMessage=a,e.selectedChatMessages=n,e.xuid=s,e.uuid=d,e.finishReport()}),[s,d],[p,y,M,w]),W=(0,t.useFacetCallback)(((e,t,a)=>()=>{e.reportArea=a,e.decideReportReasonOptions(),g(t&&0==a?s_.ChatSelection:s_.ReportReasonInputAndSubmission)}),[g],[p,(0,t.useSharedFacet)(I),F]),U=()=>{o.goBack()},z=(0,t.useFacetMap)((e=>e===s_.FriendWarning||e===s_.ReportLimitWarning?l(".warningTitle",[c]):l(".title",[c])),[l,c],[f]);return e.createElement(sd,null,e.createElement(sd.Header,{onClose:U},z),e.createElement(t.Mount,{when:D},e.createElement(i_,{gamertag:c,onConfirm:h,onCancel:U})),e.createElement(t.Mount,{when:_},e.createElement(c_,{onConfirm:E,onCancel:U})),e.createElement(t.Mount,{when:P},e.createElement(a_,{reportArea:F,onChangeReportArea:S,onConfirm:W,isSubmitDisabled:O})),e.createElement(t.Mount,{when:L},e.createElement(l_,{chatMessages:(0,t.useSharedFacet)(x),selectedMessages:w,onConfirm:()=>{g(s_.ReportReasonInputAndSubmission)},setSelectedMessagesFacet:T})),e.createElement(t.Mount,{when:N},e.createElement(n_,{gamertag:c,reportReason:y,onChangeReportReason:C,onClickSendReport:()=>{B(),g(s_.ReportComplete)},onChangeReportMessage:k,isSubmitDisabled:A})),e.createElement(t.Mount,{when:R},e.createElement(o_,{onConfirm:U})))},d_=a.p+"assets/Sign-in_Prompts_Achievements-8e8d2.png",m_=a.p+"assets/Sign-in_Prompts_Achievements Animated-06cb0.gif";function p_(){const a=u(),n=f(),{t:r}=oi("SignInAchievementsRoute"),l=yv(),o=Rd(Dm),i=wl(),c=(0,t.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,t.useFacetMap)((e=>e?m_:d_),[],[c]),d=Rd(_m),m=r(d?".altSignInHeader":".signInHeader"),p=r(d?".altSignInPrompt":".signInPrompt"),g=(0,t.useFacetWrap)(d?[]:[r(".signInList1"),r(".signInList2"),r(".signInList3")]),E=(0,t.useFacetCallback)((e=>()=>{l({screen:"SignInAchievements",button:"SignIn"});const t=e.get("redirectTo"),n=null!=t?"&redirectTo="+encodeURIComponent(t):"";a.replace("/sign-in?signInSource=SignInAchievementsScreen_OreUI"+n)}),[a,l],[n]);return e.createElement(sd,{defaultFocusAlias:"signInAchievementsButton"},e.createElement(sd.Header,{onClose:()=>{l({screen:"SignInAchievements",button:"Close"}),a.goBack()}},m),e.createElement(sd.Content,null,e.createElement(Sc,{size:4}),e.createElement(oc,{src:s,className:"Ux__y",imageRendering:"pixelated"}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:p},e.createElement(gs,{type:"captionLong",align:"left"},p)),e.createElement(sd.List,{items:g,gamepadIndex:1}),e.createElement(Sc,{size:4})),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadIndex:0,inputLegend:r(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"SignInAchievements",button:"MaybeLater"}),a.goBack()},horizontal:!0},r(".laterButton")),e.createElement(Sc,{size:4}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:"signInAchievementsButton",autofocus:!0,inputLegend:r(".signInButton"),variant:"primary",onClick:E,horizontal:!0},r(".signInButton"))))}const f_=a.p+"assets/Sign-in_Prompts_Friends-01fb9.png",g_=a.p+"assets/Sign-in_Prompts_Friends Animated-0c355.gif";function E_(){const a=u(),{t:n}=oi("SignInAddFriendRoute"),r=(0,t.useSharedFacet)(Ir),l=yv(),o=Rd(Dm),i=wl(),c=(0,t.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,t.useFacetMap)((e=>e?g_:f_),[],[c]),d=Rd(_m),m=n(d?".altSignInHeader":".signInHeader"),p=n(d?".altSignInPrompt":".signInPrompt"),f=(0,t.useFacetMap)((e=>d?[]:e.platform==He.PS4||e.platform==He.PS5||e.platform==He.NX_HANDHELD||e.platform==He.NX_TV?[n(".signInList1NXPS"),n(".signInList3")]:[n(".signInList1"),n(".signInList2"),n(".signInList3")]),[n,d],[r]);return e.createElement(sd,{defaultFocusAlias:"signInAddFriendButton"},e.createElement(sd.Header,{onClose:()=>{l({screen:"SignInAddFriend",button:"Close"}),a.goBack()}},m),e.createElement(sd.Content,null,e.createElement(Sc,{size:4}),e.createElement(oc,{src:s,className:"MedW5",imageRendering:"pixelated"}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:p},e.createElement(gs,{type:"captionLong",align:"left"},p)),e.createElement(sd.List,{items:f,gamepadIndex:1}),e.createElement(Sc,{size:4})),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadIndex:0,inputLegend:n(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"SignInAddFriend",button:"MaybeLater"}),a.goBack()},horizontal:!0},n(".laterButton")),e.createElement(Sc,{size:4}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:"signInAddFriendButton",autofocus:!0,inputLegend:n(".signInButton"),variant:"primary",onClick:()=>{l({screen:"SignInAddFriend",button:"SignIn"}),a.replace("/sign-in?signInSource=SignInAddFriendScreen_OreUI")},horizontal:!0},n(".signInButton"))))}const h_=a.p+"assets/Sign-in_Prompts_Servers-cc10e.png",b_=a.p+"assets/Sign-in_Prompts_Servers Animated-ab246.gif";function v_(){const a=u(),{t:n}=oi("SignInPlayOnServerRoute"),r=yv(),l=Rd(Dm),o=wl(),i=(0,t.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,t.useFacetMap)((e=>e?b_:h_),[],[i]),s=Rd(_m),d=n(s?".altSignInHeader":".signInHeader"),m=n(s?".altSignInPrompt":".signInPrompt"),p=(0,t.useFacetWrap)(s?[]:[n(".signInList1"),n(".signInList2"),n(".signInList3")]);return e.createElement(sd,{defaultFocusAlias:"signInPlayOnServerButton"},e.createElement(sd.Header,{onClose:()=>{r({screen:"SignInPlayOnServer",button:"Close"}),a.goBack()}},d),e.createElement(sd.Content,null,e.createElement(Sc,{size:4}),e.createElement(oc,{src:c,className:"nKl10",imageRendering:"pixelated"}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:m},e.createElement(gs,{type:"captionLong",align:"left"},m)),e.createElement(sd.List,{items:p,gamepadIndex:1}),e.createElement(Sc,{size:4})),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadIndex:0,inputLegend:n(".laterButton"),variant:"secondary",onClick:()=>{r({screen:"SignInPlayOnServer",button:"MaybeLater"}),a.goBack()},horizontal:!0},n(".laterButton")),e.createElement(Sc,{size:4}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:"signInPlayOnServerButton",autofocus:!0,inputLegend:n(".signInButton"),variant:"primary",onClick:()=>{r({screen:"SignInPlayOnServerModal",button:"SignIn"}),a.replace("/sign-in?signInSource=SignInPlayOnServerScreen_OreUI")},horizontal:!0},n(".signInButton"))))}const F_=a.p+"assets/Sign-in_Prompts_Save_Purchases-f506d.png",S_=a.p+"assets/Sign-in_Prompts_Save_Purchases Animated-cfb0b.gif";function y_(){const a=u(),{t:n}=oi("SignInSavePurchasesRoute"),r=yv(),l=Rd(Dm),o=wl(),i=(0,t.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,t.useFacetMap)((e=>e?S_:F_),[],[i]),s=Rd(_m),d=n(s?".altSignInHeader":".signInHeader"),m=n(s?".altSignInPrompt":".signInPrompt"),p=(0,t.useFacetWrap)(s?[]:[n(".signInList1"),n(".signInList2"),n(".signInList3")]),f=s?"":n(".createAccountPrompt");return e.createElement(sd,{defaultFocusAlias:"signInSavePurchasesButton"},e.createElement(sd.Header,{onClose:()=>{r({screen:"SignInSavePurchases",button:"Close"}),a.goBack()}},d),e.createElement(sd.Content,null,e.createElement(Sc,{size:4}),e.createElement(oc,{src:c,className:"WNtel",imageRendering:"pixelated"}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:m},e.createElement(gs,{type:"captionLong",align:"left"},m)),e.createElement(sd.List,{items:p,gamepadIndex:1}),e.createElement(sd.Text,{gamepadIndex:2,narrationText:f},e.createElement(gs,{type:"captionLong",align:"left"},f))),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadIndex:0,inputLegend:n(".laterButton"),variant:"secondary",onClick:()=>{r({screen:"SignInSavePurchases",button:"MaybeLater"}),a.goBack()},horizontal:!0},n(".laterButton")),e.createElement(Sc,{size:4}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:"signInSavePurchasesButton",autofocus:!0,inputLegend:n(".signInButton"),variant:"primary",onClick:()=>{r({screen:"SignInSavePurchases",button:"SignIn"}),a.replace("/sign-in?signInSource=SignInSavePurchasesScreen_OreUI")},horizontal:!0},n(".signInButton"))))}const C_=a.p+"assets/Sign-in_Prompts_Launch-eadae.png",M_=a.p+"assets/Sign-in_Prompts_Launch Animated-fdbda.gif";function k_(){const a=u(),{t:n}=oi("SignInDressingRoomRoute"),r=yv(),l=Rd(Dm),o=wl(),i=(0,t.useFacetMap)((e=>e&&!l),[l],[o]),c=(0,t.useFacetMap)((e=>e?M_:C_),[],[i]);return e.createElement(sd,{defaultFocusAlias:"dressingRoomSignInButton"},e.createElement(sd.Header,{onClose:()=>{r({screen:"SignInDressingRoom",button:"Close"}),a.goBack()}},n(".signInHeader")),e.createElement(sd.Content,null,e.createElement(Sc,{size:4}),e.createElement(oc,{src:c,className:"vw9Nj",imageRendering:"pixelated"}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".signInPrompt")},e.createElement(gs,{type:"captionLong",align:"left"},n(".signInPrompt")))),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadIndex:0,inputLegend:n(".laterButton"),variant:"secondary",onClick:()=>{r({screen:"SignInDressingRoom",button:"MaybeLater"}),a.goBack()},horizontal:!0},n(".laterButton")),e.createElement(Sc,{size:4}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:"dressingRoomSignInButton",autofocus:!0,inputLegend:n(".signInButton"),variant:"primary",onClick:()=>{r({screen:"SignInDressingRoom",button:"SignIn"}),a.replace("/sign-in?signInSource=SignInDressingRoomScreen_OreUI")},horizontal:!0},n(".signInButton"))))}const w_=a.p+"assets/Sign-in_Prompts_Save_Purchases-f506d.png",T_=a.p+"assets/Sign-in_Prompts_Save_Purchases Animated-cfb0b.gif";function x_(){const a=u(),{t:n}=oi("SignInMarketplaceRoute"),r=(0,t.useFacetWrap)([n(".signInList1")]),l=yv(),o=Rd(Dm),i=wl(),c=(0,t.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,t.useFacetMap)((e=>e?T_:w_),[],[c]);return e.createElement(sd,{defaultFocusAlias:"signInMarketplaceButton"},e.createElement(sd.Header,{onClose:()=>{l({screen:"SignInMarketplace",button:"Close"}),a.goBack()}},n(".signInHeader")),e.createElement(sd.Content,null,e.createElement(Sc,{size:4}),e.createElement(oc,{src:s,className:"QnWeO",imageRendering:"pixelated"}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".signInPrompt")},e.createElement(gs,{type:"captionLong",align:"left"},n(".signInPrompt"))),e.createElement(sd.List,{items:r,gamepadIndex:1}),e.createElement(Sc,{size:4})),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadIndex:0,inputLegend:n(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"SignInMarketplace",button:"MaybeLater"}),a.goBack()},horizontal:!0},n(".laterButton")),e.createElement(Sc,{size:4}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:"signInMarketplaceButton",autofocus:!0,inputLegend:n(".signInButton"),variant:"primary",onClick:()=>{l({screen:"SignInMarketplace",button:"SignIn"}),a.replace("/sign-in?signInSource=SignInMarketplaceScreen_OreUI")},horizontal:!0},n(".signInButton"))))}const I_=a.p+"assets/Sign-in_Prompts_Launch-7712e.png",P_=a.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8.gif";function O_(){const a=u(),n=f(),{t:r}=oi("SignInWorldsFriendsServersRoute"),l=(0,t.useSharedFacet)(Ir),o=yv(),i=Rd(Dm),c=wl(),s=(0,t.useFacetMap)((e=>e&&!i),[i],[c]),d=(0,t.useFacetMap)((e=>e?P_:I_),[],[s]),m=(0,t.useFacetMap)((e=>Yv(e.platform)?[r(".signInList4"),r(".signInList2PS"),r(".signInList3PS")]:[r(".signInList1"),r(".signInList2"),r(".signInList3"),r(".signInList4")]),[r],[l]),p=(0,t.useFacetCallback)((e=>()=>{o({screen:"SignInWorldsFriendsServers",button:"SignIn"});const t=e.get("redirectTo"),n=null!=t?"&redirectTo="+encodeURIComponent(t):"";a.replace("/sign-in?signInSource=SignInWorldsFriendsServersScreen_OreUI"+n)}),[a,o],[n]),g=(0,t.useFacetCallback)((e=>()=>{o({screen:"SignInWorldsFriendsServers",button:"MaybeLater"});const t=e.get("redirectTo");null!=t?a.replace(t):a.goBack()}),[a,o],[n]),E=(0,t.useFacetCallback)((e=>()=>{o({screen:"SignInWorldsFriendsServers",button:"Close"});const t=e.get("redirectTo");null!=t?a.replace(t):a.goBack()}),[a,o],[n]);return e.createElement(sd,{defaultFocusAlias:"signInWorldsFriendsServersButton"},e.createElement(sd.Header,{onClose:E},r(".signInHeader")),e.createElement(sd.Content,null,e.createElement(Sc,{size:4}),e.createElement(oc,{src:d,className:"HJLaJ",imageRendering:"pixelated"}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:r(".signInPrompt")},e.createElement(gs,{type:"captionLong",align:"left"},r(".signInPrompt"))),e.createElement(sd.List,{items:m,gamepadIndex:1}),e.createElement(sd.Text,{gamepadIndex:2,narrationText:r(".createAccountPrompt")},e.createElement(gs,{type:"captionLong",align:"left"},r(".createAccountPrompt")))),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadIndex:0,inputLegend:r(".laterButton"),variant:"secondary",onClick:g,horizontal:!0},r(".laterButton")),e.createElement(Sc,{size:4}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:"signInWorldsFriendsServersButton",autofocus:!0,inputLegend:r(".signInButton"),variant:"primary",onClick:p,horizontal:!0},r(".signInButton"))))}const N_=a.p+"assets/Sign-in_Prompts_Launch-7712e.png",A_=a.p+"assets/Sign-in_Prompts_Launch Animated-d5ba8.gif";function L_(){const a=u(),{t:n}=oi("FirstTimeSignInRoute"),r=(0,t.useSharedFacet)(Ir),l=yv(),o=Rd(Dm),i=wl(),c=(0,t.useFacetMap)((e=>e&&!o),[o],[i]),s=(0,t.useFacetMap)((e=>e?A_:N_),[],[c]),d=Rd(_m),m=(0,t.useFacetMap)((e=>d?e.platform==He.IOS||e.platform==He.GOOGLE?n(".altSignInPromptMobile"):n(".altSignInPrompt"):n(".signInPrompt")),[n,d],[r]),p=(0,t.useFacetMap)((e=>d?Yv(e.platform)?[n(".altSignInList1"),n(".altSignInList2"),n(".altSignInList3PS")]:e.platform==He.IOS||e.platform==He.GOOGLE?[]:[n(".altSignInList1"),n(".altSignInList2"),n(".altSignInList3")]:Yv(e.platform)?[n(".signInList4"),n(".signInList2PS"),n(".signInList3PS")]:[n(".signInList1"),n(".signInList2"),n(".signInList3"),n(".signInList4")]),[n,d],[r]),f=d?"":n(".createAccountPrompt");return e.createElement(sd,{defaultFocusAlias:"firstTimeSignInButton"},e.createElement(sd.Header,{onClose:()=>{l({screen:"FirstTimeSignIn",button:"Close"}),a.goBack()}},n(".signInHeader")),e.createElement(sd.Content,null,e.createElement(Sc,{size:4}),e.createElement(oc,{src:s,className:"ulzxH",imageRendering:"pixelated"}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:m},e.createElement(gs,{type:"captionLong",align:"left"},m)),e.createElement(sd.List,{items:p,gamepadIndex:1}),e.createElement(sd.Text,{gamepadIndex:2,narrationText:f},e.createElement(gs,{type:"captionLong",align:"left"},f))),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadIndex:0,inputLegend:n(".laterButton"),variant:"secondary",onClick:()=>{l({screen:"FirstTimeSignIn",button:"MaybeLater"}),a.goBack()},horizontal:!0},n(".laterButton")),e.createElement(Sc,{size:4}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:"firstTimeSignInButton",autofocus:!0,inputLegend:n(".signInButton"),variant:"primary",onClick:()=>{l({screen:"FirstTimeSignIn",button:"SignIn"}),a.replace("/sign-in?signInSource=FirstTimeSignInScreen_OreUI")},horizontal:!0},n(".signInButton"))))}function R_({errorMessage:t,onDismiss:a}){const{t:n}=oi("ErrorModal"),r=n(".title"),l=n(".goBack"),o=n(".goingBack"),i=null!=t&&""!==t?t:o,c=`${r} . ${i}`,s=i!==o;return e.createElement(sd,null,e.createElement(sd.Header,null,r),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:c},i)),s&&e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"primary",onClick:a,gamepadIndex:0,autofocus:!0,inputLegend:l},l)))}function D_({visible:a,unmountOnExit:n,alwaysMounted:r,contentComponent:l,inverse:o}){const i=wl();return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(xc,{alwaysMounted:r,visible:a,inverse:o,appear:!0,unmountOnExit:n,timeout:400},(t=>e.createElement(__,{status:t,contentComponent:l})))),e.createElement(t.Mount,{when:i,condition:!1},e.createElement(gr,{contentComponent:l,visible:a,unmountOnExit:n})))}const __=({status:a,contentComponent:n})=>{const r=(()=>{const t=(0,e.useContext)(vo);return(0,e.useCallback)((()=>{t.emit("recalculate")}),[t])})(),l=(0,e.useMemo)((()=>e.memo(n)),[n]),o=(0,t.useFacetMap)((([e])=>"entered"===e||"entering"===e),[],[a]),i=(0,t.useFacetMap)((e=>!e),[],[o]),c=(0,t.useFacetMap)((([e])=>"entered"===e),[],[a]),s=(0,t.useFacetMap)((([e])=>"entered"!==e),[],[a]);return(0,t.useFacetEffect)((()=>r()),[r],[a]),e.createElement(x,{value:o},e.createElement(pr,{disabled:i},e.createElement("fast-div",{className:(0,t.useFacetMap)((([e,t])=>lr()("C84xm",{kEh2T:!t,k0msz:t,JDSRH:"entered"===e,DSGNH:"entering"===e,uv_vE:"exiting"===e,_rSgg:"exited"===e})),[],[a])},e.createElement(B_,{paused:s},e.createElement(dr,{type:"contentful",renderingCompleted:c}),e.createElement(l,null)))))},B_=({paused:a,children:n})=>{const r=(0,t.useFacetUnwrap)(a);return e.createElement(t.PauseMountProvider,{paused:r===t.NO_VALUE||r},n)},W_=a.p+"assets/video_crosshair-76970.webm",U_=a.p+"assets/video_touch-e5021.webm",z_=a.p+"assets/video_classic-fbc33.webm",j_={wrapper:"C9Ox8",wrapperDisabled:"chklf",RadioBox:"UYLxr",innerBox:"mNihg",innerBoxTileLeft:"Rugdi",innerBoxTileRight:"TG2vJ",RadioBoxCheckedDisabled:"OGJXs",label:"aS_mB",labelInner:"T4t4A"};function H_({onClick:a,checked:n,label:r,description:l,disabled:o,extraSpeechProps:{index:i,groupSize:c}={index:1,groupSize:1},onFocusChanged:s,omitDescription:u=!1,readDescription:d=!1,checkedRole:m="primary",uncheckedRole:p="neutral50",textRole:f="neutral",soundEffectPressed:g}){const{t:E}=oi("RadioBox"),h=(0,t.useFacetWrap)(n),b=Vn(m),v=Vn(p),F=$n("inherit"),S=(0,t.useFacetMap)((e=>[...null!=r?[r]:[],e?E(".selected"):"",e&&d&&null!=l?l+". ":"",o?E(".disabled"):"",E(".count",[`${i+1}`,`${c}`])].join(" . ")),[d,l,r,i,c,o,E],[h]),y=(0,t.useFacetMap)((e=>{var t,a,n,r;return lr()(j_.RadioBox,{[null!==(t=b.background.interactive)&&void 0!==t?t:""]:e,[null!==(a=b.border.interactive)&&void 0!==a?a:""]:e,[null!==(n=v.background.interactive)&&void 0!==n?n:""]:!e,[null!==(r=v.border.interactive)&&void 0!==r?r:""]:!e})}),[b,v],[h]);return e.createElement(Li,{className:j_.wrapper,classNameFocused:lr()(j_.focused,vi),classNameDisabled:j_.wrapperDisabled,narrationText:S,onClick:a,onFocusChanged:s,inputLegend:!1,disabled:o,soundEffectPressed:null!=g?g:F.toggle},e.createElement("fast-div",{className:y},e.createElement(bi,null),e.createElement(Vi,{effect:"specular"}),e.createElement(t.Mount,{when:h},e.createElement("div",{className:j_.innerBox},e.createElement("div",{className:j_.innerBoxTileLeft}),e.createElement("div",{className:j_.innerBoxTileRight})))),Boolean(r)&&e.createElement("div",{className:lr()(j_.label)},Boolean(!u)&&Boolean(l)&&e.createElement(Sc,{size:4}),e.createElement(gs,{type:"body",role:f,variant:o?"dimmer":void 0},r),Boolean(!u)&&Boolean(l)&&e.createElement(e.Fragment,null,e.createElement(gs,{type:"captionShort",role:f,variant:"dimmer"},e.createElement("div",{className:j_.labelInner},l)),e.createElement(Sc,{size:4}))))}let V_=0;const G_=()=>{};function $_({options:t,title:a,onChange:n=G_,value:r,disabled:l=!1,disabledValues:o,onFocusChanged:i,checkedRole:c,uncheckedRole:s,wrapperRole:u="neutral",soundEffectPressed:d}){const m=(0,e.useRef)(null),p=Vn(u),f=$n(u);-1===t.findIndex((e=>e.value===r))&&console.warn("The provided default value does not match any of the provided options. This means that no option is selected, which is a broken state for RadioGroup.");const g=(0,e.useRef)("MCT-"+V_++);return e.createElement(hn,{role:u},e.createElement(ac,{delegateFocusFromMemory:!0,disabled:l,delegateFocusByAlias:g.current,containerRef:m},e.createElement("div",{className:lr()("d41i7",p.background.base)},e.createElement(Vi,{effect:"specular",thin:!0,left:!1,right:!1,bottom:!1}),null!=a&&""!=a&&e.createElement(e.Fragment,null,e.createElement(Sc,{size:4}),e.createElement("div",{className:"dTZYj"},e.createElement(gs,{type:"body",role:u,variant:l?"dimmer":void 0},a))),e.createElement(Sc,{size:4}),t.map(((a,m)=>e.createElement(H_,{disabled:!!(l||o&&o.indexOf(a.value)>-1),key:m,label:a.label,description:a.description,omitDescription:a.omitDescription,readDescription:a.readDescription,gamepad:{index:m},checked:a.value===r,onClick:()=>{r!==a.value&&n(a.value)},extraSpeechProps:{index:m,groupSize:t.length},onFocusChanged:i,checkedRole:c,uncheckedRole:s,textRole:u,soundEffectPressed:null!=d?d:f.toggle}))),e.createElement(Sc,{size:4}))))}const K_="vzhv1";function X_({startWorld:a}){const[n,r]=(0,t.useFacetState)("0px"),l=(0,e.useRef)(null),o=hr(),{t:i}=oi("TouchControlSelectionRoute"),c=(0,t.useSharedFacet)(Fp),[s,u]=(0,e.useState)(vp.CLASSIC),d=(0,t.useSharedFacet)(Mm),m=(0,t.useFacetCallback)((e=>()=>{e.inWorldCreation=!1,o.goBack()}),[o],[d]),p=(0,t.useFacetCallback)((e=>()=>{e.touchControlScheme=s,e.showTouchControlSelectionScreen=!1,a()}),[s,a],[c]),f=Vn("neutral80"),g="touch",E="classic",h="crosshair",b=(0,e.useRef)(null),v=(0,e.useRef)(null),F=(0,e.useRef)(null),S=(0,e.useMemo)((()=>[b,F,v]),[]),y=(0,t.useFacetCallback)((e=>t=>{let a=vp.TOUCH;if(t==E?a=vp.CLASSIC:t==h&&(a=vp.CROSSHAIR),e.playVideoInTouchControlSelectionScreen)for(let e=vp.TOUCH;e<=vp.CLASSIC;++e){const t=S[e].current;e==a?null!=t&&(t.currentTime=0,t.play()):null==t||t.pause()}u(a)}),[S],[c]);(0,t.useFacetEffect)((e=>{switch(e.touchControlScheme){case vp.CLASSIC:y(E);break;case vp.TOUCH:y(g);break;case vp.CROSSHAIR:y(h)}}),[y],[c]);const C=(0,e.useCallback)((()=>{if(l.current){const{width:e}=l.current.getBoundingClientRect();e>0?r(.48*e+"px"):requestAnimationFrame(C)}}),[r]);function M(e){return s==e?"100%":"0px"}function k(e){return s==e?"100%":"0px"}(0,e.useEffect)((()=>(C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C))),[C]);const w=[i(".header")+". ",i(".title")+". ",(s==vp.CLASSIC?i(".classicLabel"):s==vp.TOUCH?i(".touchLabel"):i(".crosshairLabel"))+". ",i(".selected")+". ",s==vp.CLASSIC?i(".classicInfo"):s==vp.TOUCH?i(".touchInfo"):i(".crosshairInfo")].join(" . ");return e.createElement(qg,null,e.createElement(ab,{text:w}),e.createElement(fE,{onBackButton:m,center:e.createElement(gs,{type:"header5A"},i(".header")),gamepadAlias:"touch-control-selection"},e.createElement(hE,null,e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:8,narrowSize:4},e.createElement(Yc,{gamepadIndex:0},e.createElement(Sc,{size:4}),e.createElement("div",{className:K_},e.createElement("fast-div",{ref:l,style:{height:n}},e.createElement("div",{className:lr()("hmYnU",f.background.base)},e.createElement("div",{className:"SmsRy"},e.createElement("div",{className:"RBMB_"},e.createElement(Kc,null)))),e.createElement("video",{ref:S[vp.CLASSIC],style:{width:M(vp.CLASSIC),height:k(vp.CLASSIC),position:"absolute"},src:z_,loop:!0}),e.createElement("video",{ref:S[vp.CROSSHAIR],style:{width:M(vp.CROSSHAIR),height:k(vp.CROSSHAIR),position:"absolute"},src:W_,loop:!0}),e.createElement("video",{ref:S[vp.TOUCH],style:{width:M(vp.TOUCH),height:k(vp.TOUCH),position:"absolute"},src:U_,loop:!0})),e.createElement("div",{className:"c_o_5"},e.createElement(gs,{type:"body"},s==vp.CLASSIC?i(".classicInfo"):s==vp.TOUCH?i(".touchInfo"):i(".crosshairInfo")))))),e.createElement(hE.Column,{gamepadIndex:1,wideSize:4,narrowSize:4},e.createElement(Yc,{gamepadIndex:1},e.createElement(Sc,{size:4}),e.createElement("div",{className:K_},e.createElement($_,{title:i(".title"),gamepad:{index:0},options:[{label:i(".touchLabel"),value:g,description:i(".touchInfo"),omitDescription:!0,readDescription:!0},{label:i(".classicLabel"),value:E,description:i(".classicInfo"),omitDescription:!0,readDescription:!0},{label:i(".crosshairLabel"),value:h,description:i(".crosshairInfo"),omitDescription:!0,readDescription:!0}],onChange:e=>y(e),value:s==vp.CLASSIC?E:s==vp.TOUCH?g:h})),e.createElement(Sc,{size:4}),e.createElement(ru,{variant:"hero",gamepadIndex:1,onClick:p,inputLegend:i(".select"),autofocus:!0,"data-testid":"select-touch-control-button",narrationSuffix:s==vp.CLASSIC?i(".classicLabel"):s==vp.TOUCH?i(".touchLabel"):i(".crosshairLabel")},i(".select"))))))))}function Y_(){const a=u(),n=(0,t.useFacetCallback)(((e,t)=>()=>{e.inWorldCreation?(e.inWorldCreation=!1,t.fireEventButtonPressed("Create_World_Button_OreUI",{}),e.createWorld()):a.goBack()}),[a],[(0,t.useSharedFacet)(Mm),(0,t.useSharedFacet)(Xf)]);return e.createElement(X_,{startWorld:n})}function q_(){const a=vr(),n=(0,t.useSharedFacet)(up),r=decodeURIComponent(a.id),l=(0,t.useFacetMap)((e=>e.localWorlds.find((e=>e.allContentOwned&&e.id===r))),[r],[n]),o=HI(l);return e.createElement(X_,{startWorld:o})}let Q_;!function(e){e[e.VISUAL=1]="VISUAL"}(Q_||(Q_={}));const J_="upload-realms-error-modal-back",Z_=pi((()=>{const{t:a}=oi("EditWorld.playOnRealmsErrorModal"),n=(0,t.useSharedFacet)(Of),r=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.uploadWorldToRealmError)&&void 0!==t?t:Pf.UnknownError}),[],[n]),l=(0,t.useFacetCallback)((e=>()=>e.clearUploadWorldToRealmTaskState()),[],[n]),o=(0,t.useFacetMap)((e=>{switch(e){case Pf.CrossPlatformRestricted:return{title:a(".crossPlatformRestricted.title"),firstParagraph:a(".crossPlatformRestricted.message"),secondParagraph:a(".crossPlatformRestricted.message2")};case Pf.TooManyRealms:return{title:a(".memberOfTooManyRealms.title"),firstParagraph:a(".memberOfTooManyRealms.message"),secondParagraph:""};case Pf.ActionAlreadyInProgress:case Pf.CannotSaveWorld:case Pf.Generic:case Pf.InvalidRealmName:case Pf.InvalidResponse:case Pf.InvalidWorldId:case Pf.UnknownError:default:return{title:a(".unknown.title"),firstParagraph:a(".unknown.message"),secondParagraph:a(".unknown.errorCode",[`${e}`])}}}),[a],[r]),i=(0,t.useFacetMap)((e=>e.title),[],[o]),c=(0,t.useFacetMap)((e=>e.firstParagraph),[],[o]),s=(0,t.useFacetMap)((e=>e.secondParagraph),[],[o]),u=(0,t.useFacetMap)((e=>""!=e.secondParagraph),[],[o]);return e.createElement(sd,{onOverlayClick:l,defaultFocusAlias:J_},e.createElement(sd.Header,{onClose:l},i),e.createElement(sd.Content,null,e.createElement(t.Mount,{when:u,condition:!1},e.createElement(sd.Text,{narrationText:c,center:!0},c)),e.createElement(t.Mount,{when:u,condition:!0},e.createElement(sd.Paragraphs,{narrationText:`${c}. ${s}`,spaceBetweenParagraphs:5},e.createElement(gs,{type:"captionLong",align:"center"},c),e.createElement(gs,{type:"captionLong",align:"center"},s)))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:J_,inputLegend:a(".closeButton"),variant:"secondary",onClick:l},a(".closeButton"))))}));let eB;!function(e){e.EditWorldScreen="EditWorld",e.WorldEditingError="WorldEditingError",e.JoinRealmsError="JoinRealmsError",e.ResourcePackDownloadError="ResourcePacksDownloadError",e.UploadRealmsError="UploadRealmsError",e.UnexpectedLaunchError="UnexpectedLaunchError"}(eB||(eB={}));const tB=pi((({onClose:t,onChangeSkin:a,text:n})=>{const{t:r}=oi("JoinRealmsServerError.invalidMultiplayerSkin"),l="non-multiplayer-skin-modal-button",o=null!=n?n:r(".body");return e.createElement(sd,{defaultFocusAlias:l},e.createElement(sd.Header,{onClose:t},r(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:o,center:!0},o)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:l,inputLegend:r(".changeSkin"),variant:"primary",onClick:()=>{a(),t()}},r(".changeSkin")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:r(".close"),variant:"secondary",onClick:t},r(".close"))))})),aB=pi((({onClose:a})=>{const{t:n}=oi("JoinRealmsServerError.noPlatformSubscription"),r=(0,t.useSharedFacet)(Ir),l=(0,t.useFacetMap)((e=>e.platform),[],[r]),o=(0,t.useFacetMap)((e=>Qv(e)?n(".nintendo.body"):n(".xbox.body")),[n],[l]),i=(0,t.useFacetMap)((e=>Qv(e)),[],[l]),c=(0,t.useFacetCallback)((e=>()=>{e.showPremiumNetworkUpsellModal(),a()}),[a],[(0,t.useSharedFacet)(Eg)]);return e.createElement(sd,null,e.createElement(sd.Header,{onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:o,center:!0},o)),e.createElement(t.Mount,{when:i},e.createElement(sd.Buttons,null,e.createElement(ru,{inputLegend:n(".nintendo.moreInformation"),variant:"secondary",onClick:c,"data-testid":"no-platform-modal-more-info-button"},n(".nintendo.moreInformation")))))})),nB=a.p+"assets/online-safety-4ffcb.png",rB=a.p+"assets/parental-online-safety-0c265.png",lB="download-template-error-back",oB=pi((({onClose:a})=>{const{t:n}=oi("MultiplayerPrivilegeBlockedModal"),r=(0,t.useSharedFacet)(Eg),l=(0,t.useFacetMap)((e=>e.userPermissions.multiplayer.denyReasons.includes(gg.XboxLive_Parental)?"parental":"online"),[],[r]),o=(0,t.useFacetMap)((e=>"parental"===e?rB:nB),[],[l]),i=(0,t.useFacetMap)((e=>n("parental"===e?".descriptionParental":".descriptionOnline")),[n],[l]),c=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.ParentPermissionHelpPage)}),[],[(0,t.useSharedFacet)(vg)]);return e.createElement(sd,{defaultFocusAlias:lB},e.createElement(sd.Header,{onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(oc,{imageRendering:"pixelated",src:o,className:"eQMCI"}),e.createElement(sd.Text,{gamepadIndex:0,narrationText:i,center:!0},i)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:lB,inputLegend:n(".learnMore"),variant:"secondary",onClick:c,imgSrc:hy},n(".learnMore"))))}));var iB;!function(e){e[e.SELECT_SCREENSHOT=0]="SELECT_SCREENSHOT",e[e.RESET=1]="RESET"}(iB||(iB={}));const cB=pi((({isOpen:t,onClose:a,onItemSelected:n})=>{const{t:r}=oi("EditWorld.EditThumbnailModal");return e.createElement(KP,{title:r(".title"),items:[{enumeration:r(".optionsEnumeration",["1","2"]),label:r(".changeThumbnail"),value:iB.SELECT_SCREENSHOT,Icon:DF.EditImage,testId:"change-thumbnail-option"},{enumeration:r(".optionsEnumeration",["2","2"]),label:r(".resetThumbnail"),value:iB.RESET,Icon:DF.Reset,testId:"reset-thumbnail-option"}],isOpen:t,onClose:a,onItemSelect:n})})),sB=({editThumbnailModalMenu:a})=>{const n=u(),r=Fy(),l=(0,t.useSharedFacet)(Ag),o=(0,t.useSharedFacet)(zg),i=(0,t.useSharedFacet)(kg),c=(0,t.useSharedFacet)(Bg),s=(0,t.useSharedFacet)(Of),d=(0,t.useSharedFacet)(Ep),m=(0,t.useSharedFacet)(Ir),p=(0,t.useSharedFacet)(Eg),f=(0,t.useFacetCallback)(((e,t,a)=>()=>{e.useMobileDataOnce=!0,t.joinRealmWorld(a.uploadedRealmWorldId.toString())}),[],[(0,t.useSharedFacet)(Fp),d,s]),g=MA(),E=(0,t.useFacetMap)((e=>e.exportWorldStatus===Pg.SelectingFileDestination),[],[l]),h=(0,t.useFacetMap)((e=>Yv(e.platform)),[],[m]),b=(0,t.useFacetMap)((e=>e.exportWorldStatus===Pg.Exporting||e.exportWorldStatus===Pg.Setup),[],[l]),v=(0,t.useFacetMap)((e=>{const t=e.startLocalWorldResult;return null!=t&&t!=Wg.Ok&&t!=Wg.MissingDlcDependencies&&t!=Wg.DlcMissingContentKey}),[],[o]),F=(0,t.useFacetMap)((e=>e.saveLocalWorldTaskState===vv.RUNNING),[],[i]),S=(0,t.useFacetMap)(((e,t)=>null!=t.duplicateWorldError||null!=e.saveLocalWorldError||null!=e.loadWorldError),[],[i,l]),y=(0,t.useFacetMap)((e=>null!=e.packDownloadError),[],[c]),C=(0,t.useFacetMap)((e=>e.duplicateWorldTaskState===vv.RUNNING),[],[l]),M=(0,t.useFacetMap)((e=>e.makeWorldInfiniteState===vv.RUNNING),[],[l]),k=(0,t.useFacetMap)((e=>e.startLocalWorldResult==Wg.MissingDlcDependencies),[],[o]),w=(0,t.useFacetMap)((e=>e.startLocalWorldResult==Wg.DlcMissingContentKey),[],[o]),T=(0,t.useFacetMap)((e=>e.packDownloadTaskState!=vv.IDLE),[],[c]),x=(0,t.useFacetMap)((e=>e.packDownloadName),[],[c]),I=(0,t.useFacetMap)((e=>e.packDownloadProgress),[],[c]),P=(0,t.useFacetMap)((e=>e.packDownloadStatus===Rg.Importing),[],[c]),O=(0,t.useFacetMap)((e=>e.joinRealmResult),[],[d]),N=(0,t.useFacetCallback)((e=>()=>{e.cancelPackDownload()}),[],[c]),A=(0,t.useFacetMap)((e=>null!=e.uploadWorldToRealmError),[],[s]),L=(0,t.useFacetMap)((e=>e.uploadedRealmWorldId.toString()),[],[s]),R=(0,t.useFacetMap)((e=>null!=e&&e!==gp.Ok&&e!==gp.InvalidCrossPlatformMultiplayerSkin&&e!==gp.MobileDataBlockedAndNoWifi&&e!==gp.MissingPlatformMembership&&e!==gp.MultiplayerPrivilegeBlocked),[],[O]),D=(0,t.useFacetMap)(((e,t)=>e===gp.MissingPlatformMembership&&!t),[],[O,h]),_=(0,t.useFacetMap)((e=>e===gp.MobileDataBlockedAndNoWifi),[],[O]),B=(0,t.useFacetMap)((e=>e===gp.InvalidCrossPlatformMultiplayerSkin),[],[O]),W=(0,t.useFacetCallback)((e=>()=>{e.clearJoinRealmTaskState()}),[],[d]),U=(0,t.useFacetMap)((e=>e===gp.MultiplayerPrivilegeBlocked),[],[O]),z=(0,t.useFacetCallback)(((e,t)=>r=>{r===iB.SELECT_SCREENSHOT?n.push(`/edit-world-thumbnail/${encodeURIComponent(e)}`):t.resetWorldIconToDefault(e),a.hide()}),[n,a],[r,l]);return(0,t.useFacetEffect)(((e,t,a,n,r,l,o,i)=>{e&&g({modal:eB.WorldEditingError,screen:eB.EditWorldScreen}),(t||l||o||i)&&g({modal:eB.JoinRealmsError,screen:eB.EditWorldScreen}),a&&g({modal:eB.ResourcePackDownloadError,screen:eB.EditWorldScreen}),n&&g({modal:eB.UnexpectedLaunchError,screen:eB.EditWorldScreen}),r&&g({modal:eB.UploadRealmsError,screen:eB.EditWorldScreen})}),[g],[S,R,T,v,A,D,_,B]),(0,t.useFacetEffect)(((e,t,a)=>{e&&!t.hasPremiumNetworkAccess&&a===gp.MissingPlatformMembership&&t.showPremiumNetworkUpsellModal()}),[],[h,p,O]),e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:T},e.createElement(Vv.Component,{title:x,percentage:I,isImportingPack:P,onCancel:N})),e.createElement(t.Mount,{when:k},e.createElement(oP.Component,null)),e.createElement(t.Mount,{when:w},e.createElement(Ny.Component,null)),e.createElement(t.Mount,{when:v},e.createElement(oP.Component,null)),e.createElement(t.Mount,{when:y},e.createElement(Iy.Component,null)),e.createElement(t.Mount,{when:F},e.createElement(Ty.Component,null)),e.createElement(t.Mount,{when:S},e.createElement(wy.Component,null)),e.createElement(t.Mount,{when:C},e.createElement(Sy.Component,null)),e.createElement(t.Mount,{when:M},e.createElement(Py.Component,null)),e.createElement(t.Mount,{when:b},e.createElement(by.Component,null)),e.createElement(t.Mount,{when:E},e.createElement(sd.Overlay,null,e.createElement(e.Fragment,null))),e.createElement(t.Mount,{when:A},e.createElement(Z_.Component,null)),e.createElement(t.Mount,{when:R},e.createElement(VO.Component,{worldId:L})),e.createElement(t.Mount,{when:_},e.createElement(eT.Component,{joinServer:f,onClose:W})),e.createElement(t.Mount,{when:B},e.createElement(tB.Component,{onClose:W,onChangeSkin:()=>{n.push("/persona")}})),e.createElement(t.Mount,{when:D},e.createElement(aB.Component,{onClose:W})),e.createElement(t.Mount,{when:U},e.createElement(oB.Component,{onClose:W})),e.createElement(cB.Component,{isOpen:a.isVisible,onClose:a.hide,onItemSelected:z}))},uB="save-changes-modal-continue",dB=pi((({saveChanges:a,closeModal:n,discardChanges:r})=>{const{t:l}=oi("EditWorld.saveChangesModal"),o=(0,t.useSharedFacet)(Xf),i=yv(),c=(0,t.useFacetCallback)((e=>()=>{n(),a(),e.fireEventOptionsChanged(eB.EditWorldScreen),i({button:"SaveChanges",screen:eB.EditWorldScreen})}),[a,n,i],[o]),s=(0,t.useFacetCallback)((e=>()=>{r(),n(),e.discardTrackedOptions(),i({button:"DiscardChanges",screen:eB.EditWorldScreen})}),[r,n,i],[o]);return e.createElement(sd,{onOverlayClick:n,defaultFocusAlias:uB},e.createElement(sd.Header,{onClose:n},l(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:l(".message"),gamepadIndex:0},l(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:uB,variant:"primary",inputLegend:l(".saveInputLegend"),onClick:c},l(".save")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:l(".discardInputLegend"),onClick:s},l(".discard"))))})),mB=()=>{const a=Fy(),n=(0,t.useSharedFacet)(kg),r=(0,t.useSharedFacet)(Bg),l=(0,t.useFacetMap)((e=>e.loadWorldTaskState),[],[n]),o=(0,t.useFacetMap)(((e,t)=>e.worldIsInitialized&&t.isInitialized||null!=e.loadWorldError),[],[n,r]),i=Sv(((e,t)=>function*(a){t.loadWorld(a),yield l,e.loadPacksData(a)}),[l],[r,n,a]);return(0,t.useFacetEffect)((e=>{i(e)}),[i],[a]),e.createElement(t.Mount,{when:o},e.createElement(pB,null))},pB=()=>{const{t:a}=oi("EditWorld"),n=".notificationToasts.saved",r=".notificationToasts.deleted",l=".notificationToasts.duplicated",o=".notificationToasts.addonPackActivated",i=".notificationToasts.addonPackDeactivated",c=a(".notificationToasts.worldConverted"),[s,d]=(()=>{const[e,a]=(0,t.useFacetState)(!1),n=(0,t.useSharedFacet)(Ag),r=(0,t.useSharedFacet)(kg),l=(0,t.useSharedFacet)(Of),o=(0,t.useSharedFacet)(Ep);return(0,t.useFacetEffect)(((e,t,n,r)=>{(null!=t.duplicateWorldError||null!=e.saveLocalWorldError||null!=n.uploadWorldToRealmError||n.uploadWorldToRealmTaskState!==vv.RUNNING&&r.joinRealmTaskState!==vv.RUNNING)&&a(!1)}),[a],[r,n,l,o]),[e,a]})(),m=Fy(),p=(0,t.useSharedFacet)(up),g=(0,t.useFacetMap)(((e,t)=>e.localWorlds.find((e=>e.allContentOwned&&e.id===t))),[],[p,m]),E=u(),h=yv(),b=(0,t.useSharedFacet)(Xf),v=(0,t.useSharedFacet)(zg),F=(0,t.useSharedFacet)(kg),S=(0,t.useFacetMap)((e=>e.worldData.general.worldName),[],[F]),y=(0,t.useSharedFacet)(Ir),C=(0,t.useSharedFacet)(Of),M=(0,t.useSharedFacet)(bp),k=(0,t.useSharedFacet)(Ag),w=(0,t.useSharedFacet)(Bg),T=(0,t.useSharedFacet)(Ep),x=(0,t.useSharedFacet)(um),I=(0,t.useSharedFacet)(Sf),P=(0,t.useSharedFacet)(fg),O=(0,t.useSharedFacet)(jf),{advancedData:N,cheatsData:A,generalData:L,experimentsData:R,multiplayerData:D,resourcePacksData:_}=vy(),B=function(){const e=Fy(),a=(0,t.useSharedFacet)(kg);return(0,t.useFacetMap)(((e,t)=>null!=t?e.worldSummary:void 0),[],[a,e])}(),W=dB.useModal(),U=dB.useModal(),z=dB.useModal(),j=dB.useModal(),H=dB.useModal(),V=yy.useModal(),G=Wx.useModal(),$=Rv.useModal(),K=(0,t.useFacetMap)((e=>e.worldPacksData),[],[w]),X=(0,t.useFacetMap)((e=>e.worldData.isUsingTemplate),[],[F]),Y=(0,t.useFacetMap)((e=>{var t;return null===(t=e.worldData)||void 0===t?void 0:t.lockedTemplate}),[],[F]),q=(0,t.useFacetCallback)(((e,t)=>()=>{e.closeWorld(t)}),[],[F,m]);(0,e.useEffect)((()=>()=>{q()}),[q]);const Q=HI(g),J=(0,t.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[F]),Z=(0,t.useFacetMap)((e=>e.duplicateWorldTaskState),[],[k]),ee=(0,t.useFacetMap)((e=>e.isAchievementsEditDisabled),[],[F]),te=zx({generalData:L,advancedData:N,cheatsData:A,multiplayerData:D,betaFeaturesEnabled:(0,t.useFacetMap)((e=>e.worldData.betaFeatures.some((e=>e.isEnabled))),[],[F]),behaviorPacksEnabled:(0,t.useFacetMap)((e=>e.activeBehaviorPacks.length>0),[],[K])}),ae=(0,t.useFacetMap)((e=>e.storageAvailableSize),[],[y]),ne=(0,t.useFacetMap)((e=>e.supportsSizeQuery),[],[y]),re=$v.useShowModal(),le=_v.useShowModal(),oe=Wv.useShowModal(),ie=mv.useShowModal(),ce=cB.useModal(),se=(0,t.useFacetCallback)((e=>(t,a)=>{if(a){var n,r,l,o,i;const a=null!==(n=null===(r=e.activeTexturePacks.find((e=>t==e.id)))||void 0===r?void 0:r.name)&&void 0!==n?n:"",c=null!==(l=null===(o=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===o?void 0:o.name)&&void 0!==l?l:"";return null!==(i=a||c)&&void 0!==i?i:"Pack"}{var c,s,u,d,m;const a=null!==(c=null===(s=e.availableTexturePacks.find((e=>t==e.id)))||void 0===s?void 0:s.name)&&void 0!==c?c:"",n=null!==(u=null===(d=e.availableBehaviorPacks.find((e=>t==e.id)))||void 0===d?void 0:d.name)&&void 0!==u?u:"";return null!==(m=a||n)&&void 0!==m?m:"Pack"}}),[],[K]),ue=(0,t.useFacetCallback)(((e,n,r)=>l=>{const i=e.continuePackActivation(n);if(i===Dg.PackDataWarning)ie({packId:l,type:"activate",packType:Lg.Behavior,onAccept:ue});else if(null!=i)re({errorCode:i});else{const e=se(l,!0);r.queueSnackbar(a(o,[e===t.NO_VALUE?"Pack":e]))}}),[ie,re,o,se,a],[w,m,M]),de=(0,t.useFacetCallback)(((e,n,r)=>l=>{const o=e.continuePackDeactivation(n);if(null!=o)re({errorCode:o});else{const e=se(l,!1);r.queueSnackbar(a(i,[e===t.NO_VALUE?"Pack":e]))}}),[re,se,a],[w,m,M]),me=(0,t.useFacetMap)((e=>e.packDownloadTaskState),[],[w]),pe=Sv(((e,t)=>function*(a){switch(e.downloadPacks(t,[a]),yield me,e.packDownloadTaskState){case vv.DONE:e.cancelPackDownload(),ue(a);break;case vv.CANCELLED:e.cancelPackDownload()}}),[me,ue],[w,m]),fe=(0,t.useFacetMap)((e=>e.lastConsultedPackSizesTaskState),[],[w]),ge=Sv(((e,t)=>function*(a,n){e.getPackSizes([a],t),yield fe;let r="";null==e.lastConsultedPackSizesError&&(r=e.lastConsultedPackSizes,e.getPackSizesReset()),oe({packId:a,packName:n,packSize:r,supportsSizeQuery:ne,availableSize:ae,onAccept:pe})}),[fe,oe,ne,ae,pe],[w,m]),Ee=(0,t.useFacetCallback)(((e,n,r)=>(l,i,c)=>{const s=e.activatePack(n,l,i,!1);if(s===Dg.NeedToDownloadPack)ge(l,c);else if(s===Dg.PackDependencyWarning)le({packId:l,onAccept:ue});else if(s===Dg.PackDataWarning)ie({packId:l,type:"activate",packType:i,onAccept:ue});else if(null!=s)re({errorCode:s});else{const e=se(l,!0);r.queueSnackbar(a(o,[e===t.NO_VALUE?"Pack":e]))}}),[ge,le,ue,ie,re,se,a],[w,m,M]),he=(0,t.useFacetCallback)(((e,n,r)=>(l,o)=>{const c=e.deactivatePack(n,l,o,!1);if(c===Dg.PackDataWarning)ie({packId:l,type:"deactivate",packType:o,onAccept:de});else if(null!=c)re({errorCode:c});else{const e=se(l,!1);r.queueSnackbar(a(i,[e===t.NO_VALUE?"Pack":e]))}}),[ie,de,re,se,a],[w,m,M]),be=(0,t.useFacetCallback)(((e,t,r,l)=>(o,i,c,s)=>{e.changePackPriority(t,o,i,c,s),r.queueSnackbar(a(n,[`"${l}"`]))}),[a,n],[w,m,M,S]),ve=(0,t.useFacetCallback)((e=>t=>{E.push(`/pack-settings/${t}/${encodeURIComponent(e)}`)}),[E],[m]),Fe=(0,t.useFacetCallback)(((e,t)=>()=>{t&&(e.worldData.lockedTemplate=!1)}),[],[F,Y]),Se=(0,t.useFacetMap)((e=>null!=e.worldSummary.worldIconPath&&e.worldSummary.worldIconPath.length>0?e.worldSummary.worldIconPath:Mx),[],[F]),ye=(0,t.useFacetCallback)(((e,t,a)=>()=>{h({button:"OptOut",screen:"EditWorld"}),e.closeWorld(a),t.selectTechStackForScreen(Uf.EditWorldScreen,zf.JsonUI)}),[h],[F,O,m]),Ce=(0,t.useFacetCallback)((e=>()=>{e.worldHasBeenModified?$.show():ye()}),[ye,$],[F]),[Me,ke]=(0,t.useFacetState)(!1),we=Sv(((e,t,r,l)=>function*(){d(!0),e.saveLocalWorld(r),yield J,e.saveLocalWorldError||(e.clearSaveLocalWorldTaskState(),t.queueSnackbar(a(n,[`"${l}"`])),E.goBack())}),[a,d,J,n,E],[F,M,m,S]),Te=(0,t.useFacetCallback)((()=>()=>{ke(!1),W.hide()}),[ke,W],[]),xe=(0,t.useFacetCallback)(((e,t)=>()=>{ke(!0),e.worldHasBeenModified?W.show():(t.discardTrackedOptions(),E.goBack(),ke(!1))}),[E,W,ke],[F,b]),Ie=Sv(((e,t,r,l)=>function*(){e.saveLocalWorld(t),yield J,r.queueSnackbar(a(n,[`"${l}"`])),e.clearSaveLocalWorldTaskState(),Q()}),[a,J,Q,n],[F,m,M,S]),Pe=(0,t.useFacetCallback)(((e,t)=>()=>{h({button:"Play",screen:"EditWorld"}),e.worldHasBeenModified?(t.fireEventOptionsChanged(eB.EditWorldScreen),Ie()):(t.discardTrackedOptions(),Q())}),[Q,h,Ie],[F,b]),Oe=(0,t.useFacetCallback)(((e,t)=>()=>{e.reloadWorld(t),Q()}),[Q],[F,m]),Ne=Sv(((e,t,n,r,o)=>function*(){e.saveLocalWorld(r),yield J,e.clearSaveLocalWorldTaskState(),n.startDuplicateWorld(r),yield Z,n.clearDuplicateWorldTaskState(),t.queueSnackbar(a(l,[`"${o}"`])),E.goBack()}),[a,J,Z,l,E],[F,M,k,m,S]),Ae=(0,t.useFacetCallback)((e=>()=>{e.worldHasBeenModified?H.show():Ne()}),[Ne,H],[F]),Le=Sv(((e,t,n,r)=>function*(){t.startDuplicateWorld(n),yield Z,t.clearDuplicateWorldTaskState(),e.queueSnackbar(a(l,[`"${r}"`])),E.goBack()}),[a,Z,l,E],[M,k,m,S]),Re=(0,t.useFacetCallback)(((e,t,n,l)=>()=>{e.deleteWorld(n),t.queueSnackbar(a(r,[`"${l}"`])),E.goBack()}),[a,r,E],[k,M,m,S]),De=(0,t.useFacetCallback)((e=>t=>{E.push(`/export-world/${e}/${t?ug.Template:ug.Regular}`)}),[E],[m]),_e=Sv(((e,t,r,l)=>function*(o){e.saveLocalWorld(t),yield J,e.clearSaveLocalWorldTaskState(),r.queueSnackbar(a(n,[`"${l}"`])),De(o)}),[a,J,n,De],[F,m,M,S]),Be=(0,e.useCallback)((()=>_e(!0)),[_e]),We=(0,t.useFacetCallback)((e=>t=>{e.worldHasBeenModified?t?j.show():z.show():De(t)}),[De,z,j],[F]),Ue=(0,e.useCallback)((()=>We(!0)),[We]),ze=(0,t.useFacetCallback)(((e,t)=>a=>{e.loadWorld(t),De(a)}),[De],[F,m]),je=(0,e.useCallback)((()=>ze(!0)),[ze]),He=(0,t.useFacetMap)((e=>e.uploadWorldToRealmTaskState),[],[C]),Ve=(0,t.useFacetMap)((e=>e.joinRealmTaskState),[],[T]),Ge=Sv(((e,t,a,n,r,l)=>function*(){if(d(!0),h({button:"PlayOnRealm",screen:"EditWorld"}),l.isPreviewBuild&&0===n.length&&0===r.length)return void G.show();e.uploadWorldToRealm(t),yield He,e.clearUploadWorldToRealmTaskState();const o=e.uploadedRealmWorldId;d(!0),a.joinRealmWorld(o.toString()),yield Ve,a.clearJoinRealmTaskState()}),[h,He,d,G,Ve],[C,m,T,I,P,x]);(0,t.useFacetEffect)(((e,t)=>{e.choosePreviewRealm&&(0===t.length?E.push("/realms-choose-realm/realm-subscriptions"):E.push("/realms-choose-realm/preview-realms"))}),[E],[C,I]);const $e=(0,t.useFacetMap)((e=>e.makeWorldInfiniteState),[],[k]),Ke=Sv(((e,t,a)=>function*(){d(!0),h({button:"MakeWorldInfinite",screen:"EditWorld"}),e.makeWorldInfinite(t),yield $e,e.clearMakeWorldInfiniteState(),a.queueSnackbar(c),d(!1)}),[$e,d,c,h],[k,m,M]);(()=>{const e=(0,t.useSharedFacet)(bp),a=(0,t.useSharedFacet)(Ag),{t:n}=oi("EditWorld");(0,t.useFacetEffect)(((e,t)=>{e.clearPlayerDataTaskState===vv.DONE&&(t.queueSnackbar(n(".clearPlayerDataToast")),e.resetClearPlayerData())}),[n],[a,e])})();const Xe=(0,t.useFacetMap)((e=>e.isEditorWorld),[],[F]);(()=>{const e=Fy(),a=(0,t.useSharedFacet)(bp),n=(0,t.useSharedFacet)(Bg),r=(0,t.useFacetMap)((e=>e.worldPacksData),[],[n]),l=$v.useShowModal(),{t:o}=sp("EditWorld"),i=(0,t.useFacetCallback)((e=>t=>{var a,n,r,l,o;const i=null!==(a=null===(n=e.activeTexturePacks.find((e=>t==e.id)))||void 0===n?void 0:n.name)&&void 0!==a?a:"",c=null!==(r=null===(l=e.activeBehaviorPacks.find((e=>t==e.id)))||void 0===l?void 0:l.name)&&void 0!==r?r:"";return null!==(o=i||c)&&void 0!==o?o:"Pack"}),[],[r]),c=(0,t.useFacetCallback)(((e,a,n)=>r=>{const c=e.activatePack(a,r,Lg.Behavior,!0);if(null!=c)l({errorCode:c});else{const e=i(r);n.queueSnackbar(o(".notificationToasts.addonPackActivated",[e===t.NO_VALUE?"Pack":e]))}}),[l,i,o],[n,e,a]),s=f(),u=(0,t.useFacetMap)((e=>e.get("packid")),[],[s]);(0,t.useFacetEffect)((e=>{null!=e&&c(e)}),[c],[u])})();const Ye=(0,t.useFacetCallback)(((e,t)=>a=>{null!=t&&e.clearPlayerData(a,t)}),[],[k,m]),qe=(0,t.useFacetMap)((e=>e.startLocalWorldTaskState===vv.RUNNING),[],[v]);return e.createElement(rv.Provider,{value:"edit"},e.createElement(Cx,{advancedData:N,cheatsData:A,experimentsData:R,generalData:L,multiplayerData:D,resourcePacksData:_,worldPacks:K,worldPreviewImage:Se,isUsingTemplate:X,isLockedTemplate:Y,worldSummary:B,isEditorWorld:Xe,isAchievementsDisabled:ee,achievementsDisabledMessages:te,renderPage:(0,t.useFacetWrap)(!0),onActivatePack:Ee,onDeactivatePack:he,onChangePackPriority:be,onClickPackSettings:ve,onUnlockTemplateSettings:Fe,backButtonCallback:xe,mainActionCallback:Pe,realmsActionCallback:Ge,backButtonDisabled:s,onMakeWorldInfinite:Ke,onDuplicateWorld:Ae,onDeleteWorld:Re,onEditThumbnail:ce.show,onExportWorld:We,onExportTemplate:Ue,onOptOut:Ce,isSeedChangeLocked:(0,t.useFacetWrap)(!1),onClearPlayerData:V.show,isRealmsButtonDisabled:Me}),e.createElement(sB,{editThumbnailModalMenu:ce}),e.createElement(t.Mount,{when:W.isVisible},e.createElement(dB.Component,{saveChanges:we,closeModal:Te,discardChanges:E.goBack})),e.createElement(t.Mount,{when:U.isVisible},e.createElement(dB.Component,{saveChanges:Ie,closeModal:U.hide,discardChanges:Oe})),e.createElement(t.Mount,{when:H.isVisible},e.createElement(dB.Component,{saveChanges:Ne,closeModal:H.hide,discardChanges:Le})),e.createElement(t.Mount,{when:z.isVisible},e.createElement(dB.Component,{saveChanges:_e,closeModal:z.hide,discardChanges:ze})),e.createElement(t.Mount,{when:j.isVisible},e.createElement(dB.Component,{saveChanges:Be,closeModal:j.hide,discardChanges:je})),e.createElement(t.Mount,{when:V.isVisible},e.createElement(yy.Component,{clearPlayerData:Ye,closeModal:V.hide})),e.createElement(t.Mount,{when:G.isVisible},e.createElement(Wx.Component,{onClose:G.hide})),e.createElement(t.Mount,{when:qe},e.createElement(Tx.Component,{title:a(".startLocalWorldModal.title")})),e.createElement(t.Mount,{when:$.isVisible},e.createElement(Rv.Component,{optOutCallback:ye,closeModal:$.hide})))},fB="zYipN";function gB({featureFlag:t,notPresent:a,children:n}){const r=Rd(t);return!a&&r||a&&!r?e.createElement(e.Fragment,null,n):null}function EB(){const a=u(),n=(0,t.useSharedFacet)(Ag),r=(0,t.useSharedFacet)(bp),l=m(),o=(0,t.useFacetMap)((e=>decodeURIComponent(e.id)),[],[l]),i=(0,t.useFacetMap)((e=>e.type===ug.Regular),[],[l]),{t:c}=oi("EditWorld.exportWorldFlow"),{t:s}=oi("EditWorld.notificationToasts"),{t:d}=oi("ExportWorld.error"),p="narrow"===To(),[f,g]=(0,t.useFacetState)(!1),[E,h]=(0,t.useFacetState)(!1),[b,v]=(0,t.useFacetState)(!1),{generalData:F}=vy(),S=(0,t.useFacetMap)(((e,t)=>t&&e.isHardcore),[],[F,i]),y=(0,t.useFacetCallback)((e=>()=>{e.clearExportWorldResult(),a.goBack()}),[a],[n]),C=(0,t.useFacetMap)(((e,t)=>!t&&e),[],[f,S]),M=(0,t.useFacetCallback)(((e,t,a,n,r)=>()=>{let l=Tg.None;a&&(l|=Tg.ClearPlayerData),n&&(l|=Tg.ForceHardcoreMode),r?e.exportWorldAsTemplate(t,l):e.exportWorld(t,l)}),[],[n,o,C,E,b]);(0,t.useFacetEffect)(((e,t,a)=>{const n=e.exportWorldResult,r=s(a?".exportedTemplate":".exportedWorld");n===xg.Ok?(t.queueSnackbar(r),y()):n===xg.Cancelled&&e.clearExportWorldResult()}),[s,y],[n,r,b]);const k=(0,t.useFacetMap)((e=>e.exportWorldStatus===Pg.Exporting),[],[n]),w=(0,t.useFacetMap)((e=>null!=e.exportWorldResult&&e.exportWorldResult!==xg.Ok&&e.exportWorldResult!==xg.Cancelled),[],[n]),T=(0,t.useFacetMap)((e=>c(e?".exportWorldLabel":".exportWorldTemplateLabel")),[c],[i]),x=(0,t.useFacetMap)((e=>{switch(e.exportWorldResult){case xg.NeedToRemoveVRHeadset:return d(".needToRemoveVRHeadset.title");case xg.IncorrectWorldId:return d(".incorrectWorldID.title");default:return d(".unknownError.title")}}),[d],[n]),I=(0,t.useFacetMap)((e=>c(e?".exportWorldNarration":".exportWorldTemplateNarration")),[c],[i]),P=(0,t.useFacetMap)((e=>c(e?".clearPlayerDataDescription.alreadyInHardcoreMode":".clearPlayerDataDescription")),[c],[S]),O=[c(".headerTitle"),c(".exportationSettingsGroup"),c(".headerDescription")].join(" . ");return e.createElement(e.Fragment,null,e.createElement(qg,null,e.createElement(rs,{text:I},e.createElement(fE,{onBackButton:y,center:e.createElement(gs,{type:"header5A"},T),footer:p?e.createElement(hB,{isRegularExport:i,exportCallback:M,cancelCallback:y}):null,gamepadAlias:"export-world-flow"},e.createElement(Yc,null,e.createElement(hE,null,e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:1,narrowSize:1,disabled:!0}),e.createElement(hE.Column,{wideSize:10,narrowSize:6},e.createElement(t.Mount,{when:w},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement("div",{className:lr()(fB)},e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,x))))),e.createElement(Sc,{size:2}),e.createElement("div",{className:lr()(fB)},e.createElement(rs,{text:O},e.createElement(cS,{title:c(".headerTitle"),description:c(".headerDescription")}),e.createElement(vS,{title:c(".clearPlayerDataTitle"),description:P,value:f,onChange:g,disabled:S}),e.createElement(t.Mount,{when:i,condition:!1},e.createElement(e.Fragment,null,e.createElement(gB,{featureFlag:Rm},e.createElement(vS,{title:c(".exportHardcoreModeTitle"),description:c(".exportHardcoreModeDescription"),value:E,onChange:h})),e.createElement(vS,{title:c(".exportAsTemplateTitle"),description:c(".exportAsTemplateDescription"),value:b,onChange:v})))),p?null:e.createElement(hB,{isRegularExport:i,exportCallback:M,cancelCallback:y}))),e.createElement(hE.Column,{wideSize:1,narrowSize:1,disabled:!0}))))))),e.createElement(t.Mount,{when:k},e.createElement(by.Component,null)))}function hB({exportCallback:a,cancelCallback:n,isRegularExport:r}){const l=Vn("neutral"),{t:o}=oi("EditWorld.exportWorldFlow"),i=(0,t.useFacetMap)((e=>o(e?".exportButtonLabel":".exportTemplateButtonLabel")),[o],[r]);return e.createElement(e.Fragment,null,e.createElement("div",{className:lr()("P6Myy",l.background.base)},e.createElement(hE,null,e.createElement(hE.Row,null,e.createElement(ru,{horizontal:!0,inputLegend:o(".cancel"),onClick:n,variant:"secondary",narrationSuffix:[o(".buttonsEnumaration",["1","2"]),o(".cancelHint")].join(" . ")},o(".cancel")),e.createElement(Sc,{size:2}),e.createElement(ru,{horizontal:!0,inputLegend:i,onClick:a,variant:"primary",narrationSuffix:o(".buttonsEnumaration",["2","2"])},i)))))}const bB=a.p+"assets/emptyRealmSlotBig-174b3.png",vB=a.p+"assets/emptyRealmSlotSmall-fe677.png",FB=a.p+"assets/celebration_world_icon-46ff8.jpg",SB="realm-preview-replace-preview-realm-close",yB=pi((({onConfirm:t,onClose:a})=>{const{t:n}=oi("RealmsPreviews.ReplaceWorld"),r=n(".message");return e.createElement(sd,{defaultFocusAlias:SB},e.createElement(sd.Header,{onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:r,gamepadIndex:0},r)),e.createElement(sd.Buttons,null,e.createElement(ru,{"data-testid":"replace-world-confirm-button",gamepadIndex:0,inputLegend:n(".select"),variant:"primary",onClick:t},n(".confirm")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,gamepadAlias:SB,inputLegend:n(".select"),variant:"secondary",onClick:a},n(".cancel"))))})),CB=a.p+"assets/GenericEmptyState-45ab1.png";let MB;function kB({world:a,index:n,onItemClick:r}){const{t:l}=oi("ChooseSlotRoute"),o=(0,t.useFacetMap)((e=>e.worldName),[],[a]),i=(0,t.useFacetMap)((e=>-1===e.id?bB:e.slotImage.length>0?FB:Mx),[],[a]),c=(0,t.useFacetMap)((e=>-1===e.id?l(".emptySlotHint"):l(".slotHint")),[l],[a]),s=(0,t.useFacetMap)((e=>l(".slotEnumeration",[(n+1).toString(),e.toString()])),[l,n],[c]);return e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(lI,{gamepadIndex:n,inputLegend:l(".select"),onClick:r,narrationSuffix:s},e.createElement(oc,{src:i,aspectRatio:oc.AspectRatio["16:9"]}),e.createElement(lI.Information,{narrationText:o},e.createElement(gs,{type:"body",verticalAlign:"center"},o))))}function wB({onItemClick:a}){return e.createElement(qx,{gamepadIndex:0,data:(0,t.useFacetMap)((e=>e.realmSlots),[],[(0,t.useSharedFacet)(Mf)]),columns:3,itemSeparatorHorizontal:e.createElement(Sc,{size:4}),renderItem:({itemFacet:t,index:n})=>e.createElement(kB,{world:t,index:n,onItemClick:()=>a(n)})})}function TB({world:a,index:n,onItemClick:r}){const{t:l}=oi("ChooseSlotRoute"),o=(0,t.useFacetMap)((e=>e.worldName),[],[a]),i=(0,t.useFacetMap)((e=>-1===e.id?vB:e.slotImage.length>0?FB:Mx),[],[a]),c=Vn("neutral80"),s=(0,t.useFacetMap)(((e,t)=>l(".slotButtonNarration",[t.toString(),(n+1).toString(),-1===e.id?l(".emptySlotHint"):l(".slotHint")])),[l,n],[a,o]);return e.createElement(Gh,{gamepadIndex:n,tall:!0},e.createElement(Gh.Action,{inputLegend:l(".select"),narrationText:s,onClick:r},e.createElement("div",{className:"xKrMY"},e.createElement(oc,{src:i,aspectRatio:oc.AspectRatio["16:9"],className:lr()(c.border.base,"WsmeP")})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},o))))}function xB({onItemClick:a}){return e.createElement(lA,{header:e.createElement(Sc,{size:2}),gamepadIndex:0,data:(0,t.useFacetMap)((e=>e.realmSlots),[],[(0,t.useSharedFacet)(Mf)]),renderItem:({itemFacet:t,index:n})=>e.createElement(TB,{world:t,index:n,onItemClick:()=>a(n)})})}function IB(){const a=hr(),{t:n}=oi("ChooseSlotRoute"),r=Io(70),l=(0,t.useSharedFacet)(Mf),o=(0,t.useSharedFacet)(kg),i=(0,t.useSharedFacet)(Of),c=function(){const[e,a]=(0,t.useFacetState)(MB.IDLE),n=(0,t.useSharedFacet)(Mf),r=(0,t.useFacetCallback)(((e,t)=>n=>{e==MB.IDLE&&(a(MB.SELECTING_SLOT),t.selectSlot(n))}),[a],[e,n]),l=(0,t.useFacetCallback)((e=>()=>{a(MB.IDLE),e.reset()}),[a],[n]);return(0,t.useFacetEffect)(((e,t)=>{t==MB.SELECTING_SLOT&&(e.isSlotSelected?a(MB.SLOT_SELECTED):e.didFailToActivateSlot&&a(MB.ERROR))}),[a],[n,e]),{state:e,select:e=>r(e),reset:l}}(),s=(0,t.useFacetMap)(((e,t)=>e.isLoading&&t!==MB.SELECTING_SLOT),[],[l,c.state]),u=(0,t.useFacetMap)((e=>n(".chooseSlotHeader",[e.selectedRealmName])),[n],[l]),d=m(),p=(0,t.useFacetMap)((e=>e.id),[],[d]),f=(0,t.useSharedFacet)(Mm),g=(0,e.useRef)(!1);(0,t.useFacetEffect)(((e,t)=>{g.current||(g.current=!0,e.getSelectedRealmDetails(t))}),[g],[l,p]),(0,t.useFacetEffect)(((e,t,a,n,r)=>{a===MB.SLOT_SELECTED&&"uninitialized"!==n.currentWorldId&&(c.reset(),r.setPreviewRealmForUpload(t))}),[a,c],[f,p,c.state,o,i]),(0,t.useFacetEffect)(((e,t,a,n)=>{a===MB.SLOT_SELECTED&&"uninitialized"===n.currentWorldId&&(c.reset(),e.createWorldOnPreviewRealm(t))}),[a,c],[f,p,c.state,o]);const E=(0,t.useFacetMap)(((e,t)=>!e.isShowingConfirmationModal&&t===MB.SELECTING_SLOT),[],[l,c.state]),h=(0,t.useFacetMap)(((e,t)=>e.isShowingConfirmationModal&&t==MB.SELECTING_SLOT),[],[l,c.state]),b=(0,t.useFacetCallback)((e=>()=>{e.confirm()}),[],[l]),v=(0,t.useFacetMap)((e=>e.didFailToActivateSlot),[],[l]),F=(0,t.useFacetMap)((e=>e.didFailToQuerySelectedRealmDetails),[],[l]),S=Vn("inherit"),y=n(".backHint"),C=(0,t.useFacetMap)((e=>n(".screen",[e])),[n],[u]),M=(0,t.useFacetCallback)(((e,t)=>()=>{e.didFailToQuerySelectedRealmDetails&&e.getSelectedRealmDetails(t)}),[],[l,p]);return e.createElement(qg,null,e.createElement(t.Mount,{when:s},e.createElement("div",{className:lr()("aziqd",S.overlay.base)},e.createElement(Kc,null))),e.createElement(t.Mount,{when:s,condition:!1},e.createElement(e.Fragment,null,e.createElement(ab,{text:C,interruptible:!1}),e.createElement(fE,{onBackButton:a.goBack,backButtonHint:y,center:e.createElement(gs,{type:"header5A"},u),gamepadAlias:"choose-slote-route"},e.createElement(hE,null,e.createElement(hE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(t.Mount,{when:F,condition:!1},e.createElement(hE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(Sc,{size:2}),e.createElement(Yr,{data:r},(t=>t?e.createElement(xB,{onItemClick:c.select}):e.createElement(wB,{onItemClick:c.select}))))),e.createElement(t.Mount,{when:F},e.createElement(e.Fragment,null,e.createElement(hE.Column,{wideSize:2,narrowSize:0}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},e.createElement(Yc,{gamepadIndex:0},e.createElement(Sc,{size:2}),e.createElement(yE,{gamepadIndex:0,title:n(".noSlotsErrorTitle"),text:n(".noSlotsErrorMessage"),imgSrc:CB,buttons:[{text:n(".noSlotsErrorButton"),inputLegend:n(".select"),onClick:M}]})))))))),e.createElement(t.Mount,{when:h},e.createElement(yB.Component,{onConfirm:b,onClose:c.reset})),e.createElement(t.Mount,{when:v},e.createElement(Lx.Component,{onClickClose:c.reset})),e.createElement(t.Mount,{when:E},e.createElement(Nx,{onClickClose:c.reset})))),e.createElement(Zu.Space,null))}!function(e){e[e.IDLE=0]="IDLE",e[e.SELECTING_SLOT=1]="SELECTING_SLOT",e[e.SLOT_SELECTED=2]="SLOT_SELECTED",e[e.ERROR=3]="ERROR"}(MB||(MB={}));const PB=a.p+"assets/trash-4fd68.png",OB=a.p+"assets/arrowForwardWhite-9acff.png";function NB(){return NB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},NB.apply(this,arguments)}const AB=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("VBVxi",a);return e.createElement(oc,NB({},n,{className:r,src:OB,imageRendering:"pixelated"}))},LB=e=>({messageId:e.id,messageType:e.inboxCategory,messageRead:e.read.toString()}),RB="delete-inbox-message-confirm",DB=pi((function({item:a}){const{t:n}=oi("InboxRoute.deleteConfirmation"),r=mi(),l=yv(),o=(0,t.useFacetCallback)((e=>()=>{e.deleteNotification(a.instanceId),l({button:"MessageAction_Delete",screen:"Inbox",details:LB(a)})}),[a,l],[(0,t.useSharedFacet)(ap)]);return e.createElement(sd.Overlay,null,e.createElement(sd,{defaultFocusAlias:RB},e.createElement(sd.Header,{onClose:r},n(".header")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:n(".dialogText")},n(".dialogText"))),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"destructive",gamepadIndex:0,gamepadAlias:RB,inputLegend:n(".deleteConfirm"),autofocus:!0,onClick:()=>{o(),r()}},n(".deleteConfirm")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:n(".cancel"),onClick:r},n(".cancel")))))})),_B="invite-expired-modal-ok",BB=pi((({item:a,onClose:n})=>{const{t:r}=oi("Realms.InviteExpiredModals"),l=mi(),o=(0,t.useFacetCallback)(((e,t)=>()=>{e.rejectInvitation(t.instanceId),n(),l()}),[l,n],[(0,t.useSharedFacet)(ap),a]);return e.createElement(sd,{defaultFocusAlias:_B},e.createElement(sd.Header,null,r(".header")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:r(".message")},r(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:_B,gamepadIndex:0,inputLegend:r(".ok"),variant:"secondary",onClick:o},r(".ok"))))}));function WB(e){const a=(0,t.useFacetMap)((e=>e.getTechStackForScreen(Uf.PlayScreen)==zf.OreUI),[],[(0,t.useSharedFacet)(jf)]);return(0,t.useFacetMap)(((e,t)=>t?`/play/realms/${e}`:"/play/friends"),[],[e,a])}function UB({invite:a,daysLeft:n}){const{t:r}=oi("InboxRoute"),l=(0,t.useFacetMap)(((e,t)=>{switch(e.invStatus){case Qm.ACCEPTED:return"primaryTint";case Qm.REJECTED:return"neutral100";case Qm.EXPIRED:return"noticeTint";case Qm.NONE:if(null!=t&&e.inboxCategory!==Jm.INVITES)return t<=0?"noticeTint":"informativeTint";default:return"noticeTint"}}),[],[a,n]),o=(0,t.useFacetMap)(((e,t)=>{switch(e.invStatus){case Qm.ACCEPTED:return r(".accepted");case Qm.REJECTED:return r(".rejected");case Qm.EXPIRED:return r(".expired");default:return null!=t&&e.inboxCategory!==Jm.INVITES?t<=0?r(".expired"):t<1?r(".endsToday"):r(".endsSoon",[`${t}`]):""}}),[r],[a,n]),i=(0,t.useFacetMap)(((e,t)=>e.invStatus!=Qm.NONE||null!=t),[],[a,n]);return e.createElement(t.Mount,{when:i},e.createElement(jM,{role:l},o))}function zB({item:t,gamepadIndex:a}){return e.createElement(Gh,{gamepadIndex:a,defaultFocusedChildBehavior:"grid"},e.createElement(jB,{item:t,gamepadIndex:0}),e.createElement(HB,{item:t,gamepadIndex:1}))}const jB=({item:a})=>{const n=u(),{t:r}=oi("InboxListItem"),{t:l}=oi("InboxListItem.narration"),o=(0,t.useFacetMap)((e=>e.expiryDaysLeft),[],[a]),i=yv(),c=(0,t.useFacetCallback)(((e,t)=>()=>{i({button:"MessageAction_View",screen:"Inbox",details:LB(e)}),e.read||e.inboxCategory==Jm.INVITES||t.setNotificationRead(e.instanceId),n.push(`/message/${e.instanceId}/`)}),[n,i],[a,(0,t.useSharedFacet)(ap)]),s=(0,t.useFacetMap)((e=>e.title),[],[a]),d=(0,t.useFacetMap)((e=>e.read),[],[a]),m=(0,t.useFacetMap)((e=>e.sender),[],[a]),p=(0,t.useFacetMap)((e=>e.inboxCategory),[],[a]),f=(0,t.useFacetMap)(((e,t,a,n)=>[e,t,l(!1===a?".unreadPost":".readPost"),""!==n?l(".postedBy",[n]):"",e!==Jm.INVITES?l(".buttonSiblings",["1","2"]):l(".buttonSiblings",["1","3"])].filter((e=>null!=e&&""!==e)).join(" . ")),[l],[p,s,d,m]);return e.createElement(Gh.Action,{inputLegend:r(".view"),narrationText:f,onClick:c,gamepadIndex:0},e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.invStatus===Qm.NONE&&e.invType!=qm.NONE||!e.read&&e.inboxCategory!=Jm.INVITES),[],[a])},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(Gh.Cell,null,e.createElement(wE,null)),e.createElement(Sc,{size:1}))),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,(0,t.useFacetMap)((e=>e.title),[],[a]))),e.createElement(gs,{type:"captionShort",variant:"dimmer"},e.createElement(Ns,null,(0,t.useFacetMap)((e=>e.sender),[],[a])))),e.createElement(Gh.Cell,null,e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.inboxCategory!=Jm.INVITES),[],[a])},e.createElement(gs,{type:"body",variant:"dimmer"},e.createElement(Ns,null,(0,t.useFacetMap)((e=>e.dateString),[],[a])))),e.createElement(UB,{invite:a,daysLeft:o})),e.createElement(Sc,{size:1}))},HB=({item:a})=>{const{t:n}=oi("InboxListItem"),{t:r}=oi("InboxListItem.narration"),l=Vn("inherit"),o=DB.useShowModal(),i=yv(),c=WB((0,t.useFacetMap)((e=>e.worldId),[],[a])),s=u(),d=(0,t.useSharedFacet)(ap),[m,p]=(0,t.useFacetState)(!1),f=(0,t.useFacetCallback)(((e,t,a)=>()=>{a||(t.acceptInvitation(e.instanceId),p(!0),i({button:"MessageAction_AcceptInvite",screen:"Inbox",details:LB(e)}))}),[i,p],[a,d,m]),g=(0,t.useFacetCallback)(((e,t)=>()=>{t.rejectInvitation(e.instanceId),i({button:"MessageAction_RejectInvite",screen:"Inbox",details:LB(e)})}),[i],[a,d]),E=(0,t.useFacetCallback)(((e,t)=>()=>{s.push(t),i({button:"MessageAction_Realms",screen:"Inbox",details:LB(e)})}),[s,i],[a,c]),h=(0,t.useFacetCallback)((e=>()=>{o({item:e})}),[o],[a]),b=(0,t.useFacetMap)((e=>e.invStatus==Qm.JOIN&&e.invType==qm.REALMS||e.invStatus==Qm.ACCEPTED&&e.invType==qm.REALMS),[],[a]),v=(0,t.useFacetMap)((e=>e?["3","3"]:["2","2"]),[],[b]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.invStatus==Qm.NONE&&e.invType!=qm.NONE),[],[a])},e.createElement(e.Fragment,null,e.createElement(Gh.AdditionalAction,{gamepadIndex:0,narrationText:[r(".accept"),r(".buttonSiblings",["2","3"])].join(" . "),inputLegend:n(".accept"),onClick:f},e.createElement(Cs,null),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionTiny"},n(".accept"))),e.createElement(Gh.AdditionalAction,{gamepadIndex:3,narrationText:[r(".reject"),r(".buttonSiblings",["3","3"])].join(" . "),inputLegend:n(".reject"),onClick:g},e.createElement(fc,null),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionTiny"},n(".reject"))))),e.createElement(t.Mount,{when:b},e.createElement(Gh.AdditionalAction,{gamepadIndex:1,inputLegend:n(".join"),narrationText:[n(".join"),r(".buttonSiblings",["2","3"])].join(" . "),onClick:E},e.createElement(AB,null),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionTiny"},n(".join")))),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.invStatus!=Qm.NONE||e.invType==qm.NONE),[],[a])},e.createElement(Gh.AdditionalAction,{gamepadIndex:3,narrationText:(0,t.useFacetMap)((e=>[r(".delete"),r(".buttonSiblings",e)].join(" . ")),[r],[v]),inputLegend:n(".delete"),onClick:h},e.createElement(oc,{src:PB,className:lr()("gRR2U",l.icon)}),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionTiny"},n(".delete")))),e.createElement(t.Mount,{when:(0,t.useFacetMap)(((e,t)=>t&&e.invStatus===Qm.EXPIRED),[],[a,m])},e.createElement(BB.Component,{item:a,onClose:()=>p(!1)})))},VB=a.p+"assets/external-link-b22bb.png";function GB(){return GB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},GB.apply(this,arguments)}const $B=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("HSaUx",a);return e.createElement(oc,GB({},n,{className:r,src:VB,imageRendering:"pixelated"}))};$B.imgSrc=VB;const KB=a.p+"assets/Feedback-f0949.png",XB=a.p+"assets/NoNews-191af.png",YB=a.p+"assets/NoRealmsInvites-3af80.png",qB=a.p+"assets/NoRealmsNews-ed604.png",QB="_7QZv",JB="NXvDA";function ZB({data:a}){const n=(0,t.useFacetMap)((e=>e.history.length>0||e.recent.length>0),[],[a]),r=(0,t.useFacetMap)((e=>e.category==Jm.FEEDBACK),[],[a]),l=(0,t.useFacetMap)((e=>e.category),[],[a]),{t:o}=oi("InboxSectionList"),i=(0,t.useFacetMap)((e=>e.realmsSubscriber),[],[(0,t.useSharedFacet)(ap)]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:r},e.createElement(tW,null)),e.createElement(t.Mount,{when:n},e.createElement(e.Fragment,null,e.createElement(kw,{gamepadIndex:0,data:(0,t.useFacetMap)((e=>[{role:"neutral",title:o(".recent"),data:e.recent},{role:"neutral",title:o(".history"),data:e.history}]),[o],[a]),renderSectionHeader:(t,a)=>e.createElement(ah,{role:a,label:t}),sectionSeparator:e.createElement(Sc,{size:4}),renderItem:({itemFacet:t,index:a})=>e.createElement(zB,{item:t,gamepadIndex:a}),footer:e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})})}))),e.createElement(t.Mount,{when:n,condition:!1},e.createElement(aW,{value:l,realmsSubscriber:i})))}function eW({value:t,t:a,historyAPI:n,state:r}){return e.createElement(Yr,{data:t},(t=>{switch(t){case Jm.NEWS:return e.createElement(yE,{autofocus:!0,gamepadIndex:0,title:a(".emptyNewsTitle"),text:a(".emptyNewsText"),imgSrc:XB,imgClass:QB});case Jm.INVITES:return e.createElement(yE,{autofocus:!0,gamepadIndex:0,title:a(".emptyInvitesTitle"),text:a(".emptyInvitesText"),imgSrc:YB,imgClass:QB});case Jm.REALMS:return e.createElement(yE,{autofocus:!0,gamepadIndex:0,title:a(".emptyRealmSubTitle"),text:a(".emptyRealmSubText"),imgSrc:qB,imgClass:QB});case Jm.MARKETPLACEPASS:return e.createElement(Yr,{data:r},(t=>"subscribePromptWithLearnMoreButton"==t?e.createElement(yE,{autofocus:!0,gamepadIndex:0,title:a(".emptyMarketplacePassSubscribePromptTitle"),text:a(".emptyMarketplacePassSubscribePromptText"),imgSrc:qB,imgClass:QB,buttons:[{text:a(".emptyMarketplacePassLearn"),inputLegend:a(".select"),onClick:()=>n.push("/csb-pdp/?tab=csb"),variant:"primary"}]}):"subscribePrompt"==t?e.createElement(yE,{autofocus:!0,gamepadIndex:0,title:a(".emptyMarketplacePassSubscribePromptTitle"),text:a(".emptyMarketplacePassSubscribePromptText"),imgSrc:qB,imgClass:QB}):e.createElement(yE,{autofocus:!0,gamepadIndex:0,title:a(".emptyMarketplacePassTitle"),text:a(".emptyMarketplacePassText"),imgSrc:XB,imgClass:QB})));case Jm.FEEDBACK:return e.createElement(yE,{autofocus:!0,gamepadIndex:0,title:a(".feedbackSubTitle"),text:"",imgSrc:KB,imgClass:QB});default:return e.createElement(yE,{autofocus:!0,gamepadIndex:0,title:a(".emptyMessageTitle"),text:a(".emptyMessageText"),imgSrc:XB,imgClass:QB})}}))}function tW(){const{t:a}=oi("InboxRoute"),n=(0,t.useSharedFacet)(vg),r=(0,t.useFacetCallback)((e=>()=>e.openLink(bg.PlayerFeedbackMain)),[],[n]),l=(0,t.useFacetCallback)((e=>()=>e.openLink(bg.PlayerFeedbackIdeas)),[],[n]);return e.createElement(e.Fragment,null,e.createElement("div",{className:"cnpc6"},e.createElement("div",{className:JB},e.createElement(ru,{inputLegend:a(".feedbackMainButton"),onClick:r,imgSrc:$B.imgSrc,gamepadIndex:0},a(".feedbackMainButton"))),e.createElement(Sc,{size:2}),e.createElement("div",{className:JB},e.createElement(ru,{inputLegend:a(".feedbackIdeasButton"),onClick:l,imgSrc:$B.imgSrc,gamepadIndex:1},a(".feedbackIdeasButton")))),e.createElement(Sc,{size:2}))}function aW({value:a,realmsSubscriber:n}){const{t:r}=oi("InboxRoute"),l=hr(),o=(0,t.useFacetMap)((e=>e.platform===He.AMAZON_HANDHELD),[],[(0,t.useSharedFacet)(Ir)]),i=(0,t.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,t.useSharedFacet)(ap)]),c=(0,t.useFacetMap)((e=>e.isPreviewBuild),[],[(0,t.useSharedFacet)(um)]),s=(0,t.useFacetMap)(((e,t,a)=>t||e?t?"general":"undefined":a?"subscribePrompt":"subscribePromptWithLearnMoreButton"),[],[o,i,c]),u=(0,t.useFacetMap)(((e,t)=>e==Jm.REALMS&&!t),[],[a,n]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:u,condition:!0},e.createElement(e.Fragment,null,e.createElement(Nn,{collection:ev},e.createElement(yE,{autofocus:!0,gamepadIndex:0,title:r(".emptyRealmNoSubTitle"),text:r(".emptyRealmNoSubText"),imgSrc:qB,imgClass:QB,buttons:[{text:r(".learn"),inputLegend:r(".select"),onClick:()=>l.push("/realms-plus-pdp?tab=default"),variant:"primary"}]})))),e.createElement(t.Mount,{when:u,condition:!1},e.createElement(e.Fragment,null,e.createElement(eW,{value:a,t:r,historyAPI:l,state:s}))))}const nW=a.p+"assets/Feedback-ecfce.png",rW=a.p+"assets/Invites-6a622.png",lW=a.p+"assets/MarketplacePass-8eb08.png",oW=a.p+"assets/News-f8148.png",iW=a.p+"assets/Realms-c7419.png";function cW(e){switch(e){case Jm.FEEDBACK:return nW;case Jm.INVITES:return rW;case Jm.MARKETPLACEPASS:return lW;case Jm.NEWS:return oW;case Jm.REALMS:return iW;default:return""}}function sW(){const{t:a}=oi("InboxRoute"),n=Rd(Bm)?rp:np,r=(0,t.useFacetMap)((e=>Jv(e.platform)),[],[(0,t.useSharedFacet)(Ir)]),l=(0,t.useFacetMap)((e=>e.platform===He.AMAZON_HANDHELD),[],[(0,t.useSharedFacet)(Ir)]),o=(0,t.useFacetMap)((e=>e.marketplacePassSubscriber),[],[(0,t.useSharedFacet)(ap)]),i=(0,t.useFacetMap)(((e,t,n,r,l)=>function(e,t,a,n,r){const l=[];return n.forEach((n=>{const o=n.category===Jm.INVITES?r.showInvitesBadges:r.showMessageBadges;(n.category!==Jm.MARKETPLACEPASS||t)&&(n.category!==Jm.FEEDBACK||a)&&l.push({displayName:n.name?n.name:e("."+n.category),imageUrl:n.imageUrl?n.imageUrl:cW(n.category),imageId:n.category+"Icon",value:n.category,count:n.unreadCount,shouldShowBadge:o,telemetryButtonName:"Inbox_"+n.category+"_Button"})})),l}(a,l||!r,!n,e,{showMessageBadges:t.showMessageBadges,showInvitesBadges:t.showInvitesBadges})),[a],[(0,t.useSharedFacet)(n),(0,t.useSharedFacet)(lp),r,l,o]),c=(0,t.useFacetMap)(((e,t)=>0===e.length||t),[],[i,(0,t.useIsDeferring)()]);return e.createElement(Bb,{loading:c},e.createElement(Bb.ItemList,{items:i,renderItem:uW}))}function uW({item:a,gamepadIndex:n}){const r=u(),{t:l}=oi("InboxRoute"),o=vr(),i=(0,t.useFacetMap)((e=>e.displayName),[],[a]),c=yv(),s=(0,t.useFacetMap)((e=>o.tab===e.value),[o],[a]);return e.createElement(t.DeferredMount,null,e.createElement(Bb.ListItem,{narrationText:i,onSelect:(0,t.useFacetCallback)((e=>()=>{e.value!==o.tab&&(c({button:e.telemetryButtonName,screen:"Inbox"}),r.replace(`/inbox/${e.value}`))}),[o,r,c],[a]),value:(0,t.useFacetMap)((e=>e.value),[],[a]),selected:s,gamepadIndex:n,inputLegend:l(".select")},e.createElement(Bb.ItemCell,null,e.createElement(nv,{iconSrc:(0,t.useFacetMap)((e=>e.imageUrl),[],[a]),selected:s})),e.createElement(Bb.ItemMain,null,e.createElement(gs,{type:"body"},i)),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.count>0&&e.shouldShowBadge),[],[a])},e.createElement(Bb.ItemCell,{margin:"start"},e.createElement(jM,{role:"destructiveTint"},(0,t.useFacetMap)((e=>`${e.count}`),[],[a]))))))}function dW(){const a=hr(),n=vr(),{t:r}=oi("InboxRoute"),l=Ud({wide:8,narrow:6,width:260}),o=(0,t.useFacetMap)((e=>e.messagingServiceFailed),[],[(0,t.useSharedFacet)(ap)]),i=Rd(Bm)?rp:np;(0,t.useFacetEffect)((e=>{null==n.tab&&e.length>0&&(a.replace(`/inbox/${e[0].category}`),n.tab=e[0].category)}),[n,a],[(0,t.useSharedFacet)(i)]);const c=(0,t.useFacetMap)((e=>0===e.length),[],[(0,t.useSharedFacet)(i)]);return e.createElement(qg,null,e.createElement(fE,{onBackButton:a.goBack,center:e.createElement(gs,{type:"header5A"},r(".header")),right:e.createElement(fE.MenuButton,{type:"filter",gamepadIndex:2,onClick:()=>{a.push("/inbox-settings")},narrationText:r(".settingsButton"),"data-testid":"inbox-route-navigation-button",disabled:o}),gamepadAlias:"inbox-route"},e.createElement(hE,{narrowBreakpointWidth:102},e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:o},e.createElement(hE.Column,{narrowSize:6,wideSize:8},e.createElement(yE,{title:r(".messagingServiceFailure"),text:r(".messagingServiceFailureBody"),imgSrc:CB,imgClass:l?"YxuTr":"Bw0be"}))),e.createElement(t.Mount,{when:o,condition:!1},e.createElement(hE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:3,narrowSize:2},e.createElement(sW,null)),e.createElement(hE.Column,{gamepadIndex:1,wideSize:7,narrowSize:6},e.createElement(t.Mount,{when:c},e.createElement(nb,{tab:void 0,component:()=>e.createElement(Yc,{loading:!0,children:e.createElement(e.Fragment,null)})})),e.createElement(t.Map,{array:(0,t.useSharedFacet)(i)},(t=>e.createElement(Yr,{data:t},(a=>e.createElement(nb,{tab:a.category,component:()=>e.createElement(ZB,{data:t})})))))),e.createElement(hE.Column,{wideSize:1,narrowSize:0}))),e.createElement(Sc,{size:2}))))}function mW({realm:a,index:n,maxIndex:r,asSubscription:l,onItemClick:o}){const{t:i}=oi("ChooseRealmRoute"),c=(0,t.useFacetMap)((e=>i(".players",[e.maxPlayers.toString()])),[i],[a]),s=(0,t.useFacetMap)((e=>e.gameMode===tg.CREATIVE?i(".creative"):e.gameMode===tg.SURVIVAL?i(".survival"):i(".adventure")),[i],[a]),u=(0,t.useFacetMap)((e=>l?i(".realmSubscription",[(n+1).toString()]):e.slotName),[i,n,l],[a]),d=(0,t.useFacetMap)((e=>l?i(".pairedWith",[e.realmName]):e.realmName),[i,l],[a]),m=(0,t.useFacetMap)(((e,t,a,r,o)=>[r,i(".realmChoiceNumber",[(n+1).toString(),e.toString()]),o,l?i(".typeOfSubscription",[t]):i(".typeOfWorld",[a])].join(" . ")),[i,n,l],[r,c,s,u,d]);return e.createElement(Gh,{gamepadIndex:n,tall:!0},e.createElement(Gh.Action,{inputLegend:i(".select"),narrationText:m,onClick:o},e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,u)),e.createElement(gs,{type:"body",variant:"dimmer"},e.createElement(Ns,null,d)),e.createElement(Sc,{size:1}),l&&e.createElement(Nn,{collection:ev},e.createElement(jM,{role:"primaryTint"},c)),!l&&e.createElement(jM,{role:"neutral100"},s))))}function pW(){const{t:a}=oi("ChooseRealmRoute"),n=(0,t.useSharedFacet)(pg),r=(0,t.useSharedFacet)(Mm),l=(0,t.useSharedFacet)(kg),o=(0,t.useSharedFacet)(Sf),i=u(),c=(0,t.useFacetCallback)(((e,t,a)=>n=>{"uninitialized"!==a.currentWorldId?i.push(`/realms-choose-slot/${t[n].id}`):e.inWorldCreation&&e.selectRealmToCreateOn(`${t[n].id}`)}),[i],[r,o,l]),s=(0,e.useCallback)((()=>{i.replace("/realms-choose-realm/realm-subscriptions")}),[i]),d=To(),m=(0,t.useSharedFacet)(um);return e.createElement(lA,{gamepadIndex:0,gamepadAlias:"wrapper",header:e.createElement(Sc,{size:2}),data:o,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>mW({realm:e,index:t,maxIndex:a,asSubscription:!1,onItemClick:()=>c(t)}),footer:e.createElement(t.Mount,{when:(0,t.useFacetMap)(((e,t)=>e.realms.length>0&&0!=t.length),[],[n,o])},e.createElement(t.DeferredMount,null,e.createElement("div",{className:lr()({TyJek:"tablet"===d},{z8rvJ:"desktop"===d},{opGGY:"narrow"===d})},e.createElement(Sc,{size:4}),e.createElement(ru,{inputLegend:a(".select"),variant:"secondary",onClick:s},(0,t.useFacetMap)((e=>e.isBetaBuild?a(".addNewBetaRealm"):a(".addNewPreviewRealm")),[a],[m])),e.createElement(Sc,{size:4}))))})}function fW({onItemClick:a}){const n=(0,t.useSharedFacet)(Tm),r=(0,t.useSharedFacet)(fg),l=(0,t.useFacetCallback)(((e,t)=>n=>{a(),e.createPreviewRealmFromSubscriptionId(`${t[n].id}`)}),[a],[n,r]);return e.createElement(lA,{gamepadIndex:0,header:e.createElement(Sc,{size:2}),footer:e.createElement(Sc,{size:2}),data:r,renderItem:({itemFacet:e,index:t,listLengthFacet:a})=>mW({realm:e,index:t,maxIndex:a,asSubscription:!0,onItemClick:()=>l(t)})})}function gW(){const a=u(),{t:n}=oi("ChooseRealmRoute"),r=(0,t.useSharedFacet)(um),l=(0,t.useSharedFacet)(Ff),o=(0,t.useSharedFacet)(pg),i=(0,t.useSharedFacet)(Tm),c=(0,t.useSharedFacet)(Mm),s=(0,t.useSharedFacet)(Sf),p=(0,t.useSharedFacet)(kg),f=(0,t.useSharedFacet)(Of),[g,E]=(0,t.useFacetState)(!1),h=(0,t.useFacetMap)(((e,t,a)=>e.state===vf.Loading||t.state===vf.Loading||a),[],[l,o,g]),b=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===vv.RUNNING),[],[i]),v=m(),F=(0,t.useFacetMap)((e=>"realm-subscriptions"===e.tab),[],[v]),S=(0,t.useFacetMap)(((e,t)=>e?n(".chooseARealmSubscription"):t.isBetaBuild?n(".chooseABetaRealm"):n(".chooseAPreviewRealm")),[n],[F,r]),y=(0,t.useSharedFacet)(fg),C=(0,t.useFacetCallback)(((e,t,n,r,l,o)=>()=>{e&&0!==t.length&&0!==n.length&&r.inWorldCreation?a.replace("/realms-choose-realm/preview-realms"):("uninitialized"!==l.currentWorldId&&o.clearUploadWorldToRealmTaskState(),a.goBack())}),[a],[F,s,y,c,p,f]),M=d();(0,t.useFacetEffect)(((e,t)=>{!e&&t&&E(!1)}),[E],[M,g]),(0,t.useFacetEffect)(((e,t)=>{t.inWorldCreation&&e.createPreviewRealmFromSubscriptionTaskState===vv.DONE&&(e.reset(),E(!0),t.createWorldOnPreviewRealm(e.getCreatedPreviewRealmId()))}),[E],[i,c]),(0,t.useFacetEffect)(((e,t,a)=>{"uninitialized"!==t.currentWorldId&&e.createPreviewRealmFromSubscriptionTaskState===vv.DONE&&(e.reset(),a.setPreviewRealmForUpload(e.getCreatedPreviewRealmId()))}),[],[i,p,f]);const k=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===vv.FAILED),[],[i]),w=(0,t.useFacetCallback)((e=>()=>{e.reset()}),[],[i]),T=To(),x=n(".backButtonHint"),I=Vn("inherit"),P=(0,t.useFacetMap)((e=>n(".screen",[e])),[n],[S]),O=(0,t.useFacetMap)(((e,t)=>!e&&0===t.length),[],[F,s]),N=(0,t.useFacetMap)(((e,t)=>e&&0===t.length),[],[F,y]),A=(0,t.useFacetMap)(((e,t)=>e||t),[],[O,N]),L=(0,t.useFacetCallback)(((e,t,a)=>()=>{e?a.forceFetchUnpairedRealmsList():t.forceFetchRealmsList()}),[],[F,l,o]),R=(0,t.useFacetMap)(((e,t)=>e?n(".emptyState.noSubscriptionErrorTitle"):t.isBetaBuild?n(".emptyState.noRealmsErrorTitle.beta"):n(".emptyState.noRealmsErrorTitle.preview")),[n],[N,r]),[D,_]=(0,t.useFacetState)(!1);return e.createElement(qg,null,e.createElement(ab,{text:P,interruptible:!1}),e.createElement(t.Mount,{when:h},e.createElement("div",{className:lr()("_8UNVp",I.overlay.base)},e.createElement(Kc,null))),e.createElement(t.Mount,{when:h,condition:!1},e.createElement(e.Fragment,null,e.createElement(fE,{onBackButton:C,backButtonHint:x,center:e.createElement(gs,{type:"header5A"},S),gamepadAlias:"choose-realm-route",delegateByAlias:"wrapper"},e.createElement(hE,null,e.createElement(hE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(t.Mount,{when:A,condition:!1},e.createElement(e.Fragment,null,e.createElement(hE.Column,{wideSize:"tablet"===T?1:"desktop"===T?2:12,narrowSize:0}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:"tablet"===T?10:"desktop"===T?8:12,narrowSize:8},e.createElement(nb,{tab:"realm-subscriptions",component:(0,e.useCallback)((()=>e.createElement(fW,{onItemClick:()=>_(!0)})),[_])}),e.createElement(nb,{tab:"preview-realms",component:pW}),e.createElement(Zu.Space,null)))),e.createElement(t.Mount,{when:A},e.createElement(e.Fragment,null,e.createElement(hE.Column,{wideSize:2,narrowSize:0}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:8,narrowSize:8},e.createElement(Yc,{gamepadIndex:0},e.createElement(Sc,{size:2}),e.createElement(yE,{gamepadIndex:0,title:R,text:n(".emptyState.message"),imgSrc:CB,buttons:[{text:n(".emptyState.tryAgain"),inputLegend:n(".select"),onClick:L}]}))))))),e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})}),e.createElement(t.Mount,{when:D},e.createElement(wx.Component,{onConfirm:(0,t.useFacetCallback)(((e,t,a)=>()=>{let n=t.inWorldCreation;"uninitialized"!==a.currentWorldId&&(n=!0),e.activateNewPreviewRealm(n),_(!1)}),[_],[i,c,p]),onClose:(0,t.useFacetCallback)((e=>()=>{e.reset(),_(!1)}),[_],[i])})),e.createElement(t.Mount,{when:k},e.createElement(Lx.Component,{onClickClose:w})),e.createElement(t.Mount,{when:b},e.createElement(Ox,{onClickClose:(0,t.useFacetCallback)((e=>()=>e.reset()),[],[i])}))))))}const EW="delete-read-inbox-message-confirm",hW=pi((function(){const{t:a}=oi("InboxSettingsRoute.deleteReadConfirmation"),n=mi(),r=yv(),l=(0,t.useFacetCallback)((e=>()=>{e.deleteAllRead(),r({button:"DeleteAllRead",screen:"Inbox"}),n()}),[n,r],[(0,t.useSharedFacet)(ap)]);return e.createElement(sd.Overlay,null,e.createElement(sd,{defaultFocusAlias:EW},e.createElement(sd.Header,{onClose:n},a(".header")),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:a(".dialogText")},a(".dialogText"))),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"destructive",gamepadIndex:0,gamepadAlias:EW,inputLegend:a(".deleteConfirm"),autofocus:!0,onClick:l},a(".deleteConfirm")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:a(".cancel"),onClick:n},a(".cancel")))))}));function bW(){const a=hr(),n=To(),r=(0,t.useSharedFacet)(ap),l=yv(),o="neutral80",i=Vn(o),c=hW.useShowModal(),s=(0,t.useFacetMap)((e=>e.settings.showOnlyFriendInvites),[],[r]),u=(0,t.useFacetMap)((e=>e.settings.showInvitesBadges),[],[r]),d=(0,t.useFacetMap)((e=>e.settings.showMessageBadges),[],[r]),m=(0,t.useFacetCallback)((e=>()=>{e.settings.toggleOnlyFriendInvites(),e.reloadInvites()}),[],[r]),p=(0,t.useFacetCallback)((e=>()=>e.settings.toggleMessageBadges()),[],[r]),f=(0,t.useFacetCallback)((e=>()=>e.settings.toggleInvitesBadges()),[],[r]),{t:g}=oi("InboxSettingsRoute"),E=(0,t.useFacetCallback)((e=>()=>{e.saveSettings(),a.goBack()}),[a],[r]);return e.createElement(hn,{role:o},e.createElement(qg,null,e.createElement(fE,{onBackButton:E,center:e.createElement(gs,{type:"header5A"},g(".title")),gamepadAlias:"inbox-settings-route",footer:e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})})},e.createElement(Yc,{gamepadIndex:0},e.createElement(hE,null,"desktop"===n&&e.createElement(Sc,{size:2}),e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{wideSize:1,narrowSize:1}),e.createElement(hE.Column,{gamepadIndex:1,wideSize:10,narrowSize:6},e.createElement(Sc,{size:2}),e.createElement("fast-div",{className:lr()(i.border.base,i.background.base,"kVqwq")},e.createElement(vS,{title:g(".onlyShowFriends"),value:s,onChange:m}),e.createElement(cS,{title:g(".categories"),description:g(".categoriesDescription")}),e.createElement(vS,{title:g(".showMessages"),value:d,onChange:p}),e.createElement(vS,{title:g(".showInvites"),value:u,onChange:f}),e.createElement(Ws,null,e.createElement(ru,{gamepadIndex:5,onClick:(0,t.useFacetCallback)((e=>()=>{e.markAllRead(),l({button:"MarkAllRead",screen:"Inbox"})}),[l],[r]),inputLegend:g(".markAllRead"),variant:"secondary"},g(".markAllRead")),e.createElement(Sc,{size:2}),e.createElement(ru,{gamepadIndex:6,onClick:c,inputLegend:g(".deleteAllRead"),variant:"destructive"},g(".deleteAllRead")))),e.createElement(Sc,{size:2}))))))))}function vW({message:a}){const n=(0,t.useFacetMap)((e=>e.content),[],[a]);return e.createElement(gs,{type:"paragraphs",whiteSpace:"preWrap",children:n})}var FW;function SW({message:a}){const n=(0,t.useFacetMap)((e=>e.invStatus===Qm.NONE),[],[a]),r=(0,t.useFacetMap)((e=>e.invStatus===Qm.ACCEPTED&&e.invType!==qm.GAME),[],[a]),l=(0,t.useFacetMap)((e=>e.invStatus===Qm.JOIN&&e.invType!==qm.GAME),[],[a]),o=u(),i=(0,e.useRef)(!1);(0,t.useFacetEffect)((e=>{i.current&&e.invStatus==Qm.REJECTED&&(i.current=!1,o.goBack())}),[o,i],[a]);const c=WB((0,t.useFacetMap)((e=>e.worldId),[],[a])),[s,d]=(0,t.useFacetState)(!1),m=(0,t.useFacetCallback)(((e,t,a,n)=>r=>{switch(r){case FW.Accept:a||(t.acceptInvitation(e.instanceId),d(!0));break;case FW.Reject:t.rejectInvitation(e.instanceId),i.current=!0;break;case FW.Join:o.push(n);break;case FW.Back:o.goBack();break;case FW.ViewProfile:o.push(tT(e.senderXuid))}}),[o,d],[a,(0,t.useSharedFacet)(ap),s,c]);return e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:n},e.createElement(CW,{handleButtonClick:m})),e.createElement(t.Mount,{when:r},e.createElement(MW,{handleButtonClick:m})),e.createElement(t.Mount,{when:l},e.createElement(MW,{handleButtonClick:m})))}function yW({message:a}){const{t:n}=oi("InboxMessageDetailsRoute"),r=Ia(),l=(0,t.useFacetMap)((e=>e.invType===qm.GAME),[],[a]),o=(0,t.useFacetMap)((e=>e.invType===qm.REALMS),[],[a]),i=(0,t.useFacetMap)(((e,t)=>n(t?".gameInvitationNote0":".invitationNote0",[e.sender])),[n],[a,l]),c=(0,t.useFacetMap)(((e,t)=>n(t?".gameInvitationRejectedMessage":".realmsInvitationRejectedMessage",[e.sender])),[n],[a,l]),s=(0,t.useFacetMap)((e=>e.invStatus==Qm.REJECTED),[],[a]),u=n(".invitationRejectedMessageDetails"),d=(0,t.useFacetMap)((e=>e?[n(".invitationNote1"),n(".invitationNote2"),n(".invitationNote3"),n(".invitationNote4")]:[]),[n],[o]),m=(0,t.useFacetMap)(((e,t)=>[e,t.join(" . ")].join(" . ")),[],[i,d]),p=(0,t.useFacetMap)((e=>[e,u].join(" ")),[u],[c]),f=(0,t.useFacetMap)(((e,t,a)=>e?t:a),[],[s,p,m]);return e.createElement(Li.Maybe,{isInteractive:r,narrationText:f},e.createElement(t.Mount,{when:s,condition:!1},e.createElement(e.Fragment,null,e.createElement(gs,{children:i,type:"paragraphs"}),e.createElement(Sc,{size:4}),e.createElement(t.Mount,{when:l,condition:!1},e.createElement(gs.List,{items:d})))),e.createElement(t.Mount,{when:s},e.createElement(e.Fragment,null,e.createElement(gs,{children:c,type:"paragraphs"}),e.createElement(Sc,{size:4}),e.createElement(gs,{children:u,type:"paragraphs"}))))}function CW({handleButtonClick:t}){const{t:a}=oi("InboxMessageDetailsRoute"),{t:n}=oi("InboxMessageDetailsRoute.narration"),r=a(".accept"),l=a(".reject"),o=a(".viewProfile");return e.createElement(e.Fragment,null,e.createElement(Bb.Item,null,e.createElement(ru,{narrationSuffix:n(".buttonSiblings",["1","3"]),inputLegend:r,isElevated:!0,variant:"primary",onClick:()=>t(FW.Accept)},r)),e.createElement(Sc,{size:2}),e.createElement(Bb.Item,null,e.createElement(ru,{narrationSuffix:n(".buttonSiblings",["2","3"]),inputLegend:l,onClick:()=>t(FW.Reject),isElevated:!0,variant:"secondary"},l)),e.createElement(Sc,{size:2}),e.createElement(Bb.Item,null,e.createElement(ru,{narrationSuffix:n(".buttonSiblings",["3","3"]),inputLegend:o,onClick:()=>t(FW.ViewProfile),isElevated:!0,variant:"secondary"},o)))}function MW({handleButtonClick:t}){const{t:a}=oi("InboxMessageDetailsRoute"),{t:n}=oi("InboxMessageDetailsRoute.narration"),r=a(".join");return e.createElement(Bb.Item,null,e.createElement(Nn,{collection:ev},e.createElement(ru,{narrationSuffix:n(".buttonSiblings",["1","1"]),gamepadIndex:2,inputLegend:r,onClick:()=>t(FW.Join),isElevated:!0,variant:"primary"},r)))}!function(e){e[e.Accept=0]="Accept",e[e.Reject=1]="Reject",e[e.Join=2]="Join",e[e.Back=3]="Back",e[e.ViewProfile=4]="ViewProfile"}(FW||(FW={}));const kW=a.p+"assets/default-f0026.png";function wW({message:a}){const n=(0,t.useFacetMap)((e=>{var t,a;return null!==(t=null===(a=e.images[0])||void 0===a?void 0:a.isLoaded)&&void 0!==t&&t}),[],[a]),r=(0,t.useFacetMap)((e=>{var t,a;return""!=(null===(t=e.images[0])||void 0===t?void 0:t.url)?null===(a=e.images[0])||void 0===a?void 0:a.url:kW}),[],[a]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:n},e.createElement(e.Fragment,null,e.createElement(Sc,{size:5}),e.createElement("div",{className:"r1xtb"},e.createElement(oc,{src:r,aspectRatio:oc.AspectRatio["16:9"]})),e.createElement(Sc,{size:5}))),e.createElement(vW,{message:a}))}function TW({offer:a,index:n,message:r}){const{t:l}=oi("InboxContentItem"),{t:o}=oi("InboxContentItem.narration"),i=u(),c=(0,t.useFacetCallback)((e=>()=>{i.push("/marketplace?productId="+encodeURIComponent(e.id)+"&origin=Inbox")}),[i],[a]),s=(0,t.useFacetMap)((e=>o(".createdBy",[e.creator])),[o],[a]),d=(0,t.useFacetMap)((e=>e.title),[],[a]),m=(0,t.useFacetMap)((e=>{var t,a;return null!==(t=null===(a=e.images[n+1])||void 0===a?void 0:a.isLoaded)&&void 0!==t&&t}),[n],[r]),p=(0,t.useFacetMap)((e=>{var t,a;return""!=(null===(t=e.images[n+1])||void 0===t?void 0:t.url)?null===(a=e.images[n+1])||void 0===a?void 0:a.url:kW}),[n],[r]),f=(0,t.useFacetMap)(((e,t)=>[t,e].filter((e=>null!=e&&""!==e)).join(" . ")),[],[s,d]),g=Vn("neutral");return e.createElement("fast-div",{className:"LUNVz"},e.createElement(Gh,{gamepadIndex:n},e.createElement(Gh.Action,{inputLegend:l(".view"),narrationText:f,onClick:c,gamepadIndex:0},e.createElement(t.Mount,{when:m},e.createElement(Gh.Cell,null,e.createElement(oc,{src:p,className:lr()("Cudab",g.border.base,"ygS1r")}))),e.createElement(Sc,{size:1}),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},d),e.createElement(gs,{type:"captionShort",variant:"dimmer"},s)))))}function xW({message:a}){const n=(0,t.useFacetMap)((e=>e.content),[],[a]);return e.createElement(e.Fragment,null,e.createElement(gs,{type:"body",align:"left",variant:"dimmer",children:n}),e.createElement(Sc,{size:2}),e.createElement(t.Map,{array:(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.offers)&&void 0!==t?t:[]}),[],[a])},((t,n)=>e.createElement(TW,{offer:t,index:n,message:a}))))}function IW({message:a,children:n,title:r=(0,t.createStaticFacet)(""),imageIndex:l=0,fullHeight:o=!0,defaultImage:i=(0,t.createStaticFacet)(""),spacingAroundSideMenu:c=null}){const{t:s}=oi("InboxMessageDetailsRoute"),u=(0,t.useFacetMap)(((e,t)=>""!=t?t:e.title),[],[a,r]),d=(0,t.useFacetMap)((e=>s(".from",[e.sender])),[s],[a]),m=(0,t.useFacetMap)((e=>e.dateString),[],[a]),p=(0,t.useFacetMap)((e=>{var t,a;return null!==(t=null===(a=e.images[l])||void 0===a?void 0:a.isLoaded)&&void 0!==t&&t}),[l],[a]),f=(0,t.useFacetMap)(((e,t)=>{var a,n;return""!=(null===(a=e.images[l])||void 0===a?void 0:a.url)?null===(n=e.images[l])||void 0===n?void 0:n.url:t}),[l],[a,i]),g=(0,t.useFacetMap)((e=>e.buttons),[],[a]),E=(0,t.useFacetMap)(((e,t,a)=>[t,a,e.dateString].join(" . ")),[],[a,u,d,r]);return e.createElement(Bb,{gamepadIndex:1,autofocus:!0,fullHeight:o,narrationPrefix:E,spacingAroundSideMenu:c},e.createElement(Bb.Item,null,e.createElement("div",{className:"UEFZY"},e.createElement(t.Mount,{when:p},e.createElement(oc,{src:f,aspectRatio:oc.AspectRatio["16:9"]})),e.createElement(t.Mount,{when:p,condition:!1},e.createElement(oc,{src:i,aspectRatio:oc.AspectRatio["16:9"]}))),e.createElement(Sc,{size:2})),e.createElement(Bb.Item,null,e.createElement(gs,{type:"body",variant:"stronger"},u),e.createElement(gs,{type:"captionShort",variant:"dimmer"},d),e.createElement(gs,{type:"captionShort",variant:"dimmer"},m)),e.createElement(t.Map,{array:g},((t,n)=>e.createElement(PW,{message:a,button:t,index:n}))),n)}function PW({message:a,button:n,index:r}){const l=u(),o=(0,t.useFacetCallback)(((e,t,a)=>()=>{null!=t&&(a.reportClick(e.instanceId,t.id),t.action===wp.EXTERNAL?t.openExternalLink():t.action===wp.INTERNAL&&l.push(t.link))}),[l],[a,n,(0,t.useSharedFacet)(ap)]),i=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.text)&&void 0!==t?t:""}),[],[n]),c=(0,t.useFacetMap)((e=>e.action===wp.EXTERNAL||e.action===wp.INTERNAL),[],[n]);return e.createElement(t.Mount,{when:c},e.createElement(Bb.Item,null,e.createElement(Sc,{size:2}),e.createElement(Yr,{data:n},(t=>e.createElement(ru,{inputLegend:i,gamepadIndex:r+1,onClick:o,Icon:()=>e.createElement(RD,{button:t}),variant:"primary",narrationPrefix:i},i)))))}const OW=a.p+"assets/realmsDefaultImage-bd8bc.png",NW=a.p+"assets/gameInviteDefaultImage-60630.png";function AW(){const{t:a}=oi("InboxMessageDetailsRoute"),n=u(),r=vr().messageId,l=d(),o=(0,t.useFacetMap)(((e,a)=>{if(a)for(let t=0;t<e.inboxMessages.length;t++)if(e.inboxMessages[t].instanceId==r)return e.inboxMessages[t];return t.NO_VALUE}),[r],[(0,t.useSharedFacet)(ap),l]),i=(0,t.useFacetMap)((e=>e.inboxCategory==Jm.INVITES),[],[o]),c=(0,t.useFacetMap)((e=>e.invType===qm.GAME),[],[o]),s=(0,t.useFacetMap)((e=>e.template==Zm.IMAGETEXT||e.template==Zm.HEROIMAGECTA),[],[o]),m=(0,t.useFacetMap)((e=>e.template==Zm.CONTENTLISTCTA||e.template==Zm.CONTENTLISTNOCTA),[],[o]),p=(0,t.useFacetMap)((e=>e.template==Zm.IMAGETNAILCTA),[],[o]);return e.createElement(t.Mount,{when:l},e.createElement(qg,null,e.createElement(fE,{onBackButton:n.goBack,center:e.createElement(gs,{type:"header5A"},a(".details")),gamepadAlias:"inbox-message-details-route",footer:e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})})},e.createElement(t.Mount,{when:i},e.createElement(LW,{message:o,content:yW,title:(0,t.useFacetMap)((e=>a(e?".gameInvite":".realmInvite")),[a],[c]),imageDefault:(0,t.useFacetMap)((e=>e?NW:OW),[],[c])},e.createElement(SW,{message:o}))),e.createElement(t.Mount,{when:i,condition:!1},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:s},e.createElement(LW,{message:o,content:vW})),e.createElement(t.Mount,{when:p},e.createElement(LW,{message:o,content:wW,imageIndex:1})),e.createElement(t.Mount,{when:m},e.createElement(LW,{message:o,content:xW})))))))}function LW({children:a,message:n,content:r,title:l=(0,t.createStaticFacet)(""),imageIndex:o=0,imageDefault:i=(0,t.createStaticFacet)(kW)}){const[c,s]=function(a){const n=(0,e.useRef)(!0),[r,l]=(0,e.useState)([]),o=(0,t.useFacetMap)(((e,t)=>[0,...e].map((e=>e*t))),[],[(0,t.useFacetWrap)([102]),(0,e.useContext)(yo)]);return(0,t.useFacetEffect)((e=>{const t=()=>{const t=window.innerWidth;return e.map(((e,a,n)=>a===n.length-1?t>=e:t>=e&&t<n[a+1]))},a=()=>l(t());return n.current&&(l(t()),n.current=!1),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)}),[l],[o]),r}(),u=Vn(),d="neutral",m=lr()("VRcEA",u[d].background.base,{[`${u[d].border.base}`]:null!=u[d].border.base&&s,yUiHw:s}),p=(0,t.useFacetMap)((e=>e.content),[],[n]),f=c?null:e.createElement(Sc,{size:2});return e.createElement(hE,{noGutters:c,narrowBreakpointWidth:102},e.createElement(hE.Row,{fullHeight:c},e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{wideSize:3,narrowSize:3},e.createElement(IW,{message:n,imageIndex:o,fullHeight:c,children:a,title:l,defaultImage:i,spacingAroundSideMenu:f})),e.createElement(hE.Column,{wideSize:7,narrowSize:5},e.createElement(Yc,{emptyFocusableNarrationText:p,floating:c},e.createElement("div",{className:"ggcmj"},f,e.createElement("div",{className:lr()(m)},r({message:n})),f))),e.createElement(hE.Column,{wideSize:1,narrowSize:0})))}function RW(){const a=hr(),n=(0,t.useSharedFacet)(Tm),r=(0,t.useSharedFacet)(pg),l=(0,e.useRef)(!1),[o,i]=(0,t.useFacetState)(!1),c=(0,t.useSharedFacet)(fg);(0,t.useFacetEffect)(((e,t,a)=>{t.state!==vf.Loading&&!l.current&&a.length>0&&(i(!0),e.createPreviewRealmFromSubscriptionId(`${a[0].id}`),l.current=!0)}),[l,i],[n,r,c]);const s=(0,t.useFacetMap)(((e,t)=>t.createPreviewRealmFromSubscriptionTaskState!==vv.RUNNING&&e.state===vf.Loading),[],[r,n]),u=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===vv.RUNNING&&e.createPreviewRealmFromSubscriptionResult===wm.CreatingPreviewRealm),[],[n]),d=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===vv.RUNNING&&e.createPreviewRealmFromSubscriptionResult===wm.RetrievingCreatedPreviewRealm),[],[n]),m=(0,t.useFacetMap)((e=>e.createPreviewRealmFromSubscriptionTaskState===vv.FAILED),[],[n]),p=(0,t.useFacetCallback)((e=>()=>{i(!1),e.reset(),a.goBack()}),[a,i],[n]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:s},e.createElement(Ix,{onClickClose:a.goBack})),e.createElement(t.Mount,{when:s,condition:!1},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(wx.Component,{onConfirm:(0,t.useFacetCallback)((e=>()=>{i(!1),e.activateNewPreviewRealm(!1)}),[i],[n]),onClose:p})),e.createElement(t.Mount,{when:u},e.createElement(Ox,{onClickClose:a.goBack})),e.createElement(t.Mount,{when:d},e.createElement(Px,{onClickClose:a.goBack})),e.createElement(t.Mount,{when:m},e.createElement(Lx.Component,{onClickClose:p})))))}const DW="pM3f_",_W=pi((({externalServerWorldError:t,onClose:a})=>{const{t:n}=oi("PlayScreen.serverTab.addServerError"),r="pop-up-modal-AddServerErrorModal",l=mi(),o=function(e){switch(e){case Pm.NameIsEmpty:return".nameError";case Pm.AddressIsEmpty:return".addressError";case Pm.InvalidPortNumber:return".portError";case Pm.IdNotFound:case Pm.UnknownError:default:return".genericError"}}(t),i=()=>{l(),a()};return e.createElement(sd,{defaultFocusAlias:r},e.createElement(sd.Header,{onClose:i},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(o),gamepadIndex:0,center:!0},n(o))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:r,inputLegend:n(".closeButton"),onClick:i},n(".closeButton"))))})),BW="go-back-server-modal",WW=pi((({onDeleteServer:t,onClose:a})=>{const{t:n}=oi("PlayScreen.serverTab.confirmDeletion");return e.createElement(sd,{defaultFocusAlias:BW},e.createElement(sd.Header,{onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".message"),gamepadIndex:0,center:!0},n(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadIndex:0,gamepadAlias:BW,inputLegend:n(".goBackButton"),variant:"secondary",onClick:a},n(".goBackButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadIndex:1,inputLegend:n(".deleteButtonInputLegend"),variant:"destructive",onClick:()=>{t(),a()}},n(".deleteButton"))))})),UW="save-button-unsaved-changes-server-modal",zW=pi((({onSaveChanges:a,onDiscardChanges:n,onClose:r,localization:l="unsavedChanges"})=>{const{t:o}=oi(`PlayScreen.serverTab.${l}`),i=(0,t.useFacetCallback)((()=>()=>{r(),n()}),[n,r],[]);return e.createElement(sd,{defaultFocusAlias:UW},e.createElement(sd.Header,{onClose:r},o(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:o(".message"),gamepadIndex:0,center:!0},o(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:UW,inputLegend:o(".discardChangesButtonInputLegend"),variant:"secondary",onClick:i},o(".discardChangesButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:o(".saveChangesButtonInputLegend"),variant:"primary",onClick:()=>{a(),r()}},o(".saveChangesButton"))))})),jW=a.p+"assets/save-27aad.png";function HW(){return HW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},HW.apply(this,arguments)}const VW=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("gr3uV",a);return e.createElement(oc,HW({},n,{className:r,src:jW,imageRendering:"pixelated"}))};let GW;!function(e){e.ExternalServer="ExternalServer"}(GW||(GW={}));const $W=19132,KW=65535,XW=()=>{const a=(0,t.useSharedFacet)(pp),n=(0,t.useSharedFacet)(Om),r=(0,t.useSharedFacet)(Ep),l=(0,t.useSharedFacet)(bp),o=(0,t.useSharedFacet)(hp),i=_W.useModal(),c=WW.useModal(),s=zW.useModal(),d=MA(),[p,f]=(0,e.useState)(void 0),[g,E]=(0,t.useFacetState)(!1),h=u(),b=function(){const e=m();return(0,t.useFacetMap)((e=>e.id),[],[e])}(),v=Vn("neutral"),F=(0,t.useFacetMap)((e=>null!=e),[],[b]),S="narrow"===To(),{t:y}=sp("PlayScreen.serverTab.serverForm"),[C,M]=(0,t.useFacetState)(!1),[k,w]=(0,t.useFacetState)(""),T=(0,t.useFacetMap)((e=>e.networkDetails.name),[],[a]),x=(0,t.useFacetMap)((e=>e.networkDetails.port.toString()),[],[a]),[I,P]=(0,t.useFacetState)($W.toString()),O=(0,t.useFacetMap)((e=>e.networkDetails.address),[],[a]),N=(0,t.useFacetMap)((e=>e.doNotShowMultiplayerIpSafetyWarning),[],[o]),[A,L]=(0,t.useFacetState)(""),R=(0,t.useFacetCallback)((()=>e=>{w(e),E(!0)}),[w,E],[]),D=(0,t.useFacetCallback)((()=>e=>{L(e),E(!0)}),[L,E],[]),_=(0,t.useFacetCallback)((()=>e=>{P(e),E(!0)}),[P,E],[]),B=(0,t.useFacetCallback)((e=>t=>{if(e)return;i.show(),f(t);const a={modalReason:Pm[t]};d({modal:"AddJoinExternalServerError",screen:GW.ExternalServer,details:a})}),[f,i,d],[i.isVisible]),W=(0,e.useCallback)((()=>{w(""),L(""),P($W.toString()),E(!1)}),[w,L,P,E]),U=(0,t.useFacetCallback)((e=>t=>{e.queueSnackbar(t)}),[],[l]),z=(0,t.useFacetCallback)(((e,t,a,n)=>()=>{const r=e.addExternalServerWorld(t,a,parseInt(n));return E(!0),null!=r?B(r):(U(y(".serverAddedNotification")),null!=e.addedServerId?(h.goBack(),h.replace(`/play/servers/${e.addedServerId}/${GO(ag.External)}`)):h.goBack(),W()),r}),[E,U,y,B,h,W],[n,k,A,I]),j=(0,t.useFacetMap)((e=>e.joinExternalServerTaskState),[],[r]),H=(0,t.useFacetMap)((e=>e.joinExternalServerResult),[],[r]),V=(0,t.useFacetCallback)((e=>()=>{e.clearJoinExternalServerTaskState()}),[],[r]),G=Sv((e=>function*(t){e.joinExternalServer(t),yield j,e.clearJoinExternalServerTaskState()}),[j],[r]),$=(0,t.useFacetCallback)(((e,t)=>()=>{null==z()&&(t?G(String(e.addedServerId)):h.push(`/online-play-warning/${GO(ag.External)}/${e.addedServerId}`))}),[G,z,h],[n,N]),K=(0,t.useFacetCallback)(((e,t)=>()=>{if(null!=t){const a=e.removeExternalServerWorld(parseInt(t));a?B(a):(M(!0),U(y(".serverDeletedNotification")),h.goBack())}}),[B,U,y,M,h],[n,b]),X=(0,t.useFacetCallback)(((e,t,a,n,r)=>()=>{if(null!=t){const l=e.editExternalServerWorld(parseInt(t),a,n,parseInt(r));l?B(l):(U(y(".serverEditedNotification")),h.goBack())}}),[B,U,y,h],[n,b,k,A,I]),Y=(0,t.useFacetCallback)((e=>()=>{e?s.show():(W(),h.goBack())}),[h,s,W],[g]);(0,t.useFacetEffect)(((e,t,a,n)=>{n&&(w(e),L(t),P(a))}),[w,L,P],[T,O,x,F]);const q=(0,t.useFacetMap)((e=>null!=e&&e!==fp.OK),[],[H]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:C,condition:!1},e.createElement(qg,null,e.createElement(t.Mount,{when:F,condition:!0},e.createElement(rs,{text:y(".editServerNarration")},e.createElement(fE,{onBackButton:Y,center:e.createElement(gs,{type:"header5A"},y(".editServerTitle")),footer:S?e.createElement(e.Fragment,null,e.createElement(YW,{isEditing:!0,primaryCallback:X,secondaryCallback:c.show}),e.createElement(Zu.Space,null)):e.createElement(Zu.Space,null),gamepadAlias:"external-server-form-creating"},e.createElement(Yc,null,e.createElement(hE,null,e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{wideSize:1,narrowSize:1,disabled:!0}),e.createElement(hE.Column,{wideSize:10,narrowSize:6},e.createElement(Sc,{size:2}),e.createElement("div",{className:lr()(v.border.base,DW)},e.createElement(Ey,{label:y(".serverNameLabel"),value:k,onChange:R,placeholder:y(".serverNamePlaceholder"),filterProfanity:!0}),e.createElement(qW,{address:A,setAddress:D}),e.createElement(QW,{port:I,setPort:_}),S?null:e.createElement(YW,{isEditing:!0,primaryCallback:X,secondaryCallback:c.show}))),e.createElement(hE.Column,{wideSize:1,narrowSize:1,disabled:!0}))))))),e.createElement(t.Mount,{when:F,condition:!1},e.createElement(rs,{text:y(".newServerNarration")},e.createElement(fE,{onBackButton:Y,center:e.createElement(gs,{type:"header5A"},y(".newServerTitle")),footer:S?e.createElement(e.Fragment,null,e.createElement(YW,{primaryCallback:$,secondaryCallback:z,isEditing:!1}),e.createElement(Zu.Space,null)):e.createElement(Zu.Space,null),gamepadAlias:"external-server-form-creating"},e.createElement(Yc,null,e.createElement(hE,null,e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:1,narrowSize:1}),e.createElement(hE.Column,{wideSize:10,narrowSize:6},e.createElement(Sc,{size:2}),e.createElement("div",{className:lr()(v.border.base,DW)},e.createElement(Ey,{label:y(".serverNameLabel"),value:k,onChange:R,placeholder:y(".serverNamePlaceholder"),filterProfanity:!0}),e.createElement(qW,{address:A,setAddress:D}),e.createElement(QW,{port:I,setPort:_}),S?null:e.createElement(YW,{primaryCallback:$,secondaryCallback:z,isEditing:!1}))),e.createElement(hE.Column,{wideSize:1,narrowSize:1}))))))),e.createElement(t.Mount,{when:i.isVisible},e.createElement(_W.Component,{externalServerWorldError:p,onClose:i.hide})),e.createElement(t.Mount,{when:c.isVisible},e.createElement(WW.Component,{onDeleteServer:K,onClose:c.hide})),e.createElement(t.Mount,{when:s.isVisible},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:F},e.createElement(zW.Component,{onSaveChanges:X,onDiscardChanges:h.goBack,onClose:s.hide})),e.createElement(t.Mount,{when:F,condition:!1},e.createElement(zW.Component,{onSaveChanges:s.hide,onDiscardChanges:h.goBack,onClose:s.hide,localization:"unsavedAddChanges"})))))),e.createElement(t.Mount,{when:q},e.createElement(hA.Component,{onClose:V})))};function YW({isEditing:t,primaryCallback:a,secondaryCallback:n}){const r=Vn("neutral"),{t:l}=sp("PlayScreen.serverTab.serverForm");return e.createElement(e.Fragment,null,e.createElement("div",{className:lr()("b_Dcf",r.background.base,r.bevel.base,"Ue6QT")},e.createElement(hE.Row,null,e.createElement(ru,{horizontal:!0,inputLegend:l(t?".deleteServerButton":".addServerButton"),onClick:n,variant:t?"destructive":"secondary",Icon:t?Xw:void 0},l(t?".deleteServerButton":".addServerButton")),e.createElement(iS.ButtonSpacing,null),e.createElement(ru,{horizontal:!0,inputLegend:l(t?".saveChangesButton":".addAndPlayButton"),onClick:a,variant:"primary",Icon:t?VW:void 0},l(t?".saveChangesButton":".addAndPlayButton")))))}function qW({address:t,setAddress:a}){const{t:n}=sp("PlayScreen.serverTab.serverForm");return e.createElement(Ey,{label:n(".serverAddressLabel"),onChange:a,placeholder:n(".serverAddressPlaceholder"),value:t,filterProfanity:!0})}function QW({port:t,setPort:a}){const{t:n}=sp("PlayScreen.serverTab.serverForm"),{narrateText:r}=Xc({interruptible:!1}),l=(0,e.useCallback)(((e,t)=>{const a=e.match(/^[0-9]*$/g);return 0!==e.length&&a?parseInt(e)>KW?(r(n(".serverPortNotWithinRange",[KW.toString()])),t(KW.toString()),fu.ValidationResult.INVALID):fu.ValidationResult.VALID:(r(n(".serverPortInvalidValue",[$W.toString()])),t($W.toString()),fu.ValidationResult.INVALID)}),[r,n]);return e.createElement(Ey,{label:n(".serverPortLabel"),onBlur:l,onChange:a,value:t,isNumber:!0})}const JW=a.p+"assets/survival-6ff33.png",ZW=a.p+"assets/creative-34775.png",eU=a.p+"assets/easy-8c5d9.png",tU=a.p+"assets/normal-6b57a.png",aU=a.p+"assets/hard-bd518.png",nU=a.p+"assets/peaceful-95e19.png",rU="quick-world-creation-route-mode/survival",lU="quick-world-creation-route-difficulty/easy",oU=()=>{const a=(0,t.useSharedFacet)(kg),n=(0,t.useSharedFacet)(zg);return e.createElement(t.Mount,{when:(0,t.useFacetMap)(((e,t)=>null!=e.saveLocalWorldError||t.startLocalWorldResult===Wg.WorldNotInLevelList||t.startLocalWorldResult===Wg.GameServerStarterNotReady),[],[a,n])},e.createElement(wy.Component,null))},iU=(e,a)=>{const n=(0,t.useSharedFacet)(kg),r=(0,t.useSharedFacet)(zg),l=(0,t.useFacetMap)((e=>e.saveLocalWorldTaskState),[],[n]);return Sv(((t,n)=>function*(){t.saveLocalWorldTaskState===vv.IDLE&&(t.addWorld(),t.worldData.general.gameMode=e,t.worldData.general.difficulty=a,t.saveLocalWorld(t.currentWorldId),yield l,n.startLocalWorld(t.currentWorldId))}),[e,a,l],[n,r])},cU=(e,a)=>{const n=u(),r=_I(),l=iU(e,a);return(0,t.useFacetCallback)((t=>()=>{t?n.push(`/quick-create-new-world/${e}/${a}/touch-control-selection`):l()}),[n,e,a,l],[r])},sU=({image:t,title:a,description:n,inputLegend:r,gamepadAlias:l,onClick:o,groupIndex:i,groupSize:c})=>{const[s,u]=mU(16.2),{t:d}=oi("Common.narration"),m=d(".position",[`${i}`,`${c}`]),p=[a,d(".roles.button"),m,n].join(" . ");return e.createElement(lI,{gamepadIndex:0,inputLegend:r,gamepadAlias:l,onClick:o,narrateCardRole:!1},e.createElement("fast-div",{ref:s,className:"NHHNk",style:{backgroundImage:fU(t),paddingTop:u}}),e.createElement(lI.Information,{narrationText:p},e.createElement(gs,{type:"body",verticalAlign:"center"},a),e.createElement(gs,{type:"captionShort",variant:"dimmer"},n)))},uU=({image:t,title:a,inputLegend:n,description:r,gamepadAlias:l,onClick:o,groupIndex:i,groupSize:c})=>{const[s,u]=mU(14),{t:d}=oi("Common.narration"),m=d(".position",[`${i}`,`${c}`]),p=[a,d(".roles.button"),m,r].join(" . ");return e.createElement(lI,{gamepadIndex:0,inputLegend:n,gamepadAlias:l,onClick:o,narrateCardRole:!1},e.createElement("fast-div",{ref:s,className:"_PMoJ",style:{backgroundImage:fU(t),paddingTop:u}}),e.createElement(lI.Information,{narrationText:p},e.createElement(gs,{type:"body",verticalAlign:"center"},a),e.createElement(gs,{type:"captionShort",variant:"dimmer"},r)))},dU=({image:t,title:a,description:n,inputLegend:r,gamepadAlias:l,onClick:o,groupIndex:i,groupSize:c})=>{const{t:s}=oi("Common.narration"),u=s(".position",[`${i}`,`${c}`]),d=[a,s(".roles.button"),u,n].join(" . ");return e.createElement(Gh,{tall:!0},e.createElement(Gh.Action,{inputLegend:r,narrationText:d,gamepadAlias:l,onClick:o},e.createElement(Gh.Cell,null,e.createElement("div",{className:"yIenp",style:{backgroundImage:fU(t)}})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},a),e.createElement(gs,{type:"captionShort",variant:"dimmer"},n))))},mU=a=>{const n=(0,e.useRef)(null),[r,l]=(0,t.useFacetState)("0px"),o=wo(a),i=(0,t.useFacetCallback)((e=>({width:t})=>{l(`${Math.max(.5625*t,e)}px`)}),[l],[o]);return Eo(n,i),[n,r]},pU={Mode:function(){const{t}=oi("QuickWorldCreationRoute.Mode"),a=u(),n=cU(tg.CREATIVE,Em.NORMAL);return e.createElement(vx,{title:t(".title"),screenAnalyticsId:"QuickWorldCreationMode",gamepadAlias:"quick-world-creation-route-mode",delegateByAlias:rU},(()=>e.createElement(e.Fragment,null,e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}),e.createElement(oU,null),e.createElement(Yc,{delegateFocusByAlias:lU},e.createElement(hE,{maxWidth:96,centerContentVertically:!0},e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{wideSize:5,narrowSize:4},e.createElement(sU,{gamepadAlias:rU,title:t(".survivalTitle"),description:t(".survivalDescription"),inputLegend:t(".survivalInputLegend"),image:JW,onClick:()=>a.push("/quick-create-new-world/survival/difficulty"),groupIndex:1,groupSize:2})),e.createElement(hE.Column,{wideSize:5,narrowSize:4},e.createElement(sU,{title:t(".creativeTitle"),description:t(".creativeDescription"),inputLegend:t(".creativeInputLegend"),image:ZW,onClick:n,groupIndex:2,groupSize:2}))))))))},Difficulty:function(){const{t}=oi("QuickWorldCreationRoute.Difficulty"),a=Io(48),n=e.createElement(hE,{nonFullScreen:!0,centerContentVertically:!0},e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:3,narrowSize:2},e.createElement(uU,{title:t(".peacefulTitle"),description:t(".peacefulDescription"),inputLegend:t(".createInputLegend"),image:nU,onClick:cU(tg.SURVIVAL,Em.PEACEFUL),groupIndex:1,groupSize:4})),e.createElement(hE.Column,{wideSize:3,narrowSize:2},e.createElement(uU,{gamepadAlias:lU,title:t(".easyTitle"),description:t(".easyDescription"),inputLegend:t(".createInputLegend"),image:eU,onClick:cU(tg.SURVIVAL,Em.EASY),groupIndex:2,groupSize:4})),e.createElement(hE.Column,{wideSize:3,narrowSize:2},e.createElement(uU,{title:t(".normalTitle"),description:t(".normalDescription"),inputLegend:t(".createInputLegend"),image:tU,onClick:cU(tg.SURVIVAL,Em.NORMAL),groupIndex:3,groupSize:4})),e.createElement(hE.Column,{wideSize:3,narrowSize:2},e.createElement(uU,{title:t(".hardTitle"),description:t(".hardDescription"),inputLegend:t(".createInputLegend"),image:aU,onClick:cU(tg.SURVIVAL,Em.HARD),groupIndex:4,groupSize:4})))),r=e.createElement(hE,{nonFullScreen:!0,centerContentVertically:!0},e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement(dU,{title:t(".peacefulTitle"),description:t(".peacefulDescription"),inputLegend:t(".createInputLegend"),image:nU,onClick:cU(tg.SURVIVAL,Em.PEACEFUL),groupIndex:1,groupSize:4}),e.createElement(dU,{gamepadAlias:lU,title:t(".easyTitle"),description:t(".easyDescription"),inputLegend:t(".createInputLegend"),image:eU,onClick:cU(tg.SURVIVAL,Em.EASY),groupIndex:2,groupSize:4}),e.createElement(dU,{title:t(".normalTitle"),description:t(".normalDescription"),inputLegend:t(".createInputLegend"),image:tU,onClick:cU(tg.SURVIVAL,Em.NORMAL),groupIndex:3,groupSize:4}),e.createElement(dU,{title:t(".hardTitle"),description:t(".hardDescription"),inputLegend:t(".createInputLegend"),image:aU,onClick:cU(tg.SURVIVAL,Em.HARD),groupIndex:4,groupSize:4}))));return e.createElement(vx,{title:t(".title"),screenAnalyticsId:"QuickWorldCreationMode",gamepadAlias:"quick-world-creation-route-difficulty",delegateByAlias:lU},(()=>e.createElement(e.Fragment,null,e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}),e.createElement(oU,null),e.createElement(Yc,{delegateFocusByAlias:lU},e.createElement(Yr,{data:a},(e=>e?r:n))))))},TouchControlSelection:function(){const{mode:t,difficulty:a}=vr(),n=iU(parseInt(t,10),parseInt(a,10));return e.createElement(X_,{startWorld:n})}},fU=e=>`url(${e}?filtering=point)`,gU=a.p+"assets/externalLink-0e493.png",EU=a.p+"assets/privacy_safety_help_qr-c5392.png",hU="ufbEn",bU="https://aka.ms/RealmsSafety";function vU({addExtraSpace:a,onClose:n,children:r,isBrowserFriendly:l}){const{t:o}=oi("PrivacyAndOnlineSafetyModal"),i=(0,t.useSharedFacet)(Vp),c="privacy-and-online-safety-try-again-button",s=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.RealmsSafetyPage)}),[],[(0,t.useSharedFacet)(vg)]),u=(0,t.useFacetCallback)((e=>()=>{e.checkClubAndMultiplayerPermissions()}),[],[i]),d=(0,t.useFacetWrap)(a);return e.createElement(sd,{defaultFocusAlias:c},e.createElement(sd.Header,{onClose:n},o(".header")),e.createElement(sd.Content,null,e.createElement("div",{className:"IveWW"},e.createElement(t.Mount,{when:l,condition:!1},e.createElement("div",{className:"zo5W7"},e.createElement(oc,{src:EU,className:"HC86T"}))),e.createElement("div",{className:"L115_"},r,e.createElement("div",{className:hU},e.createElement(t.Mount,{when:l},e.createElement(gs,{type:"captionLong"},e.createElement(QF,{onClick:s,gamepadIndex:1,withUnderlinePolyfill:!0},bU))),e.createElement(t.Mount,{when:l,condition:!1},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:d},e.createElement(Sc,{size:4})),e.createElement(gs,{type:"captionLong"},bU))),e.createElement(Sc,{size:4}))))),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{gamepadAlias:c,gamepadIndex:0,inputLegend:o(".tryAgain"),horizontal:!0,onClick:u},o(".tryAgain")),e.createElement(t.Mount,{when:l},e.createElement(e.Fragment,null,e.createElement(Sc,{size:4}),e.createElement(ru,{onClick:s,imgSrc:gU,inputLegend:o(".buttonAction"),variant:"primary",horizontal:!0,narrationSuffix:o(".linkButtonHint"),gamepadIndex:1},o(".externalLinkText"))))))}const FU=pi((({closeCallback:a,isBrowserFriendly:n})=>{const{t:r}=oi("PrivacyAndOnlineSafetyModal"),l=(0,t.useFacetMap)((e=>{const t=e?null:r(".qrCodeHint");return[r(".fromOnlineSafety"),r(".toAccessRealms"),r(".multiplayerPermissionMessage"),t].join(" . ")}),[r],[n]);return e.createElement(vU,{onClose:a,isBrowserFriendly:n},e.createElement(sd.Paragraphs,{gamepadIndex:0,spaceBetweenParagraphs:0,narrationText:l},e.createElement(gs,{type:"captionLong"},r(".fromOnlineSafety")),e.createElement(gs,{type:"captionLong"},r(".toAccessRealms")),e.createElement(gs,{type:"captionLong"},r(".multiplayerPermissionMessage"))))})),SU=pi((({closeCallback:a,isBrowserFriendly:n})=>{const{t:r}=oi("PrivacyAndOnlineSafetyModal"),l=(0,t.useFacetMap)((e=>{const t=e?null:r(".qrCodeHint");return[r(".fromOnlineSafety"),r(".toAccessRealmsStories"),r(".clubPermissionMessage"),t].join(" . ")}),[r],[n]);return e.createElement(vU,{onClose:a,isBrowserFriendly:n},e.createElement(sd.Paragraphs,{gamepadIndex:0,spaceBetweenParagraphs:0,narrationText:l},e.createElement(gs,{type:"captionLong"},r(".fromOnlineSafety")),e.createElement(gs,{type:"captionLong"},r(".toAccessRealmsStories")),e.createElement(gs,{type:"captionLong"},r(".clubPermissionMessage"))))})),yU=pi((({closeCallback:a,isBrowserFriendly:n})=>{const{t:r}=oi("PrivacyAndOnlineSafetyModal"),l=(0,t.useFacetMap)((e=>{const t=e?null:r(".qrCodeHint");return[r(".fromOnlineSafety"),r(".toAccessRealmsNumbered"),r(".multiplayerPermissionMessage"),r(".toAccessRealmsStoriesNumbered"),r(".clubPermissionMessage"),t].join(" . ")}),[r],[n]);return e.createElement(vU,{addExtraSpace:!0,onClose:a,isBrowserFriendly:n},e.createElement(sd.Paragraphs,{gamepadIndex:0,spaceBetweenParagraphs:0,narrationText:l},e.createElement(gs,{type:"captionLong"},r(".fromOnlineSafety")),e.createElement(gs,{type:"captionLong"},r(".toAccessRealmsNumbered")),e.createElement("div",{className:hU},e.createElement(gs,{type:"captionLong"},r(".multiplayerPermissionMessage"))),e.createElement(Sc,{size:4}),e.createElement(gs,{type:"captionLong"},r(".toAccessRealmsStoriesNumbered")),e.createElement("div",{className:hU},e.createElement(gs,{type:"captionLong"},r(".clubPermissionMessage")))))}));function CU({closeCallback:a}){const n=(0,t.useSharedFacet)(Vp),r=(0,t.useSharedFacet)(Ir),l=(0,t.useFacetMap)((e=>!e.getMultiplayerCheckResult&&e.getClubCheckResult),[],[n]),o=(0,t.useFacetMap)((e=>!e.getClubCheckResult&&e.getMultiplayerCheckResult),[],[n]),i=(0,t.useFacetMap)((e=>!e.getClubCheckResult&&!e.getMultiplayerCheckResult),[],[n]),c=(0,t.useFacetMap)((({platform:e})=>(e=>e===He.GOOGLE||e===He.IOS||e===He.MACOS||e===He.UWP||e===He.WIN32)(e)),[],[r]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:i},e.createElement(yU.Component,{closeCallback:a,isBrowserFriendly:c})),e.createElement(t.Mount,{when:o},e.createElement(SU.Component,{closeCallback:a,isBrowserFriendly:c})),e.createElement(t.Mount,{when:l},e.createElement(FU.Component,{closeCallback:a,isBrowserFriendly:c})))}const MU="O1z7a";function kU(){return kU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},kU.apply(this,arguments)}const wU=(t,a,n,r)=>t.map(((l,o,i)=>{let{children:c}=l,s=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(l,["children"]);return e.createElement(e.Fragment,{key:o},e.createElement(ru,kU({gamepadIndex:a?i.length-o:o},s,{horizontal:a,narrationSuffix:n?[r(".buttonEnumeration",[`${o+1}`,`${t.length}`]),s.narrationSuffix].filter(Boolean).join(" . "):s.narrationSuffix}),c),o!==i.length-1&&e.createElement(Sc,{size:2}))})),TU=({title:t,narrationSuffix:a,sectionRole:n="neutral80",buttonsRole:r="neutral",leftContent:l,rightContent:o,buttons:i,shouldEnumerateButtons:c,delegateFocusByAlias:s,onGoBack:u})=>{const d=ul(),m=Vn(n),p=Vn(r),f="narrow"===To(93),{t:g}=oi("HeroMessage"),E=(0,e.useRef)(null),h=[t,a].filter(Boolean).join(" . "),b=(0,e.useRef)(null),v=(0,e.useRef)(null);return e.createElement(rs,{text:h},e.createElement(ac,{containerRef:E,delegateFocusByAlias:s,delegateFocusFromMemory:!0},e.createElement("div",{ref:E,className:"ql95r",style:{marginLeft:d.left+"px",marginRight:d.right+"px",marginTop:d.top+"px",marginBottom:f?0:d.bottom+"px"}},e.createElement("div",{className:"YqX3E"},e.createElement(hE,{narrowBreakpointWidth:53},e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{gamepadIndex:1,wideSize:f?6:7,narrowSize:3},e.createElement("div",{className:lr()(MU,"uJ4VV",m.background.base,m.border.base)},e.createElement(gs,{type:f?"header5A":"header3",align:"center"},t),e.createElement("fast-div",{className:"iZMwc"},l))),e.createElement(hE.Column,{gamepadIndex:2,wideSize:f?6:5,narrowSize:5},e.createElement("div",{className:lr()("DURQC",m.background.base)},e.createElement("div",{className:lr()("rUQta",MU,m.border.base)},o),!f&&e.createElement(ac,{containerRef:v},e.createElement("div",{ref:v,className:lr()("YZFU6",MU,p.background.base,p.border.base)},wU(i,!1,c,g))))))))),f&&e.createElement("div",{className:lr()("sbwOK",p.background.base)},e.createElement(Vi,{effect:"bevel",left:!1,right:!1}),e.createElement(ac,{containerRef:b},e.createElement("div",{ref:b,className:"N9mIh",style:{paddingLeft:d.left+"px",paddingRight:d.right+"px",paddingBottom:d.bottom+"px"}},wU(i,!0,c,g))),e.createElement(Zu.Space,{addSafeZone:!1}))),!f&&e.createElement(Zu.Space,null),u&&e.createElement(as,{onClick:u,options:{button:W.B,inputLegend:hc.Buttons.Back.useLocalization().t(".inputLegend")}}))};TU.Content=({children:t})=>e.createElement(Yc,{gamepadIndex:-1},e.createElement("div",{className:"Bp0Op"},t));const xU="An2ie",IU="u9qaf";function PU(){return PU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},PU.apply(this,arguments)}const OU=(0,e.createContext)({steps:(0,t.createFacet)({initialValue:[]}),isMenu:(0,t.createFacet)({initialValue:!0}),activeStep:(0,t.createFacet)({initialValue:null}),onBackClick:()=>{},onNavigationClick:()=>{},registerStep:()=>{}}),NU=()=>(0,e.useContext)(OU),AU=({children:a,title:n,narrationSuffix:r,activePane:l,onNavigationClick:o,onBackClick:i,role:c="neutral80",headerRole:s="neutral"})=>{const u=(0,e.useRef)(null),[d,m]=(0,t.useFacetState)([]),p=(0,t.useFacetWrap)(l),f=(0,t.useFacetMap)((e=>""==e),[],[p]),g=Vn(c),E=(0,t.useFacetMap)((e=>lr()("ldUqd",{xEVVZ:!1===e})),[],[f]),h=(0,e.useCallback)((e=>{m((a=>a===t.NO_VALUE||a.includes(e)?a:[...a,e]))}),[m]),b=(0,e.useMemo)((()=>({activeStep:p,steps:d,isMenu:f,headerRole:s,onNavigationClick:o,onBackClick:i,registerStep:h})),[p,f,s,o,i,h,d]),v=[n,r].filter(Boolean).join(" . ");return e.createElement(ac,{containerRef:u},e.createElement("div",{ref:u,className:lr()("UXt21",g.background.base)},e.createElement("fast-div",{className:E},e.createElement(rs,{text:v},e.createElement(OU.Provider,{value:b},e.createElement(pr,{disabled:(0,t.useFacetMap)((e=>!1===e),[],[f])},e.createElement("div",{className:xU},e.createElement(DU,null,n),e.createElement(LU,null))),e.createElement(pr,{disabled:f},e.createElement("div",{className:xU},a)))))))},LU=()=>{const{steps:a,onNavigationClick:n}=NU();return e.createElement("div",{className:"pJAxl"},e.createElement(Yc,{floating:!0,delegateFocusFromMemory:!0},e.createElement("div",{className:"NgvAh"},e.createElement(t.Map,{array:a},((t,r)=>e.createElement(RU,{title:t,steps:a,index:r,onClick:n}))))))},RU=({title:a,steps:n,index:r,onClick:l})=>{const{t:o}=oi("SlidingNavigationPane.Menu"),i=(0,t.useFacetMap)(((e,t)=>[e,o(".elementType"),o(".enumeration",[`${r+1}`,`${t.length}`])].filter(Boolean).join(" . ")),[r,o],[a,n]),c=(0,t.useFacetCallback)((e=>()=>l(e)),[l],[a]);return e.createElement(Gh,{small:!0},e.createElement(Gh.Action,{inputLegend:o(".select"),narrationText:i,onClick:c},e.createElement(Gh.Main,null,e.createElement("div",{className:"sQPyh"},e.createElement(gs,{type:"body"},a),e.createElement(AB,null)))))},DU=({children:a,onBack:n,role:r="inherit"})=>{const{t:l}=oi("Modal"),o=l(".backInputLegend"),i=Vn(r),c=(0,t.useFacetMap)((()=>({button:W.B,inputLegend:o,disabled:!1})),[o],[]),s=(0,e.useRef)(null);return e.createElement(rc,{containerRef:s,condition:null!=n},e.createElement("div",{ref:s,className:lr()("n4pdL",i.background.base,i.text.base,{pIxpo:null!=n})},e.createElement(Vi,{effect:"specular"}),null!=n&&e.createElement(as,{options:c,onClick:n}),e.createElement(rF,{options:{index:-2}},e.createElement("div",{className:lr()("haDng",{[IU]:null==n})},n&&e.createElement(Di,{role:r,inputLegend:o,narrationText:l(".backNarration"),onClick:n},e.createElement(dc,null))),e.createElement(gs,{type:"body"},e.createElement(Ns,null,a)),e.createElement("div",{className:lr()("eQcQq",{[IU]:null==n})}))),e.createElement("div",{className:lr()("t8vJH",i.shadow.base)}))};AU.Pane=a=>{let{children:n,title:r,titleNarrationSuffix:l,contentNarrationSuffix:o}=a,i=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(a,["children","title","titleNarrationSuffix","contentNarrationSuffix"]);const{activeStep:c,onBackClick:s,registerStep:u}=NU(),[d,m]=(0,t.useFacetState)(!1),p=(0,e.useRef)(!1),f=(0,e.useRef)(null),g=(0,e.useRef)(null),E=`sliding-navigation-pane_${r.toLowerCase()}`,h=`${E}_scroll-view`,b=`${E}_empty-focusable`;(0,e.useEffect)((()=>{u(r)}),[u,r]),(0,t.useFacetEffect)((e=>{let t;const a=(null==e?void 0:e.toLowerCase())===r.toLowerCase();return!0===p.current&&!1===a?t=setTimeout((()=>m(!1)),400):m(a),p.current=a,()=>{clearTimeout(t)}}),[m,r],[c]);const v=[r,l].filter(Boolean).join(" . ");return e.createElement(t.Mount,{when:d},e.createElement(e.Fragment,null,e.createElement(as,{options:{button:W.B,inputLegend:hc.Buttons.Back.useLocalization().t(".inputLegend")},onClick:s}),e.createElement(rs,{text:v},e.createElement(ac,{containerRef:g,delegateFocusFromMemory:!0},e.createElement("div",{className:"SWwM1",ref:g},e.createElement(DU,{onBack:s},r),e.createElement(rs,{getText:()=>f.current?[XF(YF(f.current)),o].filter(Boolean).join(" . "):""},e.createElement(Yc,{innerRef:f,gamepadAlias:h,emptyFocusableGamepadAlias:b,floating:!0},e.createElement("div",PU({},i,{className:"YLp7y"}),n))))))))};const _U="JIgih",BU=a.p+"assets/RealmsStoryOptIn-f47af.png",WU=a.p+"assets/promo-small-social-09075.png",UU=a.p+"assets/promo-small-members-9a075.png",zU=a.p+"assets/promo-small-time-4e542.png";let jU;var HU;!function(e){e.Default="defaultPane",e.Social="socialPane",e.Members="membersPane",e.History="historyPane"}(jU||(jU={})),function(e){e.Default="",e.Social=".learnMore.social.title",e.Members=".learnMore.members.title",e.History=".learnMore.history.title"}(HU||(HU={}));const VU={[jU.Default]:HU.Default,[jU.Social]:HU.Social,[jU.Members]:HU.Members,[jU.History]:HU.History};function GU(){const a=m(),{t:n}=oi("RealmsStories.OptInScreen"),[r,l]=(0,t.useFacetState)(!1),o=u(),i=d(),c=(0,e.useRef)(null),s="learn-more-landmark-alias",p=ZD(`${Math.floor(1e9*Math.random())}`),f=(0,e.useMemo)((()=>({"":jU.Default,[n(HU.Social)]:jU.Social,[n(HU.Members)]:jU.Members,[n(HU.History)]:jU.History})),[n]),g=(0,t.useFacetMap)((e=>{var t;return VU[null!==(t=e.detailPane)&&void 0!==t?t:jU.Default]}),[],[a]),E=(0,t.useFacetMap)((e=>e===HU.Default?"":n(e)),[n],[g]),h=(0,t.useFacetCallback)((e=>t=>{var a;const n=null!==(a=f[t])&&void 0!==a?a:jU.Default;o.replace(`/realms-story-opt-in/${n}/${e.tab}/${e.realmId}`)}),[f,o],[a]),b=(0,t.useSharedFacet)($p),v=(0,t.useSharedFacet)(xf),F=(0,t.useFacetMap)((e=>e.getClubCheckResult&&e.getMultiplayerCheckResult),[],[(0,t.useSharedFacet)(Vp)]),S=(0,t.useFacetMap)((e=>e.userXuid===e.ownerXuid),[],[(0,t.useSharedFacet)(Kp)]),y=(0,t.useFacetMap)((e=>e.realmOptIn===Tf.OptedIn),[],[v]),C=(0,t.useFacetMap)((e=>e.currentPostState),[],[v]),M=KD.useModal(),k=XD.useShowModal(),w=(0,t.useFacetMap)(((e,t)=>e&&(t===cg.InProgress||t===cg.Uploading)),[],[i,C]),T=(0,t.useFacetMap)(((e,t)=>e&&(t===cg.InputInvalid||t===cg.InternalError||t===cg.UploadFailed||t===cg.PostingFailed)),[],[i,C]),x=(0,t.useFacetMap)(((e,t)=>e&&t===cg.RateLimit),[],[i,C]),I=(0,t.useFacetCallback)(((e,t,a)=>()=>{e.setPlayerOptInStatus(Tf.OptedIn),t&&e.setRealmsOptInStatus(Tf.OptedIn),e.postSettings(a.realmId)}),[],[b,S,a]),P=(0,t.useFacetCallback)(((e,t,a)=>()=>{t&&e.setRealmsOptInStatus(Tf.OptedOut),e.setPlayerOptInStatus(Tf.OptedOut),p(JD.OptOut_InfoDialog),e.postSettingsOnExit(a.realmId),o.goBack()}),[p,o],[b,S,a]),O=(0,t.useFacetCallback)(((e,t,a,n)=>()=>{a.playerOptIn==Tf.OptedIn&&(e||t?(p(n?JD.OptIn_Success:JD.OptIn_BadAccountSettings),l(!0)):(p(JD.OptIn_WaitingOnOwner),k({onNoticeClosed:()=>{o.goBack()}})))}),[o,l,k,p],[S,y,v,F]),N=(0,t.useFacetCallback)((e=>()=>{l(!1),"new-story"===e.tab?o.replace(`/realms-new-story/${e.realmId}`):o.replace(`/realms-stories/feed/${e.realmId}`)}),[o,l],[a]),A=(0,t.useFacetCallback)((e=>()=>{e.clearSettingsStatus(),o.goBack()}),[o],[b]);(0,t.useFacetEffect)(((e,t,a)=>{e&&t===cg.Success&&(a.clearSettingsStatus(),O())}),[O],[i,C,b]);const L=(0,t.useFacetCallback)((e=>()=>{e===HU.Default&&(p(JD.BackOut_InfoDialog),o.goBack())}),[o,p],[g]),R=n(".learnMore.dataType"),D=n(".screen"),_=n(".title.suffix");return e.createElement(e.Fragment,null,e.createElement(Nn,{collection:ev},e.createElement(TU,{onGoBack:L,buttons:[{variant:"primary",inputLegend:"Select",onClick:I,children:n(".optInButton"),narrationSuffix:n(".optInButton.hint")},{variant:"secondary",inputLegend:"Select",onClick:M.show,children:n(".maybeLaterButton")}],shouldEnumerateButtons:!0,title:n(".title"),narrationSuffix:D,delegateFocusByAlias:s,leftContent:e.createElement(fN,{src:BU,minWidth:128,minHeight:72}),rightContent:e.createElement(ac,{alias:s,containerRef:c},e.createElement("div",{ref:c},e.createElement(AU,{title:n(".learnMore.title"),narrationSuffix:_,activePane:E,onNavigationClick:e=>{h(e),p(JD.LearnMore)},onBackClick:()=>h(HU.Default)},e.createElement(AU.Pane,{title:n(HU.Social),titleNarrationSuffix:_,contentNarrationSuffix:R},e.createElement("div",{className:_U},e.createElement($U,{imageSrc:WU}),e.createElement(gs,{shouldNarrate:!0,type:"captionLong"},n(".learnMore.social.body.1"))),e.createElement(Sc,{size:2}),e.createElement(gs,{shouldNarrate:!0,type:"captionLong"},n(".learnMore.social.body.2"))),e.createElement(AU.Pane,{title:n(HU.Members),titleNarrationSuffix:_,contentNarrationSuffix:R},e.createElement("div",{className:_U},e.createElement($U,{imageSrc:UU}),e.createElement(gs,{shouldNarrate:!0,type:"captionLong"},n(".learnMore.members.body.1"))),e.createElement(Sc,{size:2}),e.createElement(gs,{shouldNarrate:!0,type:"captionLong"},n(".learnMore.members.body.2"))),e.createElement(AU.Pane,{title:n(HU.History),titleNarrationSuffix:_,contentNarrationSuffix:R},e.createElement("div",{className:_U},e.createElement($U,{imageSrc:zU}),e.createElement(gs,{shouldNarrate:!0,type:"captionLong"},n(".learnMore.history.body.1"))),e.createElement(Sc,{size:2}),e.createElement(gs,{shouldNarrate:!0,type:"captionLong"},n(".learnMore.history.body.2"))))))})),e.createElement(t.Mount,{when:r},e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:F,condition:!1},e.createElement(CU,{closeCallback:()=>{l(!1)}})),e.createElement(t.Mount,{when:F,condition:!0},e.createElement($D.Component,{onOptInCompleted:()=>N()})))),e.createElement(t.Mount,{when:w},e.createElement(Ax,{onClickClose:A})),e.createElement(t.Mount,{when:T},e.createElement(Lx.Component,{onClickClose:A})),e.createElement(t.Mount,{when:x},e.createElement(_x.Component,{onClickClose:A})),e.createElement(t.Mount,{when:M.isVisible},e.createElement(KD.Component,{isAlreadyOptedIn:!1,isOwner:S,onClose:M.hide,onOptOutCompleted:P,onOptOutCancelled:()=>p(JD.CancelOptOut_InfoDialog)})))}function $U({imageSrc:t}){const a=xo(65);return e.createElement(fN,{src:t,minWidth:64,minHeight:36,className:a?"uguyf":"mDP0E"})}var KU;function XU(){const a=m(),n=f(),r=u(),l=d(),o=(0,t.useSharedFacet)(xf),i=(0,t.useSharedFacet)(Kp),c=(0,t.useSharedFacet)(qp),[s,p]=(0,t.useFacetState)(KU.Enter),g=(0,t.useFacetMap)(((e,t,a)=>t&&e==KU.Initializing&&!a.isFetchingRealmWorld&&!a.isRealmWorldValid),[],[s,l,i]),E=(0,t.useFacetMap)(((e,t,a)=>t&&e==KU.FetchSettings&&(a.currentFetchState===ig.FetchFailed||a.currentFetchState===ig.InternalError)),[],[s,l,o]),h=(0,t.useFacetMap)(((e,t,a)=>t&&e==KU.FetchSettings&&a.currentFetchState===ig.RateLimit),[],[s,l,o]),b=(0,t.useFacetMap)(((e,t,a,n,r)=>t&&e!=KU.DataReady&&!a&&!n&&!r),[],[s,l,g,E,h]),v=(0,t.useFacetMap)(((e,t,a)=>t&&e==KU.DataReady&&a.playerOptIn==Tf.OptedIn&&a.realmOptIn!=Tf.OptedIn),[],[s,l,o]),F=(0,t.useFacetMap)(((e,t,a,n)=>t&&e==KU.DataReady&&a.playerOptIn==Tf.OptedIn&&a.realmOptIn==Tf.OptedIn&&(!n.getClubCheckResult||!n.getMultiplayerCheckResult)),[],[s,l,o,(0,t.useSharedFacet)(Vp)]),S=(0,e.useCallback)((()=>{r.goBack()}),[r]),y=(0,t.useSharedFacet)(Bf),C=(0,t.useFacetMap)((e=>e.screenshots),[],[y]);return(0,t.useFacetEffect)(((e,t,a,n,l,o,i,c,s,u)=>{if(a)switch(t){case KU.Enter:{if(!e.realmId)return;n.reset(),n.init(e.realmId);const t=u.get("screenshotId");if(null!=t){const e=s.find((e=>e.id.toString()===t));e&&(c.storyScreenshotSelectionFilePath=e.filePath)}p(KU.Initializing)}break;case KU.Initializing:!l.isFetchingRealmWorld&&l.isRealmWorldValid&&(n.fetchSettings(e.realmId),p(KU.FetchSettings));break;case KU.FetchSettings:o.currentFetchState===ig.Success&&(n.clearSettingsStatus(),p(KU.DataReady));break;case KU.DataReady:o.playerOptIn==Tf.OptedIn?o.realmOptIn==Tf.OptedIn&&i.getClubCheckResult&&i.getMultiplayerCheckResult&&(p(KU.Finished),"new-story"===e.tab?r.replace(`/realms-new-story/${e.realmId}`):r.replace(`/realms-stories/${e.tab}/${e.realmId}`)):(p(KU.Finished),r.replace(`/realms-story-opt-in/${jU.Default}/${e.tab}/${e.realmId}`))}else p(KU.Enter)}),[p,r],[a,s,l,(0,t.useSharedFacet)($p),i,o,(0,t.useSharedFacet)(Vp),c,C,n]),e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:b},e.createElement(Ax,{onClickClose:S})),e.createElement(t.Mount,{when:g},e.createElement(Rx.Component,{onClickClose:S})),e.createElement(t.Mount,{when:E},e.createElement(Lx.Component,{onClickClose:S})),e.createElement(t.Mount,{when:h},e.createElement(_x.Component,{onClickClose:S})),e.createElement(t.Mount,{when:v},e.createElement(XD.Component,{onNoticeClosed:S})),e.createElement(t.Mount,{when:F},e.createElement(CU,{closeCallback:S})))}!function(e){e[e.Enter=0]="Enter",e[e.Initializing=1]="Initializing",e[e.FetchSettings=2]="FetchSettings",e[e.DataReady=3]="DataReady",e[e.Finished=4]="Finished"}(KU||(KU={}));function YU({storyComment:a}){const n=(0,t.useSharedFacet)(Zp),r=(0,t.useFacetMap)((e=>e.players),[],[n]),l=(0,t.useFacetMap)((e=>e.body),[],[a]),o=(0,t.useFacetMap)((e=>e.timePosted),[],[a]),i=(0,t.useFacetMap)((e=>e.timePostedNarration),[],[a]),c=(0,t.useFacetWrap)(!0),s=(0,t.useFacetMap)((e=>e.authorXuid),[],[a]),u=(0,t.useFacetMap)(((e,t)=>{const a=jd(t,(t=>t.xuid===e));return null!=a?a:vL}),[],[s,r]),d=(0,t.useFacetMap)((e=>0===e.totalLikes),[],[a]),m=(0,t.useFacetMap)((e=>{let t=3;return e||t++,t}),[],[d]);return e.createElement(_L,{body:l,timePosted:o,timePostedNarration:i,storyFeedElementCount:m,author:u,hasViewed:c,commentPostType:!0})}function qU({storyComment:a,index:n,numberOfComments:r}){const{t:l}=oi("RealmsStories.feedPost"),o=(0,t.useSharedFacet)(Kp),i=u(),c=m(),s=(0,t.useFacetMap)((e=>1===e.totalLikes?l(".totalLike",[e.totalLikes.toString()]):l(".totalLikes",[e.totalLikes.toString()])),[l],[a]),d=(0,t.useFacetMap)((e=>e.hasLiked),[],[a]),p=(0,t.useFacetMap)((e=>0===e.totalLikes),[],[a]),f=(0,t.useSharedFacet)($p),g=(0,t.useFacetCallback)(((e,t)=>()=>{e.toggleLikeStatus!==cg.InProgress&&t.toggleLike(e.id,e.parentId)}),[],[a,f]),E=GL.useModal(),h=(0,t.useFacetMap)((e=>e.authorXuid),[],[a]),b=(0,t.useFacetMap)(((e,t)=>e===t.userXuid),[],[h,o]),v=(0,t.useFacetMap)((e=>e.ownerXuid===e.userXuid),[],[o]),F=KL.useModal(),S=(0,e.useCallback)((()=>{F.hide(),E.hide()}),[F,E]),y=(0,t.useFacetCallback)(((e,t)=>()=>{t.delete(e.id,e.parentId),S()}),[S],[a,f]),C=(0,t.useFacetMap)((e=>e.deleteStatus==cg.InputInvalid||e.deleteStatus==cg.InternalError||e.deleteStatus==cg.UploadFailed||e.deleteStatus==cg.PostingFailed),[],[a]),M=(0,t.useFacetCallback)(((e,t)=>()=>t.clearDeleteStatus(e.id)),[],[a,f]),k=YL.useModal(),w=(0,e.useCallback)((()=>{k.hide(),E.hide()}),[k,E]),T=(0,t.useFacetCallback)(((e,t)=>()=>{t.reportToClubOwner(e.id,e.parentId),w()}),[w],[a,f]),x=(0,t.useFacetMap)((e=>e.reportToClubOwnerStatus==cg.InputInvalid||e.reportToClubOwnerStatus==cg.InternalError||e.reportToClubOwnerStatus==cg.UploadFailed||e.reportToClubOwnerStatus==cg.PostingFailed),[],[a]),I=(0,t.useFacetCallback)(((e,t)=>()=>t.clearReportToClubOwnerStatus(e.id)),[],[a,f]),P=(0,t.useFacetCallback)(((e,t)=>()=>{E.hide(),i.push(`/realms-stories-report-feed-item/${uR.Comment}/${e.realmId}?postId=${t.id}`)}),[i,E],[c,a]),O=(0,t.useFacetMap)((e=>e.reportToXboxStatus),[],[a]),N=(0,t.useFacetMap)((e=>e!==cg.Idle&&e!==cg.InProgress&&e!==cg.RateLimit),[],[O]),A=(0,t.useFacetCallback)(((e,t)=>()=>{e.clearReportToXboxStatus(t.id)}),[],[f,a]),L=(0,t.useFacetMap)((e=>e.deleteStatus==cg.RateLimit||e.reportToClubOwnerStatus==cg.RateLimit||e.reportToXboxStatus==cg.RateLimit),[],[a]),R=(0,t.useFacetCallback)((e=>()=>{e.deleteStatus==cg.RateLimit&&M(),e.reportToClubOwnerStatus==cg.RateLimit&&I(),e.reportToXboxStatus==cg.RateLimit&&A()}),[M,I,A],[a]),D=(0,t.useSharedFacet)(bp);(0,t.useFacetEffect)(((e,t,a)=>{e.reportToClubOwnerStatus===cg.Success&&(t.queueSnackbar(l(".options.notify.toast")),a.clearReportToClubOwnerStatus(e.id))}),[l],[a,D,f]);const _=(0,t.useFacetMap)((e=>[l(".commentPostGroup"),l(".postGroupRole"),l(".postGroupEnumeration",[`${n+1}`,`${e}`])].join(" . ")),[n,l],[r]);return e.createElement(e.Fragment,null,e.createElement(rs,{text:_},e.createElement(DL,{content:e.createElement(YU,{storyComment:a}),index:n,totalLikes:s,hasLiked:d,hideLikes:p,toggleLikeCallback:g,openOptionsCallback:E.show})),e.createElement(t.Mount,{when:E.isVisible},e.createElement(GL.Component,{isAuthor:b,isRealmOwner:v,isCommentOptions:!0,onClose:E.hide,onDelete:F.show,onNotify:k.show,onReport:P})),e.createElement(t.Mount,{when:F.isVisible},e.createElement(KL.Component,{onConfirm:y,onCancel:S,isCommentOptions:!0})),e.createElement(t.Mount,{when:C},e.createElement(QL.Component,{onClose:M,isCommentOptions:!0})),e.createElement(t.Mount,{when:k.isVisible},e.createElement(YL.Component,{onConfirm:T,onCancel:w,isCommentOptions:!0})),e.createElement(t.Mount,{when:x},e.createElement(ZL.Component,{onClose:I})),e.createElement(t.Mount,{when:L},e.createElement(_x.Component,{onClickClose:R})),e.createElement(t.Mount,{when:N},e.createElement(rR.Component,{reportStatus:O,onClose:A})))}function QU(){const a=d(),{t:n}=oi("RealmsStories.CommentsScreen"),{t:r}=oi("RealmsStories.feedEvent"),l=m(),o=(0,t.useFacetMap)((e=>e.id),[],[l]),i=(0,t.useSharedFacet)(kf),c=(0,t.useSharedFacet)(If),s=(0,t.useSharedFacet)(qp),u=(0,t.useSharedFacet)(Ir),p=(0,t.useFacetMap)(((e,t)=>jd(e.stories,(e=>e.id===decodeURIComponent(t)))),[],[i,o]),f=(0,t.useFacetMap)((e=>{var t;return null===(t=(null==e?void 0:e.commentsStatus)===ig.InProgress)||void 0===t||t}),[],[p]),g=(0,t.useFacetMap)((e=>e?e.body:""),[],[p]),E=(0,t.useFacetMap)((e=>!!e&&(null==e?void 0:e.isEvent)&&(null==e?void 0:e.isEventLoaded)),[],[p]),h=(0,t.useFacetMap)(((e,t)=>{if(e){const e=wL(t);if(e)return"large"===e.treatmentSize?lR.LARGE_EVENT:lR.MEDIUM_EVENT}return lR.STORY}),[],[E,g]),b=(0,t.useSharedFacet)(Zp),v=(0,t.useFacetMap)(((e,t,a)=>{const n=[];return e&&t&&t.eventPlayerXuids.map((e=>{var t;const r=null!==(t=jd(a.players,(t=>t.xuid===e)))&&void 0!==t?t:vL;n.push(r)})),n}),[],[E,p,b]),F=Io(70),S=(0,t.useFacetMap)(((e,t,a,n)=>{if(e){var l;const e="large"===(null!==(l=TL(t))&&void 0!==l?l:"medium")?yL:CL;return xL({eventId:t,t:r,playerData:a,maxDisplayedPlayers:n?e.narrow:e.full})}return t}),[r],[E,g,v,F]),y=(0,t.useFacetMap)((e=>e.players),[],[b]),C=(0,t.useFacetMap)(((e,t,a)=>{var r;return a?n(".realmEvent"):(e&&null!==(r=jd(t,(t=>t.xuid===e.authorXuid)))&&void 0!==r?r:vL).gamerTag}),[n],[p,y,E]),M=(0,t.useFacetMap)((e=>e?e.timePosted:""),[],[p]),k=(0,t.useFacetMap)(((e,t,a)=>e?FL(a):t?t.image:""),[],[E,p,g]),w=(0,t.useFacetMap)(((e,t)=>e.comments.filter((e=>e.parentId===decodeURIComponent(t)))),[],[c,o]),T=(0,t.useFacetMap)((e=>e.length),[],[w]),x=To(),I=(0,t.useFacetMap)((e=>e.commentInProgressBody),[],[s]),P=(0,t.useFacetCallback)((e=>t=>{e.commentInProgressBody=t}),[],[s]),O=(0,t.useSharedFacet)($p),[N,A]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)(((e,t,a,n)=>{n||a||(A(!0),e.fetchStoryComments(decodeURIComponent(t)))}),[A],[O,o,f,N]);const[L,R]=py(!1),D=(0,t.useFacetCallback)(((e,t,a,n)=>()=>{dy(n,t)?R.show():(a.commentInProgressBody=t,e.postComment())}),[R],[O,I,s,(0,t.useSharedFacet)(Gp)]);(0,t.useFacetEffect)(((e,t)=>{e.postCommentStatus===cg.Success&&(P(""),t.clearPostCommentStatus())}),[P],[c,O]);const _=(0,t.useFacetMap)(((e,t)=>e&&(t.postCommentStatus==cg.InputInvalid||t.postCommentStatus==cg.InternalError||t.postCommentStatus==cg.UploadFailed||t.postCommentStatus==cg.PostingFailed)),[],[a,c]),B=(0,t.useFacetMap)(((e,t)=>e&&t.postCommentStatus==cg.RateLimit),[],[a,c]),W=(0,t.useFacetCallback)((e=>()=>{e.clearPostCommentStatus()}),[],[O]),U=(0,t.useFacetMap)(((e,t)=>""===e||t.postCommentStatus===cg.InProgress||t.postCommentStatus===cg.Uploading),[],[I,c]),z=(0,t.useFacetUnwrap)(U),j=Vn("neutral"),H=(0,t.useFacetMap)((e=>!e.isOnline),[],[u]),V=(0,t.useFacetMap)(((e,t)=>!(!e||e.commentsStatus!==ig.InternalError&&e.commentsStatus!==ig.FetchFailed&&e.commentsStatus!==ig.RateLimit||t)),[],[p,H]),G=(0,t.useFacetMap)(((e,t)=>e||t),[],[H,V]),$=(0,t.useFacetCallback)(((e,t)=>()=>{e.fetchStoryComments(decodeURIComponent(t))}),[],[O,o]),K=(0,e.useRef)(null),X=(0,t.useFacetMap)(((e,t)=>[n(".writeYourComment"),n(".inputField"),n(".enumeration",["1","2"]),e.length>0?e:n(".inputFieldHint"),t?n(".textFieldEmptyStateNarration"):""].join(" . ")),[n],[I,U]);return e.createElement(Nn,{collection:ev},e.createElement(qg,null,e.createElement(vx,{title:n(".header"),gamepadAlias:"realms-stories-comments-route",screenAnalyticsId:"StoriesComments",delegateByAlias:"comments-text-box"},(()=>e.createElement(hE,null,e.createElement(t.Mount,{when:G},e.createElement(hE.Row,{gamepadIndex:0},e.createElement(Sc,{size:"narrow"===x?0:1}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(t.Mount,{when:H},e.createElement(oL,null)),e.createElement(t.Mount,{when:V},e.createElement(cL,{onClick:$,pageName:n(".header")}))),e.createElement(Sc,{size:"narrow"===x?0:1}))),e.createElement(t.Mount,{when:R.isVisible},e.createElement(my.Component,{onClose:R.hide})),e.createElement(t.Mount,{when:G,condition:!1},e.createElement(hE.Row,{gamepadIndex:0,className:"OiYcF"},e.createElement(hE.Column,{gamepadIndex:0,wideSize:4,narrowSize:0},e.createElement(oR,{content:S,sender:C,timestamp:M,image:k,containerType:h})),e.createElement(hE.Column,{wideSize:8,narrowSize:8,gamepadIndex:1},e.createElement(Sc,{size:2}),e.createElement(ac,{containerRef:K,alias:"comments-text-box"},e.createElement("div",{ref:K,className:lr()("YwLqB",j.border.base)},e.createElement(t.DeferredMount,null,e.createElement(Ey.WithButton,{buttonInputLegend:n(".select"),buttonText:n(".post"),buttonOnClick:D,placeholder:n(".writeYourComment"),label:"",maxLength:350,value:I,onChange:P,narrationOverride:X,buttonDisabled:U,buttonVariant:!1===z?"primary":"secondary",buttonNarrationHint:n(".enumeration",["2","2"]),onBlur:L})))),e.createElement(qx,{loading:f,firstRowSeparatorVertical:e.createElement(Sc,{size:1}),data:w,header:e.createElement(Sc,{size:"narrow"===x?1:3}),gamepadIndex:1,columns:1,itemSeparatorVertical:e.createElement(Sc,{size:"narrow"===x?2:4}),renderItem:({itemFacet:t,index:a})=>e.createElement(qU,{storyComment:t,index:a,numberOfComments:T}),footer:e.createElement(Sc,{size:4})})))),e.createElement(Zu.Space,null)))),e.createElement(t.Mount,{when:_},e.createElement(Dx.Component,{onClickClose:W})),e.createElement(t.Mount,{when:B},e.createElement(_x.Component,{onClickClose:W}))))}const JU=a.p+"assets/GenericError-86c4b.png",ZU=a.p+"assets/AccessDenied-4ffcb.png",ez=a.p+"assets/RealmsMissing-e89cb.png",tz=a.p+"assets/ExternalLink-eae4d.png",az=a.p+"assets/realms_default_image-e7bc0.jpg";function nz({realm:a,onItemClick:n,index:r,count:l}){const{t:o,f:i}=oi("RealmListItem"),c=(0,t.useFacetMap)((e=>e.world.realmName),[],[a]),s=(0,t.useFacetMap)((e=>e.world.slotName),[],[a]),u=(0,t.useFacetMap)((e=>e.isOwner?o(".yourRealm"):o(".joinedRealm")),[o],[a]),d=Vn("neutral"),m=(0,t.useFacetMap)((e=>null!=e.world.lastSaved?i.formatDate(e.world.lastSaved):"-"),[i],[a]),p=(0,t.useFacetMap)(((e,t,a,n)=>[e,o(".role"),t,o(".enumeration",[`${r+1}`,`${n}`]),o(".lastPlayedNarration",[a])].join(" . ")),[o,r],[c,u,m,l]);return e.createElement(Gh,{tall:!0},e.createElement(Gh.Action,{inputLegend:o(".select"),narrationText:p,onClick:n},e.createElement(Gh.Cell,null,e.createElement("div",{className:"qOrT_"},e.createElement(oc,{src:az,className:lr()(d.border.base,"fVh3O"),aspectRatio:oc.AspectRatio["16:9"]}))),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,c)),e.createElement(gs,{type:"body",variant:"dimmer"},e.createElement(Ns,null,s)),e.createElement(Sc,{size:1}),e.createElement(Nn,{collection:ev},e.createElement(jM,{role:"primaryTint"},u))),e.createElement(Gh.Cell,{direction:"column"},e.createElement(gs,{type:"captionShort",variant:"dimmer"},o(".lastPlayed")),e.createElement(gs,{type:"captionShort",variant:"dimmer"},m))))}function rz(){const a=u(),{t:n}=oi("PostToRealmStoriesRoute"),r=f(),l=(0,t.useSharedFacet)(Vp),o=(0,t.useSharedFacet)(Ff),i=(0,t.useFacetMap)((e=>e.realms),[],[o]),c=(0,t.useFacetCallback)(((e,t)=>n=>{a.push(`/realms-story-entry-route/new-story/${e.realms[n].world.id}?screenshotId=${t.get("screenshotId")}`)}),[a],[o,r]),s=(0,t.useFacetMap)((e=>e.state===vf.Error),[],[o]),d=(0,t.useFacetMap)((e=>e.state!=vf.Error&&e.state!=vf.Loading&&0===e.realms.length),[],[o]),m=(0,t.useFacetMap)(((e,t)=>e.state!=vf.Error&&e.state!=vf.Loading&&0!=e.realms.length&&!t.getClubCheckResult),[],[o,l]),p=(0,t.useFacetMap)(((e,t)=>e.state!=vf.Error&&e.state!=vf.Loading&&0!=e.realms.length&&t.getClubCheckResult&&!t.getAllowCapturesResult),[],[o,l]),g=(0,t.useFacetMap)(((e,t,a,n)=>e||t||a||n),[],[s,d,m,p]),E=To(),h=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.RealmsSafetyPage)}),[],[(0,t.useSharedFacet)(vg)]),b=(0,e.useCallback)((()=>{a.replace("/realms-pdp")}),[a]),v=(0,t.useFacetCallback)((e=>()=>e.forceFetchRealmsList()),[],[o]);return e.createElement(vx,{screenAnalyticsId:"Post-To-Realm-Stories",gamepadAlias:"post-to-realm-stories",title:n(".title"),delegateByAlias:"post-to-realm-stories-scrollview"},(()=>e.createElement(hE,null,e.createElement(hE.Row,null,e.createElement(Yr,{data:g},(a=>a?e.createElement(e.Fragment,null,e.createElement(hE.Column,{wideSize:"tablet"===E?1:"desktop"===E?2:12,narrowSize:0}),e.createElement(hE.Column,{wideSize:"tablet"===E?10:"desktop"===E?8:12,narrowSize:8},e.createElement(Yc,null,e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:s},e.createElement(yE,{autofocus:!0,title:n(".realmsCantLoad.title"),text:n(".realmsCantLoad.message"),imgSrc:JU,buttons:[{text:n(".realmsCantLoad.button"),inputLegend:n(".select"),onClick:v,variant:"secondary"}]})),e.createElement(t.Mount,{when:d},e.createElement(yE,{autofocus:!0,title:n(".noRealmsFound.title"),imgSrc:ez,buttons:[{text:n(".noRealmsFound.button"),inputLegend:n(".select"),onClick:b,variant:"secondary"}]})),e.createElement(t.Mount,{when:m},e.createElement(yE,{autofocus:!0,title:n(".youNeedPermission.title"),text:n(".youNeedPermission.message"),imgSrc:ZU,buttons:[{text:n(".youNeedPermission.button"),inputLegend:n(".select"),onClick:h,variant:"secondary",imgSrc:tz}]})),e.createElement(t.Mount,{when:p},e.createElement(yE,{autofocus:!0,title:n(".accessDenied.title"),text:n(".accessDenied.message"),imgSrc:ZU,buttons:[{text:n(".accessDenied.button"),inputLegend:n(".select"),onClick:h,variant:"secondary",imgSrc:tz}]}))))):e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement(lA,{data:i,header:e.createElement(Sc,{size:1}),renderItem:({itemFacet:t,index:a,listLengthFacet:n})=>e.createElement(nz,{realm:t,index:a,count:n,onItemClick:()=>{c(a)}}),footer:e.createElement(Sc,{size:2}),itemSeparator:e.createElement(Sc,{size:2})}))))),e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:2})}))))}function lz({qrCodeSrc:a,foregroundColor:n="",backgroundColor:r=""}){const l=(0,t.useFacetWrap)(a),o=(0,t.useFacetWrap)(n),i=(0,t.useFacetWrap)(r),c=(0,t.useFacetMap)(((e,t,a)=>(e.startsWith("qr://")&&(t||(t=encodeURIComponent(Dl)),a||(a=encodeURIComponent(Hl)),e+=`?foregroundColor=${t}&backgroundColor=${a}`),e)),[],[l,o,i]);return e.createElement(oc,{aspectRatio:{height:1,width:1},imageRendering:"pixelated",className:"zEADj",src:c})}const oz="AddFriends";function iz(){const{t:a}=oi("AddFriendSideMenu.narration"),n=To(),r=(0,t.useSharedFacet)(_p),l=(0,t.useSharedFacet)(Eg),o=(0,t.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[r,l]);o();const i=vT(),c=(0,t.useFacetMap)((e=>{let t="";return e&&(""!=e.data.xblName&&(t=e.data.xblName),""!=e.data.platformName&&(t=e.data.platformName),""!=e.data.offlineName&&(t=e.data.offlineName)),[t,null!=e?e.data.realName:null,a(".group")].join(" . ")}),[a],[i]);return e.createElement(Yc,{floating:!0},e.createElement("div",{className:""+("desktop"===n?"qCwOF":"")},e.createElement(Bb,{narrationPrefix:c},e.createElement(cz,null))))}function cz(){const{t:a}=oi("AddFriendSideMenu"),{t:n}=oi("AddFriendSideMenu.narration"),r=vT(),l=yv(),o=(0,t.useSharedFacet)(fm),i=(0,t.useSharedFacet)(Vf),c=(0,t.useSharedFacet)(bp),s=(0,t.useSharedFacet)(Ir),u=(0,t.useFacetMap)((e=>{if(e){if(""!=e.data.xblName)return e.data.xblName;if(""!=e.data.platformName)return e.data.platformName;if(""!=e.data.offlineName)return e.data.offlineName}return""}),[],[r]),d=(0,t.useFacetCallback)(((e,t,n,r)=>()=>{null!=e&&(e.state.xblState||e.state.platformState)&&(t.copyToClipboard(r),n.queueSnackbar(a(".gamertagCopied"))),l({button:"CopyGamertag",screen:oz})}),[a,l],[r,o,c,u]),m=(0,t.useFacetMap)((e=>e.isShareSupported),[],[i]),p=(0,t.useFacetMap)((e=>!Jv(e.platform)),[],[s]),f=(0,t.useFacetCallback)(((e,t,n)=>()=>{e.share(n,a(".shareText"),null!=t?t.data.url:""),l({button:"ShareProfile",screen:oz})}),[a,l],[i,r,u]),g=(0,t.useFacetMap)(((e,t)=>n(".QRHint",[t])),[n],[r,u]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>null!=e&&e.state.xblState===Rp.Loaded),[],[r])},e.createElement(e.Fragment,null,e.createElement(Bb.Item,null,e.createElement(Bb.ItemMain,null,e.createElement(Li.Maybe,{classNameFocused:vi,className:"RbtL1",isInteractive:Ia(),narrationText:g},e.createElement(bi,null),e.createElement(lz,{qrCodeSrc:(0,t.useFacetMap)((e=>null!=e?e.data.qrCode:""),[],[r])})))),e.createElement(Sc,{size:2}),e.createElement(Bb.Item,null,e.createElement(gs,{type:"header5B",align:"center"},(0,t.useFacetMap)(((e,t)=>t),[],[r,u])),e.createElement(gs,{type:"captionShort",variant:"dimmer",align:"center"},(0,t.useFacetMap)((e=>null!=e?e.data.realName:""),[],[r]))))),e.createElement(Sc,{size:1}),e.createElement(t.Mount,{when:m},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(Bb.Item,null,e.createElement(ru,{inputLegend:a(".shareButton"),variant:"hero",linebreak:!0,narrationSuffix:[n(".buttonSiblings",["1","2"]),a(".shareButtonHint")].join(" . "),onClick:f},a(".shareButton"))))),e.createElement(t.Mount,{when:p},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(Bb.Item,null,e.createElement(ru,{inputLegend:a(".copyGamertagButton"),narrationSuffix:[n(".buttonSiblings",["2","2"]),a(".copyGamertagButton")].join(" . "),variant:"secondary",linebreak:!0,onClick:d},a(".copyGamertagButton"))))))}const sz=a.p+"assets/qr-code-icon-cdeea.png",uz="searchByGamertag";function dz({searchQuery:a,onSearchQueryChange:n}){const{t:r}=oi("AddFriendSearchByGamertag"),{t:l}=oi("AddFriendSearchByGamertag.narration"),o=Vn("neutral"),i=(0,t.useFacetMap)((e=>e?[l(".searchBar"),e,l(".searchGamertagHint")].join(" . "):[l(".searchBar"),l(".searchGamertagHint")].join(" . ")),[l],[a]),c=(0,t.useFacetWrap)(!1),s=be();return(0,e.useEffect)((()=>{requestAnimationFrame((()=>{s(uz)}))}),[s]),e.createElement("div",null,e.createElement(Ws,{className:lr()("bydU_",o.border.base,o.background.base)},e.createElement(zs,{disabled:!0},r(".searchGamertagDescription")),e.createElement(Sc,{size:2}),e.createElement("div",{className:"XTqtC"},e.createElement(Ds,{gamepadAlias:uz,narrationText:i,placeholderIcon:Rs.MagnifyingGlass,placeholder:r(".searchGamertag"),gamepadIndex:0,value:a,"data-testid":r(".searchGamertag"),onChange:n}),e.createElement(t.Mount,{when:c},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(fE.Divider,null),e.createElement(Sc,{size:2}),e.createElement("div",{className:"i3br0"},e.createElement(ru,{variant:"secondary",imgSrc:sz,inputLegend:r(".search"),narrationPrefix:l(".searchByQR")}))))),e.createElement(Vi,{effect:"bevel"})))}let mz;function pz({title:a,players:n,accordionId:r,scrollViewRef:l,position:o,expandedDefaultState:i=!1,collapsible:c=!0,addFriendLocation:s,profileEntryPoint:u}){const{t:d}=oi("AddFriendAccordion"),{t:m}=oi("AddFriendAccordion.narration"),p=yv(),f=d(`.${a}`),g=(0,t.useFacetMap)((e=>e.length),[],[n]),[E,h]=(0,t.useFacetState)(0),b=(0,t.useFacetMap)(((e,t)=>e.slice(0,t)),[],[n,E]),v=(0,t.useFacetMap)(((e,t)=>e.length<=t),[],[n,E]),F=be(),S=(0,e.useCallback)(((e=!1)=>{h((e=>e===t.NO_VALUE?e:e+5)),!1===e&&p({button:"LoadMoreResults",screen:oz})}),[h,p]);(0,e.useEffect)((()=>{S(!0)}),[S]);const y=(0,e.useRef)(null),C=et(),M=(0,t.useFacetCallback)((e=>()=>{F(r),e&&l&&l.current&&y.current&&(l.current.scrollTop=y.current.offsetTop+8),p({button:"BackToTop",screen:oz})}),[r,F,l,p],[C]),k=(0,t.useFacetMap)((e=>{const t=[m(".enumeration",[`${o[0]}`,`${o[1]}`])];return e.length>0?t.push(m(`.${a}Suggestions`,[`${e.length}`])):t.push(m(".noSuggestionsFound"),m(`.noSuggestionsMessage${a}`)),t.join(" . ")}),[o,m,a],[n]),w=(0,t.useFacetMap)((e=>e.length>5),[],[n]),T=(0,t.useFacetMap)((e=>0===e.length),[],[n]);return e.createElement("div",{ref:y,id:r},e.createElement(Sc,{size:2}),e.createElement(Pk,{label:f,count:a!=mz.recommendedFriends?g:void 0,gamepadIndex:0,expandedDefaultState:i,narrationHint:k,onExpandNarrationHint:d(".genericOnExpandNarrationHint"),gamepadAlias:r,alwaysShowHint:!0,collapsible:c},e.createElement("div",{className:"C15if"},e.createElement(t.Mount,{when:T,condition:!1},e.createElement(t.Map,{array:b},((t,a)=>e.createElement(fz,{player:t,accordionId:r,index:a,visiblePlayers:b,addFriendLocation:s,profileEntryPoint:u})))),e.createElement(t.Mount,{when:T,condition:!0},e.createElement(gz,{accordionType:a})),e.createElement(t.Mount,{when:w},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement("div",{className:"IsVhy"},e.createElement(ru,{gamepadIndex:2,horizontal:!0,narrationSuffix:m(".enumeration",["1","2"]),inputLegend:d(".backToTop"),onClick:()=>{M()}},d(".backToTop")),e.createElement(iS.ButtonSpacing,null),e.createElement(ru,{gamepadIndex:3,horizontal:!0,inputLegend:d(".loadMoreResults"),narrationSuffix:m(".enumeration",["2","2"]),onClick:()=>{S(!1)},gamepadAlias:r+"LoadMore",disabled:v},d(".loadMoreResults"))))))))}function fz({player:a,accordionId:n,index:r,visiblePlayers:l,addFriendLocation:o,profileEntryPoint:i}){const c=yv(),[s,u]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)((e=>u(e.isFollowedByMe)),[u],[a]);const d=(0,t.useFacetMap)((e=>function(e,t){return e.gamertag+e.xuid+t}(e,n)),[n],[a]),m=be(),p=(0,t.useFacetMap)((e=>e.length),[],[l]),f=(0,t.useFacetCallback)(((e,t)=>()=>{const a=5*(Math.ceil(e.length/5)-1);r===a&&e.length>5&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{m(t)}))}))}),[m,r],[l,d]);(0,e.useEffect)((()=>{f()}),[f]);const g=(0,t.useFacetCallback)((()=>()=>{u(!0),c({button:"AddFriend",screen:oz})}),[u,c],[]),E=(0,t.useFacetMap)(((e,t,a)=>{let n="add-friend";return(null==a?void 0:a.data.xuid)===e.xuid&&(n="self"),(e.isFollowedByMe||t)&&(n=e.isFollowingMe?"added-mutual":"added-not-mutual"),{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,xuid:e.xuid,variant:n,location:o}}),[o],[a,s,vT()]);return e.createElement(oT,{item:E,index:r,gamepadAlias:d,onAdditionalActionClick:g,listLength:p,profileEntryPoint:i})}function gz({accordionType:t}){const{t:a}=oi("AddFriendAccordionEmptyPanel"),n=Vn("neutral80");return e.createElement(Ws,{compact:!0,className:lr()(n.border.base,n.background.base,"p6FFj")},e.createElement(Sc,{size:3}),e.createElement(gs,{type:"body",align:"center"},a(".noSuggestionsFound")),e.createElement(Sc,{size:4}),e.createElement(gs,{type:"captionShort",variant:"dimmer",align:"center"},a(`.${t}`)),e.createElement(Sc,{size:3}))}!function(e){e.recommendedFriends="recommendedFriends",e.recentlyPlayedWith="recentlyPlayedWith",e.followers="followers",e.gamertagSearch="gamertagSearch"}(mz||(mz={}));const Ez=a.p+"assets/external-link-b22bb.png",hz=a.p+"assets/search-error-image-32029.png",bz=a.p+"assets/parental-control-block-image-c827b.png",vz=a.p+"assets/blocked-adding-friends-image-f34cf.png",Fz=a.p+"assets/load-error-image-8fa35.png",Sz="KsiYT",yz="Q6j5_";let Cz;function Mz({errorType:a}){const n=(0,t.useFacetWrap)(a),{t:r}=oi("AddFriendError"),l=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.ParentPermissionHelpPage)}),[],[(0,t.useSharedFacet)(vg)]),o=Ud({wide:8,narrow:6,width:260});return e.createElement(Yr,{data:n},(t=>{switch(t){case Cz.LoadError:return e.createElement(yE,{title:r(".loadErrorTitle"),text:r(".loadErrorMessage"),buttons:[{text:r(".tryAgain"),onClick:()=>{}}],imgSrc:Fz,imgClass:o?Sz:yz});case Cz.ParentalControlError:return e.createElement(yE,{title:r(".parentalControlBlockTitle"),text:r(".parentalControlBlockMessage"),buttons:[{imgSrc:Ez,text:r(".learnMore"),onClick:l}],imgSrc:bz,imgClass:o?Sz:yz});case Cz.BlockedAddingFriendsError:return e.createElement(yE,{title:r(".blockedAddingFriendsTitle"),text:r(".blockedAddingFriendsMessage"),buttons:[{imgSrc:Ez,text:r(".learnMore"),onClick:l}],imgSrc:vz,imgClass:yz});case Cz.SearchError:return e.createElement(yE,{title:r(".searchErrorTitle"),text:r(".searchErrorMessage"),imgSrc:hz,imgClass:yz});default:return e.createElement("div",null)}}))}!function(e){e[e.NoError=-1]="NoError",e[e.SearchError=0]="SearchError",e[e.LoadError=1]="LoadError",e[e.ParentalControlError=2]="ParentalControlError",e[e.BlockedAddingFriendsError=3]="BlockedAddingFriendsError"}(Cz||(Cz={}));const kz={columnsContainer:"DnCO_",spinnerContainer:"winnS"};function wz(){const{t:a}=oi("AddFriendRoute"),n=(0,t.useSharedFacet)(Af),r=(0,t.useSharedFacet)(Nf),l=(0,t.useSharedFacet)(zm),o=(0,t.useSharedFacet)(Ym),i=(0,t.useFacetMap)((e=>e.playerList),[],[n]),c=(0,t.useFacetMap)((e=>e.playerList),[],[r]),s=(0,t.useFacetMap)((e=>e.playerList),[],[l]),u=(0,t.useFacetMap)((e=>e.searchResults),[],[o]),d=(0,e.useRef)(null),[m,p]=(0,t.useFacetState)(""),[f,g]=(0,t.useFacetState)(!1),E=(0,e.useRef)(null),h=(0,t.useFacetCallback)((e=>t=>{g(!0),p(t),E.current&&clearTimeout(E.current),E.current=setTimeout((()=>{e.search(t),E.current=null,g(!1)}),500)}),[E,p,g],[o]),b=(0,t.useFacetMap)(((e,t)=>e.isLoading||t),[],[o,f]),v=(0,t.useFacetMap)(((e,t,a)=>e.length>=3||t.searchResultsOverride||a),[],[m,o,b]),F=(0,t.useFacetMap)(((e,t,a)=>e.isLoading||t.isLoading||a.isLoading),[],[n,r,l]),S=[{title:mz.recommendedFriends,players:i,accordionId:"recommendedFriendsAccordionId",expandedDefaultState:!0,location:Up.ADDFRIENDS_RECOMMENDEDFRIENDS,profileEntryPoint:Dp.AddFriends_RecommendedFriends},{title:mz.recentlyPlayedWith,players:c,accordionId:"recentlyPlayedWithAccordionId",expandedDefaultState:!1,location:Up.ADDFRIENDS_RECENTLYPLAYEDWITH,profileEntryPoint:Dp.AddFriends_RecentlyPlayedWith},{title:mz.followers,players:s,accordionId:"followersAccordionId",expandedDefaultState:!1,location:Up.ADDFRIENDS_FOLLOWERS,profileEntryPoint:Dp.AddFriends_Followers}],y=e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:F,condition:!1},e.createElement(e.Fragment,null,S.map(((t,a)=>e.createElement(pz,{key:t.title,title:t.title,players:t.players,accordionId:t.accordionId,scrollViewRef:d,position:[a+1,S.length],expandedDefaultState:t.expandedDefaultState,addFriendLocation:t.location,profileEntryPoint:t.profileEntryPoint}))))),e.createElement(t.Mount,{when:F,condition:!0},e.createElement("div",{className:kz.spinnerContainer},e.createElement(Kc,null)))),C=(0,t.useFacetMap)((e=>e.xboxAPICallResult===sg.Success),[],[o]),{narrateText:M}=Xc(),k=(0,e.useRef)(!1),w=(0,e.useRef)(!1),T=(0,t.useFacetMap)(((e,t,a)=>e?"loading":t?0===a.length?"no-results":"results":"API-error"),[],[b,C,u]);(0,t.useFacetEffect)(((e,t,n)=>{if(t.length>=3||n.searchResultsOverride)switch(e){case"API-error":w.current||M(`${a(".searchCantLoad")} . ${a(".error")} . ${a(".unknownError")}`),w.current=!0,k.current=!1;break;case"no-results":k.current||M(`${a(".noGamertagFound")} . ${a(".emptyState")} . ${a(".refineSearch")}`),k.current=!0,w.current=!1;break;case"results":w.current=!1,k.current=!1}}),[M,a],[T,m,o]);const x=e.createElement(Yr,{data:T},(t=>{switch(t){case"loading":return e.createElement("div",{className:kz.spinnerContainer},e.createElement(Kc,null));case"API-error":return e.createElement("div",null,e.createElement(Sc,{size:2}),e.createElement(Mz,{errorType:Cz.LoadError}));case"no-results":return e.createElement("div",null,e.createElement(Sc,{size:2}),e.createElement(Mz,{errorType:Cz.SearchError}));default:return e.createElement(pz,{title:mz.gamertagSearch,players:u,accordionId:"gamertagSearchAccordionId",scrollViewRef:d,position:[1,1],expandedDefaultState:!0,addFriendLocation:Up.ADDFRIENDS_SEARCH,profileEntryPoint:Dp.AddFriends_Search,collapsible:!1})}})),I=(0,t.useSharedFacet)(Eg),P=(0,t.useFacetMap)((e=>e.userPermissions.addFriends.denyReasons.includes(gg.XboxLive)||e.userPermissions.addFriends.denyReasons.includes(gg.XboxLive_Parental)),[],[(0,t.useSharedFacet)(Eg)]),O=(0,t.useFacetMap)(((e,t)=>t?Cz.ParentalControlError:e.userPermissions.addFriends.allowed?Cz.NoError:Cz.BlockedAddingFriendsError),[],[I,P]),N=be(),A=To(),L=e.createElement(e.Fragment,null,e.createElement(hE,{narrowBreakpointWidth:102},e.createElement(Sc,{size:2}),e.createElement(hE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement("div",{className:kz.columnsContainer},e.createElement(hE.Column,{gamepadIndex:0,wideSize:4,narrowSize:3},e.createElement(iz,null)),e.createElement(hE.Column,{gamepadIndex:1,wideSize:8,narrowSize:5},"desktop"===A?e.createElement(Sc,{size:2}):"",e.createElement(dz,{searchQuery:m,onSearchQueryChange:h}),e.createElement(Yc,{gamepadIndex:0,innerRef:d,delegateFocusFromMemory:!0},e.createElement("div",{className:"desktop"===A?kz.desktopMainMenu:kz.mainMenu},e.createElement(Yr,{data:v},(t=>t?x:e.createElement("div",null,y))))),e.createElement(Sc,{size:4})))),e.createElement(Zu.Space,null)),e.createElement(Tz,{onClick:function(){N(uz)}})),R=e.createElement(hE,{narrowBreakpointWidth:102},e.createElement(Sc,{size:3}),e.createElement(hE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:12,narrowSize:8},e.createElement(Mz,{errorType:O}))),e.createElement(Zu.Space,null),e.createElement(Sc,{size:4})),D=(0,t.useFacetMap)((e=>e!==Cz.NoError),[],[O]);return e.createElement(vx,{title:a(".header"),screenAnalyticsId:"AddFriend",gamepadAlias:"add-friend-route",delegateByAlias:"add-friend-route"},(()=>e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:D,condition:!0},R),e.createElement(t.Mount,{when:D,condition:!1},L))))}function Tz({onClick:a}){const{t:n}=oi("AddFriendRoute");return e.createElement(as,{onClick:a,options:(0,t.useFacetMap)((e=>({disabled:!e,button:W.Y,inputLegend:n(".search")})),[n],[Je()])})}const xz="PQ7oJ",Iz=a.p+"assets/info-icon-4cdb8.png",Pz=a.p+"assets/manage-icon-4558c.png",Oz=pi((({onClose:a,menuOptions:n,onItemSelect:r,title:l})=>{const o=(0,t.useFacetWrap)(l);return e.createElement(KP,{isOpen:!0,title:o,items:n,onClose:a,onItemSelect:r})})),Nz="wOpvW",Az="screenshot-gallery-modal-close-button-wrapper",Lz=pi((({onClose:a})=>{const{t:n}=oi("ScreenshotGalleryInfoModal"),r=(0,t.useSharedFacet)(Ir),l=Rd("vanilla.screenshotsControls"),o=Rd(Um),i=(0,t.useFacetMap)((e=>{if(l){if(Jv(e.platform))return"console";if(eF(e.platform,e.arvrPlatform))return"desktop"}return"default"}),[l],[r]),c=(0,t.useFacetMap)((e=>{let t=n(".controlHint.default"),a=t;return"console"===e?(t=n(".controlHint.console"),a=n(".controlHintNarration.console")):"desktop"===e&&(t=n(".controlHint.desktop"),a=n(".controlHintNarration.desktop")),o&&(t=n(".controlAndShowcaseHints",[t,n(".showcaseHint")]),a=n(".controlAndShowcaseHints",[a,n(".showcaseHint")])),{text:t,narration:a}}),[n,o],[i]);return e.createElement(sd,{defaultFocusAlias:Az},e.createElement(sd.Header,{titlebarGamepadAlias:Az,onClose:a},n(".title")),e.createElement(sd.Content,null,e.createElement(e.Fragment,null,e.createElement(Yr,{data:i},(t=>{switch(t){case"console":return e.createElement("div",{className:Nz},e.createElement(qu,{button:W.LEFT_BUMPER}),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionShort"},n(".plus")),e.createElement(Sc,{size:1}),e.createElement(qu,{button:W.RIGHT_BUMPER}));case"desktop":return e.createElement("div",{className:Nz},e.createElement(Qu,{keyCode:ue.F2}));case"default":return e.createElement(e.Fragment,null)}})),e.createElement(Yr,{data:c},(t=>e.createElement(sd.Text,{narrationText:t.narration},t.text))))))}));function Rz(e,t,a){return`/screenshot-details/${e}?sort=${t}&filter=${a}`}var Dz;function _z(){const{t:a}=oi("ScreenshotGalleryRoute"),n=(0,e.useRef)(null),r=rD(),l=Oz.useModal(),o=(0,t.useSharedFacet)(Bf),i=Lz.useModal(),c=a(".screenshotGalleryHeader"),s=u(),d=(0,t.useSharedFacet)(Eg),m=(0,t.useFacetCallback)((e=>t=>{e.loadShowcasedImage(t)}),[],[o]),p=(0,e.useCallback)(((e,t,a)=>{e.showcased&&m(Number(e.id)),s.push(Rz(e.id.toString(),t,a))}),[s,m]),[g,E]=(0,t.useFacetState)(!1),h=(0,t.useFacetCallback)(((e,t)=>()=>{e.count>0&&e.loadScreenshots(t.currentPfid),E(!0)}),[E],[o,d]);(0,e.useEffect)((()=>{h()}),[h]);const b=(0,t.useFacetMap)((e=>e.isLoadingScreenshots),[],[o]),v=(()=>{const t=Jw();return(0,e.useCallback)(((e,a,n,r,l)=>{t("ScreenshotGalleryLoaded",{profileXuid:{value:e,privacyTag:$f.EUPI},relationToCurrentUser:{value:a,privacyTag:$f.SystemMetadata},numberOfScreenshots:{value:n,privacyTag:$f.SystemMetadata},numberOfShowcased:{value:r,privacyTag:$f.SystemMetadata},hasFeatured:{value:l,privacyTag:$f.SystemMetadata}})}),[t])})();(0,t.useFacetEffect)(((e,t,a,n)=>{if(a&&!e.isLoadingScreenshots){const t=e.screenshots.filter((e=>e.showcased)).length,a=e.screenshots.some((e=>e.featured));v(n.currentXuid,Number(Ap.Self),e.count,t,a),E(!1)}}),[v,E],[o,f(),g,d]);const F=[{label:a(".deviceStorage"),value:Dz.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-0",enumeration:a(".optionsEnumeration",["1","1"])}],S=(0,t.useFacetMap)((e=>e.isInGame),[],[(0,t.useSharedFacet)(ip)]),y=Rd(Um),C=y?3:2,M="narrow"==To(),k=(0,e.useCallback)((e=>{l.hide(),e===Dz.DeviceStorage&&s.push("/settings/storage")}),[l,s]);return e.createElement(e.Fragment,null,e.createElement(TD,{headerText:c,showHeaderNumbers:!0,onScreenshotClicked:p,screenshotLists:r,scrollViewRef:n,isLoadingScreenshots:b,managementRowButtons:e.createElement("div",{className:lr()("UEBNp",!M&&"wdTxL")},y&&e.createElement(e.Fragment,null,e.createElement("div",{className:lr()(M?"UurP7":"ni2_l")},e.createElement(ru,{narrationPrefix:a(".manageShowcase"),inputLegend:a(".manageShowcase"),Icon:DF.Album,narrationSuffix:a(".optionsEnumeration",["1",`${C}`]),onClick:()=>s.push("/manage-showcase")},a(".manageShowcase"))),e.createElement(Sc,{size:2})),e.createElement("div",{className:lr()("LAZp5",!M&&"GV5Hz")},e.createElement("div",{className:xz},e.createElement(ru,{inputLegend:a(".info"),narrationPrefix:a(".info"),imgSrc:Iz,onClick:i.show,narrationSuffix:a(".optionsEnumeration",[""+(C-1),`${C}`])})),e.createElement(t.Mount,{when:S,condition:!1},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement("div",{className:xz},e.createElement(ru,{inputLegend:a(".moreOptions"),narrationPrefix:a(".moreOptions"),imgSrc:Pz,onClick:l.show,narrationSuffix:a(".optionsEnumeration",[`${C}`,`${C}`]),"data-testid":"screenshot-gallery-route-more-options"}))))))}),e.createElement(t.Mount,{when:l.isVisible},e.createElement(Oz.Component,{onClose:l.hide,menuOptions:F,onItemSelect:k,title:a(".galleryOptions")})),e.createElement(t.Mount,{when:i.isVisible},e.createElement(Lz.Component,{onClose:i.hide})))}!function(e){e[e.ManageShowcased=0]="ManageShowcased",e[e.DeviceStorage=1]="DeviceStorage"}(Dz||(Dz={}));const Bz=pi((({onClose:t,onConfirm:a})=>{const{t:n}=oi("ScreenshotDeleteModal");return e.createElement(sd,null,e.createElement(sd.Header,{onClose:t},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".text")},n(".text"))),e.createElement(sd.Buttons,{horizontal:!0},e.createElement(ru,{horizontal:!0,inputLegend:n(".cancel"),variant:"secondary",onClick:t},n(".cancel")),e.createElement(Sc,{size:1}),e.createElement(ru,{horizontal:!0,inputLegend:n(".delete"),variant:"destructive",onClick:a,"data-testid":"screenshotDeleteModalDeleteButton"},n(".delete"))))}));var Wz;function Uz({screenshot:a,index:n,length:r,onGoToIndex:l}){const{t:o}=oi("ScreenshotDetailsSideMenu"),{t:i}=oi("ScreenshotDetailsSideMenu.narration"),c=Oz.useModal(),s=u(),d=Rd(Um),m=Bz.useModal(),p=(0,e.useCallback)((e=>{l(e-1)}),[l]),f=(0,t.useFacetMap)((e=>e+1),[],[n]),g=Vn("neutral80"),E=e.createElement(Sc,{size:3}),h=(0,t.useFacetMap)((e=>e>=2),[],[r]),b=(0,t.useFacetMap)((e=>{const t=e.isInGame?[]:[{label:o(".deviceStorage"),value:Wz.DeviceStorage,gamepadAlias:"screenshot-manage-menu-options-1",enumeration:o(".optionsEnumeration",["1","2"])}],a=t.length;return t.push({label:o(".deleteScreenshot"),value:Wz.DeleteScreenshot,gamepadAlias:"screenshot-manage-menu-options-2",enumeration:o(".optionsEnumeration",[`${a+1}`,`${a+1}`])}),t}),[o],[(0,t.useSharedFacet)(ip)]),v=(0,t.useFacetMap)((e=>e.isShareSupported),[],[(0,t.useSharedFacet)(Vf)]),F=(0,t.useFacetCallback)(((e,t)=>()=>{e.isShareSupported&&e.shareFile(o(".shareTitle"),o(".shareText"),t.filePath)}),[o],[(0,t.useSharedFacet)(Vf),a]),S=(0,t.useFacetCallback)((()=>e=>{switch(c.hide(),e){case Wz.DeviceStorage:s.push("/settings/storage");break;case Wz.DeleteScreenshot:m.show()}}),[c,s,m],[]),y=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[a]),C=d?6:5,M=CR.useModal(),k=(0,t.useFacetMap)(((e,t)=>i(".screenshotFullImage",[`${e+1}`,`${t}`])),[i],[n,r]),w=(0,t.useFacetCallback)(((e,t,a)=>()=>{m.hide(),e.deleteScreenshots([a.id]),t.queueSnackbar(o(".screenshotDeleted")),s.goBack()}),[s,m,o],[(0,t.useSharedFacet)(Bf),(0,t.useSharedFacet)(bp),a]);return e.createElement(e.Fragment,null,e.createElement(Bb,{autofocus:!0,spacingAroundSideMenu:E},e.createElement(t.Mount,{when:v},e.createElement(Bb.Item,null,e.createElement(ru,{inputLegend:o(".share"),onClick:F,variant:"primary",linebreak:!0,narrationPrefix:o(".share"),narrationSuffix:i(".enumeration",["1",`${C}`])},o(".share")))),d&&e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(Bb.Item,null,e.createElement(ru,{inputLegend:o(".personalize"),narrationPrefix:o(".personalize"),narrationSuffix:[o(".personalizeHint"),i(".enumeration",[""+(C-4),`${C}`])].join(" . "),variant:"secondary",linebreak:!0},o(".personalize")))),e.createElement(Sc,{size:1}),e.createElement(Bb.Item,null,e.createElement(ru,{inputLegend:o(".fullImage"),variant:"secondary",linebreak:!0,narrationPrefix:o(".fullImage"),narrationSuffix:i(".enumeration",[""+(C-3),`${C}`]),onClick:M.show},o(".fullImage"))),e.createElement(Sc,{size:1}),e.createElement(Bb.Item,null,e.createElement(ru,{onClick:c.show,inputLegend:o(".manage"),narrationPrefix:o(".manage"),narrationSuffix:i(".enumeration",[""+(C-2),`${C}`]),variant:"secondary",linebreak:!0},o(".manage"))),e.createElement(Sc,{size:1}),e.createElement(t.Mount,{when:h},e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement("div",{className:lr()("IcQAj",g.bevel.base)}),e.createElement("div",{className:lr()("JYwuF",g.background.base,g.bevel.base)},e.createElement(Dw,{totalPages:r,currentPage:f,onChange:p,counterStyle:"index-counter-no-border",unlockMaxWidth:!0,prevNarrationSuffix:[i(".buttonRole"),i(".enumeration",[""+(C-1),`${C}`])].join(" . "),nextNarrationSuffix:[i(".buttonRole"),i(".enumeration",[`${C}`,`${C}`])].join(" . "),triggerShortcuts:!0}))))),e.createElement(t.Mount,{when:c.isVisible},e.createElement(Oz.Component,{onClose:c.hide,menuOptions:b,onItemSelect:S,title:o(".manage")})),e.createElement(t.Mount,{when:M.isVisible},e.createElement(CR.Component,{src:y,onClose:M.hide,closeInputLegend:o(".fullImageBack"),closeNarration:o(".fullImageBack"),narrationText:k})),e.createElement(t.Mount,{when:m.isVisible},e.createElement(Bz.Component,{onClose:m.hide,onConfirm:w})))}!function(e){e[e.DeviceStorage=1]="DeviceStorage",e[e.DeleteScreenshot=2]="DeleteScreenshot"}(Wz||(Wz={}));const zz="zcXrm";function jz(){const a=(0,t.useSharedFacet)(Bf),{t:n}=oi("ScreenshotDetailsRoute"),r=Vn(),l=u(),o=d(),i=Rd(Um),c=m(),s=f();(0,t.useFacetEffect)(((e,t)=>{e&&t.count<=0&&l.goBack()}),[l],[o,a]);const p=(0,t.useFacetMap)((e=>e.id),[],[c]),g=(0,t.useFacetMap)((e=>e.has("sort")?Number(e.get("sort")):vD.NewestFirst),[],[s]),E=(0,t.useFacetMap)((e=>e.has("filter")?Number(e.get("filter")):FD.ShowAll),[],[s]),h=function(e,a,n){return(0,t.useFacetMap)(((e,t,a)=>{let n=jm(e);switch(t===vD.NewestFirst?n.sort(((e,t)=>t.captureTime-e.captureTime)):n.sort(((e,t)=>e.captureTime-t.captureTime)),a){case FD.Showcased:n=n.filter((e=>e.showcased));break;case FD.Featured:n=n.filter((e=>e.featured));break;case FD.Unmarked:n=n.filter((e=>!e.showcased&&!e.featured))}return n}),[],[e,a,n])}((0,t.useFacetMap)((e=>e.screenshots),[],[a]),g,E),b=(0,t.useFacetMap)(((e,t)=>{var a;return null!==(a=e.find((e=>e.id.toString()===t)))&&void 0!==a?a:e[0]}),[],[h,p]),v=(0,t.useFacetMap)(((e,t)=>e.indexOf(t)),[],[h,b]),F=(0,t.useFacetMap)((e=>e.length),[],[h]),S=(0,t.useFacetMap)(((e,t)=>n(".pageNarration",[`${e+1}`,`${t}`])),[n],[v,F]),y=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.showcased)&&void 0!==t&&t}),[],[b]),C=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.featured)&&void 0!==t&&t}),[],[b]),M=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.image)&&void 0!==t?t:""}),[],[b]),k=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.captureTimeLabel)&&void 0!==t?t:""}),[],[b]),w=(0,t.useSharedFacet)(Ir),T=(0,t.useFacetMap)((e=>e.platform),[],[w]),x=(0,t.useFacetMap)((e=>!Qv(e)),[],[T]),I=(0,t.useFacetMap)((e=>i||e),[i],[x]),P=(0,t.useFacetCallback)((e=>t=>{e.loadShowcasedImage(t)}),[],[a]),O=(0,t.useFacetCallback)(((e,t,a)=>n=>{if(n>=0&&n<e.length){const r=e[n].id.toString();e[n].showcased&&P(Number(e[n].id)),l.replace(Rz(r,t,a))}}),[l,P],[h,g,E]);return e.createElement(rs,{text:S},e.createElement(qg,null,e.createElement(fE,{onBackButton:l.goBack,center:e.createElement(gs,{type:"header5A"},n(".screenshotDetailsHeader")),gamepadAlias:"screenshot-details"},e.createElement(hE,null,e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:4,narrowSize:3},e.createElement(Uz,{screenshot:b,index:v,length:F,onGoToIndex:O})),e.createElement(hE.Column,{wideSize:8,narrowSize:5},e.createElement(Sc,{size:3}),e.createElement("div",{className:lr()("mjYl_",zz,r.neutral.border.base,r.neutral80.background.base)},e.createElement(oc,{className:"M0fBf",src:M,aspectRatio:oc.AspectRatio["16:9"]})),e.createElement(t.Mount,{when:I},e.createElement("div",{className:lr()("IKyRs",zz,r.neutral.background.base,r.neutral.border.base)},e.createElement(t.Mount,{when:x},e.createElement(gs,{variant:"dimmer",type:"body"},k)),i&&e.createElement("div",{className:"_1MJfT"},e.createElement(t.Mount,{when:y},e.createElement(DF.Friends,{role:"neutral",width:24,height:24})),e.createElement(Sc,{size:1}),e.createElement(t.Mount,{when:C},e.createElement("div",{className:lr()("OHw7t",r.primaryTint.background.base)},e.createElement(gs,{role:"noticeTint",type:"captionShort"},n(".featured")))))))))))))}const Hz=a.p+"assets/hanger-3e72e.png",Vz=a.p+"assets/options-4558c.png",Gz=a.p+"assets/icon_alex-5480b.png",$z=a.p+"assets/play-7c0c9.png",Kz=a.p+"assets/friends-6037f.png",Xz=a.p+"assets/checkmark_square-3c7c4.png",Yz="iz6nc",qz="LK0BH",Qz="zJoVE",Jz=a.p+"assets/external_link-0e493.png";function Zz(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ej(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Zz(Object(a),!0).forEach((function(t){tj(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zz(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function tj(e,t,a){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let aj;!function(e){e[e.RemoveFriend=0]="RemoveFriend",e[e.Block=1]="Block",e[e.Mute=2]="Mute",e[e.Report=3]="Report",e[e.ViewXboxProfile=4]="ViewXboxProfile",e[e.ShareMyProfile=5]="ShareMyProfile",e[e.SignOut=6]="SignOut",e[e.PrivacyAndSafety=7]="PrivacyAndSafety",e[e.ManageAccountXboxApp=9]="ManageAccountXboxApp"}(aj||(aj={}));const nj=pi((function({onClose:a,onShare:n,reportUuid:r,player:l}){const{t:o}=oi("PlayerOptionsModal"),i=(0,t.useSharedFacet)(zp),c=(0,t.useFacetWrap)(l),s=(0,t.useSharedFacet)(vg),d=(0,t.useSharedFacet)(Eg),m=(0,t.useSharedFacet)(Ir),p=u(),f=(0,t.useFacetMap)(((e,t,a)=>{const n=t.platform,r=tF(t.platform);let l=[];return e.relation===Ap.Self?(l=[{label:o(".shareMyProfile"),value:aj.ShareMyProfile}],n!==He.UWP&&l.push({label:o(".signOut"),value:aj.SignOut}),n===He.UWP&&l.push({label:o(".manageAccount"),value:aj.ManageAccountXboxApp,imageSource:Jz}),n!==He.UWP&&r&&l.push({label:o(".manageXboxProfile"),value:aj.ViewXboxProfile,imageSource:Jz}),r&&l.push({label:o(".privacyAndSafety"),value:aj.PrivacyAndSafety,imageSource:Jz})):(l=[{label:o(".block"),value:aj.Block,isSelected:e.isBlocked,isSelectable:!0},{label:o(".mute"),value:aj.Mute,isSelected:e.isMuted,isSelectable:!0},{label:o(".report"),value:aj.Report}],!a.userPermissions.addFriends.allowed||e.relation!==Ap.TwoWayFriend&&e.relation!==Ap.Following||l.unshift({label:o(".removeFriend"),value:aj.RemoveFriend}),r&&l.push({label:o(".viewXboxProfile"),value:aj.ViewXboxProfile,imageSource:Jz})),l.map(((e,t)=>ej(ej({},e),{},{gamepadAlias:`options${t}`,enumeration:o(".optionsEnumeration",[`${t+1}`,`${l.length}`])})))}),[o],[c,m,d]),g=(0,t.useFacetCallback)(((e,t)=>()=>e.removeFriend(t.xuid)),[],[i,c]),E=(0,t.useFacetCallback)(((e,t)=>()=>t.isBlocked?e.unblock(t.xuid):e.block(t.xuid)),[],[i,c]),h=(0,t.useFacetCallback)(((e,t)=>()=>t.isMuted?e.unmute(t.xuid):e.mute(t.xuid)),[],[i,c]),b=(0,t.useFacetCallback)(((e,t)=>()=>{const a=e.relation===Ap.TwoWayFriend||e.relation===Ap.Following;p.push(`/player-report?gamertag=${e.xblName}&xuid=${e.xuid}&isFriend=${a}&uuid=${t}`)}),[p],[c,r]),v=(0,t.useFacetCallback)((e=>()=>e.openLink(bg.XboxPrivacyAndOnlineSafety)),[],[s]),F=(0,t.useFacetCallback)(((e,t)=>()=>t.openLinkWithParams(bg.XboxAccountProfile,`?gamertag=${e.xblName}&xuid=${e.xuid}&uuid=0`)),[],[c,s]),S=(0,t.useFacetCallback)((e=>()=>{e.signOutOfMicrosoftAccount()}),[],[d]),y=(0,t.useFacetCallback)((e=>()=>{e.manageMicrosoftAccount()}),[],[d]),C=(0,e.useCallback)((()=>{n()}),[n]),M=(0,e.useCallback)((e=>{switch(e){case aj.RemoveFriend:g();break;case aj.Block:E();break;case aj.Mute:h();break;case aj.Report:b();break;case aj.ViewXboxProfile:F();break;case aj.ShareMyProfile:C();break;case aj.SignOut:S();break;case aj.PrivacyAndSafety:v();break;case aj.ManageAccountXboxApp:y()}a(e)}),[g,E,h,b,a,v,F,S,y,C]);return e.createElement(KP,{onClose:a,onItemSelect:M,isOpen:!0,title:o(".optionsTitle"),items:f})})),rj=a.p+"assets/screenshot_1-48404.jpg",lj=a.p+"assets/screenshot_2-7c721.jpg",oj=a.p+"assets/screenshot_3-9dd41.jpg",ij=a.p+"assets/screenshot_4-72ff9.jpg",cj=a.p+"assets/screenshot_5-5636d.jpg",sj=a.p+"assets/screenshot_6-380c0.jpg",uj=a.p+"assets/screenshot_7-6cfec.jpg",dj=a.p+"assets/screenshot_8-b5f24.jpg";function mj(e){return(0,t.useFacetMap)((e=>{const t=[rj,lj,oj,ij,cj,sj,uj,dj];let a=0;for(let t=0;t<e.length;t++)a+=e.charCodeAt(t);return t[a%t.length]}),[],[e])}const pj=pi((function({onClose:t}){const{t:a}=oi("ShareCurrentPlayerProfileModal");return e.createElement(sd,null,e.createElement(sd.Header,{onClose:t},a(".title")),e.createElement(sd.Content,null,e.createElement(Sc,{size:3}),e.createElement(cz,null),e.createElement(Sc,{size:3})))})),fj=a.p+"assets/IconAddPlayerGrey-565a6.png";function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},gj.apply(this,arguments)}const Ej=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("Qrook",a);return e.createElement(oc,gj({},n,{className:r,src:fj,imageRendering:"pixelated"}))},hj=pi((({onClose:t,onContinue:a})=>{const{t:n}=oi("JoinServerWarningModal");return e.createElement(sd,null,e.createElement(sd.Header,{onClose:t},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:n(".text")},n(".text"))),e.createElement(sd.Buttons,null,e.createElement(ru,{inputLegend:n(".continue"),variant:"primary",onClick:a},n(".continue")),e.createElement(Sc,{size:1}),e.createElement(ru,{inputLegend:n(".cancel"),variant:"secondary",onClick:t},n(".cancel"))))})),bj="player-card-options-button",vj="player-card-action-button";function Fj({playerFacet:a,reportUuid:n}){const{t:r}=oi("PlayerCard"),l=Vn("neutral80"),o=To(),i=(0,t.useFacetWrap)("narrow"===o),c=nj.useModal(),s=be(),u=pj.useModal(),d=(0,t.useSharedFacet)(Eg),m=(0,t.useSharedFacet)(Bf),p=hj.useModal(),f=(0,t.useFacetMap)((e=>""!=e.xblName?e.xblName:""!=e.platformName?e.platformName:e.offlineName),[],[a]),g=(0,t.useFacetMap)((e=>e.isOnline?r(".online"):r(".offline")),[r],[a]),E=(0,t.useFacetMap)((e=>""===e.realName?void 0:e.realName),[],[a]),h=mj((0,t.useFacetMap)((e=>e.xuid),[],[a])),b=(0,t.useFacetMap)(((e,t,a)=>{if(t.isLoadingScreenshots||0===t.count)return a;const n=jd(t.screenshots,(e=>e.featured));return n?n.image:a}),[],[a,m,h]),v=(0,t.useFacetMap)(((e,t)=>null!=t?t:e),[],[g,E]),F=(0,t.useFacetMap)((e=>!(""!==e.xuid||""!==e.platformId)||"if-enabled"),[],[a]),S=e.createElement(jw,{src:(0,t.useFacetMap)((e=>""!==e.xblProfilePic?e.xblProfilePic:""!==e.platformProfilePic?e.platformProfilePic:Gz),[],[a]),variant:"large",status:(0,t.useFacetMap)((e=>e.isOnline?"online":"offline"),[],[a]),usePersonaPicRendering:F}),y=(0,t.useSharedFacet)(ip),C=(0,t.useFacetMap)(((e,t,a)=>{let n="add-friend",r=!1;switch(e.relation){case Ap.Self:n="dressing-room";break;case Ap.TwoWayFriend:n=t.userPermissions.multiplayer.allowed&&""!==e.currentGame.joinHandleId&&e.currentGame.levelId!==a.currentLevelId?"join":"friends";break;case Ap.Following:n="added";break;case Ap.Follower:case Ap.Stranger:n="add-friend",r=!t.userPermissions.addFriends.allowed}return{type:n,disabled:r}}),[],[a,d,y]),M=(0,t.useFacetMap)(((e,t)=>!!e.avatar&&!t&&e.avatarState===mg.Success),[],[a,i]),k=e.createElement("div",{className:qz},e.createElement(Yr,{data:M},(t=>t?e.createElement(e.Fragment,null,e.createElement("div",{className:"WSUNe"}),e.createElement(Sc,{size:2})):e.createElement(e.Fragment,null,S,e.createElement(Sc,{size:2})))),e.createElement("div",{className:"KsdEj"},e.createElement(Sc,{size:1}),e.createElement(Cj,{displayName:f,description:v}),e.createElement(Sc,{size:1}))),w=(0,e.useCallback)((e=>{c.hide(),e!==aj.ShareMyProfile&&s(bj)}),[c,s]),T=(0,e.useCallback)((()=>{u.hide(),s(bj)}),[u,s]),x=Zw((0,t.useFacetMap)((e=>e.currentGame.joinHandleId),[],[a])),I=(0,e.useCallback)((()=>{x(),p.hide()}),[x,p]),P=(0,t.useFacetMap)(((e,t,a)=>[r(".cardNarration"),e,t,a].join(" . ")),[r],[f,E,g]);return e.createElement(e.Fragment,null,e.createElement(hn,{role:"neutral"},e.createElement(rs,{text:P},e.createElement(t.Mount,{when:i},e.createElement("div",{className:lr()(Yz,"OM_ft",l.background.base,l.border.base)},e.createElement("div",{className:"InmKR"},k,e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.relation!==Ap.Unknown),[],[a])},e.createElement(Mj,{playerFacet:a,buttonsState:C,optionsClick:c.show,onShowJoinWarning:p.show}))),e.createElement("div",{className:"Qs6Fq"},e.createElement(Sj,{playerFacet:a}),e.createElement(oc,{className:lr()("bGH5b",l.border.base),src:b,imageRendering:"pixelated",aspectRatio:oc.AspectRatio["16:9"]})))),e.createElement(t.Mount,{when:i,condition:!1},e.createElement("div",{className:lr()(Yz,l.background.base,l.border.base)},e.createElement("div",{className:"TJn_r"},e.createElement(oc,{className:lr()("EpL3l",l.border.base),src:b,imageRendering:"pixelated",aspectRatio:oc.AspectRatio["16:9"]}),e.createElement(Sj,{playerFacet:a}),e.createElement(yj,{playerFacet:a}),e.createElement(t.Mount,{when:M},e.createElement("div",{className:"BschF"},S))),e.createElement(Sc,{size:2}),e.createElement("div",{className:"CmyM2"},k),e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.relation!==Ap.Unknown),[],[a])},e.createElement("div",{className:"wNDjp"},e.createElement(Mj,{playerFacet:a,buttonsState:C,optionsClick:c.show,onShowJoinWarning:p.show}))))),e.createElement(t.Mount,{when:c.isVisible},e.createElement(nj.Component,{player:a,reportUuid:n,onClose:w,onShare:u.show})),e.createElement(t.Mount,{when:u.isVisible},e.createElement(pj.Component,{onClose:T})),e.createElement(t.Mount,{when:p.isVisible},e.createElement(hj.Component,{onContinue:I,onClose:p.hide})))))}function Sj({playerFacet:a}){const{t:n}=oi("PlayerCard");return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.isBlocked),[],[a])},e.createElement("div",{className:Qz},e.createElement(jM,{role:"destructiveTint"},n(".blocked")))),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.isMuted&&!e.isBlocked),[],[a])},e.createElement("div",{className:Qz},e.createElement(jM,{role:"noticeTint"},n(".muted")))))}function yj({playerFacet:a}){const n=(0,t.useFacetMap)((e=>{const t=e.avatarState!==mg.Success;return lr()("AtQYr",{yOAEq:t})}),[],[a]);return e.createElement(oc,{className:n,src:(0,t.useFacetMap)((e=>e.avatar),[],[a]),imageRendering:"pixelated"})}function Cj({displayName:t,description:a}){return e.createElement(e.Fragment,null,e.createElement(gs,{type:"header5B"},e.createElement(Ns,null,t)),e.createElement(gs,{type:"captionShort",variant:"dimmer"},e.createElement(Ns,null,a)))}function Mj({buttonsState:a,playerFacet:n,optionsClick:r,onShowJoinWarning:l}){const{t:o}=oi("PlayerCard"),i=(0,t.useSharedFacet)(zp),c=(0,t.useSharedFacet)(Eg),s=hr(),u=(0,t.useFacetCallback)(((e,t)=>()=>e.addFriend(t.xuid,Up.PROFILE_MAIN)),[],[i,n]),d=(0,t.useFacetMap)((e=>e.isLoggedInWithMicrosoftAccount),[],[c]),m=(0,e.useCallback)((()=>{s.push("/persona")}),[s]),p=function(e,a){const n=(0,t.useSharedFacet)(ip),r=Zw((0,t.useFacetMap)((e=>e.joinHandleId),[],[e]));return(0,t.useFacetCallback)((e=>()=>{e.isInGame&&e.isInMultiplayerSession&&e.isHosting?a():r()}),[r,a],[n])}((0,t.useFacetMap)((e=>e.currentGame),[],[n]),l),f=(0,t.useFacetMap)((e=>"friends"===e.type||"added"===e.type?o(".buttonSiblings",["1","1"]):o(".buttonSiblings",["2","2"])),[o],[a]);return e.createElement(e.Fragment,null,e.createElement("div",{className:qz},e.createElement(Yr,{data:a},(({type:t,disabled:a})=>{switch(t){case"dressing-room":return e.createElement(ru,{inputLegend:o(".dressingRoomButton"),imgSrc:Hz,horizontal:!0,onClick:m,gamepadAlias:vj,narrationSuffix:o(".buttonSiblings",["1","2"])},o(".dressingRoomButton"));case"friends":return e.createElement(kj,{narrationText:o(".friendsButton")},e.createElement(nu,{typeVariant:"dimmer",imgSrc:Kz,role:"neutral100"},o(".friendsButton")));case"join":return e.createElement(ru,{inputLegend:o(".joinButton"),variant:"primary",imgSrc:$z,horizontal:!0,onClick:p,gamepadAlias:vj,narrationSuffix:o(".buttonSiblings",["1","2"])},o(".joinButton"));case"added":return e.createElement(kj,{narrationText:o(".addedButton")},e.createElement(nu,{typeVariant:"dimmer",imgSrc:Xz},o(".addedButton")));case"add-friend":return e.createElement(ru,{inputLegend:o(".addFriendButton"),variant:"primary",Icon:a?Ej:Qw,horizontal:!0,onClick:u,disabled:a,gamepadAlias:vj,narrationSuffix:o(".buttonSiblings",["1","2"])},o(".addFriendButton"))}return e.createElement(e.Fragment,null)})),e.createElement(t.Mount,{when:d},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement("div",{className:"GeM93"},e.createElement(ru,{inputLegend:o(".optionsButton"),narrationPrefix:o(".optionsButton"),imgSrc:Vz,onClick:r,gamepadAlias:bj,narrationSuffix:f,"data-testid":"options-button"}))))))}function kj({children:t,narrationText:a}){const n=Vn("neutral80");return e.createElement(Li.Maybe,{className:lr()("wJgSN",n.border.base),isInteractive:Ia(),inputLegend:!1,narrationText:a,classNameFocused:vi,gamepadAlias:vj},e.createElement(bi,null),t)}const wj=a.p+"assets/achievements-17c5b.png",Tj=a.p+"assets/friends-47df6.png",xj=a.p+"assets/screenshots-cc55b.png",Ij=a.p+"assets/generic_error-aa906.png",Pj=a.p+"assets/connection_error-01bc2.png",Oj=a.p+"assets/permissions_child_account-8fad2.png",Nj=a.p+"assets/permissions_adult_account-dc71d.png",Aj=a.p+"assets/nothing_to_see-1107f.png",Lj=a.p+"assets/gamerscore_icon-53b10.png",Rj="hfWsq",Dj="_tBkt",_j="C9yED",Bj=a.p+"assets/IconBootsGrey-142a3.png";function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Wj.apply(this,arguments)}const Uj=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("TpfM6",a);return e.createElement(oc,Wj({},n,{className:r,src:Bj,imageRendering:"pixelated"}))},zj=a.p+"assets/IconClockGrey-ea564.png";function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},jj.apply(this,arguments)}const Hj=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("ruSKP",a);return e.createElement(oc,jj({},n,{className:r,src:zj,imageRendering:"pixelated"}))},Vj=a.p+"assets/IconSwordGrey-9087f.png";function Gj(){return Gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Gj.apply(this,arguments)}const $j=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("dYFaf",a);return e.createElement(oc,Gj({},n,{className:r,src:Vj,imageRendering:"pixelated"}))},Kj=a.p+"assets/IconPickaxeGrey-cb118.png";function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Xj.apply(this,arguments)}const Yj=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("rgTsr",a);return e.createElement(oc,Xj({},n,{className:r,src:Kj,imageRendering:"pixelated"}))},qj="zFvFr",Qj=({item:a,index:n,listLength:r})=>{const{t:l}=oi("StatListItem"),o=(0,t.useFacetMap)((e=>null==e.compareData||e.data.value>=e.compareData.value),[],[a]),i=(0,t.useFacetMap)((e=>null!=e.compareData&&e.data.value<=e.compareData.value),[],[a]),c=function(t){switch(t){case jp.Boots:return e.createElement(Uj,null);case jp.Clock:return e.createElement(Hj,null);case jp.Sword:return e.createElement($j,null);case jp.Pickaxe:return e.createElement(Yj,null);default:return e.createElement(e.Fragment,null)}}((0,t.useFacetUnwrap)((0,t.useFacetMap)((e=>e.icon),[],[a])));return e.createElement(Gh,{gamepadIndex:n,isFocusable:!0,narrationText:(0,t.useFacetMap)(((e,t)=>[e.label,null==e.compareData?e.data.narration:l(".compareNarration",[e.data.narration,e.compareData.narration]),l(".itemNarration",[`${n+1}`,`${t}`])].join(" . ")),[n,l],[a,r])},e.createElement(Gh.Cell,{direction:"row"},e.createElement(Sc,{size:2}),e.createElement(t.Mount,{when:o},c),e.createElement(t.Mount,{when:o,condition:!1},e.createElement("div",{className:qj}))),e.createElement(Gh.Main,null,e.createElement(gs,{type:"captionShort",variant:"dimmest"},(0,t.useFacetMap)((e=>e.label),[],[a])),e.createElement("div",{className:"gQkMG"},e.createElement(gs,{type:"captionShort"},(0,t.useFacetMap)((e=>e.data.display),[],[a])),e.createElement(t.With,{data:(0,t.useFacetMap)((e=>null==e.compareData?void 0:e.compareData.display),[],[a])},(t=>e.createElement(gs,{type:"captionShort"},t)))),e.createElement(t.With,{data:(0,t.useFacetMap)((e=>{if(null!=e.compareData)return 0===e.compareData.value&&0===e.data.value?.5:e.data.value/(e.data.value+e.compareData.value)}),[],[a])},(t=>e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(Eu,{percentage:t,fillComplement:!0}))))),e.createElement(Gh.Cell,{direction:"row"},e.createElement(t.Mount,{when:i},c),e.createElement(t.Mount,{when:i,condition:!1},e.createElement("div",{className:qj})),e.createElement(Sc,{size:2})))},Jj="profile-friends-list";function Zj({currentProfileFacet:a,loadedProfileFacet:n,followingListFacet:r}){const{t:l}=oi("ProfileFriendsListRoute"),o=(0,t.useFacetMap)((e=>e.state.xblState!==Rp.Loaded||e.data.relation===Ap.Self?l(".headerSelf"):l(".headerOther",[`${e.data.xblName}`])),[l],[n]);(0,t.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[(0,t.useSharedFacet)(_p),(0,t.useSharedFacet)(Eg)])();const i=(0,t.useFacetMap)(((e,t)=>{const a=t.state.xblState===Rp.Loaded||t.state.platformState===Rp.Loaded?t.data.xuid:"";return{players:e.playerList.map((e=>function(e,t){let a="add-friend";return t===e.xuid?a="self":e.isFollowedByMe&&e.isFollowingMe?a="added-mutual":e.isFollowedByMe&&(a="added-not-mutual"),{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,isOnline:e.isOnline,playingOnServerId:void 0,variant:a,xuid:e.xuid,location:Up.PROFILE_FRIENDSLIST}}(e,a))),loading:e.isLoading}}),[],[r,a]);return e.createElement(vx,{title:o,screenAnalyticsId:"ProfileFriendsList",gamepadAlias:"profile-friends-list-route",delegateByAlias:Jj},(()=>e.createElement(hE,{narrowBreakpointWidth:102},e.createElement(hE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},e.createElement(Yr,{data:i},(t=>e.createElement(lA,{gamepadIndex:0,header:e.createElement(Sc,{size:2}),loading:t.loading,data:t.players,gamepadAlias:Jj,footer:e.createElement(e.Fragment,null,e.createElement(Zu.Space,null),e.createElement(Sc,{size:2})),renderItem:t=>e.createElement(oT,{item:t.itemFacet,listLength:t.listLengthFacet,index:t.index,gamepadAlias:`profile-friends-list-item-${t.index}`,profileEntryPoint:Dp.Profile_FriendsList})}))))))))}function eH(e,t){return{gamerIcon:e.xblProfilePic,gamerTag:e.xblName,isOnline:e.isOnline,playingOnServerId:void 0,variant:t?"self":"player",xuid:e.xuid}}const tH="compare-stats-player-item-0";function aH({currentProfileFacet:a,loadedProfileFacet:n,statisticsFacet:r}){const{t:l}=oi("CompareStatsRoute");(0,t.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,t.currentPlatformId)}),[],[(0,t.useSharedFacet)(_p),(0,t.useSharedFacet)(Eg)])();const o=(0,t.useFacetMap)(((e,t)=>e.state.xblState===Rp.Loaded&&t.state.xblState===Rp.Loaded),[],[n,a]),i=(0,t.useFacetMap)((e=>eH(e.data,!1)),[],[n]),c=(0,t.useFacetMap)((e=>eH(e.data,!0)),[],[a]),s=(0,t.useFacetWrap)(2),u=(0,t.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.currentUserValueRaw,display:e.currentUserValueDisplay,narration:e.currentUserValueNarration},compareData:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[r]),d=(0,t.useFacetMap)((e=>!e.loaded),[],[r]);return e.createElement(vx,{title:l(".header"),screenAnalyticsId:"CompareStats",gamepadAlias:"compare-stats-route",delegateByAlias:tH},(()=>e.createElement(hE,{narrowBreakpointWidth:102},e.createElement(hE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},e.createElement(lA,{header:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:o},e.createElement(rs,{text:[l(".playerItemsNarration"),l(".playerItemsListRole")].join(" . ")},e.createElement(Sc,{size:2}),e.createElement("div",{className:"bo_jd"},e.createElement(oT,{item:c,index:0,listLength:s,disabled:!0,gamepadAlias:tH,profileEntryPoint:Dp.Profile_CompareStatsCurrent}),e.createElement(Sc,{size:2}),e.createElement(oT,{item:i,index:1,listLength:s,disabled:!0,gamepadAlias:"compare-stats-player-item-1",profileEntryPoint:Dp.Profile_CompareStatsLoaded})),e.createElement(Sc,{size:2})))),gamepadIndex:0,data:u,gamepadAlias:"compare-stats-list",renderItem:({itemFacet:t,index:a,listLengthFacet:n})=>e.createElement(Qj,{item:t,index:a,listLength:n}),loading:d,footer:e.createElement(e.Fragment,null,e.createElement(Zu.Space,null),e.createElement(Sc,{size:2}))}))))))}function nH(e){return{gamerIcon:e.gamerIcon,gamerTag:e.gamertag,isOnline:e.isOnline,playingOnServerId:void 0,variant:e.isFollowedByMe?"added-mutual":"add-friend",xuid:e.xuid,location:Up.PROFILE_FOLLOWERSLIST}}const rH="profile-followers-list";function lH(){const{t:a}=oi("ProfileFollowersListRoute"),n=(0,t.useSharedFacet)(zm),r=(0,t.useFacetMap)((e=>({players:e.playerList.map(nH),loading:e.isLoading})),[],[n]);return e.createElement(vx,{title:a(".header"),screenAnalyticsId:"ProfileFollowersList",gamepadAlias:"profile-followers-list-route",delegateByAlias:rH},(()=>e.createElement(hE,{narrowBreakpointWidth:102},e.createElement(hE.Row,{gamepadIndex:0,fullHeight:!0},e.createElement(hE.Column,{gamepadIndex:0,wideSize:1,narrowSize:0}),e.createElement(hE.Column,{gamepadIndex:0,wideSize:10,narrowSize:8},e.createElement(Yr,{data:r},(t=>e.createElement(lA,{gamepadIndex:0,header:e.createElement(Sc,{size:2}),loading:t.loading,data:t.players,gamepadAlias:rH,footer:e.createElement(e.Fragment,null,e.createElement(Zu.Space,null),e.createElement(Sc,{size:2})),renderItem:t=>e.createElement(oT,{item:t.itemFacet,listLength:t.listLengthFacet,index:t.index,gamepadAlias:`profile-followers-list-item-${t.index}`,profileEntryPoint:Dp.Profile_FollowersList})}))))))))}const oH=a.p+"assets/achievements_empty-f34cf.png";function iH(){const e=(0,t.useSharedFacet)(um),a=(0,t.useSharedFacet)(Ir);return(0,t.useFacetMap)(((e,t)=>Yv(e.platform)||t.isPreviewBuild),[],[a,e])}function cH(e){return(0,t.useFacetMap)((e=>(e.state.xblState===Rp.Loaded||e.state.platformState===Rp.Loaded)&&e.data.relation===Ap.Self),[],[e])}function sH(e){return(0,t.useFacetMap)((e=>e.state.platformState===Rp.Loaded&&""!==e.data.platformId),[],[e])}function uH(){const e=(0,t.useSharedFacet)(kp);return(0,t.useFacetMap)((e=>e.loaded),[],[e])}function dH(e,a,n,r,l,o,i,c,s){return(0,t.useFacetCallback)(((e,t,a,n,r,l,o,i,c)=>()=>{const{xuid:s,platformId:u}=e;t.subscribeToProfile(s,u),""!==s&&i.isLoggedInWithMicrosoftAccount&&(a.load(s),n.load(s),r.load(s),l.load(s),o.load(s),c.count>0&&c.loadScreenshots())}),[],[e,a,n,r,l,o,i,c,s])}function mH(){const e=f();return(0,t.useFacetMap)((e=>{var t;return null!==(t=e.get("reportUuid"))&&void 0!==t?t:""}),[],[e])}const pH="profile-overview-list",fH="profile-tabs";function gH(e){const a=u(),n=f();return(0,t.useFacetCallback)((t=>()=>a.push(F(`/profile/${e}`,t))),[a,e],[n])}function EH(){return(0,t.useFacetMap)(((e,t)=>{var a,n,r,l;return t.has("xuid")?!t.has("platformId")||e.isLoggedInWithMicrosoftAccount||e.isSignInInProgress?{xuid:null!==(a=t.get("xuid"))&&void 0!==a?a:"",platformId:null!==(n=t.get("platformId"))&&void 0!==n?n:""}:{xuid:"",platformId:null!==(r=t.get("platformId"))&&void 0!==r?r:""}:t.has("platformId")?{xuid:"",platformId:null!==(l=t.get("platformId"))&&void 0!==l?l:""}:{xuid:e.currentXuid,platformId:e.currentPlatformId}}),[],[(0,t.useSharedFacet)(Eg),f()])}function hH(){const a=(0,t.useSharedFacet)(Eg),n=(0,t.useSharedFacet)(Wp),r=(0,t.useSharedFacet)(Hp),l=vT(),o=EH(),i=bT(o),c=dH(o,(0,t.useSharedFacet)(_p),r,n,(0,t.useSharedFacet)(Sp),(0,t.useSharedFacet)(kp),(0,t.useSharedFacet)(Np),a,(0,t.useSharedFacet)(Bf)),s=(0,t.useFacetMap)((e=>e.isSignInInProgress),[],[a]),[u,m]=(0,t.useFacetState)({wasActive:!1,query:"",wasSignInInProgress:!1},t.strictShallowObjectEqualityCheck),[g,E]=(0,t.useFacetState)({shouldFireProfileLoaded:!1,shouldFireAchievementsDisplayed:!1},t.strictShallowObjectEqualityCheck);(0,t.useFacetEffect)(((e,t,a,n,r)=>{const l=t&&!n.wasActive,o=t&&n.wasActive&&n.query!==a.toString(),i=e.startsWith("/profile"),s=n.wasSignInInProgress&&!r;m({wasActive:t,query:a.toString(),wasSignInInProgress:r}),i&&(s||!r&&(l||o))&&(c(),E({shouldFireProfileLoaded:!0,shouldFireAchievementsDisplayed:!0}))}),[c,m,E],[p(),d(),f(),u,s]);const[h,b]=(0,t.useFacetState)(t.NO_VALUE),[v,F]=(0,t.useFacetState)(t.NO_VALUE),S=(0,t.useFacetMap)((e=>null!=e),[],[i]);return(0,t.useFacetEffect)(((e,t,a,n)=>{n.startsWith("/profile")&&(e&&null!=t&&b(t),e&&null!=a&&F(a))}),[b,F,c],[S,i,l,p()]),e.createElement(t.Mount,{when:S},e.createElement(bH,{profileFacet:h,currentProfileFacet:v,telemetryState:g,setTelemetryState:E}))}function bH({profileFacet:a,currentProfileFacet:n,telemetryState:r,setTelemetryState:l}){const{t:o}=oi("ProfileRoute"),i=m(),c=(0,t.useFacetMap)((e=>e.tab),[],[i]),s=(0,t.useSharedFacet)(Eg),u=EH(),d=(0,t.useSharedFacet)(Wp),p=(0,t.useSharedFacet)(Hp),f=(0,t.useSharedFacet)(Ir),g=sH(a),E=cH(a),h=(0,t.useFacetMap)(((e,t,a,n,r)=>a.isOnline?t.isLoggedInWithMicrosoftAccount||t.isSignInInProgress||n||r?e.state.xblError===Lp.UserNotFound?Lp.UserNotFound:Lp.None:Lp.NotLoggedInWithMSA:Lp.NoInternet),[],[a,s,f,E,g]),b=dH(u,(0,t.useSharedFacet)(_p),p,d,(0,t.useSharedFacet)(Sp),(0,t.useSharedFacet)(kp),(0,t.useSharedFacet)(Np),s,(0,t.useSharedFacet)(Bf)),v=(0,t.useFacetCallback)(((e,t)=>()=>{const{xuid:a,platformId:n}=t;b(),e.refetchProfile(a,n)}),[b],[(0,t.useSharedFacet)(_p),u]),F=(0,t.useFacetMap)((e=>e!==Lp.None),[],[h]),S=(0,t.useFacetMap)(((e,t,a)=>t?o(".headerSelf"):""!=a.xuid&&e.state.xblState===Rp.Loaded&&e.data.relation!==Ap.Self?o(".headerOther",[e.data.xblName]):""!=a.platformId&&e.state.platformState===Rp.Loaded&&e.data.relation!==Ap.Self?o(".headerOther",[e.data.platformName]):o(".headerSelf")),[o],[a,F,u]),y=(0,t.useFacetMap)((e=>e.xuid),[],[u]);return e.createElement(Yr,{data:c},(t=>"friends-list"===t?e.createElement(Zj,{loadedProfileFacet:a,currentProfileFacet:n,followingListFacet:d}):"compare-stats"===t?e.createElement(aH,{loadedProfileFacet:a,currentProfileFacet:n,statisticsFacet:p}):"followers-list"===t?e.createElement(lH,null):e.createElement(vx,{title:S,screenAnalyticsId:"Profile",gamepadAlias:"profile-route",delegateByAlias:"player-card-scroll-view"},(()=>e.createElement(Yr,{data:F},(t=>t?e.createElement(hE,{narrowBreakpointWidth:70},e.createElement(hE.Row,{fullHeight:!0},e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{wideSize:10,narrowSize:8},e.createElement(Sc,{size:2}),e.createElement(wH,{errorMessage:h,onRetryLoad:v,xuid:y})),e.createElement(hE.Column,{wideSize:1,narrowSize:0}))):e.createElement(vH,{profileFacet:a,xuid:y,telemetryState:r,setTelemetryState:l})))))))}const vH=({profileFacet:a,xuid:n,telemetryState:r,setTelemetryState:l})=>{const o=be(),i=m(),c=f(),s=(0,t.useFacetMap)((e=>e.tab),[],[i]),d=u(),p=(0,t.useSharedFacet)(Eg),g=(0,t.useSharedFacet)(Np),E=(0,t.useFacetCallback)((e=>t=>{o(_E.getFocusAlias(fH,t)),d.replace(F(`/profile/${t}`,e))}),[o,d],[c]);(0,e.useEffect)((()=>{requestAnimationFrame((()=>{o(vj)}))}),[o]);const{t:h}=oi("ProfileRoute"),b=[{label:h(".overviewTabButtonLabel"),value:"overview"},{label:h(".statsTabButtonLabel"),value:"stats"}],v=cH(a),S=sH(a),y=function(e){return(0,t.useFacetMap)((e=>e.state.platformState===Rp.Loaded&&""!==e.data.platformId&&""===e.data.xuid),[],[e])}(a),C=(0,t.useFacetMap)(((e,t,a,n,r)=>{if(!e.isLoggedInWithMicrosoftAccount&&!e.isSignInInProgress&&(t||n))return Lp.NotLoggedInWithMSA;if(!t){if(e.isLoggedInWithMicrosoftAccount&&r)return Lp.LoggedInWithMSAButPlatformProfile;if(a.loaded&&!a.data.viewTargetProfile)return Lp.NotAllowedToViewProfilesAdult;if(!e.userPermissions.viewProfiles.allowed)return e.userPermissions.viewProfiles.denyReasons.includes(gg.XboxLive_Parental)?Lp.NotAllowedToViewProfilesChild:Lp.NotAllowedToViewProfilesAdult}return Lp.None}),[],[p,v,g,S,y]),[M,k]=(0,t.useFacetState)(!1);(0,t.useFacetEffect)((e=>k(e!==Lp.None)),[k],[C]);const w=(0,t.useFacetMap)(((e,t,a,n,r)=>!(""===e||!n.isLoggedInWithMicrosoftAccount&&!n.isSignInInProgress||a||r||t.loaded)),[],[n,g,v,p,y]),T=(()=>{const t=Jw();return(0,e.useCallback)(((e,a)=>{t("ProfileLoaded",{profileXuid:{value:e,privacyTag:$f.EUPI},relationToCurrentUser:{value:a,privacyTag:$f.SystemMetadata}})}),[t])})();(0,t.useFacetEffect)(((e,t,a,n)=>{e.state.xblState===Rp.Loaded&&t.loaded&&a.shouldFireProfileLoaded&&!n&&(T(e.data.xuid,e.data.relation),a.shouldFireProfileLoaded=!1,l(a))}),[T,l],[a,g,r,M]);const x=uH(),I=mH();return e.createElement(hE,{narrowBreakpointWidth:70},e.createElement(Sc,{size:2}),e.createElement(hE.Row,{fullHeight:!0},e.createElement(hE.Column,{wideSize:4,narrowSize:0},e.createElement(Yc,{loading:(0,t.useFacetMap)((e=>{let t=!1;return""!==e.data.xuid&&(t=e.state.xblState===Rp.Loading),""!==e.data.platformId&&(t=e.state.platformState===Rp.Loading),t||e.data.avatarState===mg.Requested}),[],[a]),flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"player-card-scroll-view",delegateFocusByAlias:vj},e.createElement(Fj,{playerFacet:(0,t.useFacetMap)((e=>e.data),[],[a]),reportUuid:I}))),e.createElement(hE.Column,{wideSize:8,narrowSize:8},e.createElement(Yr,{data:M},(o=>o?e.createElement(e.Fragment,null,e.createElement(FH,{profileFacet:a}),e.createElement(t.Mount,{when:x},e.createElement(yH,null)),e.createElement(wH,{errorMessage:C,onRetryLoad:()=>{},xuid:n})):e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:w,condition:!1},e.createElement(_E,{gamepadAliasNamespace:fH,value:s,onChange:E,tabs:b,narrationTitle:h(".narration.title"),enableGamepadShortcuts:!0})),e.createElement(nb,{tab:"overview",component:()=>e.createElement(CH,{profileFacet:a,telemetryState:r,setTelemetryState:l,loading:w})}),e.createElement(nb,{tab:"stats",component:()=>e.createElement(kH,{profileFacet:a})})))))))};function FH({profileFacet:a}){const n=To(),r=(0,t.useFacetMap)((e=>e.data),[],[a]),l=mH();return"narrow"===n?e.createElement(e.Fragment,null,e.createElement(Fj,{playerFacet:r,reportUuid:l}),e.createElement(Sc,{size:2})):null}const SH=({profileFacet:a})=>{const n=u(),{t:r}=oi("ProfileRoute"),l=Vn("neutral"),o=(0,t.useSharedFacet)(Wp),i=(0,t.useSharedFacet)(Ir),c=(0,t.useSharedFacet)(vg),s=(0,t.useSharedFacet)(um),d=(0,t.useSharedFacet)(Bf),m=gH("friends-list"),p=gH("followers-list"),f=cH(a),g=(0,t.useFacetMap)((e=>!e),[],[f]),E=iH(),h=(0,t.useFacetMap)(((e,t)=>!e&&t),[],[E,(0,t.useSharedFacet)(yp)]),b=(0,t.useFacetMap)((e=>e.isLoading?0:e.playerList.length),[],[o]),v=(0,t.useFacetMap)(((e,t)=>t&&!e.isLoading?e.playerList.length:0),[],[(0,t.useSharedFacet)(zm),f]),F=(0,t.useFacetMap)((e=>e.count),[],[d]),S=(0,t.useFacetMap)((e=>e.maxScreenshots),[],[d]),y=(0,t.useSharedFacet)(Mp),C=Rd(Wm),M=Rd(Um),k=(0,t.useFacetMap)((e=>e&&C),[C],[f]),w=(0,t.useFacetMap)((e=>!e&&C&&M),[C,M],[f]),T=Rd("vanilla.profileFeedback"),x=(0,t.useFacetMap)((e=>e.state.xblState===Rp.Loaded&&e.data.relation===Ap.Follower),[],[a]),I=(0,t.useFacetMap)((e=>""!==e.data.xuid?e.data.xblName:""!==e.data.platformName?e.data.platformName:""!==e.data.offlineName?e.data.offlineName:""),[],[a]),P=(0,t.useFacetMap)((e=>r(".addFollowerBackBanner",[`${e}`])),[r],[I]),O=(0,t.useFacetMap)((e=>tF(e.platform)&&T),[T],[i]),N=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.ProfileFeedbackMain)}),[],[c]),A=(0,t.useFacetMap)((e=>0===e),[],[b]),L=(0,t.useFacetMap)((e=>0===e),[],[v]),R=(0,t.useFacetMap)(((e,t)=>e&&t),[],[A,L]),D=(0,t.useFacetMap)((e=>e.isPreviewBuild),[],[s]),_=Ud({wide:8,narrow:6,width:256}),B=uH(),W=(0,t.useFacetCallback)((()=>()=>{n.push("/screenshot-gallery")}),[n],[a]),U=(0,t.useFacetCallback)((e=>()=>{n.push(`/screenshot-showcase?pfid=${e.data.pfid}&xuid=${e.data.xuid}&playerName=${e.data.xblName}`)}),[n],[a]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:O},e.createElement(e.Fragment,null,e.createElement("div",{className:lr()("N41tZ",l.background.base,l.border.base)},e.createElement(ru,{inputLegend:r(".feedbackButton"),Icon:$B,onClick:N},r(".feedbackButton")),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort"},r(".feedbackText"))),e.createElement(Sc,{size:2}))),e.createElement(t.Mount,{when:x},e.createElement(e.Fragment,null,e.createElement(lS,{role:"informative"},e.createElement(lS.Text,null,P)),e.createElement(Sc,{size:2}))),e.createElement(t.Mount,{when:B},e.createElement(yH,null)),e.createElement(Gh,{gamepadIndex:0},e.createElement(Yr,{data:b},(t=>e.createElement(Gh.Action,{narrationText:r(".friendsNarration",[`${t}`]),inputLegend:r(".friendsInputLegend"),onClick:m,disabled:A},e.createElement(Gh.Cell,null,e.createElement(oc,{src:Tj,imageRendering:"pixelated",className:Rj})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"captionShort",variant:"dimmest"},r(".friendsItemLabel")),e.createElement(gs,{type:"body"},t))))),e.createElement(t.Mount,{when:f},e.createElement(Yr,{data:v},(a=>0===a?null:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:R},e.createElement("div",{className:lr()("UEtRp",l.border.base)})),e.createElement(Gh.Action,{narrationText:r(".followersNarration",[`${a}`]),inputLegend:r(".followersInputLegend"),onClick:p,disabled:L},e.createElement(Gh.Main,null,e.createElement(gs,{type:"captionShort",variant:"dimmest"},r(".followersItemLabel")),e.createElement(gs,{type:"body"},a)))))))),e.createElement(t.Mount,{when:k},e.createElement(Gh,null,e.createElement(Gh.Action,{narrationText:(0,t.useFacetMap)(((e,t)=>r(".screenshotsNarration",[`${e}`,`${t}`])),[r],[F,S]),inputLegend:r(".screenshotsInputLegend"),onClick:W},e.createElement(Gh.Cell,null,e.createElement(oc,{src:xj,imageRendering:"pixelated",className:Rj})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"captionShort",variant:"dimmest"},r(".screenshotsItemLabel")),e.createElement(gs,{type:"body"},(0,t.useFacetMap)(((e,t)=>r(".listItemFractionValue",[`${e}`,`${t}`])),[r],[F,S])))))),e.createElement(t.Mount,{when:w},e.createElement(Gh,null,e.createElement(Gh.Action,{narrationText:r(".showcaseNarration",["0","0"]),inputLegend:r(".screenshotsInputLegend"),onClick:U},e.createElement(Gh.Cell,null,e.createElement(oc,{src:xj,imageRendering:"pixelated",className:Rj})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"captionShort",variant:"dimmest"},r(".showcaseItemLabel")),e.createElement(gs,{type:"body"},r(".listItemFractionValue",["0","0"])))))),e.createElement(t.Mount,{when:D},e.createElement(yE,{title:r(".achievementsInPreviewTitle"),text:r(".achievementsInPreviewDesc"),imgSrc:oH,imgClass:_?Dj:_j})),e.createElement(t.Mount,{when:h},e.createElement(Gh,null,e.createElement(Gh.Action,{narrationText:(0,t.useFacetMap)((e=>[r(".achievementsNarration",[`${e.unlocked}`,`${e.total}`]),r(".gamerscoreNarration",[`${e.gamerScore}`,`${e.maxGamerScore}`])].join(" . ")),[r],[y]),inputLegend:r(".achievementsInputLegend"),onClick:()=>n.push("/achievements"),disabled:g},e.createElement(Gh.Cell,null,e.createElement(oc,{src:wj,imageRendering:"pixelated",className:Rj})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"captionShort",variant:"dimmest"},r(".achievementsItemLabel")),e.createElement(gs,{type:"body"},(0,t.useFacetMap)((e=>r(".listItemFractionValue",[`${e.unlocked}`,`${e.total}`])),[r],[y]))),e.createElement(Gh.Cell,{direction:"row"},e.createElement(oc,{className:"kqGRS",src:Lj,imageRendering:"pixelated"}),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"captionShort",variant:"dimmer"},(0,t.useFacetMap)((e=>r(".listItemFractionValue",[`${e.gamerScore}`,`${e.maxGamerScore}`])),[r],[y])),e.createElement(Sc,{size:1}))))))};function yH(){const{t:a}=oi("ProfileRoute"),n=(0,t.useSharedFacet)(kp),r=(0,t.useSharedFacet)(Ir),l=(0,t.useFacetMap)((e=>Yv(e.platform)?a(".playStationAccount"):Qv(e.platform)?a(".nintendoAccount"):""),[a],[r]),o=(0,t.useFacetMap)(((e,t)=>[a(".linkedAccountHeader"),`${t.data.displayName}`,e].join(" . ")),[a],[l,n]);return e.createElement(e.Fragment,null,e.createElement(ah,{role:"neutral",label:a(".linkedAccountHeader")}),e.createElement(Gh,{isFocusable:!0,narrationText:o},e.createElement(Sc,{size:2}),e.createElement(Gh.Cell,null,e.createElement(jw,{src:(0,t.useFacetMap)((e=>e.data.profilePic),[],[n]),variant:"large",status:"offline",usePersonaPicRendering:!1})),e.createElement(Sc,{size:2}),e.createElement(Gh.Cell,null,e.createElement("div",null,e.createElement(Sc,{size:1}),e.createElement(gs,{type:"header5B"},e.createElement(Ns,null,(0,t.useFacetMap)((e=>e.data.displayName),[],[n]))),e.createElement(gs,{type:"captionShort",variant:"dimmer"},e.createElement(Ns,null,l)),e.createElement(Sc,{size:1})))),e.createElement(Sc,{size:2}))}function CH({profileFacet:a,telemetryState:n,setTelemetryState:r,loading:l}){const{t:o}=oi("ProfileRoute"),i=(0,t.useSharedFacet)(Cp),c=(0,t.useFacetMap)((e=>e.suggested.slice(0,3)),[],[i]),s=(0,t.useFacetMap)((e=>e.completed.slice(0,3)),[],[i]),u=(()=>{const t=Jw();return(0,e.useCallback)(((e,a)=>{t("ProfileSuggestedAchievementsDisplayed",{profileXuid:{value:e,privacyTag:$f.EUPI},suggestedNextAchievementIds:{value:a.join(","),privacyTag:$f.CustomerContent}})}),[t])})();(0,t.useFacetEffect)(((e,t,a,n)=>{const l=t.map((e=>e.id));e&&n.shouldFireAchievementsDisplayed&&(u(a.data.xuid,l),n.shouldFireAchievementsDisplayed=!1,r(n))}),[u,r],[(0,t.useSharedFacet)(yp),c,a,n]);const d=cH(a),m=(0,t.useFacetMap)((e=>!e),[],[d]),p=iH(),f=(0,t.useFacetMap)(((e,t)=>!e||t),[],[(0,t.useSharedFacet)(yp),l]),g=e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(FH,{profileFacet:a}),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}),e.createElement(SH,{profileFacet:a}),e.createElement(Sc,{size:2})),E=e.createElement(e.Fragment,null,e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})}),e.createElement(Sc,{size:1}));return e.createElement(rs,{text:o(".tabNarration",[o(".overviewTabButtonLabel"),"1","2"])},e.createElement(t.Mount,{when:p},e.createElement(Yc,{loading:l,renderTracker:t=>e.createElement(Ld,{type:"meaningful",renderingCompleted:t}),gamepadAlias:pH,delegateFocusFromMemory:!0},g,E)),e.createElement(t.Mount,{when:p,condition:!1},e.createElement(kw,{gamepadAlias:pH,delegateFocusFromMemory:!0,header:g,loading:f,data:(0,t.useFacetMap)(((e,t)=>[{role:"informativeTint",title:o(".suggestedAchievementsListLabel"),data:e},{role:"successTint",title:o(".completedAchievementsListLabel"),data:t}]),[o],[c,s]),footer:E,sectionSeparator:e.createElement(Sc,{size:2}),renderSectionHeader:(t,a)=>e.createElement(ah,{role:a,label:t}),renderItem:({itemFacet:t,index:a,sectionIndex:n,listLengthFacet:r})=>e.createElement(MH,{item:t,index:a,sectionIndex:n,listLength:r,disabled:m}),renderTracker:t=>e.createElement(Ld,{type:"meaningful",renderingCompleted:t}),padSpinnerVertically:!0})))}const MH=({item:a,index:n,listLength:r,disabled:l})=>{const o=u();return e.createElement(Zh,{item:a,onClick:(0,t.useFacetCallback)((e=>()=>{o.push(`/achievement-detail/${e.id}`)}),[o],[a]),index:n,listLength:r,disabled:l})};function kH({profileFacet:a}){const{t:n}=oi("ProfileRoute"),r=gH("compare-stats"),l=(0,t.useSharedFacet)(Hp),o=(0,t.useFacetMap)((e=>e.data.map((e=>({label:e.label,icon:e.icon,data:{value:e.valueRaw,display:e.valueDisplay,narration:e.valueNarration}})))),[],[l]),i=e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(FH,{profileFacet:a}),e.createElement(t.Mount,{when:(0,t.useFacetMap)((e=>e.state.xblState===Rp.Loaded&&e.data.relation!==Ap.Self),[],[a])},e.createElement(e.Fragment,null,e.createElement("div",{className:"J35O9"},e.createElement(ru,{inputLegend:n(".compareStats"),onClick:r},n(".compareStats"))),e.createElement(Sc,{size:2})))),c=(0,t.useFacetMap)((e=>!e.loaded),[],[l]);return e.createElement(rs,{text:n(".tabNarration",[n(".statsTabButtonLabel"),"2","2"])},e.createElement(t.Mount,{when:c},e.createElement(Sc,{size:2})),e.createElement(lA,{gamepadAlias:"profile-stats-list",delegateFocusFromMemory:!0,data:o,renderItem:({itemFacet:t,index:a,listLengthFacet:n})=>e.createElement(Qj,{item:t,index:a,listLength:n}),loading:c,header:i,footer:e.createElement(e.Fragment,null,e.createElement(Zu.Space,{extraSpace:e.createElement(Sc,{size:1})}),e.createElement(Sc,{size:1})),padSpinnerVertically:!0}))}function wH({errorMessage:a,xuid:n,onRetryLoad:r}){const{t:l}=oi("ProfileRoute"),o=u(),i=Ud({wide:8,narrow:6,width:256}),c=(0,t.useSharedFacet)(vg),s=(0,t.useSharedFacet)(Ir),d=(()=>{const t=Jw();return(0,e.useCallback)(((e,a)=>{t("ProfileError",{profileXuid:{value:e,privacyTag:$f.EUPI},profileErrorMessageType:{value:a,privacyTag:$f.SystemMetadata}})}),[t])})(),m=(0,t.useFacetCallback)(((e,t)=>()=>d(e,t)),[d],[n,a]);(0,e.useEffect)((()=>{m()}),[m]);const p=(0,t.useFacetCallback)((e=>()=>e.openLink(bg.XboxPrivacyAndOnlineSafety)),[],[c]),f=()=>{o.push("/sign-in?signInSource=ProfileScreen_OreUI")},g=(0,t.useFacetMap)((e=>tF(e.platform)?[{text:l(".learnMoreButton"),onClick:p,imgSrc:$B.imgSrc}]:[]),[l,p],[s]);return e.createElement(Yr,{data:a},(t=>{switch(t){case Lp.UserNotFound:return e.createElement(yE,{title:l(".loadErrorTitle"),text:l(".loadErrorMessage"),buttons:[{text:l(".errorRetryButton"),onClick:r}],imgSrc:Ij,imgClass:i?Dj:_j});case Lp.NoInternet:return e.createElement(yE,{title:l(".loadErrorTitle"),text:l(".noInternetErrorMessage"),imgSrc:Pj,imgClass:i?Dj:_j});case Lp.NotAllowedToViewProfilesAdult:return e.createElement(yE,{title:l(".needPermissionErrorTitle"),text:l(".needPermissionErrorMessage"),buttons:g,imgSrc:Nj,imgClass:i?Dj:_j});case Lp.NotAllowedToViewProfilesChild:return e.createElement(yE,{title:l(".needPermissionErrorTitle"),text:l(".needPermissionErrorMessage"),buttons:g,imgSrc:Oj,imgClass:i?Dj:_j});case Lp.NotLoggedInWithMSA:return e.createElement(yE,{title:l(".profileUnavailableErrorTitle"),text:l(".notLoggedInMSAErrorMessage"),buttons:[{text:l(".signInButton"),onClick:f,variant:"primary"}],imgSrc:Aj,imgClass:i?Dj:_j});case Lp.LoggedInWithMSAButPlatformProfile:return e.createElement(yE,{title:l(".profileUnavailableErrorTitle"),text:l(".platformOnlyProfileErrorMessage"),imgSrc:Aj,imgClass:i?Dj:_j});default:return e.createElement(e.Fragment,null)}}))}function TH(){const{t}=oi("RealmsPDPScreen");return e.createElement(Nn,{collection:ev},e.createElement(vx,{screenAnalyticsId:"Realms-PDP",gamepadAlias:"realms-pdp",title:t(".title"),delegateByAlias:wN},(()=>e.createElement(hE,null,e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement(IN,{header:e.createElement(Sc,{size:2}),footer:e.createElement(Sc,{size:2})})))))))}const xH=a.p+"assets/MCR_Logo_Primary-c83fa.png",IH=a.p+"assets/Marketplace-Error-8376f.png";function PH({onClick:t}){const{t:a}=oi("RealmsPlanPickerScreen");return e.createElement(yE,{title:a(".error.title"),text:a(".error.body"),imgSrc:IH,imgClass:aL(),buttons:[{text:a(".error.button"),onClick:t,inputLegend:a(".error.button")}]})}function OH({children:t,disabled:a}){const n=Yn();return e.createElement("div",{className:lr()("jR6SA",{[n.disabled]:a})},e.createElement("div",{className:lr()("ct_jw",{_jOan:!a})}),t)}function NH({isCorePlan:a,hasFreeTrial:n}){const{t:r}=oi("RealmsPlanPickerScreen"),l=Ia(),o=a?"PDPCore":"PDPPlus",i=a?e.createElement(gs,{type:"body",align:"left",role:o},r(".featureLine0")):e.createElement(e.Fragment,null,e.createElement(gs,{type:"body",align:"left",role:o},r(".featureLine0Plus")+" "),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"body",align:"left",role:o,variant:"dimmer"},r(".featureLine0PlusNum"))),c=(0,t.useFacetMap)((e=>[r(a?".featureNarrationCore":".featureNarrationPlus"),r(a?".featureLine0Narration":".featureLine0PlusNarration"),r(".featureLine1"),r(".featureLine2Narration"),r(".featureLine3"),r(".featureLine4"),r(".featureLine5Narration"),r(".featureLine6"),e&&!a?r(".featureLine7"):"",a?"":r(".featureLine8")].filter((e=>""!=e)).join(" . ")),[r,a],[n]);return e.createElement(Li.Maybe,{isInteractive:l,narrationText:c,classNameFocused:vi,gamepadAlias:"plan-picker-feature-list-text-block-"+(a?"core":"plus")},e.createElement(bi,null),e.createElement("div",{className:"OTZ_a"},e.createElement(OH,null,i),e.createElement(gs,{type:"body",align:"left",role:o},e.createElement(OH,null,r(".featureLine1")),e.createElement(OH,null,r(".featureLine2")),e.createElement(OH,null,r(".featureLine3")),e.createElement(OH,null,r(".featureLine4")),e.createElement(OH,null,r(".featureLine5")),e.createElement(OH,null,r(".featureLine6"))),e.createElement(t.Mount,{when:n},e.createElement(OH,{disabled:a},e.createElement(gs,{type:"body",align:"left",role:o,disableable:!0},r(".featureLine7")))),e.createElement(OH,{disabled:a},e.createElement(gs,{type:"body",align:"left",role:o,disableable:!0},r(".featureLine8")))))}function AH({narration:t,planTitle:a,button:n,children:r,reflectionRole:l}){const o=Vn("neutral"),i=Vn("informative");return e.createElement(rs,{text:t},e.createElement("div",{className:lr()("pJBcK",o.border.base,i.background.base)},e.createElement(Vi,{effect:"specular",role:l}),e.createElement(oc,{src:xH,className:"Nv2tq"}),e.createElement("div",{className:"r1fl4"},e.createElement(gs,{type:"header5B",align:"center",role:l},a),e.createElement(Sc,{size:4}),n,r)),e.createElement(Sc,{size:6}),e.createElement(Zu.Space,null))}function LH(){const{t:a}=oi("RealmsPlanPickerScreen"),n=u(),r=(0,t.useSharedFacet)(gf),l=(0,t.useFacetMap)((e=>e.isRealmsTrialAvailable),[],[r]),o=(0,t.useFacetMap)((e=>e.coreSubscriptionPrice),[],[r]),i=(0,t.useFacetMap)((e=>a(".planCoreCardNarration",[e.coreSubscriptionPrice])),[a],[r]),c=(0,t.useFacetMap)((e=>e.plusSubscriptionPrice),[],[r]),s=(0,t.useFacetMap)((e=>a(".planRealmsPlusCardNarration",[e.plusSubscriptionPrice])),[a],[r]),[d,m]=(0,t.useFacetState)(!0),p=(0,e.useCallback)((()=>{m(!1);const e=setTimeout((()=>{m(!0)}),15e3);return()=>{clearTimeout(e)}}),[m]);(0,e.useEffect)((()=>{p()}),[p]);const f=(0,t.useFacetMap)(((e,t)=>""===e||""===t),[],[o,c]),g=(0,t.useFacetMap)(((e,t)=>e&&!t),[],[f,d]),E=e.createElement(ru,{inputLegend:a(".buyButtonCore"),variant:"secondary",gamepadAlias:"buy-core-button",onClick:()=>{n.push("/realms-create-screen?offerTier=2player")}},a(".buyButtonCore")),h=e.createElement(Yr,{data:l},(t=>e.createElement(ru,{inputLegend:a(!0===t?".buyRealmsPlusButtonTrial":".buyButtonPlus"),variant:!0===t?"primary":"secondary",gamepadAlias:"buy-realms-plus-button",onClick:()=>{n.push("/realms-plus-pdp?tab=default")}},a(!0===t?".buyRealmsPlusButtonTrial":".buyButtonPlus")))),b=t=>{const n=t?"PDPCore":"PDPPlus";return e.createElement(e.Fragment,null,e.createElement(gs,{type:"header5B",align:"center",role:n,variant:"stronger"},a(t?".priceCore":".pricePlus")),e.createElement(Sc,{size:4}),e.createElement(gs,{type:"header5B",align:"center",role:n,variant:"dimmer"},t?o:c),e.createElement(gs,{type:"header5B",align:"center",role:n},`/${a(".priceMonthly")}`))};return e.createElement(Nn,{collection:ev},e.createElement(vx,{screenAnalyticsId:"RealmsPlanPicker",gamepadAlias:"realms-plan-picker",title:a(".title"),delegateByAlias:"plan-picker-scrollview"},(()=>e.createElement(Yc,{gamepadAlias:"plan-picker-scrollview",delegateFocusByAlias:"buy-realms-plus-button",loading:g},e.createElement(t.Mount,{when:f,condition:!1},e.createElement(rs,{text:a(".titleNarrationHint")},e.createElement(hE,null,e.createElement(Sc,{size:6}),e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{wideSize:5,narrowSize:4},e.createElement(AH,{narration:i,planTitle:b(!0),button:E,reflectionRole:"PDPCore"},e.createElement(NH,{isCorePlan:!0,hasFreeTrial:l}))),e.createElement(hE.Column,{wideSize:5,narrowSize:4},e.createElement(AH,{narration:s,planTitle:b(!1),button:h,reflectionRole:"PDPPlus"},e.createElement(NH,{isCorePlan:!1,hasFreeTrial:l}))))))),e.createElement(t.Mount,{when:f},e.createElement(hE,null,e.createElement(Sc,{size:2}),e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:1,narrowSize:0}),e.createElement(hE.Column,{wideSize:10,narrowSize:8},e.createElement(PH,{onClick:p}),e.createElement(Sc,{size:2}),e.createElement(Zu.Space,null)))))))))}function RH(){const{t:a}=oi("JoinRealmsServerInvitationsButton"),n=Vn("neutral"),r=u(),l=a(".narrationSuffix"),o=(0,t.useSharedFacet)(ap),i=(0,t.useFacetMap)((e=>ep(e.categoryData,Jm.INVITES)>0),[],[o]),c=(0,t.useFacetMap)((e=>a(e?".hasInvitesTitle":".noInvitesTitle")),[a],[i]),s=(0,t.useFacetMap)((e=>a(e?".hasInvitesBody":".noInvitesBody")),[a],[i]),d=(0,t.useFacetMap)(((e,t)=>[e,t,l].join(" . ")),[l],[c,s]);return e.createElement(rs,{text:[a(".invitationsName"),a(".invitationsRole")].join(" . ")},e.createElement(Ys,{delayedClick:!0,gamepadIndex:0,inputLegend:a(".inputLegend"),narrationText:d,onClick:()=>r.push("/inbox/invites"),variant:"neutral",reflection:"bevel"},e.createElement("div",{className:lr()(n.text.base,"Ji4ZW")},e.createElement("div",{className:"mYfkA"},e.createElement(gs,{type:"body"},e.createElement(Ns,null,c)),e.createElement(gs,{variant:"dimmer",type:"captionShort"},e.createElement(Ns,null,s))),e.createElement(AB,null))))}function DH(e,a){const n=(0,t.useSharedFacet)(ff),r=(0,t.useFacetMap)((e=>e.fetchRealmProgress),[],[n]),l=(0,t.useFacetMap)((e=>e.fetchRealmResult),[],[n]),o=(0,t.useFacetMap)((e=>e.fetchRealmError),[],[n]),i=yv(),c=Sv(((e,t)=>function*(){if(""===t)return;null!=(null==a?void 0:a.analyticsId)&&i({button:"JoinRealmLink",screen:a.analyticsId});const n=t.trim();e.clearFetchRealm(),e.fetchRealm(n),yield r,null==e.fetchRealmError&&null!=a&&a.onSuccess&&a.onSuccess(n)}),[r,i,a],[n,e]),s=(0,t.useFacetCallback)((e=>()=>e.clearFetchRealm()),[],[n]);return{fetch:c,progress:r,result:l,error:o,clear:s}}function _H(){const{t:e}=oi("JoinRealmsServerError");return t=>{switch(t){case mf.AlreadyMember:return e(".alreadyMember");case mf.BadInvite:return e(".badInvite");case mf.BlockedInvite:return e(".blockedInvite");case mf.RealmClosed:return e(".realmClosed");case mf.RealmExpired:return e(".realmExpired");case mf.UnexpectedServerResponse:return e(".unexpectedServerResponse");case mf.AnonymousAccount:return e(".anonymousAccount");case mf.InviteLinkNotFound:return e(".inviteLinkNotFound");default:return e(".unknownError")}}}const BH="JoinRealmsServer";function WH(){const{t:a}=oi("JoinRealmsServer"),n=Vn("neutral"),r=u(),l=d(),[o,i]=(0,t.useFacetState)(""),c=(0,t.useFacetMap)((e=>e.length<=0),[],[o]),s=function(){const e=(0,t.useSharedFacet)(vg),a=yv();return(0,t.useFacetCallback)((e=>()=>{a({button:"Help",screen:BH}),e.openLink(bg.JoinRealmHelpPage)}),[a],[e])}(),m=(0,e.useCallback)((e=>{i(""),r.push(`/join-realms-server/${e}`)}),[r,i]),p=DH((0,t.useFacetMap)((e=>function(e){const t=e;return t.split("/")[t.split("/").length-1]}(e)),[],[o]),{analyticsId:BH,onSuccess:m}),f=(0,t.useFacetMap)(((e,t)=>t&&e===vv.RUNNING),[],[p.progress,l]),g=(0,e.useCallback)((()=>{p.clear(),r.goBack()}),[r,p]);return e.createElement(e.Fragment,null,e.createElement(vx,{screenAnalyticsId:BH,gamepadAlias:"join-realms-server",title:a(".title"),onBack:g},(()=>e.createElement(hE,null,e.createElement(zH,{error:p.error},e.createElement(UH,{error:p.error}),e.createElement(hE.Row,{gamepadIndex:1,fullHeight:!0},e.createElement(hE.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}),e.createElement(hE.Column,{narrowSize:8,wideSize:10,gamepadIndex:0},e.createElement(Yc,{gamepadIndex:0},e.createElement(Sc,{size:2}),e.createElement(rs,{text:[a(".linkBoxNarrationName"),a(".linkBoxNarrationRole")].join(" . ")},e.createElement("div",{className:lr()(n.border.base,"Iw16o")},e.createElement(Ey,{description:a(".inputDescription"),gamepadIndex:0,label:a(".inputLabel"),onChange:i,placeholder:a(".inputPlaceholder"),value:o}),e.createElement(Nn,{collection:ev},e.createElement(Ws,null,e.createElement("div",{className:"Aimtb"},e.createElement(ru,{onClick:s,inputLegend:a(".helpButtonLabel"),imgSrc:$B.imgSrc,horizontal:!0,"data-testid":"help-button",narrationSuffix:a(".buttonEnumeration",["1","2"])},a(".helpButtonLabel")),e.createElement(iS.ButtonSpacing,null),e.createElement(ru,{onClick:p.fetch,inputLegend:a(".joinButtonLabel"),horizontal:!0,disabled:c,variant:"primary","data-testid":"join-realm-button",narrationSuffix:a(".buttonEnumeration",["2","2"])},a(".joinButtonLabel"))))))),e.createElement(Sc,{size:2}),e.createElement(RH,null))),e.createElement(hE.Column,{gamepadIndex:1,wideSize:1,narrowSize:0,disabled:!0})))))),e.createElement(t.Mount,{when:f},e.createElement(Tx.Component,{title:a(".verifyingLinkModalTitle")})))}function UH({error:t}){const a=_H();return e.createElement(Yr,{data:t},(t=>null==t?null:e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}),e.createElement(hE.Column,{narrowSize:8,wideSize:10,gamepadIndex:0},e.createElement(Sc,{size:2}),e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,a(t)))),e.createElement(hE.Column,{gamepadIndex:-1,wideSize:1,narrowSize:0,disabled:!0}))))}function zH({error:a,children:n}){const r=_H(),l=(0,t.useFacetMap)((e=>null==e?"":r(e)),[r],[a]);return e.createElement(rs,{text:l},n)}function jH(){return jH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},jH.apply(this,arguments)}function HH(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const VH=a=>{let{children:n,title:r,role:l="neutral80",className:o,disableBackButton:i=!0,centerContentVertically:c=!0}=a,s=HH(a,["children","title","role","className","disableBackButton","centerContentVertically"]);const u=Vn(l),d=(0,t.useFacetMap)((e=>lr()("k9CX5",u.background.base,u.border.base,u.text.base,e)),[u],[(0,t.useFacetWrap)(o)]);return e.createElement(vx,jH({title:r,disableBackButton:i},s),(({})=>e.createElement(hn,{role:l},e.createElement(hE,{centerContentVertically:c},e.createElement(Sc,{size:2}),e.createElement(hE.Row,{gamepadIndex:0},e.createElement(hE.Column,{gamepadIndex:1,wideSize:12,narrowSize:8},e.createElement("fast-div",{className:d},n))),e.createElement(Sc,{size:2}),e.createElement(Zu.Space,null)))))},GH=t=>{let{className:a}=t,n=HH(t,["className"]);return e.createElement("fast-div",jH({className:lr()("gOWPB",a)},n))},$H=({children:a,role:n="inherit",className:r})=>{const l=Vn(n),o=(0,t.useFacetMap)((e=>lr()("WGK2I",l.background.base,l.border.base,l.text.base,e)),[l],[(0,t.useFacetWrap)(r)]);return e.createElement("fast-div",{className:o},e.createElement("fast-div",{className:lr()("sgTeP",l.specular.base)},a))},KH=pi((()=>{const{t:a}=oi("JoinRealmsServerError"),{t:n}=oi("JoinRealmsServerErrorModal"),r=(0,t.useSharedFacet)(ff),l=(0,t.useFacetCallback)((e=>()=>e.clearJoinRealm()),[],[r]),o=(0,t.useFacetMap)((e=>{switch(e.joinRealmError){case df.MemberOfTooManyRealms:return a(".memberOfTooManyRealms");case df.NeedToCallFetchFirst:case df.RealmsAPIUnavailable:case df.UnknownError:default:return a(".unknownError")}}),[a],[r]);return e.createElement(sd,{onOverlayClick:l},e.createElement(sd.Header,{onClose:l},n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:o,center:!0},o)),e.createElement(sd.Buttons,null,e.createElement(ru,{inputLegend:n(".closeButtonLabel"),variant:"secondary",onClick:l,"data-testid":"join-realms-error-close-button"},n(".closeButtonLabel"))))})),XH="JoinRealmsServerTransient";function YH(){const{t:a}=sp("JoinRealmsServerTransient"),n=u(),r=d(),l=m(),o=(0,t.useSharedFacet)(bp),i=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.code)&&void 0!==t?t:""}),[],[l]),c=DH(i,{analyticsId:XH}),s=(0,t.useFacetCallback)((e=>(t,r)=>{e.queueSnackbar(a(".successSnackbar",[r])),n.go(-2),n.replace(`/play/realms/${t}`)}),[n,a],[o]),p=function(e,a){const n=(0,t.useSharedFacet)(ff),r=(0,t.useSharedFacet)(Ff),l=(0,t.useFacetMap)(((e,t)=>e.joinRealmProgress!==vv.IDLE&&t.state===vf.Loading?vv.RUNNING:e.joinRealmProgress),[],[n,r]),o=(0,t.useFacetMap)((e=>e.joinedRealmId&&e.joinedRealmName),[],[n]),i=(0,t.useFacetMap)((e=>e.joinRealmError),[],[n]),c=yv(),s=Sv(((e,t)=>function*(){if(c({button:"JoinRealm",screen:XH}),e.clearJoinRealm(),e.joinRealm(t),yield l,null==e.joinRealmError){const t=e.joinedRealmId,n=e.joinedRealmName;a(t,n),e.clearJoinRealm()}}),[l,c,a],[n,e]);return{join:s,progress:l,result:o,error:i}}(i,s),f=(0,t.useFacetMap)((e=>e===vv.RUNNING),[],[c.progress]),g=(0,t.useFacetMap)((e=>e===vv.RUNNING),[],[p.progress]),E=(0,t.useFacetMap)(((e,t)=>e===vv.FAILED&&null!=t),[],[p.progress,p.error]),h=(0,e.useCallback)((()=>{n.goBack()}),[n]);(0,t.useFacetEffect)(((e,t,a,n)=>{!n||t||a||null!=e||c.fetch()}),[c],[c.result,g,f,r]);const b=(0,t.useFacetMap)(((e,t,a)=>e||t||null!=a),[],[f,g,c.error]);return e.createElement(e.Fragment,null,e.createElement(VH,{gamepadAlias:"join-realms-server-transient-route",title:a(".title"),screenAnalyticsId:XH,className:"M8SYf",disableBackButton:!1,centerContentVertically:!1},e.createElement(QH,{error:c.error}),e.createElement(qH,{realmWorld:c.result}),e.createElement($H,null,e.createElement(Nn,{collection:ev},e.createElement(ru,{horizontal:!0,inputLegend:a(".cancelButtonLabel"),onClick:h,"data-testid":"cancel-button",narrationSuffix:a(".buttonEnumeration",["1","2"])},a(".cancelButtonLabel")),e.createElement(Sc,{size:3}),e.createElement(ru,{horizontal:!0,onClick:p.join,inputLegend:a(".joinButtonLabel"),variant:"primary",disabled:b,"data-testid":"join-realm-button",narrationSuffix:a(".buttonEnumeration",["2","2"])},a(".joinButtonLabel"))))),e.createElement(t.Mount,{when:g},e.createElement(Tx.Component,{title:a(".joinRealmModal")})),e.createElement(t.Mount,{when:E},e.createElement(KH.Component,null)))}function qH({realmWorld:a}){const{t:n}=sp("JoinRealmsServerTransient"),r=(0,t.useFacetMap)((e=>{var t;return`${null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""}`}),[],[a]),l=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.realmName)&&void 0!==t?t:""}),[],[a]),o=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.slotName)&&void 0!==t?t:""}),[],[a]),i=function(e){const{t:a}=oi("WorldTag");return(0,t.useFacetMap)((e=>{const t=[];return null==e||t.push({label:a(mI(e.gameMode)),role:"neutral100"}),t}),[a],[e])}(a),c=(0,t.useFacetWrap)(0),s=(0,t.useFacetWrap)(!1),u=(0,t.useFacetMap)((e=>{var t;return null!==(t=null==e?void 0:e.ownerXuid)&&void 0!==t?t:""}),[],[a]),{profileName:d,isLoaded:m}=function({ownerId:e,platformId:a}){const n=(0,t.useFacetWrap)(null!=e?e:""),r=(0,t.useFacetWrap)(null!=a?a:""),l=(0,t.useFacetCallback)((e=>(t,a)=>{e.subscribeToProfile(t,a)}),[],[(0,t.useSharedFacet)(_p)]);(0,t.useFacetEffect)(((e,t)=>{l(e,t)}),[l],[n,r]);const o=(0,t.useFacetMap)(((e,t)=>({xuid:e,platformId:t})),[],[n,r]),i=bT(o),c=(0,t.useFacetMap)((e=>(null==e?void 0:e.state.xblState)===Rp.Loaded||(null==e?void 0:e.state.platformState)===Rp.Loaded),[],[i]),s=(0,t.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblProfilePic?t.xblProfilePic:null!==(a=t.platformProfilePic)&&void 0!==a?a:"";var t,a}),[],[i]);return{ownerDetails:i,isLoaded:c,profileName:(0,t.useFacetMap)((e=>{return null==(t=null==e?void 0:e.data)?"":""!==t.xblName?t.xblName:null!==(a=t.platformName)&&void 0!==a?a:"";var t,a}),[],[i]),avatarSource:s}}({ownerId:u}),p=(0,t.useFacetMap)((e=>n(".ownerInformation",[e])),[n],[d]),f=(0,t.useFacetMap)((e=>[e,n(".caption")].join(" . ")),[n],[p]),g=(0,t.useFacetMap)(((e,t)=>null==e||!t),[],[a,m]);return e.createElement(Yr,{data:g},(t=>t?e.createElement("div",{className:"N16mH"},e.createElement(Kc,null)):e.createElement(e.Fragment,null,e.createElement(II,{id:r,title:l,subtitle:o,tags:i,narrationIndex:1,containerListLength:c,isMultiplayerWorld:s,onWorldClick:()=>{},disable:!0}),e.createElement(Yc,{emptyFocusableNarrationText:f},e.createElement(GH,null,e.createElement(gs,{type:"paragraphs"},p),e.createElement(Sc,{size:4}),e.createElement(gs,{type:"captionShort",variant:"dimmest"},n(".caption")))))))}function QH({error:t}){const a=_H();return e.createElement(Yr,{data:t},(t=>null==t?null:e.createElement(e.Fragment,null,e.createElement(lS,{role:"noticeTint"},e.createElement(lS.Text,null,a(t))),e.createElement(Sc,{size:2}))))}let JH;function ZH({children:t}){return e.createElement(Yc,null,e.createElement(Sc,{size:2}),t)}!function(e){e.MarketplacePassTab="MarketplacePassTab",e.FeaturedCreatorsTab="FeaturedCreatorsTab",e.OwnedByMeTab="OwnedByMeTab"}(JH||(JH={}));function eV({tab:t}){const{t:a}=oi(function(e){switch(e){case bP.MarketplacePass:return"StartFromTemplateRoute.MarketplacePass";case bP.Featured:return"StartFromTemplateRoute.Featured";default:return"StartFromTemplateRoute.OwnedByMe"}}(t)),n=Vn("neutral");return e.createElement("div",{className:lr()("xm93A",n.background.base)},e.createElement(gs,{type:"header5A"},a(".title")),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort",variant:"dimmer",className:"y20ae"},a(".description")),e.createElement(Sc,{size:2}))}const tV=a.p+"assets/iconStar-a3e78.png";function aV(){return aV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},aV.apply(this,arguments)}const nV=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("kMIYp",a);return e.createElement(oc,aV({},n,{className:r,src:tV,imageRendering:"pixelated"}))},rV=a.p+"assets/iconStarGolden-e2d94.png";function lV(){return lV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},lV.apply(this,arguments)}const oV=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("bevhl",a);return e.createElement(oc,lV({},n,{className:r,src:rV,imageRendering:"pixelated"}))},iV=a.p+"assets/thumbnail-default-d0210.jpg";function cV({name:e,creator:a,thumbnailPath:n,ratingData:r,isPremium:l,isLocked:o,isOwnedByMeTab:i=!1,narrationIndex:c,containerListLength:s,isRateable:u,isInstalled:d,t:m}){const p=(0,t.useFacetWrap)(null!=l&&l),f=(0,t.useFacetWrap)(null!=u&&u),g=(0,t.useFacetWrap)(null!=o&&o),E=(0,t.useFacetWrap)(null!=d&&d),h=(0,t.useFacetWrap)(c),b=(0,t.useFacetWrap)(null!=r?r:{averageRating:void 0,totalRatingsCount:void 0}),v=(0,t.useFacetMap)((e=>e||iV),[],[n]),F=(0,t.useFacetMap)((e=>!e&&i),[i],[p]),S=(0,t.useFacetMap)((e=>i&&e),[i],[f]),y=(0,t.useFacetMap)((e=>!e&&i),[i],[E]),C=(0,t.useFacetMap)((e=>m(".creator",[e])),[m],[a]),M=(0,t.useFacetMemo)((e=>String(null!=e.averageRating&&e.averageRating.toFixed(1))),[],[b]),k=(0,t.useFacetMemo)((e=>`(${null!=e.totalRatingsCount&&e.totalRatingsCount})`),[],[b]),w=(0,t.useFacetMemo)(((e,t,a,n,r,l,o)=>[e,t,i||null==a.averageRating?"":m(".rating",[String(a.averageRating.toFixed(1))]),l?m(".locked"):"",r?m(".imported"):"",n>0?m(".enumeration",[`${o+1}`,`${n}`]):"",m(".button")].filter(Boolean).join(" . ")),[m,i],[e,C,b,s,F,g,h]);return{name:e,actionNarration:w,isLockedFacet:g,thumbnailPathResolved:v,createdBy:C,isImported:F,rating:M,voteCount:k,shouldRenderRateButton:S,additionalActionNarration:[m(".rate"),m(".button")].join(" . "),shouldShowDownloadOverlay:y}}const sV=a.p+"assets/iconLock-e98de.png";function uV(){return uV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},uV.apply(this,arguments)}const dV=t=>{let{className:a}=t,n=function(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}(t,["className"]);const r=sc("pKom2",a);return e.createElement(oc,uV({},n,{className:r,src:sV,imageRendering:"pixelated"}))},mV="mEAi3",pV=a.p+"assets/download-062b3.png";var fV;function gV({isCard:a=!0,isLocked:n,thumbnailPath:r,shouldShowDownloadOverlay:l}){const o=Vn("neutral"),i=(0,t.useFacetMap)((e=>a&&!e?"EVBEq":lr()("Swp_C",e?"U82ZZ":o.border.base)),[a,o.border.base],[n]),c=(0,t.useFacetMap)(((e,t)=>e?fV.Locked:t?fV.ShouldDownload:fV.Default),[],[n,l]),s=(0,e.useMemo)((()=>e.createElement(oc,{className:i,aspectRatio:oc.AspectRatio["16:9"],src:r})),[i,r]),u=(0,e.useMemo)((()=>e.createElement("div",{className:"HAWgs"})),[]);return e.createElement("div",{className:"Dbw4V"},e.createElement(Yr,{data:c},(t=>{switch(t){case fV.Locked:return e.createElement(e.Fragment,null,u,s,u,e.createElement("div",{className:"ML0On"}),e.createElement(dV,{className:mV}));case fV.ShouldDownload:return e.createElement(e.Fragment,null,s,e.createElement("div",{className:"IloHq"}),e.createElement(oc,{src:pV,className:lr()("ue8jl",mV),imageRendering:"pixelated"}));case fV.Default:return e.createElement(e.Fragment,null,s)}})))}!function(e){e.Locked="locked",e.ShouldDownload="should-download",e.Default="default"}(fV||(fV={}));function EV({name:a,creator:n,thumbnailPath:r,ratingData:l,isPremium:o,isLocked:i,isInstalled:c,isOwnedByMeTab:s=!1,narrationIndex:u,containerListLength:d,isRateable:m,onAction:p,onAdditionalAction:f=(()=>{})}){const{t:g}=oi("TemplateCard"),{actionNarration:E,additionalActionNarration:h,createdBy:b,shouldShowDownloadOverlay:v,isImported:F,isLockedFacet:S,rating:y,shouldRenderRateButton:C,thumbnailPathResolved:M,voteCount:k}=cV({containerListLength:d,creator:n,isInstalled:c,isLocked:i,isPremium:o,isRateable:m,name:a,isOwnedByMeTab:s,narrationIndex:u,ratingData:l,t:g,thumbnailPath:r}),w=(0,t.useFacetMap)(((e,t)=>s&&!Boolean(t)||e),[s],[F,(0,t.useFacetWrap)(null!=c&&c)]),T=(0,t.useFacetMap)((e=>s&&e?"fEe4R":"LbAiK"),[s],[F]);return e.createElement(qI,null,e.createElement(qI.Action,{onClick:p,narrationText:E,inputLegend:g(".start")},e.createElement(gV,{shouldShowDownloadOverlay:v,isLocked:S,thumbnailPath:M}),e.createElement(qI.Information,{narrationText:""},e.createElement(gs,{type:"body"},e.createElement(Ns,null,a)),e.createElement(Sc,{size:1}),e.createElement(gs,{type:"body",variant:"dimmer"},e.createElement(Ns,null,b)),e.createElement(t.Mount,{when:F},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(jM,{role:"neutral100"},g(".imported")))),e.createElement(t.Mount,{when:w},e.createElement(e.Fragment,null,e.createElement("fast-div",{className:T}),e.createElement(Sc,{size:1}))),!s&&e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(hV,{rating:y,voteCount:k})),e.createElement(t.Mount,{when:C},e.createElement(Sc,{size:1})))),e.createElement(t.Mount,{when:C},e.createElement(qI.AdditionalAction,{onClick:f,narrationText:h,inputLegend:g(".rate")},e.createElement(Sc,{size:2}),e.createElement("div",{className:lr()("XCF9Q")},e.createElement(nV,null),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"body",role:"inherit",verticalAlign:"center"},g(".rate"))),e.createElement(Sc,{size:2}))))}function hV({rating:t,voteCount:a}){return e.createElement("div",{className:"NO9g3"},e.createElement(oV,null),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},t),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort",variant:"dimmer",verticalAlign:"center",tag:"span"},a))}function bV({name:a,creator:n,thumbnailPath:r,ratingData:l,isPremium:o,isLocked:i,isInstalled:c,isRateable:s,isOwnedByMeTab:u=!1,narrationIndex:d,containerListLength:m,onAction:p,onAdditionalAction:f=(()=>{})}){const{t:g}=oi("TemplateCard"),{actionNarration:E,isLockedFacet:h,thumbnailPathResolved:b,createdBy:v,isImported:F,rating:S,voteCount:y,shouldRenderRateButton:C,shouldShowDownloadOverlay:M,additionalActionNarration:k}=cV({name:a,creator:n,thumbnailPath:r,ratingData:l,isPremium:o,isLocked:i,isInstalled:c,isRateable:s,isOwnedByMeTab:u,narrationIndex:d,containerListLength:m,t:g});return e.createElement(e.Fragment,null,e.createElement(Gh,{tall:!0},e.createElement(Gh.Action,{onClick:p,narrationText:E,inputLegend:g(".start")},e.createElement("div",{className:"aXoIG"},e.createElement(gV,{shouldShowDownloadOverlay:M,isCard:!1,isLocked:h,thumbnailPath:b})),e.createElement(Gh.Main,null,e.createElement(gs,{type:"body"},e.createElement(Ns,null,a)),e.createElement(gs,{type:"body",variant:"dimmest"},e.createElement(Ns,null,v)),e.createElement("div",{className:"uwvoa"},e.createElement(t.Mount,{when:F},e.createElement(jM,{role:"neutral100"},g(".imported"))),!u&&e.createElement(e.Fragment,null,e.createElement(oV,null),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort",variant:"dimmest"},e.createElement(Ns,null,S)),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort",variant:"dimmest"},e.createElement(Ns,null,y)))))),e.createElement(t.Mount,{when:C},e.createElement(Gh.AdditionalAction,{narrationText:k,onClick:f,inputLegend:g(".rate")},e.createElement(nV,null),e.createElement(Sc,{size:2}),e.createElement(gs,{type:"captionShort"},e.createElement(Ns,null,g(".rate")))))))}function vV(){const{t:a}=sp("StartFromTemplateRoute.Featured"),{t:n}=sp("StartFromTemplateRoute.getMoreButton"),r=u(),l=wP(),o=To(),i=yv(),c="narrow"===o,s=n(".title"),d=n(".body"),m=(0,t.useSharedFacet)(Ir),p=(0,t.useSharedFacet)(Vg),f=(0,t.useFacetMap)((e=>e.isOnline),[],[m]),g=(0,t.useFacetMap)((e=>e.featuredWorldTemplates),[],[p]),E=(0,t.useFacetMap)((e=>e.seeMoreFeaturedRouteData),[],[p]),h=(0,t.useFacetMap)((e=>e?"tab-content":"offline"),[],[f]),b=(0,t.useFacetMap)((e=>e.refreshTaskState),[],[p]),v=(0,t.useFacetMap)((e=>e===vv.RUNNING),[],[b]),F=(0,t.useFacetCallback)((e=>()=>{i({button:"WantMore",screen:JH.FeaturedCreatorsTab}),r.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[r,i],[E]);return e.createElement(e.Fragment,null,e.createElement(rs,{text:a(".role")+" . "+a(".title")},e.createElement(Yr,{data:h},(t=>"offline"===t?e.createElement(ZH,null,e.createElement(KT,{text:a(".noInternetMessage")})):e.createElement(e.Fragment,null,e.createElement(qx,{loading:v,firstRowSeparatorVertical:e.createElement(SV,null),footer:e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(Uk,{titleText:s,bodyText:d,onClick:F}),e.createElement(Sc,{size:2})),data:g,columns:c?1:3,itemSeparatorHorizontal:c?null:e.createElement(Sc,{size:2}),itemSeparatorVertical:c?null:e.createElement(Sc,{size:1}),renderItem:({itemFacet:t,index:a,listLengthFacet:n})=>e.createElement(FV,{templateData:t,index:a,numberOfTemplates:n,isNarrow:c}),innerRef:l}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))))),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}))}function FV({templateData:a,index:n,numberOfTemplates:r,isNarrow:l}){const o=u(),i=(0,t.useFacetMap)((e=>e.name),[],[a]),c=(0,t.useFacetMap)((e=>e.creator),[],[a]),s=(0,t.useFacetMap)((e=>e.thumbnailPath),[],[a]),d=(0,t.useFacetMap)((e=>e.ratingData),[],[a]),m=(0,t.useFacetCallback)((e=>()=>{o.push(`/marketplace?productId=${e.id}`)}),[o],[a]);return l?e.createElement(bV,{name:i,creator:c,thumbnailPath:s,ratingData:d,narrationIndex:n,containerListLength:r,onAction:m}):e.createElement(EV,{name:i,creator:c,thumbnailPath:s,ratingData:d,narrationIndex:n,containerListLength:r,onAction:m})}function SV(){return e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(eV,{tab:bP.Featured}),e.createElement(Sc,{size:2}))}const yV=()=>{const{t:e}=sp("StartFromTemplateRoute.useTemplateOperations"),a=u(),n=(0,t.useSharedFacet)(Yg),r=(0,t.useSharedFacet)(bp),l=yv(),o=(0,t.useFacetMap)((e=>e.importingTaskState),[],[n]),i=(0,t.useFacetMap)((e=>e.downloadingTaskState),[],[n]),c=Sv(((t,a)=>function*(){l({button:"Import",screen:JH.OwnedByMeTab}),t.importWorldTemplate(),yield o,a.queueSnackbar(e(".importNotification")),t.resetImportTask()}),[o,e,l],[n,r]);return{importTemplate:c,downloadTemplate:Sv((e=>function*(t,n){e.downloadWorldTemplate(t),yield i,e.resetDownloadTask(),a.push(`/create-new-world/general/${n}`)}),[i,a],[n])}},CV=a.p+"assets/marketplace-pass-image-sm-92c88.png",MV=a.p+"assets/marketplace-pass-image-260a8.png";function kV(){const{t:a}=sp("StartFromTemplateRoute.MarketplacePass"),{t:n}=sp("StartFromTemplateRoute.getMoreButton"),r=u(),l=wP(),o=To(),i=yv(),c=Rd("vanilla.marketplace.discovery.prod"),s="narrow"===o,d=a(".NoTemplatesMessage.title"),m=a(".NoTemplatesMessage.description"),p=n(".title"),f=n(".body"),g={text:a(".NoTemplatesMessage.button"),onClick:()=>r.push("/settings/marketplace_debug"),variant:"primary"},E=(0,t.useSharedFacet)(dp),h=(0,t.useSharedFacet)(Eg),b=(0,t.useSharedFacet)(Ir),v=(0,t.useFacetMap)((e=>e.isOnline),[],[b]),F=(0,t.useFacetMap)((e=>e.marketplacePassWorldTemplates),[],[E]),S=(0,t.useFacetMap)((e=>e.seeMoreMarketplacePassRouteData),[],[E]),y=(0,t.useFacetMap)((({isRealmsPlusSubscriptionActive:e,isMarketplacePassSubscriptionActive:t})=>!e&&!t),[],[h]),C=(0,t.useFacetMap)((e=>e?c?"tab-content":"non-production-marketplace-environment":"offline"),[c],[v]),M=(0,t.useFacetMap)((e=>e.refreshTaskState),[],[E]),k=(0,t.useFacetMap)((e=>e===vv.RUNNING),[],[M]),w=(0,t.useFacetCallback)((e=>()=>{i({button:"WantMore",screen:JH.MarketplacePassTab}),r.push(`/marketplace?title=${e.title}&pageId=${e.pageId}`)}),[r,i],[S]);return e.createElement(e.Fragment,null,e.createElement(rs,{text:a(".role")+" . "+a(".title")},e.createElement(Yr,{data:C},(t=>{switch(t){case"offline":return e.createElement(ZH,null,e.createElement(KT,{text:a(".noInternetMessage")}));case"non-production-marketplace-environment":return e.createElement(ZH,null,e.createElement(yE,{title:d,text:m,buttons:[g]}));default:return e.createElement(e.Fragment,null,e.createElement(qx,{loading:k,firstRowSeparatorVertical:e.createElement(TV,{isNotSubscribed:y}),footer:e.createElement(e.Fragment,null,e.createElement(Sc,{size:1}),e.createElement(Uk,{titleText:p,bodyText:f,onClick:w}),e.createElement(Sc,{size:2})),data:F,columns:s?1:3,itemSeparatorHorizontal:s?null:e.createElement(Sc,{size:2}),itemSeparatorVertical:s?null:e.createElement(Sc,{size:1}),renderItem:({itemFacet:t,index:a,listLengthFacet:n})=>e.createElement(wV,{templateData:t,index:a+1,numberOfTemplates:n,isLocked:y,isNarrow:s}),innerRef:l}),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}}))),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}))}function wV({templateData:a,index:n,numberOfTemplates:r,isLocked:l,isNarrow:o}){const i=u(),{downloadTemplate:c}=yV(),s=(0,t.useFacetMap)((e=>e.name),[],[a]),d=(0,t.useFacetMap)((e=>e.creator),[],[a]),m=(0,t.useFacetMap)((e=>e.thumbnailPath),[],[a]),p=(0,t.useFacetMap)((e=>e.ratingData),[],[a]),f=(0,t.useFacetCallback)(((e,t)=>()=>{t?i.push(`/marketplace?productId=${e.id}`):e.isInstalled?i.push(`/create-new-world/general/${e.packId}`):c(e.id,e.packId)}),[c,i],[a,l]);return o?e.createElement(bV,{name:s,creator:d,thumbnailPath:m,ratingData:p,isPremium:!0,isLocked:l,narrationIndex:n,containerListLength:r,onAction:f}):e.createElement(EV,{name:s,creator:d,thumbnailPath:m,ratingData:p,isPremium:!0,isLocked:l,narrationIndex:n,containerListLength:r,onAction:f})}function TV({isNotSubscribed:a}){const{t:n}=sp("StartFromTemplateRoute.MarketplacePass"),r=Ia(),l=Mw(Cw.TEMPLATES),o="narrow"===To();return e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(Yr,{data:a},(a=>a?e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:l},e.createElement(e.Fragment,null,e.createElement(XN,{location:VN.TemplatesScreen_MarketplacePass}),e.createElement(Sc,{size:2}))),e.createElement(Li.Maybe,{isInteractive:r,narrationText:n(".imageNarration")+" . "+n(".imageRole")},e.createElement(oc,{imageRendering:"pixelated",src:o?CV:MV,aspectRatio:o?{height:90,width:490}:{height:65,width:475}}))):e.createElement(eV,{tab:bP.MarketplacePass}))),e.createElement(Sc,{size:2}))}let xV,IV;!function(e){e[e.NAME_AZ=1]="NAME_AZ",e[e.NAME_ZA=2]="NAME_ZA"}(xV||(xV={})),function(e){e[e.SHOW_ALL=1]="SHOW_ALL",e[e.MARKETPLACE=2]="MARKETPLACE",e[e.DOWNLOADED=3]="DOWNLOADED",e[e.IMPORTED=4]="IMPORTED"}(IV||(IV={}));const PV=xV.NAME_AZ,OV=IV.SHOW_ALL,NV=a.p+"assets/no-filtered-templates-91571.png";function AV(){const{t:a}=oi("StartFromTemplateRoute.NoFilteredTemplatesMessage"),n=zd({wide:8,narrow:6,width:256}),r=(0,t.useFacetMap)((e=>e?"TJ2sb":"pCGKv"),[],[n]);return e.createElement(yE,{title:a(".title"),text:a(".message"),imgSrc:NV,imgClass:r})}const LV=function({searchTerm:t,onSearchTermChange:a}){const{t:n}=sp("StartFromTemplateRoute.OwnedByMe");return e.createElement(Ds,{"data-testid":"owned-by-me-search-field-id",value:t,placeholder:n(".searchBar"),placeholderIcon:Rs.MagnifyingGlass,narrationText:n(".searchBar"),onChange:a,onBlur:a,shouldBlurOnEscape:!0,shouldBlurOnEnter:!0})},RV=function({ownedTemplatesList:a,selectedFilterOption:n,handleFilterChange:r}){const{t:l}=sp("StartFromTemplateRoute.OwnedByMe.Filters"),o=(0,t.useFacetMap)((e=>String(e.length)),[],[a]),i=(0,t.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium)).length)),[],[a]),c=(0,t.useFacetMemo)((e=>String(e.filter((e=>e.ownedWorldTemplateData.isPremium&&e.ownedWorldTemplateData.isInstalled)).length)),[],[a]),s=(0,t.useFacetMemo)((e=>String(e.filter((e=>!e.ownedWorldTemplateData.isPremium)).length)),[],[a]),u=(0,t.useFacetMemo)(((e,t,a,n)=>[{label:l(".showAll",[e]),value:IV.SHOW_ALL,enumeration:l(".optionEnumeration",["1","4"])},{label:l(".downloaded",[a]),value:IV.DOWNLOADED,enumeration:l(".optionEnumeration",["2","4"])},{label:l(".imported",[n]),value:IV.IMPORTED,enumeration:l(".optionEnumeration",["3","4"])},{label:l(".marketplace",[t]),value:IV.MARKETPLACE,enumeration:l(".optionEnumeration",["4","4"])}]),[l],[o,i,c,s]);return e.createElement(dL,{title:l(".filterTitle"),options:u,value:n,onItemSelect:r,buttonTestId:"filter-dropdown-button",matchButtonHeight:!0})},DV=function({selectedSortOption:t,handleSortChange:a}){const{t:n}=sp("StartFromTemplateRoute.OwnedByMe.Filters"),r=(0,e.useMemo)((()=>[{label:n(".nameAZ"),value:xV.NAME_AZ,enumeration:n(".optionEnumeration",["1","2"])},{label:n(".nameZA"),value:xV.NAME_ZA,enumeration:n(".optionEnumeration",["2","2"])}]),[n]);return e.createElement(dL,{title:n(".sortingTitle"),options:r,value:t,onItemSelect:a,buttonTestId:"sort-dropdown-button",matchButtonHeight:!0})},_V=function({Filter:t,Sort:a,ImportButton:n,SearchField:r,showImportButtonFacet:l}){const o="desktop"===To()?"IzKGH":"tkDJ7";return e.createElement(Yr,{data:l},(l=>l?e.createElement(e.Fragment,null,e.createElement("div",{className:o},e.createElement(hE.Column,{wideSize:6,narrowSize:4},r),e.createElement(hE.Column,{wideSize:6,narrowSize:4},n)),e.createElement(Sc,{size:2}),e.createElement("div",{className:o},e.createElement(hE.Column,{wideSize:6,narrowSize:4},t),e.createElement(hE.Column,{wideSize:6,narrowSize:4},a))):e.createElement("div",{className:o},e.createElement(hE.Column,{wideSize:4,narrowSize:4},r),e.createElement(hE.Column,{wideSize:4,narrowSize:2},t),e.createElement(hE.Column,{wideSize:4,narrowSize:2},a))))},BV=pi((({onClose:t})=>{const{t:a}=oi("StartFromTemplateRoute.OwnedByMe.downloadUnavailableModal"),n=a(".title"),r=a(".message"),l=a(".goBack");return e.createElement(sd,null,e.createElement(sd.Header,null,n),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:r,center:!0},r)),e.createElement(sd.Buttons,null,e.createElement(ru,{inputLegend:l,variant:"secondary",onClick:t},l)))})),WV=pi((()=>{const{t}=oi("StartFromTemplateRoute.OwnedByMe.ImportTemplateModal"),a=t(".title");return e.createElement(sd,null,e.createElement(sd.Header,null,a),e.createElement(sd.Content,null,e.createElement(sd.Spinner,null)))})),UV=a.p+"assets/no-content-art-f5417.png";function zV({importTemplate:a}){const{t:n}=oi("StartFromTemplateRoute.noContentMessage"),r=u(),l=(0,t.useSharedFacet)(Ir),o=(0,t.useFacetMap)((e=>eF(e.platform,e.arvrPlatform)),[],[l]),i=(0,e.useCallback)((()=>{r.push("/marketplace")}),[r]),c=(0,t.useFacetMemo)((e=>e?[{text:n(".goToMarketplaceButton"),inputLegend:n(".goToMarketplaceButton"),onClick:i},{text:n(".importButton"),inputLegend:n(".importButton"),imgSrc:EP,onClick:a}]:[{text:n(".goToMarketplaceButton"),inputLegend:n(".goToMarketplaceButton"),onClick:i}]),[i,a,n],[o]),s=Ud({wide:8,narrow:6,width:256});return e.createElement(yE,{title:n(".title"),text:n(".message"),imgSrc:UV,imgClass:s?"LwVZ5":"jLAoa",buttons:c})}const jV=a.p+"assets/trial-mode-modal-art-3fb6d.png",HV={pixelArt:"GtOwO"},VV="trial-mode-modal-template-screen",GV=pi((({onClose:t})=>{const{t:a}=oi("StartFromTemplateRoute.TrialModeModal"),n=LT(),r=(0,e.useCallback)((()=>{n(),t()}),[n,t]);return e.createElement(sd,{defaultFocusAlias:VV},e.createElement(sd.Header,{onClose:t},a(".title")),e.createElement(sd.Content,{className:HV.content},e.createElement(Sc,{size:4}),e.createElement(oc,{src:jV,imageRendering:"pixelated",className:HV.pixelArt}),e.createElement(sd.Text,{narrationText:a(".message"),center:!0},a(".message"))),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:VV,inputLegend:a(".button"),onClick:r,variant:"primary"},a(".button"))))}));function $V(){const{t:a}=oi("StartFromTemplateRoute.OwnedByMe"),n=To(),r=wP(),l=BV.useModal(),o=WV.useModal(),i=GV.useModal(),c=d(),{delegationEventFacet:s,delegateFocus:u}=Xi(),m=(0,e.useRef)(null),p="narrow"===n,{sortTemplates:f,filterTemplates:g,selectedSortOption:E,selectedFilterOption:h,handleSortChange:b,handleFilterChange:v}=(()=>{const[a,n]=(0,t.useFacetState)(PV),[r,l]=(0,t.useFacetState)(OV),o=d();(0,t.useFacetEffect)((e=>{e||(n(PV),l(OV))}),[l,n],[o]);const i=(0,e.useCallback)((e=>{n(e)}),[n]),c=(0,e.useCallback)((e=>{l(e)}),[l]);return{selectedSortOption:a,selectedFilterOption:r,sortTemplates:(0,e.useCallback)(((e,t)=>e.sort(((e,a)=>{const n=e.ownedWorldTemplateData,r=a.ownedWorldTemplateData;switch(t){case xV.NAME_AZ:return n.name.localeCompare(r.name);case xV.NAME_ZA:return r.name.localeCompare(n.name);default:return 0}}))),[]),filterTemplates:(0,e.useCallback)(((e,t)=>e.filter((e=>{const a=e.ownedWorldTemplateData;switch(t){case IV.MARKETPLACE:return a.isPremium;case IV.DOWNLOADED:return a.isPremium&&a.isInstalled;case IV.IMPORTED:return!a.isPremium;case IV.SHOW_ALL:default:return!0}}))),[]),handleSortChange:i,handleFilterChange:c}})(),{importTemplate:F}=yV(),{narrateText:S}=Xc({interruptible:!1}),[y,C]=(0,t.useFacetState)(""),[M,k]=(0,t.useFacetState)(!1),[w,T]=(0,t.useFacetState)(9),x=(0,t.useSharedFacet)(Gg),I=(0,t.useSharedFacet)(Yg),P=(0,t.useSharedFacet)(Ir),O=(0,t.useSharedFacet)(bp),N=(0,t.useFacetMap)((e=>e.isOnline),[],[P]),A=(0,t.useFacetMemo)((e=>e.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked))),[],[x]),L=(0,t.useFacetMap)((e=>0===e.length),[],[A]),R=(0,t.useFacetMap)(((e,t)=>e&&!t?"offline":e?"no-templates":"tab-details"),[],[L,N]),D=(0,t.useFacetMemo)(((e,t,a,n)=>{const r=g(e,a),l=f(r,n);return""!=t?l.filter((e=>e.ownedWorldTemplateData.name.toLowerCase().includes(t.toLowerCase()))):l}),[g,f],[A,y,h,E]),_=(0,t.useFacetMap)((e=>e.length),[],[D]),B=(0,t.useFacetMap)(((e,t)=>e.slice(0,t)),[],[D,w]),W=(0,t.useFacetMap)((e=>e.length),[],[B]),U=(0,t.useFacetMap)((e=>0==e.length),[],[D]),z=(0,t.useFacetMap)((e=>eF(e.platform,e.arvrPlatform)),[],[P]),j=(0,t.useFacetCallback)((e=>()=>{e?i.show():F()}),[F,i],[(0,t.useSharedFacet)(hg)]),H=(0,t.useFacetMap)((e=>e?[{text:a(".importButtonOffline"),inputLegend:a(".importButtonOffline"),imgSrc:EP,onClick:j}]:[]),[a,j],[z]),V=(0,t.useFacetMap)((e=>e.importingTaskState===vv.RUNNING),[],[I]),G=(0,t.useFacetMap)((e=>eF(e.platform,e.arvrPlatform)),[],[P]),$=(0,t.useFacetCallback)(((e,t,n)=>()=>{if(!e)return;k(!1);const r=t.length,l=[a(".searchResult.name"),a(".searchResult.role")];""===n?l.push(a(".searchResult.hint.cleared")):0===r?l.push(a(".searchResult.hint.noResult")):1===r?l.push(a(".searchResult.hint.oneResult")):r>1&&l.push(a(".searchResult.hint.multiResult",[`${r}`])),S(l.join(" . "))}),[S,k,a],[M,D,y]),K=(0,t.useFacetCallback)((()=>e=>{C(e),k(!0),$()}),[$,C,k],[]),X=(0,e.useCallback)((({children:t})=>e.createElement(qi,{delegationEvent:s},e.createElement(ac,{containerRef:m,delegateFocusFromMemory:!0},e.createElement("div",{ref:m},t)))),[m,s]),Y=(0,e.useMemo)((()=>{switch(n){case"desktop":return e.createElement(Sc,{size:4});case"tablet":return e.createElement(Sc,{size:2});default:return null}}),[n]);return(0,e.useEffect)((()=>{$()}),[$]),(0,t.useFacetEffect)((e=>{e?o.show():o.hide()}),[o],[V]),(0,t.useFacetEffect)((e=>{e||T(9)}),[T],[c]),(0,t.useFacetEffect)(((e,t)=>{t.importingTaskResult===Kg.Cancelled&&(e.queueSnackbar(a(".importCancelled")),t.resetImportTask())}),[a],[O,I]),e.createElement(e.Fragment,null,e.createElement(rs,{text:a(".role")+" . "+a(".title")},e.createElement(Yr,{data:R},(n=>{switch(n){case"offline":return e.createElement(ZH,null,e.createElement(KT,{text:a(".noInternetMessage"),buttons:H}));case"no-templates":return e.createElement(ZH,null,e.createElement(zV,{importTemplate:j}));default:return e.createElement(e.Fragment,null,e.createElement(XV,{showImportButton:G,searchTerm:y,ownedTemplatesList:A,selectedSortOption:E,selectedFilterOption:h,handleSortChange:b,handleFilterChange:v,importTemplate:j,onSearchTermChange:K}),e.createElement(qx,{data:B,columns:p?1:3,firstRowSeparatorVertical:e.createElement(Sc,{size:1}),itemSeparatorHorizontal:Y,itemSeparatorVertical:p?null:e.createElement(Sc,{size:1}),footer:e.createElement(t.Mount,{when:U,condition:!1},e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(YV,{totalTemplatesCount:_,visibleTemplatesCount:W,scrollViewRef:r,delegateFocus:u,setTemplatesCountAllowedToBeShown:T}))),listWrapper:X,renderItem:({itemFacet:t,index:a,listLengthFacet:n})=>e.createElement(KV,{templateData:t,index:a,numberOfTemplates:n,showDownloadUnavailableModal:l.show}),innerRef:r,emptyMessage:e.createElement(AV,null)}),e.createElement(t.Mount,{when:l.isVisible},e.createElement(BV.Component,{onClose:l.hide})),e.createElement(t.Mount,{when:i.isVisible},e.createElement(GV.Component,{onClose:i.hide})),e.createElement(t.Mount,{when:o.isVisible},e.createElement(WV.Component,null)),e.createElement(Ld,{type:"meaningful",renderingCompleted:!0}))}}))),e.createElement(Ld,{type:"contentful",renderingCompleted:!0}))}function KV({templateData:a,index:n,numberOfTemplates:r,showDownloadUnavailableModal:l}){const{downloadTemplate:o}=yV(),i=u(),c="narrow"===To(),s=(0,t.useSharedFacet)(Ir),d=(0,t.useFacetMap)((e=>e.ownedWorldTemplateData),[],[a]),m=(0,t.useFacetMap)((e=>e.name),[],[d]),p=(0,t.useFacetMap)((e=>e.creator),[],[d]),f=(0,t.useFacetMap)((e=>e.thumbnailPath),[],[a]),g=(0,t.useFacetMap)((e=>e.isInstalled),[],[d]),E=(0,t.useFacetMap)((e=>e.isPremium),[],[d]),h=(0,t.useFacetMap)((e=>e.canBeRated),[],[a]),b=(0,t.useFacetMap)((e=>e.isOnline),[],[s]),v=(0,t.useFacetCallback)(((e,t,a)=>()=>{t?i.push(`/create-new-world/general/${e.localId}`):a?o(e.marketplaceId,e.localId):l()}),[o,i,l],[d,g,b]),F=(0,t.useFacetCallback)((e=>()=>{i.push(`/marketplace?packId=${e.localId}&focusRateSection`)}),[i],[d]);return e.createElement(e.Fragment,null,c?e.createElement(bV,{name:m,creator:p,thumbnailPath:f,narrationIndex:n,containerListLength:r,onAction:v,onAdditionalAction:F,isPremium:E,isInstalled:g,isRateable:h,isOwnedByMeTab:!0}):e.createElement(EV,{name:m,creator:p,thumbnailPath:f,narrationIndex:n,containerListLength:r,onAction:v,onAdditionalAction:F,isPremium:E,isInstalled:g,isRateable:h,isOwnedByMeTab:!0}))}function XV({showImportButton:t,searchTerm:a,ownedTemplatesList:n,selectedSortOption:r,selectedFilterOption:l,handleSortChange:o,handleFilterChange:i,importTemplate:c,onSearchTermChange:s}){const{t:u}=oi("StartFromTemplateRoute.OwnedByMe"),d="narrow"===To(),m=(0,e.useMemo)((()=>e.createElement(RV,{ownedTemplatesList:n,selectedFilterOption:l,handleFilterChange:i})),[n,l,i]),p=(0,e.useMemo)((()=>e.createElement(DV,{selectedSortOption:r,handleSortChange:o})),[r,o]),f=(0,e.useMemo)((()=>e.createElement(ru,{onClick:c,imgSrc:EP,inputLegend:u(".importButton")},u(".importButton"))),[c,u]),g=(0,e.useMemo)((()=>e.createElement(LV,{onSearchTermChange:s,searchTerm:a})),[s,a]);return e.createElement(e.Fragment,null,!d&&e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(eV,{tab:bP.OwnedByMe})),e.createElement(Sc,{size:2}),e.createElement(_V,{Filter:m,ImportButton:f,SearchField:g,Sort:p,showImportButtonFacet:t}),e.createElement(Sc,{size:2}))}function YV({totalTemplatesCount:a,visibleTemplatesCount:n,scrollViewRef:r,delegateFocus:l,setTemplatesCountAllowedToBeShown:o}){const{t:i}=oi("StartFromTemplateRoute.OwnedByMe"),c=i(".Footer.backToTop"),s=i(".Footer.loadMoreResults"),u=(0,e.useRef)(null),d=(0,t.useFacetMap)(((e,t)=>t<e),[],[a,n]),m=(0,t.useFacetMap)((e=>e>9),[],[n]),p=(0,t.useFacetMap)(((e,t)=>e&&t),[],[m,d]),f=(0,e.useCallback)((()=>{o((e=>e===t.NO_VALUE?e:e+9)),l.memory()}),[o,l]),g=(0,t.useFacetCallback)((e=>()=>{r.current&&(e&&(r.current.scrollTop=0),l.first())}),[l,r],[et()]);return e.createElement(ac,{containerRef:u},e.createElement("div",{className:"n_hs_",ref:u},e.createElement(t.Mount,{when:m},e.createElement(ru,{horizontal:!0,narrationSuffix:i(".Footer.buttonEnumeration",["1","2"]),inputLegend:c,onClick:g},c)),e.createElement(t.Mount,{when:p},e.createElement(Sc,{size:2})),e.createElement(t.Mount,{when:d},e.createElement(ru,{horizontal:!0,narrationSuffix:i(".Footer.buttonEnumeration",["2","2"]),inputLegend:s,onClick:f},s))),e.createElement(Sc,{size:2}))}function qV({item:a}){const{t:n}=oi("StartFromTemplateRoute.SideMenu"),r=u(),l=m(),o=(0,t.useFacetMap)((e=>e.label),[],[a]),i=(0,t.useFacetMap)((e=>e.value),[],[a]),c=(0,t.useFacetMap)(((e,t)=>e.value==t.tab),[],[a,l]),s=(0,t.useFacetCallback)((e=>()=>{r.replace(`/start-from-template/${e}`)}),[r],[i]);return e.createElement(Bb.ListItem,{narrationText:o,value:i,onSelect:s,inputLegend:n(".inputLegend"),selected:c},e.createElement(gs,{type:"body"},e.createElement(Ns,null,o)))}function QV(){const{t:a}=oi("StartFromTemplateRoute.SideMenu"),n=(0,oi("SideMenu").t)(".narrationRoleMenu"),r=(0,t.useSharedFacet)(Gg),l=(0,t.useFacetWrap)(Rd(Am)),o=(0,t.useFacetMemo)((e=>a(".ownedByMe",[String(e.ownedTemplateWorldList.filter((e=>!e.ownedWorldTemplateData.isLocked)).length)])),[a],[r]),i=(0,t.useFacetMap)((e=>[{label:a(".marketplacePass"),value:bP.MarketplacePass},{label:a(".featured"),value:bP.Featured},{label:e,value:bP.OwnedByMe}]),[a],[o]),c=gP("Template");return e.createElement(e.Fragment,null,e.createElement(Sc,{size:2}),e.createElement(Bb,{role:"neutralAlpha60",narrationRole:n,spacingAroundSideMenu:e.createElement(e.Fragment,null),hideInputLegendSpace:!0},e.createElement(t.Mount,{when:l},e.createElement(e.Fragment,null,e.createElement(Bb.Item,null,e.createElement(ru,{onClick:c,inputLegend:a(".cnwButton"),variant:"primary"},a(".cnwButton"))),e.createElement(Sc,{size:2}))),e.createElement(Bb.ItemList,{items:i,renderItem:qV}),e.createElement("div",{className:"LVVPa"}),e.createElement(ET,{tab:"template",borderless:!0,transparent:!0})))}const JV=pi((()=>{const{t}=oi("StartFromTemplateRoute.InitializationModal");return e.createElement(sd,null,e.createElement(sd.Header,null,t(".title")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:t(".message")},t(".message"))))})),ZV=pi((({hideCloseButton:a,onClose:n})=>{const r=(0,t.useSharedFacet)(Yg),{t:l}=oi("StartFromTemplateRoute.DownloadModal"),o=(0,t.useFacetMap)((e=>e.downloadingProgressPercent),[],[r]),i=(0,t.useFacetMap)((e=>`${e.downloadingProgressBytes} / ${e.downloadTotalBytes}`),[],[r]);return e.createElement(sd,null,e.createElement(sd.Header,{hideCloseButton:a,onClose:n},l(".title")),e.createElement(sd.Content,null,e.createElement(sd.InformativeProgress,{percentage:o,label:i})))})),eG=pi((()=>{const a=(0,t.useSharedFacet)(Yg),{t:n}=oi("StartFromTemplateRoute.InstallModal"),r=(0,t.useFacetMap)((e=>e.downloadingProgressPercent),[],[a]);return e.createElement(sd,null,e.createElement(sd.Header,null,n(".title")),e.createElement(sd.Content,null,e.createElement(sd.Progress,{percentage:r})))}));function tG(e,t){if(null!=e)switch(e){case Kg.MalformedZip:return"MalformedZip";case Kg.Duplicate:return"Duplicate";default:return"GenericError"}else switch(t){case Xg.DownloadFailed:return"DownloadFailed";case Xg.InsufficientStorage:return"InsufficientStorage";default:return"GenericError"}}const aG=pi((()=>{const{t:a}=oi("StartFromTemplateRoute.TemplateOperationsErrorModal"),n=u(),r=(0,t.useSharedFacet)(Yg),l=(0,t.useFacetMap)((e=>e.importingTaskResult),[],[r]),o=(0,t.useFacetMap)((e=>e.downloadingTaskResult),[],[r]),i=(0,t.useFacetMap)(((e,t)=>a(`.title.${tG(e,t)}`)),[a],[l,o]),c=(0,t.useFacetMap)(((e,t)=>a(`.description.${tG(e,t)}`)),[a],[l,o]),s=(0,t.useFacetMap)(((e,t)=>a(`.button.${tG(e,t)}`)),[a],[l,o]),d=(0,t.useFacetCallback)((e=>()=>{e.resetDownloadTask(),e.resetImportTask()}),[],[r,o]),m=(0,t.useFacetCallback)((e=>()=>{d(),e===Xg.InsufficientStorage&&n.push("/settings/marketplace_debug")}),[n,d],[o]);return e.createElement(sd,null,e.createElement(sd.Header,{onClose:d},i),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:c,center:!0},c)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:"template-operations-error-modal-button",inputLegend:s,variant:"secondary",onClick:m},s)))})),nG=()=>{const a=(0,t.useSharedFacet)(Yg),n=(0,t.useFacetMap)((e=>e.downloadingStatus),[],[a]),r=(0,t.useFacetMap)((e=>e===$g.Initialising),[],[n]),l=(0,t.useFacetMap)((e=>e===$g.Downloading),[],[n]),o=(0,t.useFacetMap)((e=>e===$g.Importing),[],[n]),i=(0,t.useFacetMap)((e=>!e.canDownloadBeCancelled),[],[a]),c=(0,t.useFacetMap)((e=>e.importingTaskResult),[],[a]),s=(0,t.useFacetMap)((e=>e.downloadingTaskResult),[],[a]),u=(0,t.useFacetMap)(((e,t)=>null!=e&&e!==Kg.Cancelled||null!=t),[],[c,s]),d=(0,t.useFacetCallback)((e=>()=>{e.cancelDownload(),e.resetDownloadTask()}),[],[a]);return e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:r},e.createElement(JV.Component,null)),e.createElement(t.Mount,{when:l},e.createElement(ZV.Component,{hideCloseButton:i,onClose:d})),e.createElement(t.Mount,{when:o},e.createElement(eG.Component,null)),e.createElement(t.Mount,{when:u},e.createElement(aG.Component,null)))};function rG(){const{t:a}=oi("StartFromTemplateRoute"),n="narrow"===To(),r=(0,t.useSharedFacet)(dp),l=(0,t.useSharedFacet)(Vg),o=(0,t.useFacetCallback)(((e,t)=>()=>{e.refreshOffers(),t.refreshOffers()}),[],[r,l]),i=(0,t.useFacetCallback)(((e,t)=>()=>{e.clearRefreshTaskState(),t.clearRefreshTaskState()}),[],[r,l]);return(0,e.useEffect)((()=>(o(),()=>{i()})),[o,i]),e.createElement(vx,{gamepadAlias:"start-from-template",title:a(".title"),screenAnalyticsId:"StartFromTemplate"},(()=>e.createElement(hE,null,e.createElement(hE.Row,{fullHeight:!0},e.createElement(hE.Column,{wideSize:4,narrowSize:3},e.createElement(Yc,{floating:!0},e.createElement(QV,null))),e.createElement(hE.Column,{wideSize:8,narrowSize:5},e.createElement("div",{className:lr()("wicxF",{kBm0K:n})},e.createElement(VA,{route:bP.MarketplacePass,Component:kV,wideSize:12,narrowSize:8}),e.createElement(VA,{route:bP.Featured,Component:vV,wideSize:12,narrowSize:8}),e.createElement(VA,{route:bP.OwnedByMe,Component:$V,wideSize:12,narrowSize:8})))),e.createElement(Zu.Space,null),e.createElement(nG,null))))}const lG=a.p+"assets/realms-plus-banner-image-74c84.png",oG=a.p+"assets/realms-core-banner-image-d960f.png",iG=a.p+"assets/minecraft-realms-logo-5a448.png",cG=pi((({title:a,body:n,onClose:r})=>{const l="realm-purchase-error-close",{t:o}=oi("RealmsPurchaseSubscriptionRoute.ErrorModals"),i=mi(),c=(0,t.useFacetWrap)(a),s=(0,t.useFacetWrap)(n),u=(0,e.useCallback)((()=>{i(),r&&r()}),[i,r]);return e.createElement(sd,{defaultFocusAlias:l},e.createElement(sd.Header,{onClose:u},c),e.createElement(sd.Content,null,e.createElement(sd.Text,{gamepadIndex:0,narrationText:s,center:!0},s)),e.createElement(sd.Buttons,null,e.createElement(ru,{gamepadAlias:l,inputLegend:o(".select"),variant:"secondary",onClick:u},o(".close"))))}));function sG(){const a=Vn("neutral"),n=Vn("neutral80"),{t:r}=oi("RealmsPurchaseSubscriptionRoute"),l="narrow"===To(),o=(0,t.useSharedFacet)(gf),i=(0,t.useSharedFacet)(vg),c=m(),s=(0,t.useSharedFacet)(_p),u=(0,t.useSharedFacet)(Eg),d=(0,t.useFacetCallback)(((e,t)=>()=>{e.subscribeToProfile(t.currentXuid,"")}),[],[s,u]);d();const p=(0,t.useFacetMap)((e=>"core"!=e.subscription),[],[c]),f=(0,t.useFacetMap)((e=>"plus-free-trial"==e.subscription),[],[c]),g=vT(),[E,h]=(0,t.useFacetState)(""),[b,v]=(0,t.useFacetState)(!1),F=(0,t.useFacetMap)((e=>!e),[],[b]),S=(0,t.useFacetMap)((e=>{let t="";return null!=e?(""!==e.data.xblName&&(t=e.data.xblName),e.state.xblState===Rp.Loaded?r(".inputPlaceholder",[t]):""):""}),[r],[g]),y=(0,t.useFacetUnwrap)(S),C=(0,t.useFacetMap)(((e,t)=>t?e.plusSubscriptionTerms:e.coreSubscriptionTerms),[],[o,p]),M=(0,t.useFacetMap)(((e,t)=>t?e.plusSubscriptionTermsExtra:e.coreSubscriptionTermsExtra),[],[o,p]),k=(0,t.useFacetMap)(((e,t)=>t?e.plusSubscriptionPrice:e.coreSubscriptionPrice),[],[o,p]),w=(0,t.useFacetMap)(((e,t)=>t?r(".heroButton.trial"):r(".heroButton.create",[e])),[r],[k,f]),T=(0,t.useFacetMap)(((e,t)=>t?`${r(".banner.subheading.trial",[e])}`:`${r(".banner.subheading",[e])}`),[r],[k,f]),x=(0,t.useFacetMap)((e=>{switch(e.subscription){case"core":return r(".header.core");case"plus":return r(".header.plus");case"plus-free-trial":return r(".header.trial");default:return"title"}}),[r],[c]),I=(0,t.useFacetMap)(((e,t,a,n)=>[e,r(".screen"),r(t?".banner.heading.plus":".banner.heading.core"),r(a?".banner.subheading.trial.narration":".banner.subheading.narration",[n])].join(" . ")),[r],[x,p,f,k]),P=(0,t.useFacetMap)((e=>{switch(e.subscription){case"core":return"Realms-Core";case"plus":return"Realms-Plus";case"plus-free-trial":return"Realms-Plus-Free-Trial"}}),[],[c]),O=(0,t.useFacetUnwrap)(P),N=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.TermsAndServicePage)}),[],[i]),A=(0,t.useFacetCallback)((e=>()=>{e.openLink(bg.PrivacyPolicyPage)}),[],[i]),L=(0,t.useSharedFacet)(uf),R=(0,t.useFacetMap)((e=>e.state!=lf.IDLE&&e.state!=lf.FAILED&&e.state!=lf.COMPLETED),[],[L]),D=(0,t.useFacetMap)((e=>e.state===lf.FAILED),[],[L]),_=(0,t.useFacetMap)((e=>e.failureReason),[],[L]),B=(0,t.useFacetCallback)((e=>()=>e.cancel()),[],[L]),[W,U]=py(!1),z=(0,t.useFacetCallback)(((e,t,a,n,r)=>()=>{dy(r,a)?U.show():null!=t&&("plus-free-trial"===n.subscription?e.purchaseTrial(t.data.xuid,a):e.purchase(t.data.xuid,a,"",cf.OfferMonthly,"core"===n.subscription?sf.Offer2Player:sf.Offer10Player))}),[U],[L,g,E,c,(0,t.useSharedFacet)(Gp)]),j=(0,t.useSharedFacet)(Ep),H=(0,t.useFacetCallback)((e=>t=>{e.joinRealmWorld(t)}),[],[j]);(0,t.useFacetEffect)((e=>{e.state===lf.COMPLETED&&H(e.getRecentlyPurchasedRealmId())}),[H],[L]);const V=(0,t.useFacetMap)(((e,t)=>{switch(e){case of.INVALID_REALM_NAME:return r(".errorModals.invalidRealmName.title");case of.FAILED_CLUB_NAME_VALIDATION:return r(".errorModals.failedClubNameValidation.title");case of.OFFER_NOT_FOUND:return r(".errorModals.offerNotFound.title");case of.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA:return r(".errorModals.offerNotAvailableIncompleteData.title");case of.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED:switch(t.subscription){case"core":return r(".errorModals.offerNotAvailableAllOffersOccupied.core.title");case"plus":return r(".errorModals.offerNotAvailableAllOffersOccupied.plus.title");default:return r(".errorModals.offerNotAvailableAllOffersOccupied.trial.title")}default:return r(".errorModals.genericFailure.title")}}),[r],[_,c]),G=(0,t.useFacetMap)(((e,t)=>{switch(e){case of.INVALID_REALM_NAME:return r(".errorModals.invalidRealmName.body");case of.FAILED_CLUB_NAME_VALIDATION:return r(".errorModals.failedClubNameValidation.body");case of.OFFER_NOT_FOUND:return r(".errorModals.offerNotFound.body");case of.OFFER_NOT_AVAILABLE_INCOMPLETE_DATA:return r(".errorModals.offerNotAvailableIncompleteData.body");case of.OFFER_NOT_AVAILABLE_ALL_OFFERS_OCCUPIED:switch(t.subscription){case"core":return r(".errorModals.offerNotAvailableAllOffersOccupied.core.body");case"plus":return r(".errorModals.offerNotAvailableAllOffersOccupied.plus.body");default:return r(".errorModals.offerNotAvailableAllOffersOccupied.trial.body")}default:return r(".errorModals.genericFailure.body")}}),[r],[_,c]);return e.createElement(Nn,{collection:ev},e.createElement(vx,{title:x,gamepadAlias:"realms-purchase-subscription",screenAnalyticsId:O!==t.NO_VALUE?O:""},(()=>e.createElement(rs,{text:I},e.createElement(hE,null,e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement(Yc,null,e.createElement(Sc,{size:2}),e.createElement("div",{className:lr()(a.border.base,"_naYc")},e.createElement(uG,{bannerPriceText:T,isPlus:p,isNarrow:l}),e.createElement(Ey,{label:r(".inputLabel"),onChange:h,placeholder:y!==t.NO_VALUE?y:"",value:E,onBlur:W}),e.createElement(iS,{stackedButtons:l,title:r(".panelButton.title"),buttons:e.createElement(e.Fragment,null,e.createElement(ru,{onClick:N,inputLegend:r(".select"),imgSrc:$B.imgSrc,horizontal:!l},r(".panelButton.termsAndConditions")),e.createElement(iS.ButtonSpacing,null),e.createElement(ru,{onClick:A,inputLegend:r(".select"),imgSrc:$B.imgSrc,horizontal:!l},r(".panelButton.privacyPolicy")))}),e.createElement("div",{className:lr()("aSExM",n.background.base)},e.createElement(Sc,{size:3}),e.createElement(gs,{type:"captionLong",shouldNarrate:!0},C),e.createElement(gs,{type:"captionLong",shouldNarrate:!0},M),e.createElement(Sc,{size:3})),e.createElement(Nn,{collection:Zb},e.createElement(ws,{title:r(".checkboxLabel"),gamepad:{index:2},onChange:v,value:b})),e.createElement(Ws,null,e.createElement(ru,{onClick:z,inputLegend:r(".select"),variant:"hero",disabled:F},w))),e.createElement(Sc,{size:2}),e.createElement(Zu.Space,null)))))))),e.createElement(t.Mount,{when:R},e.createElement(Tx.Component,{title:r(".modals.purchaseInProgress"),onClose:B})),e.createElement(t.Mount,{when:D},e.createElement(cG.Component,{title:V,body:G,onClose:B})),e.createElement(t.Mount,{when:U.isVisible},e.createElement(my.Component,{onClose:U.hide})))}function uG({bannerPriceText:a,isPlus:n,isNarrow:r}){const{background:l}=Vn("informative"),o=(0,t.useFacetMap)((e=>e?lG:oG),[],[n]);return e.createElement("div",{className:lr()(l.base,"J_xmR")},!r&&e.createElement(oc,{className:"T2aSE",src:iG}),e.createElement("div",{className:"FFm3X"},e.createElement(gs,{type:"body",role:"neutral"},a)),e.createElement(oc,{className:"G8qoq",src:o}))}const dG="online-play-warning-proceed-button",mG=()=>{const a=m(),n=(0,t.useSharedFacet)(hp),r=kA(),l=u(),{t:o}=sp("PlayScreen.onlinePlayWarning"),i=o(".proceed"),c=o(".back"),s=(0,t.useFacetMap)((e=>e.type),[],[a]),d=(0,t.useFacetMap)((e=>{var t;return null!==(t=e.id)&&void 0!==t?t:void 0}),[],[a]),p=(0,t.useFacetMap)((e=>e===GO(ag.External)),[],[s]),f=(0,t.useFacetMap)((e=>e===GO(ag.Realm)),[],[s]),g=(0,t.useFacetMap)((e=>o(e?".external.body":".thirdParty.body")),[o],[p]),E=(0,t.useFacetMap)((e=>o(e?".external.header":".thirdParty.header")),[o],[p]),h=Cv((0,t.useFacetMap)((e=>null!=e?e:""),[],[d]),"RealmsTabContent","PlayRealm"),b=(0,t.useFacetCallback)(((e,t,a,n)=>()=>{e?(a.doNotShowMultiplayerIpSafetyWarning=!0,r.external(n)):(a.doNotShowMultiplayerOnlineSafetyWarning=!0,t?h():r.thirdParty())}),[r,h],[p,f,n,d]),v=(0,e.useCallback)((()=>l.goBack()),[l]);return e.createElement(VH,{gamepadAlias:"online-play-transient-route",title:o(".title"),screenAnalyticsId:"online-play-warning",className:"qhtCT",onBack:v,disableBackButton:!1},e.createElement(Yc,{delegateFocusByAlias:dG},e.createElement(GH,{className:"aZQne"},e.createElement(gs,{type:"body"},E),e.createElement(Sc,{size:3}),e.createElement(gs,{type:"captionLong"},g)),e.createElement($H,null,e.createElement(ru,{horizontal:!0,inputLegend:c,onClick:v},c),e.createElement(Sc,{size:3}),e.createElement(ru,{horizontal:!0,gamepadAlias:dG,onClick:b,inputLegend:i,variant:"primary"},i))))};function pG(){const a=u(),{t:n}=oi("AccountUnlinkRoute"),r=yv(),l=(0,t.useSharedFacet)(Eg),o=vT(),i=(0,t.useFacetMap)((e=>n(".unlinkLine1",e?[e.data.xblName]:[""])),[n],[o]),c=(0,t.useFacetMap)((e=>e.accountUnlinkState===vv.RUNNING),[],[l]),s=(0,t.useFacetMap)((e=>e.accountUnlinkState===vv.DONE||e.accountUnlinkState===vv.FAILED),[],[l]),d=(0,t.useFacetCallback)((e=>()=>{e.unlinkMicrosoftAccount(),r({screen:"AccountUnlink",button:"Unlink"})}),[r],[l]);return e.createElement(e.Fragment,null,e.createElement(sd,null,e.createElement(sd.Header,{onClose:()=>{r({screen:"AccountUnlink",button:"Close"}),a.goBack()}},n(".header")),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:i},e.createElement(gs,{type:"captionLong",align:"left"},i)),e.createElement(sd.Text,{narrationText:n(".unlinkLine2")},e.createElement(gs,{type:"captionLong",align:"left"},n(".unlinkLine2"))),e.createElement(sd.Text,{narrationText:n(".unlinkLine3")},e.createElement(gs,{type:"captionLong",align:"left"},n(".unlinkLine3")))),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"destructive",gamepadAlias:"unlinkButton",inputLegend:n(".unlinkButton"),onClick:d},n(".unlinkButton")),e.createElement(Sc,{size:1}),e.createElement(ru,{gamepadAlias:"cancelButton",inputLegend:n(".cancelButton"),onClick:()=>{r({screen:"AccountUnlink",button:"Cancel"}),a.goBack()}},n(".cancelButton")))),e.createElement(t.Mount,{when:c},e.createElement(Tx.Component,{title:n(".progressHeader")})),e.createElement(t.Mount,{when:s},e.createElement(fG,null)))}function fG(){const a=u(),{t:n}=oi("AccountUnlinkRoute"),r=yv(),l=(0,t.useSharedFacet)(Eg),o=(0,t.useFacetMap)((e=>e.accountUnlinkState===vv.DONE?n(".successHeader"):n(".failHeader")),[n],[l]),i=(0,t.useFacetMap)((e=>e.accountUnlinkState===vv.DONE?n(".successBody"):n(".failBody")),[n],[l]),c=(0,t.useFacetCallback)((e=>()=>{e.clearAccountUnlinkState(),r({screen:"AccountUnlink",button:"CloseResults"}),a.goBack()}),[r,a],[l]);return e.createElement(sd,null,e.createElement(sd.Header,{onClose:c},o),e.createElement(sd.Content,null,e.createElement(sd.Text,{narrationText:i},e.createElement(gs,{type:"captionLong",align:"left"},i))),e.createElement(sd.Buttons,null,e.createElement(ru,{variant:"primary",gamepadAlias:"closeResultsButton",inputLegend:n(".closeResultsButton"),onClick:c},n(".closeResultsButton"))))}const gG="pD39N";function EG({variant:a,featuredScreenshot:n,featuredScreenshotFallbackImgSrc:r,nonFeaturedScreenshots:l,onScreenshotSlotClick:o}){const i=To(),c=(0,t.useFacetWrap)(5),s=(0,t.useFacetMap)((e=>null==e),[],[n]),u=(0,t.useFacetMap)((e=>e.length),[],[l]),d=(0,t.useFacetMap)((e=>new Array(4-e).fill(0)),[],[u]),m=(0,t.useFacetCallback)(((e,t)=>a=>{0!==a?t.length>0&&a-1<t.length?o(a,t[a-1]):o(a):o(0,e)}),[o],[n,l]);return e.createElement("div",{className:lr()({MR_RN:"narrow"!==i,zPuR7:"narrow"===i})},e.createElement("div",{className:lr()({a61Lz:"narrow"!==i})},e.createElement(t.With,{data:n},(t=>e.createElement(ED,{length:c,screenshot:t,index:0,onScreenshotClicked:()=>m(0),variant:a,gamepadAlias:"showcase-grid-item-0"}))),e.createElement(t.Mount,{when:s},e.createElement(ED.Empty,{imgSrc:r,length:c,index:0,onClick:()=>m(0),variant:a,gamepadAlias:"showcase-grid-item-0"}))),"narrow"===i&&e.createElement(Sc,{size:2}),e.createElement("div",{className:lr()("A8368",{zlnAP:"narrow"!==i})},e.createElement(t.Map,{array:l},((t,n)=>n>=4?null:e.createElement("div",{className:gG},e.createElement(ED,{length:c,screenshot:t,onScreenshotClicked:()=>m(n+1),variant:a,index:n+1,gamepadAlias:`showcase-grid-item-${n+1}`})))),e.createElement(Yr,{data:u},(n=>e.createElement(t.Map,{array:d},((t,r)=>e.createElement("div",{className:gG},e.createElement(ED.Empty,{length:c,onClick:()=>m(1+n+r),index:1+n+r,variant:"manage"===a&&0===r?"manage":"view",gamepadAlias:`showcase-grid-item-${1+n+r}`}))))))))}function hG(){const{t:a}=oi("ScreenshotShowcaseRoute"),n=u(),r=(0,t.useSharedFacet)(Wf),l=f(),o=d(),i=(0,t.useFacetCallback)((e=>t=>{e.count>0&&(e.loadGallery(t),e.loadFeaturedScreenshot(t))}),[],[r]);(0,t.useFacetEffect)(((e,t)=>{var a;e.has("pfid")&&t&&i(null!==(a=e.get("pfid"))&&void 0!==a?a:"")}),[i],[l,o]);const c=(0,t.useFacetMap)((e=>{var t;return a(".header",[null!==(t=e.get("playerName"))&&void 0!==t?t:""])}),[a],[l]),s=(0,t.useFacetMap)((e=>e.screenshots),[],[r]),m=(0,t.useFacetMap)((e=>e.isLoadingScreenshots||e.isLoadingFeaturedScreenshot),[],[r]),p=(0,t.useFacetMap)((e=>e.find((e=>e.featured))),[],[s]),g=(0,t.useFacetMap)((e=>e.filter((e=>!e.featured))),[],[s]),E=mj((0,t.useFacetMap)((e=>{var t;return null!==(t=e.get("xuid"))&&void 0!==t?t:""}),[],[l])),h=(0,t.useFacetCallback)((e=>t=>{e.loadShowcasedScreenshot(t)}),[],[r]),b=(0,e.useCallback)(((e,t)=>{null!=t&&(t.showcased&&!t.featured&&h(t.id),n.push(Rz(t.id,vD.NewestFirst,FD.ShowAll)))}),[n,h]);return e.createElement(vx,{title:c,screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"screenshot-showcase-scroll-view"},(()=>e.createElement(hE,null,e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement(t.Mount,{when:m},e.createElement(Sc,{size:2})),e.createElement(Yc,{loading:m,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"screenshot-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},e.createElement(Sc,{size:2}),e.createElement(EG,{variant:"view",featuredScreenshot:p,featuredScreenshotFallbackImgSrc:E,nonFeaturedScreenshots:g,onScreenshotSlotClick:b}),e.createElement(Sc,{size:2})),e.createElement(t.Mount,{when:m},e.createElement(Sc,{size:2})))))))}const bG=({onScreenshotSelect:a,onGoBack:n,managementRowButtons:r})=>{const{t:l}=oi("ScreenshotPicker"),o=(0,e.useRef)(null),i=rD(),c=(0,t.useSharedFacet)(Bf),s=l(".header"),u=(0,t.useSharedFacet)(Eg),d=(0,e.useCallback)((e=>{a(e)}),[a]),m=(0,t.useFacetCallback)(((e,t)=>()=>{e.count>0&&e.loadScreenshots(t.currentPfid)}),[],[c,u]);(0,e.useEffect)((()=>{m()}),[m]);const p=(0,t.useFacetMap)((e=>e.isLoadingScreenshots),[],[c]);return e.createElement(TD,{headerText:s,onScreenshotClicked:d,screenshotLists:i,scrollViewRef:o,isLoadingScreenshots:p,onGoBack:n,managementRowButtons:r})};function vG(){const{t:a}=oi("ManageShowcaseRoute"),n=(0,t.useSharedFacet)(Eg),r=(0,t.useSharedFacet)(Bf),l=SD(rD(),(0,t.useFacetWrap)(vD.NewestFirst),(0,t.useFacetWrap)(FD.Showcased)),o=(0,t.useFacetMap)((e=>e.pageData.find((e=>e.featured))),[],[l]),i=(0,t.useFacetMap)((e=>e.pageData.filter((e=>!e.featured))),[],[l]),c=mj((0,t.useFacetMap)((e=>e.currentXuid),[],[n])),[s,u]=(0,t.useFacetState)(-1),[d,m]=(0,t.useFacetState)(""),p=(0,t.useFacetMap)((e=>-1!==e),[],[s]),f=(0,e.useCallback)(((e,t)=>{u(e),t&&m(t.id)}),[u,m]),g=(0,t.useFacetMap)((e=>null!=e),[],[d]),E=(0,e.useCallback)((()=>{u(-1),m("")}),[u,m]),h=(0,t.useFacetCallback)(((e,t)=>a=>{""===t?console.log("slot ",e,": put image ",a.id," in empty slot"):console.log("slot ",e,": replace image ",t," with image ",a.id),E()}),[E],[s,d]),b=(0,t.useFacetCallback)(((e,t)=>()=>{""===t?console.log("slot ",e,": clear empty slot"):console.log("slot ",e,": clear image ",t),E()}),[E],[s,d]),v="narrow"===To(),F=(0,t.useFacetMap)((e=>e.isLoadingScreenshots),[],[r]);return e.createElement(Yr,{data:p},(n=>n?e.createElement(bG,{onScreenshotSelect:h,onGoBack:E,managementRowButtons:e.createElement(e.Fragment,null,e.createElement(t.Mount,{when:g},e.createElement("div",{className:lr()("iP2FW",{AQuO6:!v})},e.createElement("div",{className:lr()(["zlgzP"],!v)},e.createElement(ru,{inputLegend:a(".clearShowcaseSlot"),narrationPrefix:a(".clearShowcaseSlot"),onClick:b},a(".clearShowcaseSlot"))))))}):e.createElement(vx,{title:a(".manageHeader"),screenAnalyticsId:"ScreenshotShowcase",gamepadAlias:"screenshot-showcase-route",delegateByAlias:"manage-showcase-scroll-view"},(()=>e.createElement(hE,null,e.createElement(hE.Row,null,e.createElement(hE.Column,{wideSize:12,narrowSize:8},e.createElement(t.Mount,{when:F},e.createElement(Sc,{size:2})),e.createElement(Yc,{loading:F,flexShrinkWrapper:!0,delegateFocusFromMemory:!0,gamepadAlias:"manage-showcase-scroll-view",delegateFocusByAlias:"showcase-grid-item-0"},e.createElement(Sc,{size:2}),e.createElement(lS,{role:"informative"},e.createElement(lS.Text,null,a(".galleryBanner"))),e.createElement(Sc,{size:2}),e.createElement(EG,{variant:"manage",featuredScreenshot:o,featuredScreenshotFallbackImgSrc:c,nonFeaturedScreenshots:i,onScreenshotSlotClick:f}),e.createElement(Sc,{size:2})),e.createElement(t.Mount,{when:F},e.createElement(Sc,{size:2})))))))))}function FG(){const a=u(),n=Fy(),r=(0,t.useSharedFacet)(Ag),l=(0,t.useFacetCallback)(((e,t)=>n=>{e.saveScreenshotAsWorldIcon(t,n.filePath,n.id.toString(),n.captureTime),a.goBack()}),[a],[r,n]);return e.createElement(bG,{onScreenshotSelect:l})}function SG(){return e.createElement(vd,{scalingMode:"legacy",defaultRoute:"/create-new-world",scope:["in-game","out-of-game"],errorComponent:R_,gamepadAdapterVersion:Q_.VISUAL,semanticCollection:Zb},e.createElement(Fr,{route:"/achievements/:tab?",component:rb,transitionComponent:D_}),e.createElement(Fr,{route:"/achievement-detail/:id",component:Lb,transitionComponent:D_}),e.createElement(Fr,{route:"/quick-create-new-world/mode",component:pU.Mode,transitionComponent:D_}),e.createElement(Fr,{route:"/quick-create-new-world/survival/difficulty",component:pU.Difficulty,transitionComponent:D_}),e.createElement(Fr,{route:"/quick-create-new-world/:mode/:difficulty/touch-control-selection",component:pU.TouchControlSelection,transitionComponent:D_}),e.createElement(Fr,{route:"/create-new-world/seed-templates",component:dI,transitionComponent:D_}),e.createElement(Fr,{route:"/create-new-world/:tab/:worldTemplateId?",component:Hx,transitionComponent:D_}),e.createElement(y,{from:"/create-new-world",to:"/create-new-world/general"}),!1,e.createElement(Fr,{route:"/play/touch-control-selection/:id",component:q_,transitionComponent:D_}),e.createElement(Fr,{route:"/realms-pdp",component:TH,transitionComponent:D_}),e.createElement(Fr,{route:"/realms-plan-picker",component:LH,transitionComponent:D_}),e.createElement(Fr,{route:"/join-realms-server",component:WH,transitionComponent:D_}),e.createElement(Fr,{route:"/join-realms-server/:code",component:YH,transitionComponent:D_}),e.createElement(Fr,{route:"/play/servers/add",component:XW,transitionComponent:D_}),e.createElement(Fr,{route:"/play/:tab/:id?/:type?",component:XA,transitionComponent:D_}),e.createElement(Fr,{route:"/play/servers/:id/:type/edit",component:XW,transitionComponent:D_}),e.createElement(Fr,{component:mG,route:"/online-play-warning/:type/:id?",transitionComponent:D_}),e.createElement(y,{from:"/play",to:"/play/all"}),e.createElement(Fr,{route:"/start-from-template/:tab",component:rG,transitionComponent:D_}),e.createElement(y,{from:"/start-from-template",to:"/start-from-template/marketplace-pass"}),e.createElement(Fr,{route:"/mobile-data-blocked-modal/show-modal",component:Vx,transitionComponent:D_}),e.createElement(Fr,{route:"/render-distance-warning-modal",component:Rb,transitionComponent:gr}),e.createElement(Fr,{route:"/touch-control-selection",component:Y_,transitionComponent:D_}),e.createElement(Fr,{route:"/realms-choose-realm/:tab",component:gW,transitionComponent:D_}),e.createElement(Fr,{route:"/realms-choose-slot/:id",component:IB,transitionComponent:D_}),e.createElement(Fr,{route:"/realms-stories/:tab/:realmId?",component:nD,transitionComponent:D_}),e.createElement(y,{from:"/realms-stories",to:"/realms-stories/feed"}),e.createElement(Fr,{route:"/realms-story-comments/:id/:realmId?",component:QU,transitionComponent:D_}),e.createElement(Fr,{route:"/realms-story-entry-route/:tab/:realmId?",component:XU,modes:["modal"]}),e.createElement(y,{from:"/realms-story-entry-route",to:"/realms-story-entry-route/feed"}),e.createElement(Fr,{route:"/realms-story-opt-in/:detailPane/:tab/:realmId",component:GU,transitionComponent:D_}),e.createElement(Fr,{route:"/post-to-realm-stories",component:rz,transitionComponent:D_}),e.createElement(Fr,{route:"/realms-story-share-link-modal-route/:realmId?",component:QD,transitionComponent:D_,modes:["modal"]}),e.createElement(Fr,{route:"/hardcore-mode-world-warning-modal-route/:realmId?",component:wv,transitionComponent:D_,modes:["modal"]}),e.createElement(Fr,{route:"/realms-new-story/:realmId?",component:mD,transitionComponent:D_}),e.createElement(Fr,{route:"/realms-new-story/screenshot-gallery/:realmId?",component:xD,transitionComponent:D_,disabledCached:!0}),e.createElement(Fr,{route:"/announcement-modal/:id",component:HD,transitionComponent:gr,modes:["modal"]}),e.createElement(Fr,{route:"/realms-stories-report-feed-item/:postType/:realmId?",component:hR,transitionComponent:gr}),e.createElement(Fr,{route:"/realms-stories-settings/:realmId?",component:t_,transitionComponent:gr}),e.createElement(Fr,{route:"/player-banned-modal",component:GD,transitionComponent:gr}),e.createElement(Fr,{route:"/player-report",component:u_,transitionComponent:gr}),e.createElement(Fr,{route:"/sign-in-achievements",component:p_,transitionComponent:D_,disabledCached:!0}),e.createElement(Fr,{route:"/sign-in-add-friend",component:E_,transitionComponent:D_}),e.createElement(Fr,{route:"/sign-in-play-on-server",component:v_,transitionComponent:D_}),e.createElement(Fr,{route:"/sign-in-save-purchases",component:y_,transitionComponent:D_}),e.createElement(Fr,{route:"/sign-in-dressing-room",component:k_,transitionComponent:D_}),e.createElement(Fr,{route:"/sign-in-marketplace",component:x_,transitionComponent:D_}),e.createElement(Fr,{route:"/sign-in-worlds-friends-servers",component:O_,transitionComponent:D_}),e.createElement(Fr,{route:"/first-time-sign-in",component:L_,transitionComponent:D_}),e.createElement(Fr,{route:"/inbox/:tab?",component:dW,transitionComponent:D_}),e.createElement(Fr,{route:"/inbox-settings",component:bW,transitionComponent:D_}),e.createElement(Fr,{route:"/message/:messageId",component:AW,transitionComponent:D_}),e.createElement(Fr,{route:"/edit-world/:id/:tab/:worldTemplateId?",component:mB,transitionComponent:D_}),e.createElement(Fr,{route:"/edit-world-thumbnail/:id",component:FG,transitionComponent:D_}),e.createElement(y,{from:"/edit-world/:id",to:"/edit-world/:id/general"}),e.createElement(Fr,{component:EB,route:"/export-world/:id/:type",transitionComponent:D_}),e.createElement(Fr,{route:"/realms-create-preview-with-only-one-subscription",component:RW,modes:["modal"]}),e.createElement(Fr,{route:"/realms-purchase-subscription/:subscription",component:sG,transitionComponent:D_}),e.createElement(Fr,{route:"/add-friend",component:wz,transitionComponent:D_}),e.createElement(y,{from:"/profile",to:"/profile/overview",keepQuery:!0}),e.createElement(Fr,{route:"/profile/:tab",component:hH,transitionComponent:D_}),e.createElement(Fr,{route:"/screenshot-gallery",component:_z,transitionComponent:D_}),e.createElement(Fr,{route:"/screenshot-showcase",component:hG,transitionComponent:D_}),e.createElement(Fr,{route:"/manage-showcase",component:vG,transitionComponent:D_}),e.createElement(Fr,{route:"/screenshot-details/:id",component:jz,transitionComponent:D_}),e.createElement(Fr,{route:"/account-unlink",component:pG,transitionComponent:D_}),e.createElement(Zu,null))}var yG,CG;yG=e.createElement(SG,null),CG=document.getElementById("root"),(0,t.render)(yG,CG)})()})();